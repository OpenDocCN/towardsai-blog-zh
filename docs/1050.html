<html>
<head>
<title>Lakehouse and the evolution of Data Lake</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">湖屋和数据湖的演变</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/lakehouse-and-the-evolution-of-data-lake-762cf81d0fa1?source=collection_archive---------0-----------------------#2020-10-16">https://pub.towardsai.net/lakehouse-and-the-evolution-of-data-lake-762cf81d0fa1?source=collection_archive---------0-----------------------#2020-10-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="2edb" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-engineering" rel="noopener ugc nofollow" target="_blank">数据工程</a></h2><div class=""/><div class=""><h2 id="0fbc" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">简化数据基础架构并加速创新</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/386d72110070dcf86459e2658ac6fb8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZZkyKk2zuRhk3fSmgno5_Q.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">数据库矢量由<a class="ae le" href="https://www.vecteezy.com/free-vector/database" rel="noopener ugc nofollow" target="_blank"> Vecteezy </a></figcaption></figure><p id="c2bb" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi mb translated">数据存储的历史可以追溯到20世纪50年代，那时穿孔卡被用来存储计算机产生的数据。从那以后发生了很多变化，这篇文章将涵盖该行业的最新趋势之一，Lakehouse。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi gj"><img src="../Images/1b0da8b19b8ca12c8743fc0e50532a58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tCxHlLCh3VGB9BMWdp2H2A.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片由<a class="ae le" href="https://www.pickpik.com/" rel="noopener ugc nofollow" target="_blank">https://www.pickpik.com/</a></figcaption></figure><p id="c20e" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我们深入了解什么是Lakehouse以及如何从中受益之前，让我们先快速了解一下目前广泛使用的两种数据管理范例。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="13b5" class="mr ms iq bd mt mu mv mw mx my mz na nb kf nc kg nd ki ne kj nf kl ng km nh ni bi translated">数据仓库</h1><p id="6c46" class="pw-post-body-paragraph lf lg iq lh b li nj ka lk ll nk kd ln lo nl lq lr ls nm lu lv lw nn ly lz ma ij bi translated">数据仓库的体系结构是在20世纪80年代开发的，用于支持公司的决策过程。核心概念依赖于以聚合和粒度两种格式处理和存储历史数据。</p><blockquote class="no"><p id="d87b" class="np nq iq bd nr ns nt nu nv nw nx ma dk translated"><strong class="ak">聚合数据</strong>包含<strong class="ak"> </strong>高级信息，按组汇总并显示总计、平均值或总和等度量；<strong class="ak">粒度数据</strong>包含与业务分析相关的最低细节级别的信息。</p></blockquote><p id="58ca" class="pw-post-body-paragraph lf lg iq lh b li ny ka lk ll nz kd ln lo oa lq lr ls ob lu lv lw oc ly lz ma ij bi translated">这些数据随后被BI工具使用，在BI工具中，高管和其他员工可以以报告和图表的形式可视化和分析数据。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="234b" class="mr ms iq bd mt mu mv mw mx my mz na nb kf nc kg nd ki ne kj nf kl ng km nh ni bi translated">数据湖</h1><p id="aab9" class="pw-post-body-paragraph lf lg iq lh b li nj ka lk ll nk kd ln lo nl lq lr ls nm lu lv lw nn ly lz ma ij bi translated">随着大数据的出现，不得不重新思考数据仓库等传统架构。由于数据来自不同的来源、不同的格式，并且通常数量更大，因此需要出现一种新的范式来填补这一空白。在数据湖中，数据以原始格式存储，只有在出现业务问题时才会被查询，检索相关数据，然后进行分析以帮助回答问题。数据存储在像亚马逊S3这样的云存储中，它已经成为世界上最大和最具成本效益的存储系统之一，因为它可以以低成本存储几乎无限量的原生格式的数据。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi od"><img src="../Images/3ec3a92b454472ad1ee0ca94c05c40e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8KJELQ01QnJlEJfklFn6qQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片来自作者</figcaption></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="0fd0" class="mr ms iq bd mt mu mv mw mx my mz na nb kf nc kg nd ki ne kj nf kl ng km nh ni bi translated">莱克豪斯:两个世界中最好的</h1><p id="b80e" class="pw-post-body-paragraph lf lg iq lh b li nj ka lk ll nk kd ln lo nl lq lr ls nm lu lv lw nn ly lz ma ij bi translated">像任何新兴技术一样，数据湖开始暴露出它的一些弱点。数据库的一些关键功能缺失，不支持事务，难以实施数据质量，并且它依赖于<strong class="lh ja">最终一致性</strong>模型<strong class="lh ja"> </strong>而不是<strong class="lh ja">强一致性</strong>模型。</p><blockquote class="oe of og"><p id="0f26" class="lf lg oh lh b li lj ka lk ll lm kd ln oi lp lq lr oj lt lu lv ok lx ly lz ma ij bi translated"><strong class="lh ja">最终一致性</strong>依赖于这样一个概念，即如果没有对给定的数据记录进行新的更新，最终对该记录的所有访问将返回最后更新的值，而<strong class="lh ja">强一致性</strong>提供最新的数据，但代价是高延迟。</p></blockquote><p id="637d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Databricks今年早些时候宣布，Lakehouse是一个新的范例，它融合了两个世界的精华，包括它们的名字。</p><p id="81cd" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Lakehouse的主要目标是将数据仓库的关键特性引入数据湖模型，为了实现这一目标，我们有了一个新的框架，Delta Lake。</p><p id="e662" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">Delta Lake是一个开源框架，其功能是作为Apache Spark和其他大数据平台的存储层。它是由Databricks开发的，已被阿里巴巴、迈克菲、尼尔森、Tableau、Talend和易贝等公司采用。</p><p id="b797" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">三角洲湖给湖边小屋带来酸交易的支持。它保证了存储系统的原子性和持久性。</p><blockquote class="no"><p id="83e3" class="np nq iq bd nr ns nt nu nv nw nx ma dk translated">在计算机科学中，<strong class="ak"> ACID </strong>(原子性、一致性、隔离性、持久性)是数据库<strong class="ak">事务</strong>的一组属性，旨在保证数据有效性，而不管错误、电源故障和其他灾难。— <a class="ae le" href="https://en.wikipedia.org/wiki/ACID" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><p id="1616" class="pw-post-body-paragraph lf lg iq lh b li ny ka lk ll nz kd ln lo oa lq lr ls ob lu lv lw oc ly lz ma ij bi translated">具体来说，Delta Lake通过<a class="ae le" href="https://github.com/delta-io/delta/blob/master/src/main/scala/org/apache/spark/sql/delta/storage/LogStore.scala" rel="noopener ugc nofollow" target="_blank">日志存储API </a>执行事务操作，而不是直接访问存储系统，以便对存储系统实施三个因素:</p><ul class=""><li id="860d" class="ol om iq lh b li lj ll lm lo on ls oo lw op ma oq or os ot bi translated"><strong class="lh ja">原子可见性:</strong>确保文件整体可见或者完全不可见。</li><li id="dec8" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated"><strong class="lh ja">互斥:</strong>确保只有一个写入者能够在最终目的地创建或重命名文件。</li><li id="4eac" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated"><strong class="lh ja">一致列表:</strong>确保一旦一个文件被写入一个目录，该目录的所有未来列表必须返回该文件。</li></ul></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="4f1e" class="mr ms iq bd mt mu mv mw mx my mz na nb kf nc kg nd ki ne kj nf kl ng km nh ni bi translated">支持的存储系统</h1><p id="ec26" class="pw-post-body-paragraph lf lg iq lh b li nj ka lk ll nk kd ln lo nl lq lr ls nm lu lv lw nn ly lz ma ij bi translated">Delta Lake为HDFS、亚马逊S3和Azure存储服务内置了<a class="ae le" href="https://github.com/delta-io/delta/tree/master/src/main/scala/org/apache/spark/sql/delta/storage" rel="noopener ugc nofollow" target="_blank"> <strong class="lh ja"> LogStore </strong> </a>实现。</p><h1 id="906f" class="mr ms iq bd mt mu oz mw mx my pa na nb kf pb kg nd ki pc kj nf kl pd km nh ni bi translated">集成</h1><p id="dbac" class="pw-post-body-paragraph lf lg iq lh b li nj ka lk ll nk kd ln lo nl lq lr ls nm lu lv lw nn ly lz ma ij bi translated">您可以从Apache Spark和其他数据处理系统访问增量表。使用<em class="oh">清单文件支持从外部表中读取。</em>在这个文件中，有一个为查询一个表而读取的数据文件列表。</p><p id="511d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">以下是当前可用的集成列表:</p><ul class=""><li id="0dfa" class="ol om iq lh b li lj ll lm lo on ls oo lw op ma oq or os ot bi translated"><strong class="lh ja">转眼间</strong></li><li id="8406" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated"><strong class="lh ja">雅典娜</strong></li><li id="6cf9" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated"><strong class="lh ja">红移光谱</strong>(实验)</li><li id="a339" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated"><strong class="lh ja">雪花</strong>(实验)</li><li id="dedd" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated"><strong class="lh ja">阿帕奇蜂巢</strong></li></ul><p id="4c41" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">关于如何使用清单文件和查询增量表设置集成的更多信息可以在https://docs.delta.io/latest/integrations.html<a class="ae le" href="https://docs.delta.io/latest/integrations.html" rel="noopener ugc nofollow" target="_blank">找到</a></p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="5097" class="mr ms iq bd mt mu mv mw mx my mz na nb kf nc kg nd ki ne kj nf kl ng km nh ni bi translated">湖边小屋建筑</h1><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pe"><img src="../Images/b00f98a695fe4bdf51a9c050351ca635.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ok7D4PsYeiEvKYFEexsg4A.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">https://databricks.com/图片由<a class="ae le" href="https://databricks.com/" rel="noopener ugc nofollow" target="_blank">提供</a></figcaption></figure><p id="1574" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">数据湖和湖屋的主要区别是增加了一个结构化的事务层。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pf"><img src="../Images/207108936370bda1f5adf67f85632368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D13Fb8CpIMBhImQro8qIOg.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片由<a class="ae le" href="https://databricks.com/sparkaisummit" rel="noopener ugc nofollow" target="_blank"> SparkAISummit </a>提供</figcaption></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="6796" class="mr ms iq bd mt mu mv mw mx my mz na nb kf nc kg nd ki ne kj nf kl ng km nh ni bi translated">最后的想法</h1><p id="74bd" class="pw-post-body-paragraph lf lg iq lh b li nj ka lk ll nk kd ln lo nl lq lr ls nm lu lv lw nn ly lz ma ij bi translated">在这篇文章中，我们可以看到随着技术变得越来越便宜，公司需要快速适应这种不断变化的环境，技术已经发展了多少，创新的步伐正在加快。让我们看看下一个范式出现需要多长时间。</p><h1 id="89c3" class="mr ms iq bd mt mu oz mw mx my pa na nb kf pb kg nd ki pc kj nf kl pd km nh ni bi translated">参考资料:</h1><ul class=""><li id="a636" class="ol om iq lh b li nj ll nk lo pg ls ph lw pi ma oq or os ot bi translated">基思·d·福特(2018年4月19日)。数据仓库的简史。从https://www.dataversity.net/brief-history-data-warehouse/<a class="ae le" href="https://www.dataversity.net/brief-history-data-warehouse/" rel="noopener ugc nofollow" target="_blank">取回</a></li><li id="de9c" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated">本·洛里卡等人(2020年1月30日)。什么是湖边小屋？检索自<a class="ae le" href="https://databricks.com/blog/2020/01/30/what-is-a-data-lakehouse.html" rel="noopener ugc nofollow" target="_blank">https://databricks . com/blog/2020/01/30/what-is-a-data-lake house . html</a></li><li id="f75e" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated">聚合和粒度信息。检索自<a class="ae le" href="https://www.cese.nsw.gov.au/effective-practices/using-data-with-confidence-main/aggregate-granular" rel="noopener ugc nofollow" target="_blank">https://www . cese . NSW . gov . au/effective-practices/using-data-with-confidence-main/aggregate-granular</a></li><li id="749e" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated">saurabh . v(<a class="ae le" href="https://hackernoon.com/archives/2017/07/16" rel="noopener ugc nofollow" target="_blank">2017年7月16日</a>)分布式数据库中的最终vs强一致性。检索自<a class="ae le" href="https://hackernoon.com/eventual-vs-strong-consistency-in-distributed-databases-282fdad37cf7" rel="noopener ugc nofollow" target="_blank">https://hacker noon . com/finally-vs-strong-consistency-in-distributed-databases-282 fdad 37 cf 7</a></li><li id="03b4" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated">酸(2020年10月13日)。维基百科。从https://en.wikipedia.org/wiki/ACID<a class="ae le" href="https://en.wikipedia.org/wiki/ACID" rel="noopener ugc nofollow" target="_blank">取回</a></li><li id="e40c" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated">三角洲湖(2020)。delta[源代码]。<a class="ae le" href="https://github.com/delta-io/delta" rel="noopener ugc nofollow" target="_blank">https://github.com/delta-io/delta</a></li><li id="f819" class="ol om iq lh b li ou ll ov lo ow ls ox lw oy ma oq or os ot bi translated">三角洲湖(2020)。存储配置。从https://docs.delta.io/latest/delta-storage.html<a class="ae le" href="https://docs.delta.io/latest/delta-storage.html" rel="noopener ugc nofollow" target="_blank">取回</a></li></ul></div></div>    
</body>
</html>