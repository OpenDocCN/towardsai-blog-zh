<html>
<head>
<title>Agent-Based Modeling in NetLogo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NetLogo中基于代理的建模</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/agent-based-modelling-in-netlogo-afcaada5e0bd?source=collection_archive---------3-----------------------#2020-05-12">https://pub.towardsai.net/agent-based-modelling-in-netlogo-afcaada5e0bd?source=collection_archive---------3-----------------------#2020-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/caee7058cc831f5c432bdf3490f75785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x79N7XOD6bsLUAPZIoKyuQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">来源</figcaption></figure><p id="a80a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于代理的建模是一种模拟技术，它专注于建立一个系统模型，该系统具有一组称为代理的自主决策实体。每个个体代理可以基于一组针对他们的情况或属性提供的规则来做出决策。使用ABM技术，人们已经认识到，个体之间简单的相互作用会产生更复杂的模式。一些例子是交通堵塞，一群鸟以V字形飞行，住房模式，等等。</p><p id="8845" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可能见过一群鸟呈V字形飞行。你们大部分人大概都想过，领路鸟在前面，其他鸟跟在后面。事实并非如此。发生的情况是，不同的鸟在基于鸟群飞行方向的独立运动的基础上飞行时，不是同一只鸟呆在它们的位置上，而是占据不同的位置，避开其他鸟，并且不会远离邻居鸟。</p><p id="51b1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">同样，ABM计算方法使我们能够模拟复杂的系统。ABM模型由代理组成，代理具有属性。在<a class="ae kc" href="https://ccl.northwestern.edu/netlogo/" rel="noopener ugc nofollow" target="_blank"> NetLogo </a>中，每个代理在电脑屏幕上都有一个图形表示。让我们尝试使用NetLogo构建一个病毒在社会中传播的简单场景。在社会中，有些人(代理人)可以被确定为受感染和未受感染。所以当代理人相互作用时，被感染的代理人可能会将病毒传播给其他代理人。因此，让我们建立一个简单的模型，根据一套简单的规则来看看病毒是如何在社会中传播的。</p><p id="23e4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">代理的属性:</p><ul class=""><li id="6935" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">“状态”用于存储感染还是未感染</li></ul><p id="dd93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">规则:</p><ul class=""><li id="5d3d" class="lb lc iq kf b kg kh kk kl ko ld ks le kw lf la lg lh li lj bi translated">每个个体随机移动</li><li id="9972" class="lb lc iq kf b kg lk kk ll ko lm ks ln kw lo la lg lh li lj bi translated">根据传播速度，如果未被感染的个体在被感染个体的半径范围内，则病毒被感染</li></ul><p id="d563" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，让我们使用NetLogo中的“接口”来构建模型的接口。在这里，我使用了两个名为“setup”的按钮来设置环境，并使用“go”按钮来永久运行模型。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lp"><img src="../Images/a982121753734fc29db1dc779879a334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*30jgLy2wED7Pj4wFOyF1ow.png"/></div></div></figure><p id="0880" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，让我们创建名为“感染人数”和“人数”的输入</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lu"><img src="../Images/d3fd46555d9e47a63467327182299561.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1iJFEI7tgrn3FzvLYOGHow.png"/></div></div></figure><p id="abe7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">滑块用于更改全局变量值“扩散率”</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lv"><img src="../Images/1ba70c0d9f9773d343d2fd00b1050a14.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D6i1Ed-lES4xytqqK0tEeQ.png"/></div></div></figure><p id="1c8a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">转到NetLogo中的“代码”选项卡。因为我们使用了一个全局变量“counter”并创建了一个新的breed类型，所以我们必须在代码的顶部定义它。这里的品种类型是“人”，我们可以用它来调用所有“人”代理集。此外，我们必须定义它的属性。</p><pre class="lq lr ls lt gt lw lx ly lz aw ma bi"><span id="d61c" class="mb mc iq lx b gy md me l mf mg">globals[counter]</span><span id="fb1d" class="mb mc iq lx b gy mh me l mf mg">breed[people person]</span><span id="955d" class="mb mc iq lx b gy mh me l mf mg">people-own[infected?]</span></pre><p id="990e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看在“设置”过程中我们必须做些什么。我们必须首先清除环境，然后用代理设置环境并重置ticks。所以代码看起来像这样。</p><pre class="lq lr ls lt gt lw lx ly lz aw ma bi"><span id="4cec" class="mb mc iq lx b gy md me l mf mg">to setup<br/> clear-all<br/> initialize-people<br/> reset-ticks<br/>end</span></pre><p id="63b8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您使用“检查”按钮“检查”代码，将会得到一个错误，因为您尚未编写“初始化人员”过程。我们必须在setup下面单独写。编写“initialize-people”过程，根据提供的人数创建人员类型的代理。代理将是“人”的形状和随机的x，y坐标。人们会被感染吗？基于初始“感染次数”的属性true或false</p><pre class="lq lr ls lt gt lw lx ly lz aw ma bi"><span id="059b" class="mb mc iq lx b gy md me l mf mg">to initialize-people <br/>  set counter infected-count<br/>  create-people people-count[<br/>    set shape "person"<br/>    setxy random-xcor random-ycor<br/>    (ifelse (counter &gt; 0)<br/>      [set color red<br/>        set infected? true]<br/>      [set color white<br/>        set infected? false])<br/>    set counter counter - 1<br/>  ]<br/>end</span></pre><p id="6da2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后在“开始”过程中，我们必须写下模型运行时我们期望做什么。所以我会简单地让人们随意移动，传播疾病。我不会把重点放在感染者的恢复上，当所有人都感染了这种疾病时，这种模式就会停止。</p><pre class="lq lr ls lt gt lw lx ly lz aw ma bi"><span id="61e7" class="mb mc iq lx b gy md me l mf mg">to go<br/> (ifelse any? people with [color = white] [<br/>   move-people<br/>   spread-disease<br/> ]<br/> [stop])<br/> tick<br/>end</span></pre><p id="d62c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们必须编写两个独立的程序来运行这个模型，分别命名为“移动-人”和“传播-疾病”。首先，让我们看看move-people方法。它会要求人们从0到50之间随机选择一个整数。然后代理右转这个度数。然后要求在0到50之间选择一个随机数，并左转该度数。然后以指定的步长值向前移动。</p><pre class="lq lr ls lt gt lw lx ly lz aw ma bi"><span id="e627" class="mb mc iq lx b gy md me l mf mg">to move-people<br/> ask people [<br/>  rt random 50<br/>  lt random 50<br/>  forward 0.1<br/> ]<br/>end</span></pre><p id="c526" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在“传播疾病”程序中，当非感染者遇到感染者时，他/她将根据提供的“传播率”感染疾病。</p><pre class="lq lr ls lt gt lw lx ly lz aw ma bi"><span id="398f" class="mb mc iq lx b gy md me l mf mg">to spread-disease<br/> ask people [<br/>  if any? people with [infected? = true] in-radius 0.5 [<br/>   if random 100 &lt; spread-rate * 100 [<br/>    set color red<br/>    set infected? true<br/>   ]<br/>  ]<br/> ]<br/>end</span></pre><p id="3acb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">回到“interface”选项卡，让我们创建一个图表来显示模型运行时每个时间点的感染人数和未感染人数。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/4ee7611ddc54049fd52e7db875d388df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1226/format:webp/1*NE1kDxqbZpAOGaahf3BEIw.png"/></div></figure><p id="babb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以在做了所有的修改后，最终的界面会如下图所示。</p><figure class="lq lr ls lt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mj"><img src="../Images/55a474ac8e562ec0982ecad3887b1457.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YxdXEtRWcCivZNcvVLkQ0Q.png"/></div></div></figure><p id="4941" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在运行模型之前，不要忘记在输入框中填入输入值。</p><p id="951d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我希望你们都已经理解了使用NetLogo的基于代理的建模。如果你想阅读和学习更多关于使用NetLogo的ABM模拟，请查看下面提供的参考资料。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="7d56" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">参考文献</strong></p><p id="5de5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[1] <a class="ae kc" href="https://ccl.northwestern.edu/netlogo/" rel="noopener ugc nofollow" target="_blank"> NetLogo </a>首页</p><p id="1827" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">[2]对基于主体的建模的介绍用NetLogo对自然、社会和工程复杂系统建模</p></div></div>    
</body>
</html>