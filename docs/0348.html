<html>
<head>
<title>Geometric Transformations on Images</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图像的几何变换</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/geometric-transformations-on-images-962707349fee?source=collection_archive---------3-----------------------#2020-03-06">https://pub.towardsai.net/geometric-transformations-on-images-962707349fee?source=collection_archive---------3-----------------------#2020-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9182" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Monk，低代码深度学习工具和计算机视觉的统一包装器，使计算机视觉变得简单</h2></div><h1 id="42f9" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated">目录</h1><ol class=""><li id="c127" class="kx ky iq kz b la lb lc ld le lf lg lh li lj lk ll lm ln lo bi translated"><strong class="kz ir">缩放</strong></li><li id="63ca" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk ll lm ln lo bi translated"><strong class="kz ir">翻译</strong></li><li id="0e64" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk ll lm ln lo bi translated"><strong class="kz ir">旋转</strong></li><li id="8a9d" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk ll lm ln lo bi translated"><strong class="kz ir">仿射变换</strong></li><li id="e0c0" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk ll lm ln lo bi translated"><strong class="kz ir">透视变换</strong></li></ol><h1 id="9eb3" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">缩放</strong></h1><ul class=""><li id="1edb" class="kx ky iq kz b la lb lc ld le lf lg lh li lj lk lu lm ln lo bi translated">图像缩放是指调整数字图像的大小。</li><li id="175b" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">数字材料的放大被称为放大。</li><li id="be19" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">缩小规模被称为缩减规模。</li></ul><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi lv"><img src="../Images/f199da684062733ea58bfa3bdb016ea1.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*fUgkMJxvjviFaS7NBISBVQ.png"/></div></figure><ul class=""><li id="bef9" class="kx ky iq kz b la md lc me le mf lg mg li mh lk lu lm ln lo bi translated">理想场景-无损转换。</li><li id="c9f0" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">图像分辨率-高度(像素)，*宽度(像素)</li></ul><blockquote class="mi mj mk"><p id="c6f4" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">使用numpy调整图像大小</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="d54f" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong><br/><strong class="nd ir">import</strong> <strong class="nd ir">cv2</strong><br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter4/tessellate.jpg", -1)<br/>print("Input image shape - <strong class="nd ir">{}</strong>".format(img.shape))<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><p id="afc8" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="dc5c" class="nh kg iq nd b gy ni nj l nk nl">Input image shape - (240, 320, 3)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/ae0d56345fd274e49b21a2e55b872f1d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1354/format:webp/1*O1Ed1hbvXJGcrI7VDPUomw.png"/></div></figure><blockquote class="mi mj mk"><p id="8423" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">缩小宽度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="7151" class="nh kg iq nd b gy ni nj l nk nl">height, width, channels = img.shape<br/><br/><em class="mn"># create blank image of half the width</em><br/>resized_img_width = np.zeros((height, width//2, channels), dtype=np.int32)</span><span id="b9a1" class="nh kg iq nd b gy nn nj l nk nl"><strong class="nd ir">for</strong> r <strong class="nd ir">in</strong> range(height):<br/>    <strong class="nd ir">for</strong> c <strong class="nd ir">in</strong> range(width//2):<br/>        resized_img_width[r][c] += (img[r][2*c])<br/>        <br/>print("Width resized image shape - <strong class="nd ir">{}</strong>".format(resized_img_width.shape))<br/>plt.imshow(resized_img_width[:,:,::-1])<br/>plt.show()</span></pre><p id="ecbc" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="3adc" class="nh kg iq nd b gy ni nj l nk nl">Width resized image shape - (240, 160, 3)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi no"><img src="../Images/0beedd3ce497a47cd60a681c970d6ae4.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*dmua4HCpW0ziHzTVrAaUrw.png"/></div></figure><blockquote class="mi mj mk"><p id="5eec" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">将图像缩小到其宽度和高度的一半</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="c6ef" class="nh kg iq nd b gy ni nj l nk nl">resized_img = np.zeros((height//2, width//2, channels), dtype=np.int32)</span><span id="d57f" class="nh kg iq nd b gy nn nj l nk nl"><strong class="nd ir">for</strong> r <strong class="nd ir">in</strong> range(height//2):<br/>    <strong class="nd ir">for</strong> c <strong class="nd ir">in</strong> range(width//2):<br/>        resized_img[r][c] += (resized_img_width[r*2][c])<br/>print("Complete resized image shape - <strong class="nd ir">{}</strong>".format(resized_img.shape))<br/>plt.imshow(resized_img[:,:,::-1])<br/>plt.show()</span></pre><p id="9685" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="031a" class="nh kg iq nd b gy ni nj l nk nl">Complete resized image shape - (120, 160, 3)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi np"><img src="../Images/8fb64b00afdf09d4583cb7c3fc4645c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*FfJpOynuPC5pqGGhHdpF1g.png"/></div></figure><blockquote class="mi mj mk"><p id="9b89" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">提升高度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="4aac" class="nh kg iq nd b gy ni nj l nk nl">half_upsclaled_img = np.zeros((height, width//2, channels), dtype=np.int32)</span><span id="e412" class="nh kg iq nd b gy nn nj l nk nl">half_upsclaled_img[0:height:2, :, :] = resized_img[:, :, :]<br/>half_upsclaled_img[1:height:2, :, :] = resized_img[:, :, :]<br/>print("Height upscaled image shape - <strong class="nd ir">{}</strong>".format(half_upsclaled_img.shape))<br/>plt.imshow(half_upsclaled_img[:,:,::-1])<br/>plt.show()</span></pre><p id="68e2" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="b938" class="nh kg iq nd b gy ni nj l nk nl">Height upscaled image shape - (240, 160, 3)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/671cd1cb1918d8caea2c0b5480ab419d.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*zetvXH4CKXk_1X7M8cDa2Q.png"/></div></figure><blockquote class="mi mj mk"><p id="0ad7" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">放大宽度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="ef6a" class="nh kg iq nd b gy ni nj l nk nl">upsclaled_img = np.zeros((height, width, channels), dtype=np.int32)</span><span id="38ce" class="nh kg iq nd b gy nn nj l nk nl"><em class="mn"># Expand rows by replicating every consecutive row</em><br/>upsclaled_img[:, 0:width:2, :] = half_upsclaled_img[:, :, :]<br/>upsclaled_img[:, 1:width:2, :] = half_upsclaled_img[:, :, :]<br/>print("Fully upscaled image shape - <strong class="nd ir">{}</strong>".format(upsclaled_img.shape))<br/>upscaled_img_manual = upsclaled_img<br/>plt.imshow(upsclaled_img[:,:,::-1])<br/>plt.show()</span></pre><p id="7639" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="f34d" class="nh kg iq nd b gy ni nj l nk nl">Fully upscaled image shape - (240, 320, 3)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/ccb1aba2adc1a836c5b5a87537db9fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1288/format:webp/1*pMlbnu1eIwLmcXezLeU-vg.png"/></div></figure><blockquote class="mi mj mk"><p id="6755" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">比较原始和升级</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="5726" class="nh kg iq nd b gy ni nj l nk nl">f = plt.figure(figsize=(15,15))<br/>f.add_subplot(1, 2, 1).set_title('Original Image')<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(1, 2, 2).set_title('Upscaled image post downscaling')<br/>plt.imshow(upsclaled_img[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/0348fdfa70493585809c3fec1ca21a10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VeO5XR76ytmFQE8nhEbxtA.png"/></div></div></figure><p id="c7db" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">注意:<em class="mn">在这种图像大小调整中有很多信息丢失。</em></p><blockquote class="nx"><p id="e64d" class="ny nz iq bd oa ob oc od oe of og lk dk translated">使用OpenCV调整图像大小</p></blockquote><ul class=""><li id="92a3" class="kx ky iq kz b la oh lc oi le oj lg ok li ol lk lu lm ln lo bi translated">使用cv2.resize()缩小形状。</li><li id="d12d" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">使用cv2.resize()放大形状。</li></ul><blockquote class="mi mj mk"><p id="0185" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">将图像缩小到其宽度和高度的一半</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="76fd" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong><br/><strong class="nd ir">import</strong> <strong class="nd ir">cv2</strong><br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter4/tessellate.jpg", -1)</span><span id="0ea1" class="nh kg iq nd b gy nn nj l nk nl">height, width, channels = img.shape<br/><br/><em class="mn"># create blank image of half the width</em><br/>resized_img = cv2.resize(img, (width//2, height//2))<br/>print("Downscaled image shape - <strong class="nd ir">{}</strong>".format(resized_img.shape))<br/>plt.imshow(resized_img[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi om"><img src="../Images/fecba432d0d2acc0b34f734fa2c1aac5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*GcS5fVtXtN5pzHuPhk4R-w.png"/></div></figure><blockquote class="mi mj mk"><p id="1d44" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">将图像放大到其原始宽度和高度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="7726" class="nh kg iq nd b gy ni nj l nk nl">height, width, channels = img.shape<br/><br/><em class="mn"># create blank image of half the width</em></span><span id="8fd4" class="nh kg iq nd b gy nn nj l nk nl">upscaled_img = cv2.resize(resized_img, (width, height));<br/>print("Upscaled image shape - <strong class="nd ir">{}</strong>".format(upscaled_img.shape))<br/>upscaled_img_opencv = upscaled_img<br/>plt.imshow(upscaled_img[:,:,::-1])<br/>plt.show()</span></pre><p id="2c9f" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="b4dc" class="nh kg iq nd b gy ni nj l nk nl">Upscaled image shape - (240, 320, 3)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi on"><img src="../Images/c90bbabc921354b56c98043311a43ea7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*vym5-TLM9hsC6UXFM-PckQ.png"/></div></figure><blockquote class="mi mj mk"><p id="d834" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">使用opencv比较原始、手动放大、重新放大</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="8274" class="nh kg iq nd b gy ni nj l nk nl">f = plt.figure(figsize=(15,15))<br/>f.add_subplot(3, 1, 1).set_title('Original Image');<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(3, 1, 2).set_title('Manually Upscaled post downscaling');<br/>plt.imshow(upscaled_img_manual[:, :, ::-1])<br/>f.add_subplot(3, 1, 3).set_title('Upscaled using opencv post downscaling');<br/>plt.imshow(upscaled_img[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi oo"><img src="../Images/e184f0d2d55375bab771635553fddfa6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rPcanjyXbnPKja3Rf7b-YQ.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi op"><img src="../Images/930602d74efa6266a1e518034a13c662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fYTLurbt8UQWHgLX_mV5Gg.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi oq"><img src="../Images/999a97680a19fed657e9a4708d91ac7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YW-ORIaezt88-_lD1nrsbQ.png"/></div></div></figure><blockquote class="nx"><p id="6841" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">使用枕头调整图像大小</p></blockquote><blockquote class="mi mj mk"><p id="0a0f" class="ml mm mn kz b la oh jr mo lc oi ju mp mq ow ms mt mu ox mw mx my oy na nb lk ij bi translated">将图像缩小到其宽度和高度的一半</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="9773" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong><br/><strong class="nd ir">from</strong> <strong class="nd ir">PIL</strong> <strong class="nd ir">import</strong> Image<br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt<br/>img_p = Image.open("imgs/chapter4/tessellate.jpg")</span><span id="1617" class="nh kg iq nd b gy nn nj l nk nl">width, height = img_p.size<br/><br/><em class="mn"># create blank image of half the width</em><br/>resized_img = img_p.resize((width//2, height//2))<br/>print("Downscaled image shape - <strong class="nd ir">{}</strong>".format(resized_img.size))<br/>plt.imshow(resized_img);<br/>plt.show()</span></pre><p id="8c8a" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="84b2" class="nh kg iq nd b gy ni nj l nk nl">Downscaled image shape - (160, 120)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/66e42c10fbbe10845e2b7c617c74b1d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*MnljnhX3D1rbKidzdUW8Zw.png"/></div></figure><blockquote class="mi mj mk"><p id="5f71" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">将图像放大到其原始宽度和高度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="9268" class="nh kg iq nd b gy ni nj l nk nl">width, height = img_p.size<br/><br/><em class="mn"># create blank image of half the width</em><br/>upscaled_img = resized_img.resize((width, height))<br/>print("Upscaled image shape - <strong class="nd ir">{}</strong>".format(upscaled_img.size))<br/>plt.imshow(resized_img)<br/>plt.show()</span></pre><p id="d7d2" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">输出</p><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="280d" class="nh kg iq nd b gy ni nj l nk nl">Upscaled image shape - (320, 240)</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/c69e301fd2bec8e43184416801bfa4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*oLDmRMScRVUVkl6ZCLPYJA.png"/></div></figure><blockquote class="mi mj mk"><p id="642a" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">使用opencv比较原始、手动放大、重新放大</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="a1b1" class="nh kg iq nd b gy ni nj l nk nl">f = plt.figure(figsize=(15,15))<br/>f.add_subplot(2, 2, 1).set_title('Original Image')<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(2, 2, 2).set_title('Manually Upscaled post downscaling')<br/>plt.imshow(upscaled_img_manual[:, :, ::-1])<br/>f.add_subplot(2, 2, 3).set_title('Upscaled using opencv post downscaling')<br/>plt.imshow(upscaled_img_opencv[:, :, ::-1])<br/>f.add_subplot(2, 2, 4).set_title('Upscaled using PIL post downscaling')<br/>plt.imshow(upscaled_img)<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pb"><img src="../Images/aa0f4a13452043dc6db3d20361c51322.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XltYaSjmOdkIyd1M3XRqhA.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pc"><img src="../Images/7c76a5bd0c2d7efdf333f2d3151c7149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qHEi55ItGqUyCcaj_-7m7w.png"/></div></div></figure><blockquote class="nx"><p id="e013" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">缩放算法</p></blockquote><figure class="pe pf pg ph pi ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pd"><img src="../Images/0ae1d35bb41bd3295c9eb2575b212fea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SiiqHev3cea51jja1YQDRg.png"/></div></div></figure><blockquote class="nx"><p id="3a12" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">什么是插值</p></blockquote><ul class=""><li id="4f7b" class="kx ky iq kz b la oh lc oi le oj lg ok li ol lk lu lm ln lo bi translated">插值是一种在已知数据点的离散集合范围内构造新数据点的方法。</li><li id="864f" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">通常需要插值，即估计自变量中间值的函数值。</li><li id="2815" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">它也被称为曲线拟合。近似值</li></ul><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/c11a5430abf1980748e98ff6105745ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*8BC8gyhvxyDDJT1l6_fAzA.png"/></div></figure><blockquote class="nx"><p id="813a" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">OpenCV插值</p></blockquote><blockquote class="mi mj mk"><p id="3dd6" class="ml mm mn kz b la oh jr mo lc oi ju mp mq ow ms mt mu ox mw mx my oy na nb lk ij bi translated">最近邻插值</p></blockquote><ul class=""><li id="53a0" class="kx ky iq kz b la md lc me le mf lg mg li mh lk lu lm ln lo bi translated">指定最接近当前像素的值。</li><li id="93c6" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">最近邻是最基本的。</li><li id="517f" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">在所有插值算法中，它需要的处理时间最少，因为它只考虑一个像素-最接近插值点的像素。</li></ul><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/174f9bd349f8a52b1fab03d5a6391465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*Vyvm21r8zHJMMGmHkIvb-g.png"/></div></figure><blockquote class="nx"><p id="bbc5" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">双线性插值</p></blockquote><ul class=""><li id="31ea" class="kx ky iq kz b la oh lc oi le oj lg ok li ol lk lu lm ln lo bi translated">双线性插值考虑未知像素周围已知像素值的最近2*2邻域。</li><li id="3e30" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">然后对这4个像素进行加权平均，得到最终的插值。</li></ul><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/c861ce06dd79f1e45c26f3201ecd6d99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*6u8XHIlOS8OOoePmWkXLFA.png"/></div></figure><blockquote class="nx"><p id="8a4a" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">双三次插值</p></blockquote><figure class="pe pf pg ph pi ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pm"><img src="../Images/0d667f8a076711750390f7fe4e912d82.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aqLrlQDqn6fCu9yp0WCBug.png"/></div></div></figure><blockquote class="nx"><p id="d1ca" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">LancZos插值</p></blockquote><ul class=""><li id="b374" class="kx ky iq kz b la oh lc oi le oj lg ok li ol lk lu lm ln lo bi translated">高阶插值。</li><li id="25b9" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">在频域工作，因此难以想象。</li><li id="cc18" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">一种高维过滤和特征提取方法。</li></ul><blockquote class="nx"><p id="acd3" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">使用哪种插值？</p></blockquote><ul class=""><li id="b876" class="kx ky iq kz b la oh lc oi le oj lg ok li ol lk lu lm ln lo bi translated">cv2。默认情况下使用INTER_LINEAR。</li><li id="3693" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">cv2。用于收缩的INTER_AREA。</li><li id="8bda" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">cv2。INTER_CUBIC再次收缩，更好，但速度慢。</li><li id="8315" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">简历。用于缩放的INTER_LINEAR。</li><li id="3cff" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">不考虑计算速度时的其他复杂问题。</li></ul><blockquote class="mi mj mk"><p id="0d80" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">OpenCV算法</p></blockquote><figure class="lw lx ly lz gt ma"><div class="bz fp l di"><div class="pn po l"/></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pp"><img src="../Images/5903c8448f6bd8c5fa9aaa42ff16724f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UFECob6FfUX61Q_S0OWTIg.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pq"><img src="../Images/fb3cd0aa20d727a8606b231b4e4ad92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cgm17HkyjZ5QK6LslvEfgQ.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pr"><img src="../Images/166b921f24884ad6527783ec19c19096.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lO4VUeI5mrPa7eBN4_i_wQ.png"/></div></div></figure><blockquote class="nx"><p id="ae8e" class="ny nz iq bd oa ob or os ot ou ov lk dk translated"><em class="ps">枕头算法</em></p></blockquote><figure class="pe pf pg ph pi ma"><div class="bz fp l di"><div class="pn po l"/></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pt"><img src="../Images/f79b9cb9b31150b3e2112a543b5c4043.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Eo0kNAqIAv2BQECNVADUgQ.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pu"><img src="../Images/dea23fe2a2fa0186a989fc9b6ae504c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pDkd-oV7UZay16YIXno-uA.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pp"><img src="../Images/ea2adf15c28ab31c677560a4ff8c2689.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kqrPN5wvGWQG79iMbBvlnw.png"/></div></div></figure><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pv"><img src="../Images/46ae8d21960c0f32b15abc169fecfd0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6shOqPXBYJY6HlLylT3HRw.png"/></div></div></figure><h1 id="2cf4" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">翻译</strong></h1><ul class=""><li id="70f0" class="kx ky iq kz b la lb lc ld le lf lg lh li lj lk lu lm ln lo bi translated">将图像向四个方向移动一定的像素。</li></ul><blockquote class="mi mj mk"><p id="7633" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">为什么需要？</p></blockquote><ul class=""><li id="fcf4" class="kx ky iq kz b la md lc me le mf lg mg li mh lk lu lm ln lo bi translated">用于数据扩充。</li></ul><blockquote class="nx"><p id="72a3" class="ny nz iq bd oa ob or os ot ou ov lk dk translated">使用基本数字的图像翻译</p></blockquote><pre class="pe pf pg ph pi nc nd ne nf aw ng bi"><span id="e335" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong> <br/><strong class="nd ir">import</strong> <strong class="nd ir">cv2</strong> <br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt <br/>img = cv2.imread("imgs/chapter4/dog.jpg",-1)<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi pw"><img src="../Images/99da43d7364b0970d49861e17add17c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FUzc6CB0xJm2sKAZxesHZg.png"/></div></div></figure><blockquote class="mi mj mk"><p id="898d" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">向右平移50个像素</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="7b9b" class="nh kg iq nd b gy ni nj l nk nl">h, w, c = img.shape;<br/>img_new = np.zeros((h, w, c), dtype=np.uint8);<br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(3, 1, 1).set_title('Original Image');<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(3, 1, 2).set_title('New Blank Image');<br/>plt.imshow(img_new[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi px"><img src="../Images/ed2a55de067013a9a38f8f5512739c13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*tOnr3Oo0o5XMWDZT85tUjQ.png"/></div></figure><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="9ca4" class="nh kg iq nd b gy ni nj l nk nl">img_new[:, 50:, :] = img[:, :w-50, :]<br/><br/>plt.imshow(img_new[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi py"><img src="../Images/c3d75b39cc7193fe53fbd340f905353f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*0z3WS9DJP5VZ3OvlrK30wA.png"/></div></figure><blockquote class="mi mj mk"><p id="6111" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">向左平移50个像素</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="9e65" class="nh kg iq nd b gy ni nj l nk nl">h, w, c = img.shape<br/>img_new = np.zeros((h, w, c), dtype=np.uint8)<br/><br/>img_new[:, :w-50, :] = img[:, 50:, :]<br/>plt.imshow(img_new[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/2deed4d5a1c5b1ec72b4f7ab07b89d5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/1*hvnc_s86LAP89oaCPHeRyw.png"/></div></figure><blockquote class="mi mj mk"><p id="2611" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">向下平移50个像素</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="ef79" class="nh kg iq nd b gy ni nj l nk nl">h, w, c = img.shape<br/>img_new = np.zeros((h, w, c), dtype=np.uint8)<br/><br/>img_new[50:, :, :] = img[:h-50, :, :]<br/>plt.imshow(img_new[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi qa"><img src="../Images/837ae96c682953c9aa9ae68f68acf3e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1098/format:webp/1*cw_lI9zrPi9odobj16PylQ.png"/></div></figure><blockquote class="mi mj mk"><p id="8b6f" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">向上平移50像素</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="1bec" class="nh kg iq nd b gy ni nj l nk nl">h, w, c = img.shape;<br/>img_new = np.zeros((h, w, c), dtype=np.uint8)<br/><br/>img_new[:h-50, :, :] = img[50:, :, :]<br/>plt.imshow(img_new[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi qb"><img src="../Images/c3ca1a98792ac020c547bb4e3bb63a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*UgyWBMYp0MY9hWRZVM4m3w.png"/></div></div></figure><h1 id="88a5" class="kf kg iq bd kh ki kj kk kl km kn ko kp jw kq jx kr jz ks ka kt kc ku kd kv kw bi translated"><strong class="ak">旋转</strong></h1><blockquote class="nx"><p id="9f0c" class="ny nz iq bd oa ob oc od oe of og lk dk translated">使用PIL旋转图像</p></blockquote><pre class="pe pf pg ph pi nc nd ne nf aw ng bi"><span id="7dc4" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong><br/><strong class="nd ir">from</strong> <strong class="nd ir">PIL</strong> <strong class="nd ir">import</strong> Image<br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt<br/>img_p = Image.open("imgs/chapter4/triangle.jpg")<br/>plt.imshow(img_p)<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi qc"><img src="../Images/cace2074e2af35d35688127d7a18aa12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*CmEDZfCO_AkwM3dRyxpXoA.png"/></div></figure><blockquote class="mi mj mk"><p id="a9b7" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">以枢轴为中心顺时针旋转30度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="9528" class="nh kg iq nd b gy ni nj l nk nl">img_p_new = img_p.rotate(-30)<br/>plt.imshow(img_p_new)<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/f8b6acd5588149cb01b800df2ce70327.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*ngqfh8TZZrtewsciShbOhw.png"/></div></figure><blockquote class="mi mj mk"><p id="4bfa" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">以枢轴为中心逆时针旋转30度</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="b774" class="nh kg iq nd b gy ni nj l nk nl">img_p_new = img_p.rotate(30)<br/>plt.imshow(img_p_new)<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi qe"><img src="../Images/9c7f06100162db2c34ace3937831d6d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*DXBD6-97CLNLHlp1nZ0Gfw.png"/></div></figure></div><div class="ab cl qf qg hu qh" role="separator"><span class="qi bw bk qj qk ql"/><span class="qi bw bk qj qk ql"/><span class="qi bw bk qj qk"/></div><div class="ij ik il im in"><h1 id="671b" class="kf kg iq bd kh ki qm kk kl km qn ko kp jw qo jx kr jz qp ka kt kc qq kd kv kw bi translated"><strong class="ak">仿射变换</strong></h1><ul class=""><li id="9fac" class="kx ky iq kz b la lb lc ld le lf lg lh li lj lk lu lm ln lo bi translated">涉及图像平移和旋转的变换。</li><li id="d751" class="kx ky iq kz b la lp lc lq le lr lg ls li lt lk lu lm ln lo bi translated">但是这种变换是以这样一种方式完成的，即图像中的直线永远不会弯曲。</li></ul><blockquote class="mi mj mk"><p id="717c" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">使用OpenCV的仿射变换</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="4695" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong><br/><strong class="nd ir">import</strong> <strong class="nd ir">cv2</strong><br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter4/tessellate.jpg", -1)<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi qr"><img src="../Images/e8d94584cac5bf6965662bfaa3670f1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1020/format:webp/1*MDTnE941mggbuFc2T8Ws9g.png"/></div></figure><blockquote class="mi mj mk"><p id="dec2" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">保持两点不变</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="5009" class="nh kg iq nd b gy ni nj l nk nl">img = cv2.imread("imgs/chapter4/tessellate.jpg", -1)<br/>rows,cols,ch = img.shape<br/><br/><br/><em class="mn"># Read as x, y</em><br/>pts1 = np.float32([[50,50],[200,50], [50,200]])<br/>pts2 = np.float32([[80,50],[200,50], [50,200]])<br/><br/><br/>cv2.circle(img,(int(pts1[0][0]),int(pts1[0][1])),5,(0,255,0),-1)<br/>cv2.circle(img,(int(pts1[1][0]),int(pts1[1][1])),5,(0,0,255),-1)<br/>cv2.circle(img,(int(pts1[2][0]),int(pts1[2][1])),5,(255,0,0), -1)</span><span id="f639" class="nh kg iq nd b gy nn nj l nk nl">M = cv2.getAffineTransform(pts1,pts2)<br/>dst = cv2.warpAffine(img,M,(cols,rows))<br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(1, 2, 1).set_title('Input')<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(1, 2, 2).set_title('Transformed')<br/>plt.imshow(dst[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi qs"><img src="../Images/a265178df0bee167125c38b852607d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M7Tjz8gRA8EElk2_UjVBWw.png"/></div></div></figure><blockquote class="mi mj mk"><p id="bbfd" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">保持1点为铰链</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="6e1c" class="nh kg iq nd b gy ni nj l nk nl">img = cv2.imread("imgs/chapter4/tessellate.jpg", -1)<br/>rows,cols,ch = img.shape<br/><br/>pts1 = np.float32([[50,50],[200,50], [50,200]])<br/><em class="mn">#pts2 = np.float32([[60,50],[190,50], [50,200]]) <br/># Works as translation + shrinking</em><br/>pts2 = np.float32([[60,50],[200,50], [50,175]])<br/><br/><br/>cv2.circle(img,(int(pts1[0][0]), int(pts1[0][1])), 5, (0,255,0), -1)<br/>cv2.circle(img,(int(pts1[1][0]), int(pts1[1][1])), 5, (0,0,255), -1)<br/>cv2.circle(img,(int(pts1[2][0]), int(pts1[2][1])), 5, (255,0,0), -1)<br/><br/>M = cv2.getAffineTransform(pts1,pts2)<br/><br/>dst = cv2.warpAffine(img,M,(cols,rows))<br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(1, 2, 1).set_title('Input')<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(1, 2, 2).set_title('Transformed')<br/>plt.imshow(dst[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi qt"><img src="../Images/b30f92ea479b34d036639c2a1d5eaf5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XuOs6W23LWe3CJ5fz-2LBA.png"/></div></div></figure><blockquote class="mi mj mk"><p id="aeb8" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">翻译这三点-&gt;翻译</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="eb47" class="nh kg iq nd b gy ni nj l nk nl">img = cv2.imread("imgs/chapter4/tessellate.jpg", -1)<br/>rows,cols,ch = img.shape<br/><br/>pts1 = np.float32([[50,50],[200,50], [50,200]])<br/>pts2 = np.float32([[60,50],[210,50], [60,200]])<br/><br/><br/>cv2.circle(img,(int(pts1[0][0]), int(pts1[0][1])), 5, (0,255,0), -1)<br/>cv2.circle(img,(int(pts1[1][0]), int(pts1[1][1])), 5, (0,0,255), -1)<br/>cv2.circle(img,(int(pts1[2][0]), int(pts1[2][1])), 5, (255,0,0), -1)<br/><br/>M = cv2.getAffineTransform(pts1,pts2)<br/><br/>dst = cv2.warpAffine(img,M,(cols,rows))<br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(1, 2, 1).set_title('Input')<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(1, 2, 2).set_title('Transformed')<br/>plt.imshow(dst[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi qu"><img src="../Images/324eb59c86f5ed7f3e2755a29a4649a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hISO3SPbaSiG820ciufLHw.png"/></div></div></figure></div><div class="ab cl qf qg hu qh" role="separator"><span class="qi bw bk qj qk ql"/><span class="qi bw bk qj qk ql"/><span class="qi bw bk qj qk"/></div><div class="ij ik il im in"><h1 id="c272" class="kf kg iq bd kh ki qm kk kl km qn ko kp jw qo jx kr jz qp ka kt kc qq kd kv kw bi translated"><strong class="ak">视角转换</strong></h1><blockquote class="mi mj mk"><p id="0aee" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">使用OpenCV进行透视变换</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="22a2" class="nh kg iq nd b gy ni nj l nk nl"><strong class="nd ir">import</strong> <strong class="nd ir">numpy</strong> <strong class="nd ir">as</strong> <strong class="nd ir">np</strong><br/><strong class="nd ir">import</strong> <strong class="nd ir">cv2</strong><br/><strong class="nd ir">from</strong> <strong class="nd ir">matplotlib</strong> <strong class="nd ir">import</strong> pyplot <strong class="nd ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter4/cube.png", 1)<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div class="gh gi qv"><img src="../Images/d3667b90eed244c3609bdc16095fae9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*lzLi-tHwyhSzx77nm97Oow.png"/></div></figure><blockquote class="mi mj mk"><p id="5c35" class="ml mm mn kz b la md jr mo lc me ju mp mq mr ms mt mu mv mw mx my mz na nb lk ij bi translated">从视图放大</p></blockquote><pre class="lw lx ly lz gt nc nd ne nf aw ng bi"><span id="fb1f" class="nh kg iq nd b gy ni nj l nk nl">img = cv2.imread("imgs/chapter4/cube.png", 1)<br/>img = cv2.resize(img, (400, 400))<br/>rows,cols,ch = img.shape<br/><br/><em class="mn"># Counter clock wise</em><br/>pts1 = np.float32([[130,130],[390,75],[360,320],[140, 390]])<br/>pts2 = np.float32([[0,0],[0, 200],[200,200],[200,0]])<br/><br/><br/><em class="mn"># uncomment each and see</em><br/>cv2.circle(img,(int(pts1[0][0]),int(pts1[0][1])),5,(255,255,255), -1)<br/>cv2.circle(img,(int(pts1[1][0]), int(pts1[1][1])), 5, (255,255,255), -1)<br/>cv2.circle(img,(int(pts1[2][0]), int(pts1[2][1])), 5, (255,255,255), -1)<br/>cv2.circle(img,(int(pts1[3][0]), int(pts1[3][1])), 5, (255,255,255), -1)<br/><br/>M = cv2.getPerspectiveTransform(pts1,pts2)<br/><br/>dst = cv2.warpPerspective(img,M,(cols,rows))<br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(1, 2, 1).set_title('Input');<br/>plt.imshow(img[:, :, ::-1])<br/>f.add_subplot(1, 2, 2).set_title('Transformed');<br/>plt.imshow(dst[:, :, ::-1])<br/>plt.show()</span></pre><figure class="lw lx ly lz gt ma gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi qu"><img src="../Images/f88c6ff36261c09a1432afcbb422f064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*etAgWz7abAc7q3Qy2tseKg.png"/></div></div></figure></div><div class="ab cl qf qg hu qh" role="separator"><span class="qi bw bk qj qk ql"/><span class="qi bw bk qj qk ql"/><span class="qi bw bk qj qk"/></div><div class="ij ik il im in"><p id="2427" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">你可以在<a class="ae qw" href="https://github.com/Tessellate-Imaging/monk_v1/blob/master/study_roadmaps/3_image_processing_deep_learning_roadmap/1_image_processing_basics/4)%20Geometric%20transformations%20on%20images.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到完整的jupyter笔记本。</p><p id="8d88" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">有问题可以联系<a class="ae qw" href="https://www.linkedin.com/in/abhishek-kumar-annamraju/" rel="noopener ugc nofollow" target="_blank"> Abhishek </a>和<a class="ae qw" href="https://www.linkedin.com/in/akashdeepsingh01/" rel="noopener ugc nofollow" target="_blank"> Akash </a>。请随意联系他们。</p><p id="ba32" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">我对计算机视觉和深度学习充满热情。我是<a class="ae qw" href="https://github.com/Tessellate-Imaging/Monk_Object_Detection" rel="noopener ugc nofollow" target="_blank"> Monk </a>库的开源贡献者。</p><p id="856d" class="pw-post-body-paragraph ml mm iq kz b la md jr mo lc me ju mp le mr ms mt lg mv mw mx li mz na nb lk ij bi translated">你也可以在以下网址看到我的其他作品:</p><div class="qx qy gp gr qz ra"><a href="https://medium.com/@akulahemanth" rel="noopener follow" target="_blank"><div class="rb ab fo"><div class="rc ab rd cl cj re"><h2 class="bd ir gy z fp rf fr fs rg fu fw ip bi translated">阿库拉·赫曼思·库马尔培养基</h2><div class="rh l"><h3 class="bd b gy z fp rf fr fs rg fu fw dk translated">阅读阿库拉·赫曼思·库马尔在媒介上的作品。计算机视觉爱好者。每天，阿库拉·赫曼思·库马尔和…</h3></div><div class="ri l"><p class="bd b dl z fp rf fr fs rg fu fw dk translated">medium.com</p></div></div><div class="rj l"><div class="rk l rl rm rn rj ro mb ra"/></div></div></a></div></div></div>    
</body>
</html>