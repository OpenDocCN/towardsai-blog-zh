<html>
<head>
<title>PyScript Is Ok-ish To Make Your Pages Interactive, but Only as a Last Resource if You Don’t Know Any Javascript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PyScript可以让你的页面具有交互性，但是如果你不懂Javascript，它只能作为最后的资源</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/pyscript-is-ok-ish-to-make-your-pages-interactive-but-only-as-a-last-resource-if-you-dont-know-2197133b4348?source=collection_archive---------1-----------------------#2022-05-17">https://pub.towardsai.net/pyscript-is-ok-ish-to-make-your-pages-interactive-but-only-as-a-last-resource-if-you-dont-know-2197133b4348?source=collection_archive---------1-----------------------#2022-05-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="a335" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">PyScript太慢太笨重，而且它不支持你可能想用的所有特性和库。</h2></div><p id="29ae" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最近有很多关于在网页中运行Python代码的可能性的宣传，这要归功于PyScript，这是一个web组件，它将一系列HTML标记注入到你的网页中，在那里你可以…嗯…运行Python代码。当然，这听起来很令人兴奋，但是JavaScript已经与web浏览器发展得如此紧密，我想知道…难道不是更好吗？</p><p id="8ffc" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗯，我做了一些测试，但是……PyScript加载起来太慢太重了，而且它不支持Python的所有特性和库(比如非常流行的Plotly，见下文)…所以最终，</p><blockquote class="le lf lg"><p id="b423" class="ki kj lh kk b kl km ju kn ko kp jx kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">很抱歉地说，我觉得PyScript没什么用处，我宁愿选择普通的JavaScript……除非你不懂这种语言，在这种情况下，PyScript可能会做到——但是你要做好准备，让你的网页访问者等上一分钟来运行Python代码，并找到你经常使用的那些库的替代品！</p></blockquote><p id="4c3f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不要误解我的意思，我承认PyScript是一个很好的想法，我真的希望它在未来会更好。但是现在，这种炒作是不合理的，缺乏任何支持。</p><h1 id="ffe2" class="ll lm it bd ln lo lp lq lr ls lt lu lv jz lw ka lx kc ly kd lz kf ma kg mb mc bi translated">一个比较PyScript和JavaScript实践的具体例子</h1><p id="0713" class="pw-post-body-paragraph ki kj it kk b kl md ju kn ko me jx kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">让我们研究一下这个具体的例子，让我们比较一下PyScript和浏览器的核心编程语言JavaScript中的一段代码。</p><p id="d69b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">假设您的web开发技能很低，不足以使用众多JavaScript库中的一个来显示一个图形。你想“好吧，我知道Python，所以我可以用PyScript”。有点正确，除了Plotly，它可能是最流行的Python图形库，不被PyScript支持。</p><p id="99f9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">因此，你可以选择Bokeh，在注入HTML的PyScript标签中编写一段Python代码。我从这篇博文的示例2中提取了这个具体的案例和代码(顺便说一句，如果你想开始使用PyScript，强烈推荐！):</p><div class="mi mj gp gr mk ml"><a href="https://betterdatascience.com/pyscript-intro/" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">PyScript简介——如何在浏览器中运行Python</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">Anaconda的首席执行官王蒙杰在PyCon US 2022期间透露了一些非常有趣的事情。这是PyScript -一个JavaScript…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">betterdatascience.com</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz na ml"/></div></div></a></div><p id="0831" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以在这个网页上看到结果——并检查代码以验证这是使用PyScript标记内运行的Python完成的:</p><p id="691e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae nb" href="http://lucianoabriata.altervista.org/tests/pyscript/example1-plots-in-pyscript.html" rel="noopener ugc nofollow" target="_blank"><strong class="kk iu">http://lucianoabriata . alter vista . org/tests/py script/example 1-plots-in-py script . html</strong></a></p><p id="3d7a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就像我在最初的帖子中所写的代码一样，结果是这样的:</p><figure class="nd ne nf ng gt nh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi nc"><img src="../Images/8bb9a2c315b6f972bd4384facfb00908.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n3txhqGA7JWmWQLPwO5hFw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">用PyScript在网页中显示数据。这张图片和所有其他图片都是作者根据自己的截图制作的。</figcaption></figure><p id="584b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">好的，看起来不错，但是…加载花了32秒！这不是我的电脑，因为其他人也报告了类似的延迟…例如，Thuwarakesh Murallie 的这篇博客文章(也很棒)报告了一个简单的“Hello World！”：</p><div class="mi mj gp gr mk ml"><a href="https://towardsdatascience.com/pyscript-tutorial-a8fba77abd1b" rel="noopener follow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">我在浏览器上尝试Python的第一印象</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">让Python成为通用编程语言的唯一缺失部分就在这里</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="nt l mw mx my mu mz na ml"/></div></div></a></div><p id="8d31" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">除了强调Python代码运行的速度有多慢，Thuwarakesh的文章还强调了通过PyScript在HTML中运行Python的其他非常重要的缺点。例如，在浏览器控制台中调试并没有太大的帮助，无论是VScode还是其他调试器都没有太大的用处。即使是代码编辑器和ide也不能正确处理和显示代码，所以很容易迷失在代码和缩进中。更糟糕的是，文档仍然非常有限(我认为几乎不存在)。布玛儿…</p><h2 id="1195" class="nu lm it bd ln nv nw dn lr nx ny dp lv kr nz oa lx kv ob oc lz kz od oe mb of bi translated">那么如何用javaScript绘制数据呢？</h2><p id="de2b" class="pw-post-body-paragraph ki kj it kk b kl md ju kn ko me jx kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">我说我们要做一个对比。在这里，您使用Google图表库为JavaScript重写了上面的示例:</p><p id="5f91" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><a class="ae nb" href="http://lucianoabriata.altervista.org/tests/pyscript/example1-plots-in-javascript.html" rel="noopener ugc nofollow" target="_blank">T3http://lucianoabriata . alter vista . org/tests/py script/example 1-plots-in-JavaScript . html</a></p><p id="77db" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以验证绘图是否在页面加载时立即显示<strong class="kk iu">:</strong></p><figure class="nd ne nf ng gt nh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi og"><img src="../Images/b8ee69269d7bf6ff30dbcc7141ab57ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uUuqt7s_MCxzGqmY7FESFw.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">用JavaScript在网页中显示数据。</figcaption></figure><p id="8c5f" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，请注意，这不仅仅是一个静态的图表，而是交互式的:您可以放大和缩小，当您悬停在条形图上时可以获得信息，等等。在PyScript的当前版本中，这些都是不可能的。</p><p id="384e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">看看代码有多简单…</p><pre class="nd ne nf ng gt oh oi oj ok aw ol bi"><span id="27fa" class="nu lm it oi b gy om on l oo op">&lt;!DOCTYPE html&gt;<br/>&lt;html lang=”en”&gt;<br/>&lt;body&gt;</span><span id="d2f7" class="nu lm it oi b gy oq on l oo op">&lt;script type=”text/javascript” src=”<a class="ae nb" href="https://www.gstatic.com/charts/loader.js" rel="noopener ugc nofollow" target="_blank">https://www.gstatic.com/charts/loader.js</a>"&gt;&lt;/script&gt;<br/> &lt;script type=”text/javascript”&gt;<br/> google.charts.load(“current”, {packages:[‘corechart’]});<br/> google.charts.setOnLoadCallback(drawChart);<br/> function drawChart() {<br/> var data = google.visualization.arrayToDataTable([ <br/> [“Fruit”, “Fruit Counts”, { role: “style” } ],<br/> [“Apples”, 5, “blue”],<br/> [“Pears”, 3, “blue”],<br/> [“Nectarines”, 4, “blue”],<br/> [“Plums”, 2, “blue”],<br/> [“Grapes”, 4, “blue”],<br/> [“Strawberries”, 6, “blue”]<br/> ]);</span><span id="15fe" class="nu lm it oi b gy oq on l oo op">var view = new google.visualization.DataView(data);<br/> view.setColumns([0, 1,<br/> { calc: “stringify”,<br/> sourceColumn: 1,<br/> type: “string”,<br/> role: “annotation” },<br/> 2]);</span><span id="440d" class="nu lm it oi b gy oq on l oo op">var options = {<br/> title: “Fruit Counts”,<br/> width: 800,<br/> height: 400,<br/> bar: {groupWidth: “95%”},<br/> legend: { position: “none” },<br/> };<br/> var chart = new google.visualization.ColumnChart(document.getElementById(“columnchart_values”));<br/> chart.draw(view, options);<br/> }<br/> &lt;/script&gt;<br/>&lt;div id=”columnchart_values” style=”width: 900px; height: 300px;”&gt;&lt;/div&gt;</span><span id="f8ef" class="nu lm it oi b gy oq on l oo op">&lt;/body&gt;<br/>&lt;/html&gt;</span></pre><h1 id="8ade" class="ll lm it bd ln lo lp lq lr ls lt lu lv jz lw ka lx kc ly kd lz kf ma kg mb mc bi translated">PyScript有什么值得挽救的积极点吗？</h1><p id="01b0" class="pw-post-body-paragraph ki kj it kk b kl md ju kn ko me jx kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">正如Thuwarakesh在他的文章中指出的，出于各种原因，在web浏览器中运行Python代码的可能性是有用的。您可以对从不离开浏览器的数据进行操作，因此不会损害其隐私。对我来说最重要的是，通过浏览器接口，Python代码应该可以在任何地方、任何地方、任何设备的所有浏览器上立即被解释，而无需任何安装...简单地访问一个网页。</p><blockquote class="le lf lg"><p id="cea5" class="ki kj lh kk b kl km ju kn ko kp jx kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">但是所有这些都可以通过JavaScript来实现，这样运行起来会更快！</p></blockquote><p id="db5d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我想唯一积极的一点是，许多人，尤其是(数据)科学家，知道并使用Python作为他们工作的主要语言。PyScript缓解了Python不能在浏览器中在线运行的限制。或者至少这是它打算做的。</p><p id="3bc9" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">不幸的是，由于PyScript不支持许多库，因此它不太可能吸引程序员和数据分析师转向它。此外，所有主要的工具箱都已经有了一个JavaScript库，其中一些实际上运行得非常高效。比如TensorFlow有TensorFlow.js。</p><p id="2dac" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有一个更大的问题，实际上不仅影响PyScript，还影响JavaScript本身，那就是浏览器可用的内存和资源通常是有限的，甚至对于处理中等规模的数据集来说也是如此。</p><p id="6948" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">总之，我恐怕必须同意Thuwarakesh的解释，尽管PyScript是未来的一个有前途的工具，但它不是我们今天可以真正受益的东西。这并不意味着它在未来没有用，但它可能需要与浏览器进行更紧密、更原生的集成。</p></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><h1 id="464a" class="ll lm it bd ln lo oy lq lr ls oz lu lv jz pa ka lx kc pb kd lz kf pc kg mb mc bi translated">一些更有趣的阅读</h1><p id="577a" class="pw-post-body-paragraph ki kj it kk b kl md ju kn ko me jx kq kr mf kt ku kv mg kx ky kz mh lb lc ld im bi translated">PyScript官方网站:</p><div class="mi mj gp gr mk ml"><a href="https://pyscript.net/" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">Pyscript.net</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">那不是很酷吗...要运行Python...在你的浏览器里？...|打印('现在你可以了！')| | |请注意…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">pyscript.net</p></div></div><div class="mu l"><div class="pd l mw mx my mu mz na ml"/></div></div></a></div><p id="dea3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一篇介绍PyScript技术细节的文章:</p><div class="mi mj gp gr mk ml"><a href="https://towardsdatascience.com/pyscript-unleash-the-power-of-python-in-your-browser-6e0123c6dc3f" rel="noopener follow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">PyScript——在浏览器中释放Python的威力</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">如何从HTML代码中运行Python</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">towardsdatascience.com</p></div></div><div class="mu l"><div class="pe l mw mx my mu mz na ml"/></div></div></a></div><p id="7c94" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里有一篇更简单的介绍性文章:</p><div class="mi mj gp gr mk ml"><a href="https://thenewstrace.com/the-year-of-python-in-the-browser-this-new-project-lets-you-run-python-in-your-html/230334/" rel="noopener  ugc nofollow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">浏览器中的Python年:这个新项目让你可以在HTML中运行Python——thenewtrace</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">PyScript是一个新项目，它允许你将Python程序直接嵌入到HTML页面中，并在…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">thenewstrace.com</p></div></div><div class="mu l"><div class="pf l mw mx my mu mz na ml"/></div></div></a></div><figure class="nd ne nf ng gt nh gh gi paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="gh gi pg"><img src="../Images/80e073b210bc7eea275366a623c3e358.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NpVoVPU4OAnUv3il2pq4LA.png"/></div></div><figcaption class="nn no gj gh gi np nq bd b be z dk translated">PyScript vs. JavaScript的主角图。</figcaption></figure></div><div class="ab cl or os hx ot" role="separator"><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow ox"/><span class="ou bw bk ov ow"/></div><div class="im in io ip iq"><p id="8db4" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">www.lucianoabriata.com<em class="lh">我写作并拍摄我广泛兴趣范围内的一切事物:自然、科学、技术、编程等等。</em> <a class="ae nb" href="https://lucianosphere.medium.com/membership" rel="noopener"> <strong class="kk iu"> <em class="lh">成为媒介会员</em> </strong> </a> <em class="lh">访问其所有故事(我免费获得小额收入的平台的附属链接)和</em> <a class="ae nb" href="https://lucianosphere.medium.com/subscribe" rel="noopener"> <strong class="kk iu"> <em class="lh">订阅获取我的新故事</em> </strong> </a> <strong class="kk iu"> <em class="lh">通过电子邮件</em> </strong> <em class="lh">。到</em> <strong class="kk iu"> <em class="lh">咨询关于小职位</em> </strong> <em class="lh">查看我的</em> <a class="ae nb" href="https://lucianoabriata.altervista.org/services/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> <em class="lh">服务页面这里</em> </strong> </a> <em class="lh">。你可以</em> <a class="ae nb" href="https://lucianoabriata.altervista.org/office/contact.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kk iu"> <em class="lh">这里联系我</em> </strong> </a> <strong class="kk iu"> <em class="lh">。</em>T51】</strong></p></div></div>    
</body>
</html>