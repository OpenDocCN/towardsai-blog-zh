<html>
<head>
<title>Manager, use this to plan the smart working days for your team!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">经理，用这个来为你的团队规划智能工作日吧！</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/managers-use-this-to-plan-the-smart-working-days-for-your-team-e457d97825ac?source=collection_archive---------3-----------------------#2021-12-13">https://pub.towardsai.net/managers-use-this-to-plan-the-smart-working-days-for-your-team-e457d97825ac?source=collection_archive---------3-----------------------#2021-12-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="1e7e" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/optimization" rel="noopener ugc nofollow" target="_blank">优化</a></h2><div class=""/><div class=""><h2 id="d649" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">一个数学优化工具来安排智能工作日和计划返回办公室</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/f6372159d2ef28b3991ea07443cdecc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*O5gllYNQRtp36CTr"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">图片由<a class="ae le" href="https://unsplash.com/@diggitymarketing?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">digity Marketing</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><h1 id="1243" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">介绍</h1><p id="039b" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在新冠肺炎期间，几个团队被迫完全在家工作。幸运的是，去年情况有所改善，在许多国家，团队被允许部分返回办公室。该项目旨在为所有经理提供<strong class="lz ja">工具</strong> <strong class="lz ja">，以便更好地规划员工返回办公室或未来几周的智能工作日。</strong></p><p id="7c2d" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这篇文章是这样组织的:</p><ul class=""><li id="bdba" class="my mz iq lz b ma mt md mu mg na mk nb mo nc ms nd ne nf ng bi translated"><em class="nh">动机，</em>表达优化算法有助于计划和调度的原因。</li><li id="eaaa" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">优化算法，</em>介绍数学优化的主要对象。</li><li id="ec3a" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">建模，</em>详述优化建模的一部分是如何执行的。这是最具挑战性的部分，可以跳过<strong class="lz ja"> </strong>。</li><li id="5673" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">结果，</em>描述从算法获得的结果。</li><li id="6fdb" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">结论，</em>收尾。</li></ul><p id="5a16" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">在本文中，我假设您对与数学优化相关的概念和思想有所了解。如果不是这样，我推荐看看Coursera上的这个免费的<a class="ae le" href="https://www.coursera.org/learn/discrete-optimization" rel="noopener ugc nofollow" target="_blank">课程</a>。这很艰难，但是值得！</p><p id="85f4" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">你可以在我的 <a class="ae le" href="https://github.com/colibri17/back-to-office" rel="noopener ugc nofollow" target="_blank"> <strong class="lz ja"> GitHub页面</strong> </a>上找到<strong class="lz ja">的所有细节和代码。</strong></p><h1 id="ae78" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">动机</h1><p id="3d4c" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">对人类来说，计划员工返回办公室可能是一项复杂的任务。<strong class="lz ja">选择最佳配置极具挑战性</strong>，尤其是要考虑许多约束条件的时候。例如，我们可能需要考虑员工的返回偏好、可用的工作站、房间的最大容量以及社交距离。对人类来说，同时考虑所有这些可能很难，<strong class="lz ja">特别是如果我们的目标是找到可能的最佳配置</strong>。</p><p id="797a" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">由于这些原因，<strong class="lz ja">一个优化算法可以帮助</strong>。它可以考虑不同的因素，定义硬约束以防止指定的配置，并在数学上确保识别的解决方案是最优的。</p><h1 id="f521" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">优化参数</h1><p id="14f6" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">优化模型由三个主要对象组成:<strong class="lz ja">决策变量、目标函数和约束</strong>。这些都可以在代码中完全定制。</p><p id="a0ac" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="nh">决策变量</em> <br/>每个决策变量都是一个二元变量<strong class="lz ja"> <em class="nh"> xᵢⱼ </em>，代表员工I在j </strong>日是否返回办公室。</p><p id="1437" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="nh">目标函数</em>目标函数由不同的项组成。注意<strong class="lz ja">分配给每一项的权重可以在代码中定制</strong>,这样就可以将项从优化过程中排除。</p><ul class=""><li id="5487" class="my mz iq lz b ma mt md mu mg na mk nb mo nc ms nd ne nf ng bi translated"><em class="nh">连续几天。对于一个雇员来说，在连续的工作日可能更容易回来，所以每当这种情况发生时，目标函数就增加。</em></li><li id="41a2" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">同队</em>。同一个团队的成员更喜欢在同一天回来，所以每当这种情况发生时，目标函数就增加。</li><li id="a433" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">目标出现。</em>每个员工都应该回来工作最少的天数，鼓励给办公室一些公平的回报。因此，每当员工在整个计划期间没有达到规定的平均出席率，目标函数就会增加一个惩罚。</li><li id="38c8" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">单一退货。应该鼓励员工返回办公室，因此无论何时任何员工出现在办公室，目标函数都会增加。</em></li></ul><p id="7beb" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated"><em class="nh">约束<br/> </em>我们有两种类型的约束:</p><ul class=""><li id="5599" class="my mz iq lz b ma mt md mu mg na mk nb mo nc ms nd ne nf ng bi translated">员工的最大和最小数量。每天返回办公室的员工人数有上限和下限。优化算法防止找到超过这些值的解。</li><li id="ae0c" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated"><em class="nh">偏爱天。员工可以选择哪一天可以回来，哪一天不可以回来。优化算法找到符合这些偏好的解决方案。</em></li></ul><h1 id="7ead" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">建模</h1><p id="0816" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">为了解决优化问题，我们需要<strong class="lz ja">根据决策变量</strong>表达约束和目标函数的每个元素。</p><p id="9235" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">因为我们使用的是二进制变量，所以我们可以灵活表达。<strong class="lz ja">假设我们试图表达术语<em class="nh">连续天数</em> </strong>，其目的是促进员工连续天数的回报。</p><p id="db86" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">回想一下，每个决策变量<em class="nh"> xᵢⱼ </em>代表员工I在j日是否来办公室。现在，让我们<strong class="lz ja">关注单个员工</strong>，并考虑相关序列<em class="nh"> x₁ </em>、<em class="nh"> x₂ </em>，..、<em class="nh"> xⱼ </em>、…、<em class="nh"> xₙ </em>的决策变量，其中<em class="nh"> n </em>为计划周期的天数。</p><p id="2bdf" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">如果我们考虑<em class="nh"> n = </em> 2(即我们计划2天)，那么我们希望找到一个<em class="nh"> x₁ </em>、<em class="nh"> x₂ </em>的函数𝑓，使得当<em class="nh"> x₁ = 0 </em>或<em class="nh"> x₂ = 1 </em>时为0，当<em class="nh"> x₁ = 1 </em>和<em class="nh"> x₂ = 1: </em>时为1</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/00d209a1bc23ccd4126e40374cad67d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:168/0*hi3g1Uf8kSavCTM9"/></div></figure><p id="d42c" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这样，当员工在第1天和第2天都来到办公室时(即当<em class="nh"> x₁ =1 </em>和<em class="nh"> x₂= 1 </em>)，连续天数<em class="nh">项为1，目标函数增加1。而是当这不成立时，项为0，目标函数不增加。</em></p><p id="78f0" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这样的函数𝑓可以很容易地表示为:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi no"><img src="../Images/a0d2b0000cc8d37f3e2da3166b841129.png" data-original-src="https://miro.medium.com/v2/resize:fit:250/0*5Cp04b9YpOjnKQbd"/></div></figure><p id="7862" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">现在假设<em class="nh"> n = </em> 3(即计划3天)。类似地，我们希望找到<em class="nh"> x₁ </em>、<em class="nh"> x₂ </em>、<em class="nh"> x₃ </em>的函数𝑓，使得当<em class="nh"> x₁ = 1 </em>、<em class="nh"> x </em> ₂ <em class="nh"> = 1 </em>、<em class="nh"> x₃ = 1 </em>(即员工回来的时间为三天)时，函数为2。 当<em class="nh"> x₁ = 1 </em>和<em class="nh"> x₂ = 1 </em>或<em class="nh"> x₂ = 1 </em>和<em class="nh"> x₃ = 1 </em>时为1(即员工第一天和第二天或第二天和第三天回来)，否则为0:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi np"><img src="../Images/de1c2117b472fb3c027374d9a822875a.png" data-original-src="https://miro.medium.com/v2/resize:fit:202/0*CJ9mckX_77odfzFv"/></div></figure><p id="9cd6" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">这种函数是前一种情况的扩展，可以表示为:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/cffb58e1e3e05e0c823f63bae1f9ea4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:414/0*kdxJoeWwIYA4PXMR"/></div></figure><p id="974e" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">你可以看到模式。一般来说，对于<em class="nh"> n </em>天，<em class="nh">连续天数</em>项可以表示为:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/01e20c0511f9105e26b49d1b96f42062.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/0*axsyesUUqvgGXvHt"/></div></figure><h1 id="238c" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">线性化</h1><p id="c25e" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">有一个旁注。你可能已经注意到<strong class="lz ja">派生项不是线性项</strong>。当添加到目标函数中时，它会导致目标函数非线性，反过来，这又会导致在寻找最优解时出现一些问题。实际上，<strong class="lz ja">线性问题保证在数学上找到唯一最优解</strong>。此外，几乎所有(免费)解算器只在线性优化的情况下工作。</p><p id="f73e" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">然而，在二元产品决策变量的情况下，我们可以使用一个有趣的策略<strong class="lz ja">使术语线性</strong>。具体来说，对于每个二进制乘积，我们引入一个新的二进制变量<em class="nh">z =</em><em class="nh">xᵢ</em>*<em class="nh">xⱼ</em>(其中在本例中<em class="nh"> xᵢ </em>和<em class="nh"> xⱼ </em>是两个二进制变量)，以及一组对<em class="nh"> z </em>的约束，它们由下式给出:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="ab gu cl ns"><img src="../Images/a386de1d2cf63cbfbbcb94b32a98e24f.png" data-original-src="https://miro.medium.com/v2/0*qcome7tppK0nMPZN"/></div></figure><p id="3c3e" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">变量<em class="nh"> z </em>表现为二进制乘积<em class="nh">。</em>当<em class="nh"> xᵢ </em> <em class="nh"> = </em> 0或<em class="nh"> xⱼ = </em> 0时，<em class="nh"> z </em>需要小于0，因此必须为零。当<em class="nh">xᵢ</em>t14】=1或者<em class="nh"> xⱼ = 1 </em>时，<em class="nh"> z </em>需要大于1，所以它必须是1。因此，我们可以回到线性情况。</p><p id="d875" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">最后，请注意，为了能够详细说明整个优化问题，必须对目标函数和约束条件的每一项重复<strong class="lz ja">类似的过程。</strong></p><h1 id="d929" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">结果</h1><p id="d51d" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">为了运行代码并获得结果，我们将重点放在一个特定的初始配置上，但是它可以被<strong class="lz ja">完全定制以适应您的需求</strong>。在这种情况下，我们将假设以下设置:</p><ul class=""><li id="fb82" class="my mz iq lz b ma mt md mu mg na mk nb mo nc ms nd ne nf ng bi translated">员工人数为13人(名为意大利食品:)</li><li id="8949" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated">计划时间为20天(相当于4周，即1个月)</li><li id="b1e8" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated">4最少允许员工在同一天返回办公室。最多允许6名员工在同一天返回办公室。</li><li id="372e" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated">计划期间的8天(即每周2天)是每个员工都应该达到或超过的目标出勤时间。</li><li id="1bf9" class="my mz iq lz b ma ni md nj mg nk mk nl mo nm ms nd ne nf ng bi translated">共有4个员工小组，定义如下:<br/> -员工编号1、2、3 <br/> -员工编号4、5、6 <br/> -员工编号8、9、10 <br/> -员工编号11、12 <br/>注意，一名员工可能属于多个小组。</li></ul><p id="5484" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">最后，员工偏好报告如下。浅绿色单元格表示员工不能回到办公室的日子，在优化解决方案中必须避免这些日子。深绿色的单元格代表员工可以回到办公室的日子。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nt"><img src="../Images/bacd128e0f35fc25974251bc3eabd52f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jxfpXbcfq5fpZhNn2NIYCw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">n=20天的员工偏好(图片由作者制作)</figcaption></figure><p id="1d7e" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">现在，是时候运行我们的Python <a class="ae le" href="https://github.com/colibri17/back-to-office/blob/main/optimization.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a>并获得结果了:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/247d0e165773d82fba02aba5c2a4d044.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gCqK1R_r5ypjnx_1mEB_Gw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">优化解决方案(图片由作者制作)</figcaption></figure><p id="eca1" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">如你所见，<strong class="lz ja">算法做了大量的工作</strong>！同一个子团队的员工组成的集群在图中<strong class="lz ja">清晰可见，员工确实倾向于<strong class="lz ja">连续几天来办公室</strong>。另外，请注意每天<strong class="lz ja">的员工人数不超过规定的限制</strong>，并且每个<strong class="lz ja">员工在计划期间至少回来8天</strong>！</strong></p><p id="9a19" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">哇！热爱数学！</p><h1 id="1cd2" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">结论</h1><p id="aaa1" class="pw-post-body-paragraph lx ly iq lz b ma mb ka mc md me kd mf mg mh mi mj mk ml mm mn mo mp mq mr ms ij bi translated">在本文中，我们描述了一个工具，它可以为返回办公室或智能工作的团队确定最佳计划。<strong class="lz ja">使用数学算法构建，同时考虑不同的约束和因素</strong>。我们设置了一个初始配置，并展示了使用这种算法的好处。</p><p id="a16d" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">请注意，该算法还有许多改进的地方，这些<strong class="lz ja">最终取决于个人需求</strong>。例如，我们可能希望员工或团队在整个计划期间更加统一，或者不鼓励一些员工连续几天返回。</p><p id="e0a3" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">然而，在<strong class="lz ja">中，使用这样的工具可以非常有效地为需要为他们的团队计划返回办公室或智能工作日的经理节省时间和资源</strong>。</p><p id="897f" class="pw-post-body-paragraph lx ly iq lz b ma mt ka mc md mu kd mf mg mv mi mj mk mw mm mn mo mx mq mr ms ij bi translated">希望你喜欢这篇文章，请随意评论并竖起大拇指！<br/>留金！</p></div></div>    
</body>
</html>