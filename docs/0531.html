<html>
<head>
<title>Decision Trees Explained With a Practical Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用实例解释决策树</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/decision-trees-explained-with-a-practical-example-fe47872d3b53?source=collection_archive---------0-----------------------#2020-05-28">https://pub.towardsai.net/decision-trees-explained-with-a-practical-example-fe47872d3b53?source=collection_archive---------0-----------------------#2020-05-28</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="ce32" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">信息映射</h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/c856a99869abf15725b1477b5c9668e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SBQNWUA1dDtFsMHv.png"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">图:一个复杂的决策树</figcaption></figure><p id="4f94" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">决策树是监督机器学习算法之一，该算法可用于回归和分类问题，但主要用于分类问题。决策树遵循一组if-else条件来可视化数据，并根据条件对数据进行分类。<br/>例如，</p><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi lj"><img src="../Images/5e2bf77b948078d06402003328cbafc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*J2l5dvJ2jqRwGDfG.png"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:mc.ai</figcaption></figure><p id="c7b8" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在我们深入探讨决策树算法的工作原理之前，你需要知道一些与之相关的关键词。</p><h1 id="c8ae" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">重要术语</h1><ol class=""><li id="3b41" class="mm mn iq kn b ko mo ks mp kw mq la mr le ms li mt mu mv mw bi translated"><strong class="kn ja">根节点:</strong>该属性用于将数据分成两组或多组。基于属性选择技术选择该节点中的特征属性。</li><li id="06ee" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated"><strong class="kn ja">分支或子树:</strong>整个决策树的一部分称为分支或子树。</li><li id="0c25" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated"><strong class="kn ja">拆分:</strong>根据if-else条件将一个节点划分为两个或两个以上的子节点。</li><li id="8b57" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated"><strong class="kn ja">决策节点:</strong>将子节点拆分成更多的子节点后，称为决策节点。</li><li id="04ff" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated"><strong class="kn ja">叶节点或终端节点:</strong>这是决策树的末端，在这里不能再分成更多的子节点。</li><li id="a30d" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated"><strong class="kn ja">修剪:</strong>从树上移除一个子节点称为修剪。</li></ol><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/36cb6dc5f375b6353fcbdd9cd3229c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/0*pb-1ufHK-OmR8k7r.png"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:<a class="ae nd" href="https://www.kdnuggets.com/" rel="noopener ugc nofollow" target="_blank"> Kdnuggets </a></figcaption></figure><h1 id="5ba8" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">决策树的工作原理</h1><ol class=""><li id="0149" class="mm mn iq kn b ko mo ks mp kw mq la mr le ms li mt mu mv mw bi translated">基于属性选择测量(ASM)的结果选择根节点特征。</li><li id="b02f" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">ASM一直重复，直到出现一个叶节点或终端节点，在那里它不能被分割成子节点。</li></ol><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ne"><img src="../Images/18f4d27cd36d31412a59ba5b8fe964db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*G6R9oy7ijo5G9HS5.png"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:<a class="ae nd" href="http://www.datacamp.com" rel="noopener ugc nofollow" target="_blank">数据营</a></figcaption></figure><h1 id="7e4c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">什么是属性选择度量(ASM)？</h1><p id="e93c" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">属性子集选择度量是在数据挖掘过程中用于数据简化的一种技术。为了更好地分析和预测目标变量，数据简化是必要的。</p><p id="b968" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">两种主要的ASM技术是</p><ol class=""><li id="77d4" class="mm mn iq kn b ko kp ks kt kw ni la nj le nk li mt mu mv mw bi translated">基尼指数</li><li id="0d58" class="mm mn iq kn b ko mx ks my kw mz la na le nb li mt mu mv mw bi translated">信息增益(ID3)</li></ol><h1 id="df36" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">基尼指数</h1><p id="ca2a" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">当随机选择某个变量时，衡量该变量被错误分类的概率的尺度称为基尼指数或基尼系数。数据根据基尼指数平均分配。</p><p id="540d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数学公式:</p><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/3e85d051ab06cab501b2634a0345e26a.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/0*pE3uG1i28u5ClQVQ.png"/></div></figure><p id="1054" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="nm"> Pi </em> =物体被分类到特定类别的概率。</p><p id="560f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">当您使用基尼指数作为算法选择根节点特征的标准时。选择具有最小基尼系数的特征。</p><h1 id="b937" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">信息增益(ID3)</h1><p id="cccb" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">熵是这种算法的主要概念，这种算法有助于确定提供关于类的最大信息的特征或属性，这种算法称为信息增益或ID3算法。通过使用这种方法，我们可以降低从根节点到叶节点的熵水平。</p><p id="3871" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数学公式:</p><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/6979ec9de7bbd4a979232d63855c8418.png" data-original-src="https://miro.medium.com/v2/resize:fit:528/format:webp/0*REu9I7JF09rPT5FD.png"/></div></figure><p id="8b4d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="nm">‘p</em>’，表示E(S)的概率，E(S)表示熵。具有最高ID3增益的特征或属性被用作分割的根。</p><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="no np l"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">资料来源:Giphy</figcaption></figure><p id="7770" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我知道ASM技术在上面的上下文中没有解释清楚<br/>让我用一个例子来解释整个过程。</p><h1 id="cbb8" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">是时候举实际例子了</h1><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nq np l"/></div></figure><h1 id="ea91" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">问题陈述:</h1><p id="faf6" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">根据给定数据预测贷款资格流程。</p><p id="3b6b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">以上问题陈述摘自Analytics Vidhya Hackathon。</p><p id="e754" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">您可以在<a class="ae nd" href="https://datahack.analyticsvidhya.com/contest/practice-problem-loan-prediction-iii/#ProblemStatement" rel="noopener ugc nofollow" target="_blank"> Analytics Vidhya </a>上找到数据集以及关于数据集中变量的更多信息。</p><p id="484e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><em class="nm">我选择分类问题的原因是，我们可以在训练后可视化决策树，而这在回归模型中是不可能的。</em></p><h1 id="452b" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">第一步:加载数据并完成清理过程</h1><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/162494d24312ca70a5b9f6a38f6dc1da.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/0*-3-ctfe4IM-39Fqq.png"/></div></figure><p id="3540" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这里有两种可能的方法，要么用某个值填充空值，要么删除所有丢失的值(我删除了所有丢失的值)。</p><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><p id="2895" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在，如果您查看原始数据集的形状，它是(614，13)，删除空值后的新数据集是(480，13)。</p><h1 id="131f" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">第二步:看一看数据集</h1><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nt np l"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">资料来源:Giphy</figcaption></figure><p id="1149" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们发现数据集中有许多分类值。</p><h1 id="be68" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">注意:决策树不支持分类数据作为特征。</h1><p id="73f5" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">因此，此时采取的最佳步骤是，您可以使用标签编码和一个热标签编码等功能工程技术。</p><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><h1 id="209e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">步骤3:将数据集分成训练集和测试集</h1><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><p id="22ea" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kn ja">为什么要在训练一个机器学习算法之前拆分数据？</strong></p><p id="0437" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">关于详细的推理，请访问<a class="ae nd" href="https://medium.com/@snji.khjuria/everything-you-need-to-know-about-train-dev-test-split-what-how-and-why-6ca17ea6f35" rel="noopener"> Sanjeev关于训练、开发、测试和数据分割的文章</a>。</p><h1 id="8cfc" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">第4步:建立模型并适应训练集</h1><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><h1 id="0491" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">在我们可视化树之前，让我们做一些计算，并使用熵找出根节点。</h1><h1 id="2f1c" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">计算1:求总数据集的熵</h1><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="ab gu cl nu"><img src="../Images/a24ca903d47d86f8368bc23d5962584c.png" data-original-src="https://miro.medium.com/v2/format:webp/0*iEYUSmQpG3JdnHzM.png"/></div></figure><p id="304c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">p =阳性病例数(接受贷款状态)</p><p id="73be" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">n =否定案例数(Loan_Status not accepted)</p><p id="ff21" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在我们的数据集中</p><p id="1e82" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">p = 332，n=148，p+n=480</p><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/f94e64d0791f1d5ab5ca86a97ef9a419.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/0*JMdlU2mendJsjPDE.png"/></div></figure><p id="a5d6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这里的对数以2为基数</p><p id="2ca7" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">熵= E(s) = 0.89</p><h1 id="3b33" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">计算2:现在找出每一列的熵和增益</h1><h1 id="62ca" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">1)性别栏</h1><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nw"><img src="../Images/e5b1809a5800f83fc78b2ea1a64acbd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*MNNZ_2_ar7qZWg_P.jpg"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:<a class="ae nd" href="https://www.dictionary.com/e/gender-vs-sex/" rel="noopener ugc nofollow" target="_blank">Dictionary.com</a></figcaption></figure><p id="f245" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这里面有两种类型男性(1)和女性(0)</p><h2 id="89cc" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件1:男性</h2><p id="77d7" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">所有男性的数据都在里面，</p><p id="f238" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">p = 278，n=116，p+n=489</p><p id="7ae8" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">熵(G =男性)= 0.87</p><h2 id="1c54" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件二:女性</h2><p id="178d" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">所有女性的数据都在里面，</p><p id="8323" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">p = 54，n = 32，p+n = 86</p><p id="66a9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">熵(G =女性)= 0.95</p><h2 id="6e1f" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">性别栏中的平均信息是</h2><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oi"><img src="../Images/639fd96f383eb3c223f7dd3832c495a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iqh79gPraxvz-TFN.png"/></div></div></figure><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/b51221ce4dad7c89d9c98168568640bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:60/0*BasqfrFIf98kq9eh"/></div></figure><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ok"><img src="../Images/0c7b3de43079231d84a09228076b1fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ETp_tmQY_jm8qB0I.png"/></div></div></figure><h2 id="643b" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">获得</h2><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ol"><img src="../Images/bcb725f1f9c808ad609ed79e8c43546b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xDCyd_1ffDcO7PBT.png"/></div></div></figure><p id="f281" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益(性别)= E(s) — I(性别)</p><p id="2a47" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益= 0.89–0.88</p><p id="4538" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益= 0.001</p><h1 id="4488" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">2)已婚一栏</h1><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nw"><img src="../Images/d445cc0c00a7972c0bb668d90f271348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Q776C_N4KglXXGdo"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:Unsplash | Sandy Millar</figcaption></figure><p id="e696" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这一列中，我们有“是”和“否”值</p><h2 id="d987" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件1:已婚=是(1)</h2><p id="6f66" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">在此拆分中，整个数据集的已婚状态为是</p><p id="fbb2" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">p = 227，n = 84，p+n = 311</p><p id="b134" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(已婚=是)= 0.84</p><h2 id="6a02" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件2:已婚=否(0)</h2><p id="097e" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">在这种分割中，具有已婚状态no</p><p id="3d59" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">p = 105，n = 64，p+n = 169</p><p id="9f1a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(已婚=否)= 0.957</p><h2 id="1ea1" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">已婚一栏的平均信息是</h2><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi om"><img src="../Images/e54c05fd28a75055230d502dffcaf4e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:984/format:webp/0*6WHnYevN7y02wF5L.png"/></div></figure><p id="3cd3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益= 0.89–0.88 = 0.001</p><h1 id="8168" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">3)教育专栏</h1><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi on"><img src="../Images/2b30de83f778a33404b71f79f9e24254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*6NvahrvWhYDGl3Y6.png"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:<a class="ae nd" href="https://www.iconfinder.com/icons/4509502/cap_college_degree_graduate_cap_graduation_hat_student_icon" rel="noopener ugc nofollow" target="_blank">图标查找器</a></figcaption></figure><p id="77c2" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这个专栏中，我们有毕业生和非毕业生的价值观。</p><h2 id="405c" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件1:学历=毕业(1)</h2><p id="7f70" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">p = 271，n = 112，p+n = 383</p><p id="477d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(学历=毕业)= 0.87</p><h2 id="b6e9" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件二:学历=未毕业(0)</h2><p id="b575" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">p = 61，n = 36，p+n = 97</p><p id="eecc" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(学历=未毕业)= 0.95</p><p id="bee6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">教育栏的平均信息= 0.886</p><p id="1602" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益= 0.01</p><h1 id="504e" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">4)个体户栏</h1><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oo"><img src="../Images/2920fa261c177ba4c6cbaaade563c4ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZQNUEN_kwxgA_kw2"/></div></div></figure><p id="fb16" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这一列中，我们有“是”或“否”值</p><h2 id="db03" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件1:自雇=是(1)</h2><p id="d5a6" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">p = 43，n = 23，p+n = 66</p><p id="afa2" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(自营职业=是)= 0.93</p><h2 id="fb78" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件2:自雇=否(0)</h2><p id="85e9" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">p = 289，n = 125，p+n = 414</p><p id="d2bf" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(自营职业=否)= 0.88</p><p id="2f5b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">“教育中的自雇者”栏中的平均信息= 0.886</p><p id="f4d0" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益= 0.01</p><h1 id="ae14" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">5)信用评分栏</h1><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi op"><img src="../Images/03aa86b6bc849ffc3e648f6873d532ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/0*dIcpOWn2HHS252Gn.jpg"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">来源:<a class="ae nd" href="https://www.facebook.com/credit.repair.bureau.usa/posts/" rel="noopener ugc nofollow" target="_blank">脸书</a></figcaption></figure><p id="ea81" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这一列中，我们有1和0值</p><h2 id="6b5f" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件1:信用评分= 1</h2><p id="f26b" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">p = 325，n = 85，p+n = 410</p><p id="2507" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(信用评分= 1) = 0.73</p><h2 id="f02b" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">条件2:信用评分= 0</h2><p id="5259" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">p = 63，n = 7，p+n = 70</p><p id="4daa" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">e(信用评分= 0) = 0.46</p><p id="d4c6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">信用评分栏中的平均信息= 0.69</p><p id="e73f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">增益= 0.2</p><h2 id="f1d3" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">比较所有增益值</h2><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/6e48083beb31b2aabdcb58e36ee4112f.png" data-original-src="https://miro.medium.com/v2/resize:fit:572/format:webp/0*f2MyHJDrVbYWMQqw.png"/></div></figure><p id="433f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">信用分数具有最高增益，因此将在根节点中使用</p><p id="7783" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在我们用模型的决策树来验证一下。</p><h2 id="5932" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">步骤4:可视化决策树</h2><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi or"><img src="../Images/e5fb4e00099b8373b561d43fe6c5ee72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*sE2yI-WvzJKNhdme.png"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">标准=基尼的决策树</figcaption></figure><figure class="lk ll lm ln gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi os"><img src="../Images/5a641489c831d89136d04ad5680f49d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tEcVcX2zMXEtnC5j.png"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">标准=熵的决策树</figcaption></figure><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="ot np l"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">资料来源:Giphy</figcaption></figure><p id="d026" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">嗯，好像我们计算对了！</p><p id="f615" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">因此，重复相同的过程，直到没有进一步分裂的可能性。</p><h2 id="3a5a" class="nx lp iq bd lq ny nz dn lu oa ob dp ly kw oc od mc la oe of mg le og oh mk iw bi translated">第五步:检查模型的分数</h2><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="nr np l"/></div></figure><p id="c1a5" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们几乎达到了80%的准确率。对于这种类型的问题陈述来说，这是一个不错的分数。</p><h1 id="e2bd" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">让我们回到关于决策树的理论信息</h1><figure class="lk ll lm ln gt ka"><div class="bz fp l di"><div class="ot np l"/></div></figure><h1 id="5497" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">创建决策树时所做的假设:</h1><ul class=""><li id="a642" class="mm mn iq kn b ko mo ks mp kw mq la mr le ms li ou mu mv mw bi translated">在开始训练时，整个数据集被认为是根。</li><li id="4e90" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">输入值最好是分类的。</li><li id="1d14" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">记录是基于属性值分布的。</li><li id="043d" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">基于统计结果，属性被放置为树的根节点。</li></ul><h1 id="26e1" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">优化树的性能</h1><ul class=""><li id="9867" class="mm mn iq kn b ko mo ks mp kw mq la mr le ms li ou mu mv mw bi translated"><strong class="kn ja"> max_depth: </strong>这里定义了树的最大深度。</li><li id="c19b" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated"><strong class="kn ja">判据:</strong>该参数以判据方法为值。默认值是基尼。</li><li id="7ae3" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated"><strong class="kn ja">拆分器</strong>:该参数允许我们选择拆分策略。最佳和随机是可用的拆分类型。默认值是最佳值。</li></ul><blockquote class="ov"><p id="8550" class="ow ox iq bd oy oz pa pb pc pd pe li dk translated">试着改变这些变量的值，你会发现模型的准确性有所改变。</p></blockquote><h1 id="9db5" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz pf mb mc md pg mf mg mh ph mj mk ml bi translated">如何避免过度拟合？</h1><p id="4cf1" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">使用随机的森林树木。</p><h1 id="7624" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">优势</h1><ul class=""><li id="7b04" class="mm mn iq kn b ko mo ks mp kw mq la mr le ms li ou mu mv mw bi translated">决策树很容易可视化。</li><li id="19d5" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">数据中的非线性模式很容易捕捉。</li><li id="3b23" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">它可用于预测缺失值，适用于特征工程技术。</li></ul><h1 id="a86f" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">不足之处</h1><ul class=""><li id="5e40" class="mm mn iq kn b ko mo ks mp kw mq la mr le ms li ou mu mv mw bi translated">数据的过度拟合是可能的。</li><li id="4084" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">输入数据的微小变化会导致不同的决策树。这可以通过使用特征工程技术来减少。</li><li id="2425" class="mm mn iq kn b ko mx ks my kw mz la na le nb li ou mu mv mw bi translated">在训练模型之前，我们必须平衡数据集。</li></ul><h1 id="6660" class="lo lp iq bd lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml bi translated">结论</h1><p id="f394" class="pw-post-body-paragraph kl km iq kn b ko mo kq kr ks mp ku kv kw nf ky kz la ng lc ld le nh lg lh li ij bi translated">希望大家对决策树都很清楚。我试图简单地解释它。掌声和跟随是值得赞赏的。</p><p id="2b7e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">敬请关注更多内容。</p></div></div>    
</body>
</html>