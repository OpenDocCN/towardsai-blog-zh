<html>
<head>
<title>GitHub API With Python &amp; PowerShell Scripting</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">带有Python和PowerShell脚本的GitHub API</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/github-api-with-python-powershell-scripting-47d39b5d32d1?source=collection_archive---------2-----------------------#2020-07-04">https://pub.towardsai.net/github-api-with-python-powershell-scripting-47d39b5d32d1?source=collection_archive---------2-----------------------#2020-07-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9020" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="b9be" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">使用GitHub API和Python以及PowerShell脚本来创建和管理存储库</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/ca2e8d35b9f5771cee22d25e18a7fa01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5zuSozoyM1NPEhMRvo8qiw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">使用Canva设计</figcaption></figure><p id="a76a" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja"> GitHub API </strong>是<strong class="lg ja"> GitHub </strong>为想要开发针对<strong class="lg ja"> GitHub </strong>的应用的开发者提供的接口。例如，您可以在<strong class="lg ja"> API </strong>之上构建一个具有更多功能或更好表示层的应用程序。</p><p id="7a54" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在本文中，我将向您展示如何使用GitHub API开发一个很酷的python应用程序来创建和管理GitHub存储库。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ma"><img src="../Images/bc0affd96a735e9ba287acc01f2424dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Gv8PUwORj0tOi_McxTN96w.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">一个简单的Python应用程序(作者提供图片)</figcaption></figure><p id="99b2" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">要创建GUI，我们可以使用python Tkinter模块。让我们使用下面的命令来测试我们的API设置。所有数据都以JSON的形式发送和接收。</p><pre class="kp kq kr ks gt mb mc md me aw mf bi"><span id="bfcc" class="mg mh iq mc b gy mi mj l mk ml">curl <a class="ae mm" href="https://api.github.com/zen" rel="noopener ugc nofollow" target="_blank">https://api.github.com/zen</a></span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mn"><img src="../Images/4c469b6df3ffc5e5ca71a5ab5e7a362b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VTHVGrhVb5Ia0aPAdpnJOw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">API回应(作者供图)</figcaption></figure><p id="c890" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">答案将是从GitHub的设计理念中随机选择的。</p><h2 id="6aa4" class="mg mh iq bd mo mp mq dn mr ms mt dp mu ln mv mw mx lr my mz na lv nb nc nd iw bi translated">创建新的存储库</h2><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ne"><img src="../Images/2df312c4f569656f277ccaaf4a1da240.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rzDCLOuep1LRtFoHDjK1dA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">创建新的存储库(作者图片)</figcaption></figure><p id="0042" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">为了创建一个新的存储库并将必要的文件推送到该存储库中，我们需要从用户那里获取必要的输入并验证它们。</p><ul class=""><li id="25b8" class="nf ng iq lg b lh li lk ll ln nh lr ni lv nj lz nk nl nm nn bi translated"><strong class="lg ja"> GitHub用户名验证</strong> —可以发现GitHub帐户是否存在给定的用户名。</li></ul><p id="928b" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们需要利用下面的端点。</p><pre class="kp kq kr ks gt mb mc md me aw mf bi"><span id="cafc" class="mg mh iq mc b gy mi mj l mk ml"><a class="ae mm" href="https://api.github.com/users/GitHub_Username" rel="noopener ugc nofollow" target="_blank">https://api.github.com/users/GitHub_Username</a></span></pre><p id="8060" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果用户存在，则返回状态代码“200”。我们可以看到如下所示的输出</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/e2ab2cdc1037b0bf1b6d88cab2140108.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VSLpUOBa0091EWJWAJ8CXQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">GitHub用户名API(作者供图)</figcaption></figure><p id="6257" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在，这可以用来构建一个函数来验证用户是否存在。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">GitHub用户名验证</figcaption></figure><p id="2cc9" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果用户名不存在，我们可以要求用户创建一个GitHub帐户。如果存在，我们需要检查存储库是否存在。</p><ul class=""><li id="5bb4" class="nf ng iq lg b lh li lk ll ln nh lr ni lv nj lz nk nl nm nn bi translated"><strong class="lg ja">检查仓库是否存在</strong></li></ul><p id="b4e8" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">以下端点将以JSON格式返回给定用户名的存储库列表。</p><pre class="kp kq kr ks gt mb mc md me aw mf bi"><span id="7821" class="mg mh iq mc b gy mi mj l mk ml">curl <a class="ae mm" href="https://api.github.com/users/GitHub_UserName/repos" rel="noopener ugc nofollow" target="_blank">https://api.github.com/users/GitHub_UserName/repos</a></span></pre><p id="1624" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">回应会是这样的</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nr"><img src="../Images/2178c65eb65dfa139ec64a98701db83f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDlTkKWnGLcMPxZmgDUxOg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">GitHub Repo的回应(作者提供图片)</figcaption></figure><p id="b38b" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">要创建新的存储库，我们需要检查用户输入的存储库名称是否不存在。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">检查存储库是否存在</figcaption></figure><p id="b346" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果响应没有返回状态码“200 ”,则表明该GitHub帐户的公共存储库不存在。所以我们可以创建一个存储库了。</p><ul class=""><li id="311d" class="nf ng iq lg b lh li lk ll ln nh lr ni lv nj lz nk nl nm nn bi translated"><strong class="lg ja">说明</strong> —这是一个可选参数。我们可以通过API向GitHub存储库添加描述。</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/94d5ab9828f0f4e31731cc48b924cfa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7tN90G_IXXKIw2ydQNWrKg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">GitHub回购描述(作者照片)</figcaption></figure><ul class=""><li id="c41f" class="nf ng iq lg b lh li lk ll ln nh lr ni lv nj lz nk nl nm nn bi translated"><strong class="lg ja">存储库路径— </strong>要将文件推(上传)到存储库，我们可以向用户询问目录的路径。它可以是一个可选参数，默认情况下我们可以取当前目录的路径</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/cca52df177e3dc65bd7894dbc8ea39c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*RHNBSuqcARvX96d5yYXXrg.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">回购路径(作者供图)</figcaption></figure><p id="271e" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在，我们已经获得了创建新存储库并将文件推送到其中所需的所有变量。要创建GitHub repo，我们可以使用下面的命令</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">创建GitHub repo的命令</figcaption></figure><p id="9ddb" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">一旦创建了存储库，就需要上传给定路径中的文件。为了实现这一功能，我们可以利用PowerShell脚本。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">用于创建新存储库的PowerShell脚本</figcaption></figure><p id="ed12" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">现在我们可以用python执行脚本，如下所示，</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="np nq l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">使用Python执行PowerShell脚本</figcaption></figure><p id="a997" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">你可以在这里找到PowerShell脚本的完整代码。</p><p id="2784" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">让我们试一个例子，</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nu"><img src="../Images/4516d8e1bcaf259e67f38cc87a942583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TU8P-sZsdadHdef0bliyiA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">创建新的存储库(作者图片)</figcaption></figure><p id="66fc" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">提交详细信息后，我们需要输入GitHub帐户的密码。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nv"><img src="../Images/5e045af68b3b663187dac497e593da92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wD1_18QQBq_Swm4n8vIk0w.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">输入密码(作者照片)</figcaption></figure><p id="8b70" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">就这样，将为我们创建存储库，并上传所有需要的文件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nw"><img src="../Images/a4bda55cd4775be1d2c69eb169e0e355.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oUQARsvNq89EZr-3eQaqgg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">使用上传的文件创建存储库(作者提供照片)</figcaption></figure><p id="7d2c" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们也可以用下面的命令创建一个存储库，</p><pre class="kp kq kr ks gt mb mc md me aw mf bi"><span id="5672" class="mg mh iq mc b gy mi mj l mk ml">curl -u GitHub_UserName <a class="ae mm" href="https://api.github.com/user/repos" rel="noopener ugc nofollow" target="_blank">https://api.github.com/user/repos</a> -d "{\"name\":\"Test-Repo\",\"description\":\"A Sample Description\"}"</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nx"><img src="../Images/6952ee89582681088c57720b2628d38f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qagdcmLWIEzPRD2bxk7KIQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">创建一个GitHub存储库(图片由作者提供)</figcaption></figure><p id="f77b" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们也可以在我们的web或android应用程序中使用GitHub APIs。可以将各种参数传递给根端点，以获得当前应用程序所需的特定响应。你可以在这里找到更多关于<a class="ae mm" href="https://developer.github.com/v3/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><p id="44d3" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><em class="ny">点击</em> <a class="ae mm" href="https://bit.ly/GitLearn-download" rel="noopener ugc nofollow" target="_blank"> <em class="ny">下载整个python应用程序。</em>T9】</a></p><p id="c4d2" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><em class="ny">完整代码可以在GitHub </em> <a class="ae mm" href="https://github.com/RitheeshBaradwaj/GitLearn" rel="noopener ugc nofollow" target="_blank"> <em class="ny">这里</em> </a> <em class="ny">找到。</em></p><h2 id="36ba" class="mg mh iq bd mo mp mq dn mr ms mt dp mu ln mv mw mx lr my mz na lv nb nc nd iw bi translated">结论</h2><p id="fd41" class="pw-post-body-paragraph le lf iq lg b lh nz ka lj lk oa kd lm ln ob lp lq lr oc lt lu lv od lx ly lz ij bi translated">我们已经看到了如何在我们的应用程序中使用GitHub API来创建和管理存储库。我会带着更多有趣的话题很快再见到你。在那之前，注意安全，呆在家里。</p><p id="54ec" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果你想联系，请在<a class="ae mm" href="https://www.linkedin.com/in/ritheesh-baradwaj-yellenki-8a6988173/" rel="noopener ugc nofollow" target="_blank"><strong class="lg ja">LinkedIn</strong></a><strong class="lg ja">上<strong class="lg ja">联系我。</strong></strong></p></div></div>    
</body>
</html>