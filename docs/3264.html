<html>
<head>
<title>Yes, We Need Statistical Significance Testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是的，我们需要统计显著性检验</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/yes-we-need-statistical-significance-testing-927a8d21f9f0?source=collection_archive---------0-----------------------#2022-10-27">https://pub.towardsai.net/yes-we-need-statistical-significance-testing-927a8d21f9f0?source=collection_archive---------0-----------------------#2022-10-27</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="d4c3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">经验法则可能会产生正确的结果，但在科学上是不可信的。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/38af62ec3460becd05c0b03bb9eaf8d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9efJkOEjJKwAgHG37Yqubw.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者插图。</figcaption></figure><p id="db4f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">拿任何介绍人工智能新方法的研究论文或博客帖子来说，你很可能会发现类似这样的陈述:</p><blockquote class="lu"><p id="ef28" class="lv lw it bd lx ly lz ma mb mc md lt dk translated">与以前的工作相比，这是一个重大的进步。</p></blockquote><p id="50da" class="pw-post-body-paragraph ky kz it la b lb mf ju ld le mg jx lg lh mh lj lk ll mi ln lo lp mj lr ls lt im bi translated">如果这是一种应用于语言生成任务的方法(自动摘要、释义、机器翻译、对话式人工智能……)，那么“改进”几乎总是一些评估指标分数的增加。例如，它可以是蓝色、红色、蓝色或红色。</p><p id="4ab3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mk">但是这些改进真的意义重大吗？我们真的比以前的工作有进步吗？不仅仅是运气吗？</em></p><p id="7a4a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了回答这些问题，我们可以进行统计显著性检验。统计显著性测试是一个标准的统计工具，旨在确保实验结果不是<strong class="la iu">巧合</strong>。在自然语言处理(NLP)，甚至一般的人工智能中，这通常意味着检查一个被提议的系统A是否比一个基线系统b好<strong class="la iu">。</strong></p><div class="ml mm gp gr mn mo"><a href="https://towardsdatascience.com/the-most-common-misinterpretations-hypothesis-testing-confidence-interval-p-value-4548a10a5b72" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">最常见的误解:假设检验，置信区间，P值</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">如何正确解释统计推断的再认识</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc ks mo"/></div></div></a></div><p id="a9ed" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">统计学显著性测试在科学中的有用性经常被争论(例如，参见:<a class="ae nd" href="https://www.tandfonline.com/doi/full/10.1080/00031305.2019.1583913" rel="noopener ugc nofollow" target="_blank"> Wasserstein等人(2019) </a>)。尽管如此，在NLP中，有证据表明它有助于在系统之间做出更可信的声明和更有见地的比较(例如，参见:<a class="ae nd" href="https://aclanthology.org/W04-3250.pdf" rel="noopener ugc nofollow" target="_blank"> Koehn (2004) </a>、<a class="ae nd" href="https://aclanthology.org/W05-0908.pdf" rel="noopener ugc nofollow" target="_blank"> Riezler和Maxwell (2005) </a>、<a class="ae nd" href="https://aclanthology.org/P18-1128/" rel="noopener ugc nofollow" target="_blank"> Dror等人(2018) </a>、<a class="ae nd" href="https://aclanthology.org/2021.wmt-1.57.pdf" rel="noopener ugc nofollow" target="_blank"> Kocmi等人(2021) </a>)。</p><p id="a638" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">首先，让我们看看在统计显著性测试的支持下，NLP研究中的声明有多频繁。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="38d4" class="nl nm it bd nn no np nq nr ns nt nu nv jz nw ka nx kc ny kd nz kf oa kg ob oc bi translated">统计显著性检验的衰落</h1><p id="4bfa" class="pw-post-body-paragraph ky kz it la b lb od ju ld le oe jx lg lh of lj lk ll og ln lo lp oh lr ls lt im bi translated"><a class="ae nd" href="https://aclanthology.org/P18-1128/" rel="noopener ugc nofollow" target="_blank"> Dror等人(2018) </a>的工作是关于在NLP中使用统计显著性测试的最新和被引用的研究之一。他们的一个主要观察结果是NLP研究人员非常强调经验结果，并从中得出结论，而不检查它们的统计意义。在分析了ACL和TACL 2017年发表的213篇论文的样本后，他们发现其中只有36.6% (78篇论文)的人声称他们进行了统计显著性检验，这意味着63.4%的人没有检查他们的观察结果是否一致。</p><p id="199f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我将这一分析延伸到过去12年，重点关注在ACL组织的会议上发表的机器翻译研究(我的专业领域)论文。总共，我手动<a class="ae nd" href="https://docs.google.com/spreadsheets/d/1l9OL1HbUfZ6woawTAapqe-ASEn2DWw8FB64o1NO-K_U/edit?usp=sharing" rel="noopener ugc nofollow" target="_blank">注释了913篇论文</a>。在所有带注释的论文中，作者使用一些自动评估指标(如BLEU)来比较机器翻译系统。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oi"><img src="../Images/29f061a4b309505b07820740a7791036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WThfKwBRuDb0pNBp"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者插图。</figcaption></figure><p id="867e" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们清楚地看到，在机器翻译中，统计显著性测试的使用在10多年前达到高峰，在2011年，然后下降，直到2018年，最后似乎慢慢反弹。去年，只有41%的出版物进行了统计显著性测试。</p><p id="153c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="mk">如果大多数机器翻译的研究都没有进行统计显著性测试，他们怎么能声称比以前的工作有重大改进呢？</em></p><p id="01f5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">简单地基于经验法则，即<em class="mk"> X </em> BLEU改善点总是显著的，其中X通常是大于0.5的值。</p><p id="7529" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了评估我们是否可以根据经验法则“猜测”一个系统明显优于另一个系统，我对机器翻译中的统计显著性测试进行了第一次大规模的实证研究。</p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><h1 id="77ca" class="nl nm it bd nn no np nq nr ns nt nu nv jz nw ka nx kc ny kd nz kf oa kg ob oc bi translated">统计显著性检验的实证研究</h1><p id="a7e2" class="pw-post-body-paragraph ky kz it la b lb od ju ld le oe jx lg lh of lj lk ll og ln lo lp oh lr ls lt im bi translated">以下实验的目的是根据经验评估两个系统之间在BLEU方面的差异何时显著。我将特别检查0.5 BLEU点或以上的改善是否可以被认为是显著的，正如现在研究论文中普遍假设的那样。</p><p id="064d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">由于我希望我的观察尽可能地通用和可复制，我选择对提交给<a class="ae nd" href="https://github.com/wmt-conference/wmt21-news-systems/tree/main/txt" rel="noopener ugc nofollow" target="_blank"> WMT21 </a>和<a class="ae nd" href="https://github.com/wmt-conference/wmt22-news-systems/tree/main/txt" rel="noopener ugc nofollow" target="_blank"> WMT22 </a>主翻译任务的所有翻译输出进行实验。这些任务共收到486份提交材料。它产生了2，706个可能的系统对，我们可以测试其差异的统计显著性。</p><p id="b555" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我使用<a class="ae nd" href="https://github.com/mjpost/sacrebleu" rel="noopener ugc nofollow" target="_blank"> SacreBLEU </a>和默认参数，通过<a class="ae nd" href="https://aclanthology.org/W04-3250.pdf" rel="noopener ugc nofollow" target="_blank">成对自助重采样</a>和<a class="ae nd" href="https://aclanthology.org/W05-0908.pdf" rel="noopener ugc nofollow" target="_blank">近似随机化</a>进行显著性测试。</p><p id="7c26" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">下图给出了每个系统对的每个BLEU得分差异的p值。p值越低，差异越显著。请注意，此处并未列出所有系统对。为了提高可读性，我放大了图表，只显示感兴趣的区域。虚线表示讨论的有趣阈值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/4e730615a28cf47ed663250291b5c322.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Hf5Uqb1-w-ROavkC"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">针对每个系统对的BLEU差异，使用成对bootstrap重采样计算p值。<em class="me">注意:使用成对引导重采样，SacreBLEU对p值执行0附近的奇数近似。这就是为什么没有任何p值为0.0的delta BLEU。</em> —作者插图。</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/e113a927705f4be8a0b146e0d35d1340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xZmfsG56gipQ0ufd"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">对每个系统对的BLEU差异进行近似随机化计算的p值。—作者的插图。</figcaption></figure><p id="d7fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在NLP中，p值的常用阈值用于决定改善是否显著:0.001、0.01和0.05。作者任意决定阈值，在该阈值下他们将认为他们的结果具有统计学意义。对于这些阈值中的每一个，我们可以进行以下观察:</p><ul class=""><li id="d5b0" class="ok ol it la b lb lc le lf lh om ll on lp oo lt op oq or os bi translated"><strong class="la iu"> p值&lt; 0.001 </strong>:高于2.7的BLEU在WMT21/22时总是显著的。只有几个点在2.0以上不重要。这些观察结果类似于两种类型的统计显著性检验。在p值的这个阈值处，根据成对自助重采样和近似随机化，1.0和2.0之间的35.0%和36.1%的BLEU分别不显著。<strong class="la iu">为了宣称p值&lt; 0.001的显著改善，对于低于2.0 BLEU点的差异，似乎有必要进行统计显著性检验。</strong></li><li id="4d41" class="ok ol it la b lb ot le ou lh ov ll ow lp ox lt op oq or os bi translated"><strong class="la iu"> p值&lt; 0.01 </strong>:除了成对bootstrap重采样的3个点，高于1.5的delta BLEU是显著的。在p值的这个阈值处，根据成对的bootstrap重采样和近似随机化，1.0和1.5之间的10.0%和13.9%的BLEU分别被认为是不显著的。<strong class="la iu">为了声称p值&lt;为0.01的显著改善，对于低于1.5 BLEU点的差异，似乎有必要进行统计显著性检验。</strong></li><li id="a99f" class="ok ol it la b lb ot le ou lh ov ll ow lp ox lt op oq or os bi translated"><strong class="la iu"> p值&lt;0.05</strong>:wmt 21/22除2点近似随机化外，BLEU高于1.0有显著性。在p值的这个阈值，根据成对的bootstrap重采样和近似随机化，分别有20.4%和42.0%的BLEU在0.5和1.0之间被认为是不显著的。<strong class="la iu">为了宣称p值&lt; 0.05的显著改善，对于低于1.0 BLEU点的差异，似乎有必要进行统计显著性检验。</strong></li></ul><p id="4e76" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">换句话说，似乎有一些明确的阈值，我们可以用它们来宣称显著的差异，甚至不需要进行统计显著性检验。要声称比以前在BLEU中的工作有显著改进，差异应该大于1.0 BLEU点。如果我们假设“非常显著”是“p值&lt; 0.001,” then the improvement should be 2.0 BLEU points or greater.</p><p id="ba39" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Of course, this is just an empirical experiment, and there will be rare situations where these thresholds lead to wrong conclusions. I could extend these experiments to all WMT and WAT campaigns to get many more points, but I think for the purpose of this article, this is already convincing enough.</p><p id="0c7a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">All of these observations are useful, but only if we are very happy with BLEU and want to continue to use it in AI research papers… Given its poor correlation with humans, we may want to use other metrics.</p><h2 id="4a68" class="oy nm it bd nn oz pa dn nr pb pc dp nv lh pd pe nx ll pf pg nz lp ph pi ob pj bi translated">But what happens if we change the metric?</h2><p id="55f4" class="pw-post-body-paragraph ky kz it la b lb od ju ld le oe jx lg lh of lj lk ll og ln lo lp oh lr ls lt im bi translated">For instance, since 1.0 BLEU points difference appears significant, does it mean that a 1.0 points difference with another metric is also significant?</p><p id="3ed5" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">Obviously, no. But let’s draw another chart to check it, this time using COMET, a state-of-the-art metric for machine translation. The same WMT21/22 systems are considered, but only with paired bootstrap resampling. <em class="mk">注:我用</em><a class="ae nd" href="https://github.com/Unbabel/COMET" rel="noopener ugc nofollow" target="_blank"><em class="mk">comet-compare</em></a><em class="mk">用COMET进行统计显著性检验，用的模型是wmt20-comet-da。</em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/fb5ea3495bd4935a6e759d8da637c39f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T_0_mo7t6092OpjF"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">针对每个系统对的彗星差异，使用成对bootstrap重采样计算p值。—作者的插图。</figcaption></figure><p id="c96d" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们在这里清楚地看到，1.0彗星点的改善往往是微不足道的。即使是4.0彗星点的差异可能也不显著。COMET分数不在0到100之间。WMT21/22系统可以到达数百个绝对彗星点。这将根据所使用的彗星模型而有很大的不同。wmt21-comet-da模型通常给系统的分数低于10，例如，用wmt20-comet-da模型可以得到100个彗星点。在我以前的一篇文章中，我更广泛地讨论了COMET的这个特性。</p><div class="ml mm gp gr mn mo"><a href="https://towardsdatascience.com/a-large-scale-automatic-evaluation-of-machine-translation-b700df93d4c0" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">机器翻译的大规模自动评估</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">在WMT22的21个翻译方向上评估了185个系统</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">towardsdatascience.com</p></div></div><div class="mx l"><div class="pk l mz na nb mx nc ks mo"/></div></div></a></div><p id="b159" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">这些观察表明，我们不应该对这两个系统之间的差异的重要性做任何假设。我们不能只是猜测两个系统之间的差异是否显著，尤其是在新的指标下。</p><p id="e309" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我们应该始终应用统计显著性检验。目前，大多数研究论文没有。</p><h1 id="3f35" class="nl nm it bd nn no pl nq nr ns pm nu nv jz pn ka nx kc po kd nz kf pp kg ob oc bi translated">那么，为什么大多数研究论文不做统计显著性检验呢？</h1><p id="f44e" class="pw-post-body-paragraph ky kz it la b lb od ju ld le oe jx lg lh of lj lk ll og ln lo lp oh lr ls lt im bi translated">由于多种原因，统计显著性检验在NLP研究中没有被广泛使用。以下是其中的一些。</p><p id="5819" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">它通常被认为是无用的，假设对于一些任务，例如机器翻译，一个改进总是被发现在统计上是显著的。从经验上来说，我们在前面的章节中看到，这只适用于某些阈值，而这些阈值是不可推广的。</p><p id="1f03" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目前，在NLP中，两个指标得分之间的“大”差异足以在顶级会议和期刊上发表。所以，如果我们在以前的工作上取得了X点的进步，如果没有人要求的话，我们为什么要试图证明它在统计学上不显著呢？如果NLP研究不那么关注积极的结果，这就不是问题了。如果论文的其余部分对研究团体来说是正确的和有见地的，那么具有高p值的实证结果应该被接受。</p><p id="d160" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">最后，在许多论文中，统计显著性检验在技术上无法进行。人工智能研究的一个常见趋势是简单地复制以前发表的论文的分数。在这种情况下，没有所有被比较系统的输出，统计显著性测试是不可能的。这是我反对复制和比较以前发表的分数的众多原因之一。实现统计显著性测试需要更好的评估实践<em class="mk">。</em></p><div class="ml mm gp gr mn mo"><a href="https://medium.com/@bnjmn_marie/comparing-the-uncomparable-to-claim-the-state-of-the-art-a-concerning-trend-3d864522a0ba" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd iu gy z fp mt fr fs mu fu fw is bi translated">比较不可比较的事物来宣称最先进的状态:一个值得关注的趋势</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">发现GPT-3、PaLM和AlexaTM中的评估错误和投机性索赔。</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="pq l mz na nb mx nc ks mo"/></div></div></a></div><p id="3840" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">为了与这篇文章形成对比，我邀请你阅读Mathias Müller 在<a class="ae nd" href="https://bricksdont.github.io/posts/2020/12/statistical-significance-testing/" rel="noopener ugc nofollow" target="_blank">发表的这篇博客文章中的一些观点。</a></p></div><div class="ab cl ne nf hx ng" role="separator"><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj nk"/><span class="nh bw bk ni nj"/></div><div class="im in io ip iq"><p id="5663" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">如果你想支持这项工作，<a class="ae nd" href="https://medium.com/@bnjmn_marie" rel="noopener">请在Medium </a>上跟随我。</p></div></div>    
</body>
</html>