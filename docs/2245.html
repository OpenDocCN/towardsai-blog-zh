<html>
<head>
<title>3 Ways to Render Pandas DataFrames</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">呈现熊猫数据帧的3种方法</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/3-ways-to-render-pandas-dataframes-88ecf4a5ad7f?source=collection_archive---------0-----------------------#2021-10-13">https://pub.towardsai.net/3-ways-to-render-pandas-dataframes-88ecf4a5ad7f?source=collection_archive---------0-----------------------#2021-10-13</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="486b" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="ef9f" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">即时文档实用指南</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/1738f705a66d6bd52fd2981ca9f56fcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CvOJVRajvZBcp3-0rXHwcw.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@thoughtcatalog?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">思想目录</a>在<a class="ae le" href="https://unsplash.com/s/photos/read?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="9675" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">系统读取文件，而人类读取文档。我们记录的故事越多，协作分析就越多。</p><p id="98c7" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi mb translated">数据框架是分析的关键结构。在解决问题的过程中，他们掌握着在几个阶段支持关键决策的关键数据。通常，决策涉及多个利益相关方，他们需要查看这些数据框中保存的数据。</p><p id="0a42" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">作为一名优秀的数据科学家和程序员，我们不应该用调试环境的屏幕来轰炸决策面板。相反，我们应该以更直观的方式呈现关键数据，以便人们查看和理解。</p><blockquote class="mk"><p id="e977" class="ml mm iq bd mn mo mp mq mr ms mt ma dk translated">这篇文章是写给有经验的数据科学家的，他们更喜欢把他们的分析解释成商业故事，而不是一连串的术语。</p></blockquote><p id="b8c3" class="pw-post-body-paragraph lf lg iq lh b li mu ka lk ll mv kd ln lo mw lq lr ls mx lu lv lw my ly lz ma ij bi translated">在构建应用程序的人机界面时，呈现与构建系统界面时的序列化一样重要。Pandas Dataframe支持以下三种最流行的在线和离线文档语言。</p><ul class=""><li id="d1fd" class="mz na iq lh b li lj ll lm lo nb ls nc lw nd ma ne nf ng nh bi translated">超文本标记语言</li><li id="5511" class="mz na iq lh b li ni ll nj lo nk ls nl lw nm ma ne nf ng nh bi translated">乳胶和</li><li id="ee0b" class="mz na iq lh b li ni ll nj lo nk ls nl lw nm ma ne nf ng nh bi translated">降价</li></ul><p id="5059" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">决策制定小组可以查看转换到其本地文档环境的数据框值，而无需任何环境转换。</p><p id="f10b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">让我们来看一个例子，看看如何将数据框呈现为每种格式，以及输出在各自的文档查看器中是什么样子。</p><h2 id="1f00" class="nn no iq bd np nq nr dn ns nt nu dp nv lo nw nx ny ls nz oa ob lw oc od oe iw bi translated">初始化数据帧</h2><p id="fccb" class="pw-post-body-paragraph lf lg iq lh b li of ka lk ll og kd ln lo oh lq lr ls oi lu lv lw oj ly lz ma ij bi translated">导入熊猫并用示例值初始化数据框。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="fd0b" class="nn no iq ol b gy op oq l or os">import pandas as pd</span><span id="daf7" class="nn no iq ol b gy ot oq l or os">df = pd.DataFrame({<br/>"Manufacturer":['Subaru', 'Mitsubishi', 'Mitsubishi', 'Suzuki','Nissan'],<br/>"Model": ['Impreza','Lancer','Lancer','Ignis','Almera'],<br/>"Color": ['blue','silver','white','red','black'],<br/>"engine_capacity": [2,1.5,1.8,1.3,1.6],<br/>"price": [10950,6950,576,3800,7850]})</span></pre><p id="d81b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><em class="ou">【数据集引用:</em><a class="ae le" href="https://www.kaggle.com/lepchenkov/usedcarscatalog" rel="noopener ugc nofollow" target="_blank"><em class="ou">https://www.kaggle.com/lepchenkov/usedcarscatalog</em></a>】</p><h2 id="94c9" class="nn no iq bd np nq nr dn ns nt nu dp nv lo nw nx ny ls nz oa ob lw oc od oe iw bi translated">1.HTML呈现</h2><p id="3301" class="pw-post-body-paragraph lf lg iq lh b li of ka lk ll og kd ln lo oh lq lr ls oi lu lv lw oj ly lz ma ij bi translated">I)运行Dataframe的<em class="ou"> to_html() </em>方法。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="a420" class="nn no iq ol b gy op oq l or os">htmlCode = df.to_html()</span></pre><p id="6ae3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ii)该方法生成以下HTML代码</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="f462" class="nn no iq ol b gy op oq l or os">&lt;table border="1" class="dataframe"&gt;<br/>  &lt;thead&gt;<br/>    &lt;tr style="text-align: right;"&gt;<br/>      &lt;th&gt;&lt;/th&gt;<br/>      &lt;th&gt;Manufacturer&lt;/th&gt;<br/>      &lt;th&gt;Model&lt;/th&gt;<br/>      &lt;th&gt;Color&lt;/th&gt;<br/>      &lt;th&gt;engine_capacity&lt;/th&gt;<br/>      &lt;th&gt;price&lt;/th&gt;<br/>    &lt;/tr&gt;<br/>  &lt;/thead&gt;<br/>  &lt;tbody&gt;<br/>    &lt;tr&gt;<br/>      &lt;th&gt;0&lt;/th&gt;<br/>      &lt;td&gt;Subaru&lt;/td&gt;<br/>      &lt;td&gt;Impreza&lt;/td&gt;<br/>      &lt;td&gt;blue&lt;/td&gt;<br/>      &lt;td&gt;2.0&lt;/td&gt;<br/>      &lt;td&gt;10950&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;th&gt;1&lt;/th&gt;<br/>      &lt;td&gt;Mitsubishi&lt;/td&gt;<br/>      &lt;td&gt;Lancer&lt;/td&gt;<br/>      &lt;td&gt;silver&lt;/td&gt;<br/>      &lt;td&gt;1.5&lt;/td&gt;<br/>      &lt;td&gt;6950&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;th&gt;2&lt;/th&gt;<br/>      &lt;td&gt;Mitsubishi&lt;/td&gt;<br/>      &lt;td&gt;Lancer&lt;/td&gt;<br/>      &lt;td&gt;white&lt;/td&gt;<br/>      &lt;td&gt;1.8&lt;/td&gt;<br/>      &lt;td&gt;576&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;th&gt;3&lt;/th&gt;<br/>      &lt;td&gt;Suzuki&lt;/td&gt;<br/>      &lt;td&gt;Ignis&lt;/td&gt;<br/>      &lt;td&gt;red&lt;/td&gt;<br/>      &lt;td&gt;1.3&lt;/td&gt;<br/>      &lt;td&gt;3800&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>    &lt;tr&gt;<br/>      &lt;th&gt;4&lt;/th&gt;<br/>      &lt;td&gt;Nissan&lt;/td&gt;<br/>      &lt;td&gt;Almera&lt;/td&gt;<br/>      &lt;td&gt;black&lt;/td&gt;<br/>      &lt;td&gt;1.6&lt;/td&gt;<br/>      &lt;td&gt;7850&lt;/td&gt;<br/>    &lt;/tr&gt;<br/>  &lt;/tbody&gt;<br/>&lt;/table&gt;</span></pre><p id="cdc3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iii)将此输出写入文件。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="2026" class="nn no iq ol b gy op oq l or os">file = open("output/df.html","w")<br/>file.write(htmlCode)<br/>file.close()</span></pre><p id="58b1" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iv)在web浏览器中打开output/df.html文件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/f6a65cb177e78ea379713a57f9c3f357.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*VItG7ztX6fOI5Mo3UgsQuA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</figcaption></figure><p id="35b0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">v)为了让读者更直观，你可以进一步增加HTML表格的样式</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="d7de" class="nn no iq ol b gy op oq l or os">styler = df.style<br/>styler = styler.background_gradient()<br/>htmlCodeWithStyle = styler.to_html()</span></pre><p id="457d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">vi)它生成HTML代码以及样式信息。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="402d" class="nn no iq ol b gy op oq l or os">&lt;style type="text/css"&gt;<br/>#T_775bd_row0_col3, #T_775bd_row0_col4 {<br/>  background-color: #023858;<br/>  color: #f1f1f1;<br/>}<br/>....<br/>&lt;/style&gt;<br/>&lt;table id="T_775bd_"&gt;<br/>  &lt;thead&gt;<br/>    &lt;tr&gt;<br/>      &lt;th class="blank level0" &gt;&amp;nbsp;&lt;/th&gt;<br/>      &lt;th class="col_heading level0 col0" &gt;Manufacturer&lt;/th&gt;<br/>...<br/>    &lt;/tr&gt;<br/>  &lt;/thead&gt;<br/>  &lt;tbody&gt;<br/>...   <br/>  &lt;/tbody&gt;<br/>&lt;/table&gt;</span></pre><p id="70bc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">vii)将这段HTML代码写入另一个文件</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="1340" class="nn no iq ol b gy op oq l or os">file = open("output/df2.html","w")<br/>file.write(htmlCodeWithStyle)<br/>file.close()</span></pre><p id="2505" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">viii)您应该会在网络浏览器中看到下表</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/8a92a1ed48280eacd2850921091d5ddf.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*g4EmgwDKQncfRsewSDGdLA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</figcaption></figure><h2 id="18b3" class="nn no iq bd np nq nr dn ns nt nu dp nv lo nw nx ny ls nz oa ob lw oc od oe iw bi translated">2.乳胶渲染</h2><p id="1903" class="pw-post-body-paragraph lf lg iq lh b li of ka lk ll og kd ln lo oh lq lr ls oi lu lv lw oj ly lz ma ij bi translated">I)运行Dataframe的<em class="ou"> to_latex( </em>)方法。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="c2b0" class="nn no iq ol b gy op oq l or os">latexCode = df.to_latex()</span></pre><p id="bd49" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ii)它生成以下latex代码。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="4828" class="nn no iq ol b gy op oq l or os">\begin{tabular}{llllrr}<br/>\toprule<br/>{} &amp; Manufacturer &amp;    Model &amp;   Color &amp;  engine\_capacity &amp;  price \\<br/>\midrule<br/>0 &amp;       Subaru &amp;  Impreza &amp;    blue &amp;              2.0 &amp;  10950 \\<br/>1 &amp;   Mitsubishi &amp;   Lancer &amp;  silver &amp;              1.5 &amp;   6950 \\<br/>2 &amp;   Mitsubishi &amp;   Lancer &amp;   white &amp;              1.8 &amp;    576 \\<br/>3 &amp;       Suzuki &amp;    Ignis &amp;     red &amp;              1.3 &amp;   3800 \\<br/>4 &amp;       Nissan &amp;   Almera &amp;   black &amp;              1.6 &amp;   7850 \\<br/>\bottomrule<br/>\end{tabular}</span></pre><p id="654d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iii)将此输出写入latex文件</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="a497" class="nn no iq ol b gy op oq l or os">file = open("output/df.tex","w")<br/>file.write(latexCode)<br/>file.close()</span></pre><p id="acd3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iv)在LaTeX浏览器中打开<em class="ou"> df.tex </em>并查看输出图像。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ox"><img src="../Images/a1b3497330f483f4c3f70ff717e6cb8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mBFBvdSE7p_dbrdjzGYQjg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</figcaption></figure><p id="9bb8" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">如果你目前没有本地浏览器，你可以使用一些在线浏览器，比如https://quicklatex.com/的<a class="ae le" href="https://quicklatex.com/" rel="noopener ugc nofollow" target="_blank"/></p><h2 id="6820" class="nn no iq bd np nq nr dn ns nt nu dp nv lo nw nx ny ls nz oa ob lw oc od oe iw bi translated">3.降价渲染</h2><p id="10c4" class="pw-post-body-paragraph lf lg iq lh b li of ka lk ll og kd ln lo oh lq lr ls oi lu lv lw oj ly lz ma ij bi translated">I)运行DataFrame的<em class="ou"> to_markdown() </em>方法</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="650e" class="nn no iq ol b gy op oq l or os">mdCode = df.to_markdown()</span></pre><p id="6e83" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">ii)它生成以下降价代码</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="6c8c" class="nn no iq ol b gy op oq l or os">|    | Manufacturer   | Model   | Color   |   engine_capacity |   price |<br/>|---:|:---------------|:--------|:--------|------------------:|--------:|<br/>|  0 | Subaru         | Impreza | blue    |               2   |   10950 |<br/>|  1 | Mitsubishi     | Lancer  | silver  |               1.5 |    6950 |<br/>|  2 | Mitsubishi     | Lancer  | white   |               1.8 |     576 |<br/>|  3 | Suzuki         | Ignis   | red     |               1.3 |    3800 |<br/>|  4 | Nissan         | Almera  | black   |               1.6 |    7850 |</span></pre><p id="448f" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iii)将此代码写入一个md文件。</p><pre class="kp kq kr ks gt ok ol om on aw oo bi"><span id="5ed4" class="nn no iq ol b gy op oq l or os">file = open("output/df.md","w")<br/>file.write(mdCode)<br/>file.close()</span></pre><p id="6610" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">iv)在您最喜欢的浏览器中打开这个降价文件。我用的是Visual Studio代码。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oy"><img src="../Images/fe2493f939bc1cdfd2d1ba5afb5cbd3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*InXm1p3aJ9Yc1ACv9tzELA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者图片</figcaption></figure><h2 id="bf8e" class="nn no iq bd np nq nr dn ns nt nu dp nv lo nw nx ny ls nz oa ob lw oc od oe iw bi translated">结论</h2><p id="f718" class="pw-post-body-paragraph lf lg iq lh b li of ka lk ll og kd ln lo oh lq lr ls oi lu lv lw oj ly lz ma ij bi translated">数据框架对于支持与分析过程相关的关键决策至关重要。渲染对于使这些决策在利益相关者之间更加协作非常重要。Pandas DataFrame支持三种最流行的文档语言——HTML、LaTeX和Markdown。我们用一个例子做了一个渲染练习，涵盖了所有这些格式。就是这样！我们现在已经准备好向企业讲述关于我们的数据分析的即时、翔实和有趣的故事。我们结束了👏 👏。</p></div></div>    
</body>
</html>