<html>
<head>
<title>Analyzing Satellite Images for Disasters</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分析灾害卫星图像</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/deep-learning-a692669f6f42?source=collection_archive---------2-----------------------#2022-02-17">https://pub.towardsai.net/deep-learning-a692669f6f42?source=collection_archive---------2-----------------------#2022-02-17</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="c38a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning/deep-learning" rel="noopener ugc nofollow" target="_blank">深度学习</a></h2><div class=""/><p id="8ec9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">从预处理大型图像数据集到托管深度神经网络</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/b209c234976d65ba2ba40f5ddf833d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*Z56IatTVNDiUmks3Q5yLDA.gif"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">显示最终功能的Gif。详细视频<a class="ae lj" href="https://vimeo.com/673874500" rel="noopener ugc nofollow" target="_blank">这里</a></figcaption></figure><p id="5a8e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">项目概述:</strong>建立深度神经网络模型，可以分析卫星图像的灾难。(这是作为<a class="ae lj" href="https://devpost.com/software/disaster-analysis-on-satellite-images" rel="noopener ugc nofollow" target="_blank"> AWS灾难响应黑客马拉松</a>的一部分建立的)</p><ul class=""><li id="b234" class="lk ll it kb b kc kd kg kh kk lm ko ln ks lo kw lp lq lr ls bi translated">给定一张卫星图片，检测它是否遭到了灾难的袭击(这将是本文的重点)。</li><li id="73b4" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">通过为每种灾害类型创建单独的模型来提高检测效率</li><li id="591b" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">给定受灾区域的图像，让深度神经网络计算出蹂躏该地区的灾害类型。</li></ul><p id="505f" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">涵盖的主题:</strong>我们将在这篇文章中涵盖很多内容，包括</p><ol class=""><li id="675b" class="lk ll it kb b kc kd kg kh kk lm ko ln ks lo kw ly lq lr ls bi translated">下载和预处理数据</li><li id="6ae2" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw ly lq lr ls bi translated">将数据整理到训练和测试中，以便PyTorch数据加载器可以使用它</li><li id="f515" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw ly lq lr ls bi translated">利用预先训练的神经网络从数据中学习</li><li id="fdbd" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw ly lq lr ls bi translated">通过streamlit应用程序公开模型，以便可以在任何地方使用它们</li></ol><p id="569a" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">使用的数据集:</strong>xfiew 2 tier 3数据集，包含以下内容</p><ul class=""><li id="43d2" class="lk ll it kb b kc kd kg kh kk lm ko ln ks lo kw lp lq lr ls bi translated">1756张遭受火灾前后的照片</li><li id="3592" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">3690张森林大火前后的照片</li><li id="4d0d" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">3738张遭受野火袭击前后的照片</li><li id="113c" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">582张火山爆发前后的照片</li><li id="047e" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">1238张遭受洪水袭击前后的照片</li><li id="9073" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">1438张遭受龙卷风袭击前后的照片</li><li id="7d1b" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">296张受海啸袭击前后的照片</li></ul><p id="d87c" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">数据来源:<a class="ae lj" href="https://www.kaggle.com/tunguz/xview2-challenge-dataset-tier-3-data" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/tunguz/xview 2-challenge-dataset-tier-3-data</a></p><p id="2e54" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">下面是一些下载图片的例子。右边的图像是灾难前的，右边的是灾难后的同一地区。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/3141d8cfc7708bbe4e0b870963a9e571.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wKgBP-PG-FNCeq54VBRHdw.png"/></div></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/19425d978360348e962ce05c5fd0a380.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UaSPwfTH_joDH-FkbIEswg.png"/></div></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/2ad4f8c1c4229ab044f25c972490dbb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1THiZTtR4tMUUgVNsOfS7w.png"/></div></div></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi lz"><img src="../Images/268773b982c582007a2f6cfc58b16306.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rgRDaaAQfTmSk1PVRbplrw.png"/></div></div></figure><p id="5b99" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">你可能已经理解了，数据是成对的。每个地区都有灾前形象和灾后形象。灾难发生前后的图像有明显的不同，我们希望神经网络能够学习这一点。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi me"><img src="../Images/a3db7c12d2d4da4f65f5d32e5123e525.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*4sJ9AGAc7Lb-U9Zqitbq_Q.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">每次灾难的前映像和后映像</figcaption></figure><p id="8ad4" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">让我们先处理数据。</p><h2 id="a613" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">1.下载数据</h2><p id="5f19" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">数据可以从<a class="ae lj" href="https://www.kaggle.com/tunguz/xview2-challenge-dataset-tier-3-data?select=tier3" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/tunguz/xview 2-challenge-dataset-tier-3-data获取？select=tier3 </a>。数据大小约为19 GB，下载需要一段时间，这取决于带宽。</p><h2 id="08d2" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">2.数据处理</h2><p id="d979" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">一旦数据进入你的系统，你解压它，它看起来像这样</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/f294366705394ad7171cf47d93eb4bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:584/format:webp/1*tBXUQLxluuf4djWEWZaVhw.png"/></div></figure><p id="0f80" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我们对大约有12738张图片的图片文件夹感兴趣。它是一个偶数，因为我们对每种类型都有一个前像和后像。</p><p id="d75b" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd"> PyTorch需求</strong></p><p id="74a5" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">为了能够加载供PyTorch使用的数据，我们需要以特定的方式提供数据。数据需要被分发到测试和训练文件夹中。在它们中的每一个内部，数据都必须基于类标签再次重新分布。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/0093b8f41de0a475ef39983b3d6ac2f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*r7fTrtTq-hqKd5EblOSehQ.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">PyTorch的理想格式</figcaption></figure><p id="d593" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">比方说，我们希望保留25%的数据用于测试。相应地，数据应该被划分到文件夹中。还有，最好给出一个数字类标签，而不是pre和post。让我们将pre标记为0，post标记为1。文件夹结构如下所示。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/f27c72d89b5c1fb8cf762adcdca9f784.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/format:webp/1*9oWPO-tAamEdaqdkgHWZtA.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">数字类别标签</figcaption></figure><h2 id="aab8" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">排列图像的代码</h2><p id="d155" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">将代码放在正确的位置很重要，这样它就可以访问图像文件。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/70defe649302ccf07332a07b118acf06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*RBFTbkYW6fXv4LkdEEvggg.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">代码文件应与tier3文件夹处于同一级别</figcaption></figure><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">导入库并绘制一些图像</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi nh"><img src="../Images/f0ce1d41f08561bfa947bbc4db2f88e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylceG2ONuHwujWPTGcGmig.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">图像样本</figcaption></figure><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">将文件分类成两个列表——事前和事后</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/80dbe50c1081d98402e0bf52ce32078c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*v_V0EuYV34tCncsSIEpoRw.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">输出</figcaption></figure><p id="03c2" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面的代码将文件分类到包含灾前和灾后映像的两个列表中。现在让我们把它们分成训练集和测试集。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">将数据分为训练和测试的代码</figcaption></figure><p id="0f2d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我们获取前列表和后列表中的文件名列表，并将它们分别划分为pre_train、pre_test和post_train以及post_test。我们使用了随机的。示例函数首先将文件挑选出来放入测试文件夹。剩下的文件我们已经放入了train文件夹。有其他方法可以做到这一点，但这一点很好。现在我们有了4个列表，pre_train、pre_test、post_train和post_test，我们需要将文件物理复制到指定的文件夹中。让我们先创建文件夹。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">创建不同文件夹所需的代码</figcaption></figure><p id="9084" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">一旦执行了上面的代码片段，就应该创建了必要的文件夹。它应该如下所示</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi nj"><img src="../Images/a1b5a5a1b92ee0226b789cf6c3b15dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*twUhoWmxElr5tgrbSB_mNQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">存储图像的新文件夹</figcaption></figure><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">复制测试和训练图像</figcaption></figure><p id="455b" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">随着上述代码的执行，数据准备好由PyTorch处理。</p><h2 id="9fa1" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">用于处理数据的PyTorch实现</h2><p id="d488" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">您可以在同一文件夹中打开一个新的jupyter笔记本来处理数据和创建模型。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">导入库</figcaption></figure><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">将数据加载到dataloaders_dict</figcaption></figure><p id="b6bd" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面的代码将数据加载到字典“dataloaders_dict”中。字典包含两个关键字，“测试”和“训练”。字典dataloaders_dict["train"]包含用于训练数据的数据加载器，而dataloaders_dict["test"]包含用于测试数据的数据加载器。</p><h2 id="c108" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">使用预先训练的PyTorch模型</h2><p id="c0ea" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">我们将使用火炬视觉图书馆的预训练模型。让我们设置一些函数来获取模型。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">模型初始化</figcaption></figure><p id="c2d8" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面的代码包含两个函数，使我们能够创建带有预训练权重的模型。我们使用下面的函数来训练模型。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">训练模型的函数</figcaption></figure><p id="0aa9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上述函数用于在初始化后训练模型。由于我们已经处理了数据并将其加载到内存中，现在让我们开始训练。确保在运行代码的笔记本所在的同一层有一个名为“models”的文件夹。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="4a95" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面这段代码按照变量num_epochs中提到的时期数来训练模型。最终的模型也保存在磁盘中的文件夹models中，名称为“squeezenet_20_pre_vs_post.pt”。如果更改模型的名称或历元数，具有不同名称的模型会保存在同一文件夹中。</p><h2 id="f9c7" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">测试模型</h2><p id="b875" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">一旦模型被训练好，我们可以如下测试模型。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">测试模型</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/4f0afc946a912545e06203b5e7ae8f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*9bdVQCqGAglM8UXIhKPppQ.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">使用squeezenet在10个时期达到97.7 %的准确度</figcaption></figure><p id="3d9e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">对单个图像的测试</strong></p><p id="8c27" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果我们想将模型作为服务公开，它需要能够对单个图像进行预测。让我们看一下帮助我们做到这一点的代码。下面的代码是上一节的延续。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">允许模型预测单个图像的代码片段</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/46f604ebd57f6eaab48ac6677755ab27.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/1*m0jJjpdOIu8KY_dm5t9q6A.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">输出:0表示灾前图像，1表示灾后图像</figcaption></figure><p id="1ca9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面的代码允许在单个图像上执行模型。当您想要将您的模型发布到云中的某个地方时，这一点非常重要。您希望用户将单个图像上传到服务器。然后，该模型在单个图像上运行并给出预测。因此，这段代码片段是至关重要的，当我们通过streamlit应用程序为模型提供服务时，它将被重用。</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h2 id="9aea" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">作为Streamlit应用程序托管(本地，然后在云中)</h2><blockquote class="nt nu nv"><p id="5f86" class="jz ka nw kb b kc kd ke kf kg kh ki kj nx kl km kn ny kp kq kr nz kt ku kv kw im bi translated">Streamlit到机器学习web应用程序就像媒体到博客一样。</p></blockquote><p id="fa1c" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">它允许我们只使用Python代码在web上托管机器学习应用程序。让我们看看如何使用我们刚刚创建的模型来设置一个streamlit应用程序。在<a class="ae lj" href="https://www.youtube.com/watch?v=-IM3531b1XU" rel="noopener ugc nofollow" target="_blank"> youtube </a>上为<a class="ae lj" href="https://www.linkedin.com/in/misraturp" rel="noopener ugc nofollow" target="_blank"> Misra Turp </a>简单直接的streamlit教程大声喊出来。</p><p id="c66c" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">先决条件</strong></p><p id="3c78" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">你将需要</p><ul class=""><li id="6783" class="lk ll it kb b kc kd kg kh kk lm ko ln ks lo kw lp lq lr ls bi translated">github的一个账户</li><li id="1309" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">一个简化的账户</li></ul><p id="09e9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">仅此而已。</p><p id="0af5" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">文件夹结构</strong></p><p id="be13" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">Streamlit现在可以支持单页和多页应用程序。虽然我们在这个应用程序中只有一个页面，但我将使用多页面格式，以便您可以在以后的基础上添加更多功能。最初，这是您的项目所包含的内容。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/8d816d94c102b7532ae9d493e5e1418e.png" data-original-src="https://miro.medium.com/v2/resize:fit:972/format:webp/1*QxsycSUrzJX5D2-j9OvuAw.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">从两个文件main和multipage开始</figcaption></figure><p id="7fad" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">main.py文件是添加页面、封面图像和标题等的控制器文件。multipage.py是一个标准的streamlit框架，使我们能够添加页面。multipage.py的代码如下，这是一段标准的代码，你只需要写一次就可以忘记了。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">multipage.py礼貌简化讨论</figcaption></figure><p id="bda2" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">接下来，我们看一下main.py文件。首先，我们需要一个带有标题和一些文本的页面。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">启动streamlit应用程序</figcaption></figure><p id="9f3c" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">为了运行应用程序，在终端，确保你运行<code class="fe ob oc od oe b">pip install streamlit</code>或者按照这里的指示<a class="ae lj" href="https://docs.streamlit.io/library/get-started/installation" rel="noopener ugc nofollow" target="_blank">。接下来，执行</a></p><p id="b85f" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><code class="fe ob oc od oe b">streamlit run main.py</code></p><p id="a746" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这将在您的浏览器中打开应用程序，您应该能够看到如下内容:</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi of"><img src="../Images/02835ae234943b56c05ff21ff5c04ff7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-iyT9O9Q25yazYapCxgwQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">应用程序运行出错。</figcaption></figure><p id="5530" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我们一会儿将回到错误，但在此之前，让我们快速添加一个封面图像。</p><p id="7a0d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">选择任意一张免费图片，我选择了Unsplash的<a class="ae lj" href="https://unsplash.com/photos/rxlx9Yi0298" rel="noopener ugc nofollow" target="_blank">这张</a>。下载并将其保存在与代码main.py相同的级别。为图像命名为—cover.jpg</p><p id="198e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">您的文件夹结构现在看起来像这样。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi og"><img src="../Images/28d94f7dbb54804a89669ffdc36612b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:860/format:webp/1*CMXa_iSYnKSPXshF4D8bhw.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">添加了封面图片</figcaption></figure><p id="552e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">下面是添加封面图片的修改代码。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">第12–14行添加了封面图像</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi of"><img src="../Images/dc54596acc219286d67dc61d44e7a106.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nZs-lTZ8SSSMtvqkrp98hw.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">带有封面图像的页面</figcaption></figure><p id="9921" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">现在让我们来处理这个错误。我们已经将这个streamlit应用程序初始化为多页面应用程序，但是我们没有向它添加任何页面。这就是为什么我们会得到这个错误。然后，让我们向应用程序添加一个页面。</p><p id="49f2" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">向streamlit应用添加页面</strong></p><p id="1c41" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">向streamlit应用程序添加页面的过程非常简单。添加一个名为pages的文件夹，然后在该文件夹中添加一个python文件。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/52cb95167ec68e1404001031d0eabfe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/1*ACQ74anvXHlB_VXr5ogd8Q.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">添加了一个名为pages的新文件夹，并向该文件夹添加了一个名为disasterAnalysis.py的文件</figcaption></figure><p id="0adf" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">新文件disasterAnalysis.py将包含显示卫星图像的代码，为用户提供上传选项，以便他们可以拖放自己选择的图像，并最终使用该模型预测灾难状态——图像是灾前还是灾后图像。让我们一步一步来。让我们把</p><ul class=""><li id="c2a1" class="lk ll it kb b kc kd kg kh kk lm ko ln ks lo kw lp lq lr ls bi translated">新disasterAnalysis.py文件中的占位符文本</li><li id="5c66" class="lk ll it kb b kc lt kg lu kk lv ko lw ks lx kw lp lq lr ls bi translated">将新的disasterAnalysis.py文件合并到main.py文件中</li></ul><p id="ba05" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这是第一步(修改disasterAnalysis.py文件) :</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">向disasterAnalysis.py文件添加了占位符文本</figcaption></figure><p id="bbce" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">现在来更改main.py文件</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">用代码修改了main.py文件，以合并新的页面/文件— disasterAnalysis.py</figcaption></figure><p id="9866" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">第一个添加是第9行，我们在那里导入disasterAnalysis.py文件。接下来，在第21行，我们将disasterAnalysis.app添加到主应用程序中。这消除了错误，一旦你用<code class="fe ob oc od oe b">streamlit run app.py </code>运行，你会看到下面的页面。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi of"><img src="../Images/c9d0f64b4d0bddf8a4e3b0575a1fd520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NUh6qQ25TMmNkv2cFOsYfw.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">突出显示的部分来自新页面</figcaption></figure><p id="c399" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">您构建的所有页面的图像和标题都是固定的。突出显示的部分反映了新页面disasterAnalysis.py的内容</p><p id="820a" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">现在让我们添加代码的最后几位。首先，我们保存一个代码可以阅读和分类的静态图像。稍后，用户上传的图像将替换这个静态图像。</p><h2 id="a2cb" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">添加一个单独的python实用程序文件来处理图像和模型</h2><p id="20d6" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">添加一个名为lib的新文件夹，在其中创建一个名为common.py的新文件。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/364f7a932bc17f5fe64212f9470509d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1088/format:webp/1*n78n4cZM6YbOtcu2OG670w.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">突出显示了新文件夹和python文件。</figcaption></figure><p id="43cb" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">下面是commons.py文件的内容。这段代码重复了我们之前在训练和测试模型时使用的代码。它仍然保存在这里等待完工。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">commons.py文件中的功能</figcaption></figure><p id="7b05" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">commons.py文件是一个实用程序文件，将在disasterAnalysis.py文件中使用。</p><p id="f580" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">对静态图像进行分类的代码</strong></p><p id="e36b" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">创建一个名为data的文件夹，并将测试或训练集中的任何图像文件放入其中。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi oj"><img src="../Images/881ff1e483e313eb3f80fca28d5c19c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Oj92qDIhOEaqzb-Kr1ogRg.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">高亮显示包含图像文件的新文件夹</figcaption></figure><p id="589e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">这是将对其执行初始分类的静态图像文件。现在让我们向<strong class="kb jd"> disasterAnalysis.py </strong>文件添加一些代码来显示图像。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">添加了加载静态图像的代码</figcaption></figure><p id="d4a1" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面的代码从文件系统中加载一个静态图像，并显示如下。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi of"><img src="../Images/64a076e6173ec2ac53e8bc3fb2a1afcf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KlOEaQSuyr8BUrJhI3ejvQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">显示静态图像</figcaption></figure><p id="34b6" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">请注意前面代码片段的第10行，我们还使用commons.py文件中的函数对图像进行了预处理。我们可以马上进行分类，但是让我们先添加上传图片的功能。</p><p id="efef" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">上传图像</strong></p><p id="7587" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我们向<strong class="kb jd"> disasterAnalysis.py文件</strong>添加一些代码，以允许上传图像。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">允许用户上传图像的代码</figcaption></figure><p id="6e4e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">上面的代码现在处理两种情况。最初，当用户没有上传任何图像时，它从文件系统中读取静态图像，并将其显示在页面上。一旦用户上传文件，它会更改图像并使用上传的图像。效果如下图。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/d70f2bfce401d99e9431b662b07ad67b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*UMtc-XqYunjjTAlGJ2f3NQ.gif"/></div></figure><p id="e0dc" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">上传图像分类</strong></p><p id="a4fc" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">我们就要到达终点了。现在，让我们使用我们在上一节中训练的模型来根据图像是否受到自然灾害的影响对其进行分类。我们需要创建一个名为models的文件夹，我们将在其中放置squeezenet模型。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ok"><img src="../Images/9f96263d34495a3343f47f9e3f6c2f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OYibAXCpYmr4FloWsYt0lA.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">添加了一个名为“模型”的文件夹，我们在其中放置我们已经训练好的模型</figcaption></figure><p id="9e6d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果您已经训练了任何其他模型，这是很好的—您只需要确保您将它放置在模型的文件夹中，并在disasterAnalysis.py文件中链接它。</p><p id="d8da" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">注:</strong>由于streamlit服务器的限制为<strong class="kb jd"> 500MB </strong>(截至2022年2月12日)，建议使用squeezenet和resnet等轻量级型号。<strong class="kb jd">不要</strong>使用像<strong class="kb jd"> VGG </strong>那样笨重的模型——把它们载入GitHub会很痛苦，最终应用可能会失败。</p><p id="41d9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">有了模型，现在让我们编写最后一段代码，它将使模型能够预测图像的类别。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nf ng l"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">对图像执行分类的最后一段代码</figcaption></figure><p id="5f6d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">现在我们知道了,“result_all”部分包含对图像进行分类的代码，并声明该区域是否遭受了灾难。下面是展示操作的gif。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div class="gh gi kx"><img src="../Images/f3080711281e4924ea4089739c383fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*QPu-KIuIz-tXtw7bIs_nEA.gif"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">上传灾难前和灾难后的图像并检查输出</figcaption></figure></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h2 id="9b3b" class="mf mg it bd mh mi mj dn mk ml mm dp mn kk mo mp mq ko mr ms mt ks mu mv mw iz bi translated">部署</h2><p id="8b04" class="pw-post-body-paragraph jz ka it kb b kc mx ke kf kg my ki kj kk mz km kn ko na kq kr ks nb ku kv kw im bi translated">本节重点介绍如何让应用程序在streamlit中运行。</p><p id="7c12" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">第一步:添加需求文件</strong></p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ol"><img src="../Images/dd0ef154ef9ebe74391f00e14f355977.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jvq-tL-LWvXEgoPgZK9iiA.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">添加名为requirements.txt的文件</figcaption></figure><p id="39be" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">下面是需求文件的内容。</p><pre class="ky kz la lb gt om oe on oo aw op bi"><span id="12dc" class="mf mg it oe b gy oq or l os ot">streamlit<br/>pandas<br/>plotly<br/>numpy<br/>torch <br/>torchvision</span></pre><p id="5b97" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">第二步:推送文件到GitHub </strong></p><p id="d429" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">有了这个文件，现在让我们创建一个GitHub repo并将内容放入其中。例如，对于这个项目，我将代码放入了GitHub仓库:<a class="ae lj" href="https://github.com/ashhadulislam/medium-disaster-analysis" rel="noopener ugc nofollow" target="_blank">https://github.com/ashhadulislam/medium-disaster-analysis</a></p><p id="f058" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">第三步:将Streamlit应用程序链接到GitHub repo </strong></p><p id="cff8" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">登录<a class="ae lj" href="https://share.streamlit.io/" rel="noopener ugc nofollow" target="_blank">https://share.streamlit.io/</a>。无论您之前是否发布过streamlit应用程序，您都会看到一个“新建应用程序”选项。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ou"><img src="../Images/a70cbd4c14988657fa71da11e5ae47ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NwrKa48gfro4j8katnGnSQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">点击新应用并从现有回购中选择</figcaption></figure><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ov"><img src="../Images/3ea4fb3ecd51d9447d96b2cb9d2c0f66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hUgK_fIcXul43p5bjcKHEw.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">选择正确的分支</figcaption></figure><p id="7942" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">确保选择main.py作为主文件路径。streamlit应用程序将从同一个。然后，单击部署。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi of"><img src="../Images/7fc0048389589a71e09fd7e9419a6950.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RuYRw2hCquhVgKrIsS_YOw.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">Streamlit让部署变得有趣</figcaption></figure><p id="7d72" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">给它几秒或几分钟。您可以在页面右侧看到正在进行的安装。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi ow"><img src="../Images/ca62edc5296f162e835c9991214836c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rImwsmFQjuzSUDFaP0jqvQ.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">安装依赖项</figcaption></figure><p id="51aa" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">一旦你的应用启动并运行，你可以看到类似这样的东西。</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ma mb di mc bf md"><div class="gh gi of"><img src="../Images/e6528eaef8f68e9f6a97ae3a251217d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U1YBHUpQ88UFDn0p7Bj0ew.png"/></div></div><figcaption class="lf lg gj gh gi lh li bd b be z dk translated">请注意，该URL不再是localhost，您现在可以与您的朋友共享此应用程序。</figcaption></figure><p id="2518" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">您可以执行与您在本地尝试的操作相同的操作，上传卫星图像以检查它是灾前还是灾后图像。注意这是一个你可以使用的全局URL，对我来说是<a class="ae lj" href="https://share.streamlit.io/ashhadulislam/medium-disaster-analysis/main/main.py" rel="noopener ugc nofollow" target="_blank">https://share . streamlit . io/ashhadulislam/medium-disaster-analysis/main/main . py</a></p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><p id="0fb2" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated"><strong class="kb jd">临别赠言</strong></p><p id="c205" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">因此，这是一个预处理图像、训练模型、在本地托管然后在云中托管它们的练习。如果你已经能够复制这一点，那么恭喜你——你已经能够端到端地覆盖深度学习应用。请在LinkedIN或Instagram上与我分享你的应用程序的网址。</p><p id="5845" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果你喜欢这个，并且想要更多这样的教程，让我们构建超越jupyter notebook界限的深度学习应用程序，并使其进入互联网世界，我邀请你加入我的<a class="ae lj" href="https://mlnoticeboard.substack.com/" rel="noopener ugc nofollow" target="_blank">子堆栈简讯</a>，在那里我们:</p><blockquote class="nt nu nv"><p id="571a" class="jz ka nw kb b kc kd ke kf kg kh ki kj nx kl km kn ny kp kq kr nz kt ku kv kw im bi translated">解决来自行业的不同机器学习问题的用例。我们不仅讨论了用例，还提供了样板代码，这样你就可以在你的研究/工作中开始实现它。</p></blockquote><p id="52dc" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">一个例子是你一直在读的文章。我们希望每个月解决一个用例。因此，如果有你一直在处理的机器/深度学习问题，请随时在子堆栈或任何频道上与我分享。</p><p id="8175" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">下次见。</p></div></div>    
</body>
</html>