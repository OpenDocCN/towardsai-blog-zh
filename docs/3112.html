<html>
<head>
<title>Improve Your Classification Models With Threshold Tuning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过阈值调整改进您的分类模型</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/improve-your-classification-models-with-threshold-tuning-bb69fca15114?source=collection_archive---------0-----------------------#2022-09-11">https://pub.towardsai.net/improve-your-classification-models-with-threshold-tuning-bb69fca15114?source=collection_archive---------0-----------------------#2022-09-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="7337" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">实用而重要的指南</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/230692cad7097c177af56051601c853f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*38b0bwShKM8Stj5K"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@denisseleon?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹尼斯·莱昂</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="d38f" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">阈值调整</strong>是数据科学管道中<strong class="lb iu">重要且必要的</strong>步骤。它与应用领域密切相关，需要<strong class="lb iu">常识和批判性思维</strong>。</p><p id="9b23" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">阈值调整允许您<strong class="lb iu">定制成品模型</strong>和<strong class="lb iu">使其适应不同的需求</strong>。</p><p id="1314" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在本文中，我将演示如何通过调整决策阈值来提高模型的性能。我们开始吧。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="3143" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">大纲:</h2><ol class=""><li id="3d23" class="mv mw it lb b lc mx lf my li mz lm na lq nb lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">超越精度</em> </strong></li><li id="b221" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">【预测概率】的绝招</em> </strong></li><li id="d9a5" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">选择最大化的重要指标</em> </strong></li><li id="842f" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">一些真实的用例&amp;场景</em> </strong></li><li id="8a05" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">动手阈值调优</em> </strong></li><li id="2c48" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">结论</em> </strong></li></ol></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="56ad" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">1.超越准确性</h2><p id="0a88" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">通常，<strong class="lb iu">准确性不足以</strong>报告分类模型的性能，我们必须<strong class="lb iu">引入额外的度量</strong>。具体来说:<strong class="lb iu">精度</strong>、<strong class="lb iu">召回</strong>、<strong class="lb iu"> F1得分</strong>、<strong class="lb iu">特异性</strong>。我们还需要考虑<strong class="lb iu"> ROC曲线</strong>、<strong class="lb iu"> ROC AUC </strong>和<strong class="lb iu">精确召回曲线</strong>。</p><p id="677d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">让我们从解释这些指标和曲线的<strong class="lb iu">含义开始:</strong></p><ul class=""><li id="e5c4" class="mv mw it lb b lc ld lf lg li np lm nq lq nr lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">精度:</em> </strong>真阳性数超过所有阳性数。<em class="ng"> P=TP/(TP+FP) </em></li><li id="66ed" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">回忆(灵敏度):</em> </strong>真阳性数超过真阳性数加上假阴性数。<em class="ng"> R=TP/(TP+FN) </em></li><li id="1118" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng"> F1评分:</em> </strong>精度和召回率之间的调和平均值。</li><li id="4e61" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">特异性:</em> </strong>真阴性数超过真阴性数加上假阳性数。<em class="ng"> Spec=TN(TN+FP) </em></li><li id="14b3" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">受试者工作特征(ROC)曲线:</em> </strong>该曲线显示了真阳性率和假阳性率之间的权衡。表示模型的性能。</li><li id="ae9d" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng"> ROC曲线下面积(AUC):</em></strong>ROC曲线下面积。如果这个面积等于1，我们就有了一个完美的分类器。如果等于0.5，我们就有了一个随机分类器。</li><li id="3226" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">精度-召回曲线:</em> </strong>这条<strong class="lb iu"> <em class="ng"> </em> </strong>曲线显示了不同阈值下的精度和召回值。它用于可视化精确度和召回率之间的权衡。</li></ul><p id="860a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">通常，我们必须<strong class="lb iu">考虑所有这些指标和曲线</strong>。为了让<strong class="lb iu">他们中的一些人一目了然</strong>，我使用了这个<strong class="lb iu">自定义</strong> <strong class="lb iu">方法</strong>:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">控制分类模型性能的自定义方法。</figcaption></figure></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="2691" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">2.“预测概率”的把戏</h2><p id="762a" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">当我们测试和评估我们的模型时，我们<strong class="lb iu">将预测的Y与来自测试集</strong>的Y进行比较。一般我们使用一种<code class="fe nv nw nx ny b">model.predict(X_test)</code>方法，即<strong class="lb iu">直接返回分配给测试集</strong>中每个实例的标签。我们可以用概率来代替这样做。</p><p id="ef5d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SK-learn提供了一个叫做<code class="fe nv nw nx ny b">model.predict_proba(X_test)</code>的方法来<strong class="lb iu">预测类别概率</strong>。然后我们可以写一个方法，让<strong class="lb iu">根据一个决策阈值参数</strong>返回每个实例<strong class="lb iu">的最终标签</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">方法根据特定阈值将概率转换为类标签。</figcaption></figure><p id="6c50" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在SK-learn中，<strong class="lb iu"> thresh = 0.5是默认阈值</strong>，用于在我们调用<code class="fe nv nw nx ny b">model.predict(X_test)</code>方法时分配标签。<strong class="lb iu">概率方法的优势</strong>在于<strong class="lb iu">我们可以测试不同的阈值</strong>。</p><blockquote class="nz"><p id="3f8a" class="oa ob it bd oc od oe of og oh oi lu dk translated">移动阈值将改变模型的性能。根据应用领域的不同，我们可以选择一个最大化重要指标(通常是精确度或召回率)的阈值。</p></blockquote></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oj"><img src="../Images/f647f6e1d03c4dc0eb421dcbd3f60cba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LHiK8-FFl3JWL1qj"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated"><a class="ae ky" href="https://unsplash.com/es/@enginakyurt?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> engin akyurt </a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h2 id="509e" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">3.选择最大化的重要指标</h2><p id="eb67" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">但是，<strong class="lb iu">最大化的重要度量是什么？</strong>怎么确定？让我解释一下:</p><p id="39a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在一个<strong class="lb iu">二元分类</strong>任务中，有<strong class="lb iu">两种类型的错误</strong>我们的模型可以提交:</p><ol class=""><li id="f7aa" class="mv mw it lb b lc ld lf lg li np lm nq lq nr lu nc nd ne nf bi translated"><strong class="lb iu"><em class="ng">I型错误:</em> </strong>预测Y为真而实际为假。又叫<strong class="lb iu">假阳性错误。</strong></li><li id="4444" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">第二类错误:</em> </strong>当Y实际为真时预测为假。又称<strong class="lb iu">假阴性错误。</strong></li></ol><p id="a01c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">误分类实例的数量</strong>决定了模型的<strong class="lb iu">优度。</strong></p><blockquote class="nz"><p id="2c89" class="oa ob it bd oc od oe of og oh oi lu dk translated">这些错误并不同等重要:犯第一类错误可能比犯第二类错误更糟糕。反之亦然。</p></blockquote><p id="080c" class="pw-post-body-paragraph kz la it lb b lc ok ju le lf ol jx lh li om lk ll lm on lo lp lq oo ls lt lu im bi translated">这一事实被称为<strong class="lb iu">误分类成本</strong>或<strong class="lb iu">T23【一个错误相对于另一个错误有多糟糕】T25】。同样，选择<strong class="lb iu">取决于应用领域</strong>。<strong class="lb iu">识别最差误差</strong>(最小化更重要的误差)允许我们<strong class="lb iu">识别我们的模型应该最大化</strong>的度量。</strong></p><p id="d684" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">假设<strong class="lb iu">误报的代价&gt;误报的代价</strong>。在这种情况下，我们需要<strong class="lb iu">最小化误报的数量</strong>，因此<strong class="lb iu">最大化的重要度量是精度</strong>。</p><p id="9937" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">另一方面，如果<strong class="lb iu">假阴性的成本&gt;假阳性的成本</strong>，我们需要<strong class="lb iu">最小化假阴性的数量</strong>。最大化的<strong class="lb iu">重要指标是召回</strong>。</p><p id="6432" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">为了最大化一个指标，我们移动阈值</strong>，直到我们在所有指标之间达到一个良好的平衡。我们可以<strong class="lb iu">为此使用精确召回曲线</strong>并在我们的应用领域中选择最佳阈值。我们也可以使用<strong class="lb iu"> ROC曲线</strong>。</p><blockquote class="nz"><p id="6d6e" class="oa ob it bd oc od oe of og oh oi lu dk translated">记住:我们不能最大化所有的指标。这总是一个需要在应用领域进行推理的权衡。</p></blockquote><p id="00a8" class="pw-post-body-paragraph kz la it lb b lc ok ju le lf ol jx lh li om lk ll lm on lo lp lq oo ls lt lu im bi translated">了解了这些初步信息后，让我们来探索一些不同的场景:)</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="2f1f" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">4.一些真实的使用案例和场景</h2><p id="eb0e" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">为了更好地<strong class="lb iu">理解第一类和第二类错误之间的区别</strong>以及<strong class="lb iu">识别最糟糕的</strong>错误，<strong class="lb iu">让我们探索一些真实的场景:</strong></p><ol class=""><li id="3ff9" class="mv mw it lb b lc ld lf lg li np lm nq lq nr lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng"> Covid测试</em> </strong>。FN的<strong class="lb iu">成本&gt;FP的</strong>成本。如果我们预测Covid居民是健康的，将会有大量的感染。<strong class="lb iu">最大化召回</strong>。</li><li id="5c29" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">垃圾邮件过滤</em> </strong>。FP的<strong class="lb iu">成本&gt;FN的</strong>成本。错过重要邮件比收到垃圾邮件更糟糕。<strong class="lb iu">最大化精度</strong>。</li><li id="a382" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu nc nd ne nf bi translated"><strong class="lb iu"> <em class="ng">好/坏账</em> </strong>。FN的<strong class="lb iu">成本&gt;FP的</strong>成本。如果不良贷款被预测为好贷款，银行将损失一大笔钱。<strong class="lb iu">最大化召回</strong>。</li></ol><p id="20d0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在我要报告一个<strong class="lb iu">真实的&amp;动手阈值调优方法</strong>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi op"><img src="../Images/d9a5c0d00ce1f705eec550c8e9abd4a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*y4WXFv9xnqLuyIFe"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">照片由<a class="ae ky" href="https://unsplash.com/@adigold1?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">阿迪·戈尔茨坦</a>在<a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure><h2 id="16ad" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">5.动手阈值调谐</h2><p id="326c" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">假设我们正在处理一个二元分类任务的逻辑回归模型。我们都进行了<strong class="lb iu">训练</strong>、<strong class="lb iu">超参数调整</strong>和<strong class="lb iu">测试</strong>阶段。该模型已经过<strong class="lb iu">交叉验证</strong>。我们必须<strong class="lb iu">调整模型的阈值</strong>。</p><p id="2e11" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我通过使用<code class="fe nv nw nx ny b">model.predict_proba(X_test)</code>方法<strong class="lb iu">得到类概率</strong>来开始这个过程。我用这些概率来:</p><ul class=""><li id="50fa" class="mv mw it lb b lc ld lf lg li np lm nq lq nr lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">计算ROC AUC，等于0.9794 </em> </strong></li><li id="a704" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">计算并绘制ROC曲线</em> </strong></li><li id="a473" class="mv mw it lb b lc nh lf ni li nj lm nk lq nl lu ns nd ne nf bi translated"><strong class="lb iu"> <em class="ng">计算并绘制精度-召回曲线</em> </strong></li></ul><p id="adb2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下代码块代表这些步骤:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">计算ROC AUC并绘制ROC和精度-召回曲线</figcaption></figure><p id="79f7" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">该图像显示了<strong class="lb iu">产生的曲线</strong>。我们可以立即发现<strong class="lb iu">该型号的性能良好</strong>。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi oq"><img src="../Images/16187f418818fff3cc064a1cc1b8ddee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CpCrq-CUy9vle-j4KLJJfg.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">精确召回和ROC曲线与AUC值。作者图片</figcaption></figure><p id="9ab8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在，我们必须<strong class="lb iu">考虑错误分类成本</strong>并选择模型可能犯下的最大错误<strong class="lb iu"/>。这一步需要在应用领域进行推理。在这个例子中，假设FP的<strong class="lb iu">成本为FN的&gt;成本。我们需要选择一个阈值，在不降低召回率太多的情况下，使精确度最大化。</strong>前面提到的取舍。</p><p id="4a01" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我们可以使用精确召回曲线<strong class="lb iu">对可能的阈值</strong>进行初步选择。<strong class="lb iu"> </strong>在下面的代码块中，我<strong class="lb iu">绘制了带有候选阈值</strong>的精确召回曲线。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">用选定的阈值绘制精度-召回曲线</figcaption></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi or"><img src="../Images/2b3f3ece03272746bca3afa9e0357553.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IVXJJUc5EDZsRnmUpP6zZQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">具有选定阈值的精确召回曲线。作者图片</figcaption></figure><p id="efdd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">此时，我们可以<strong class="lb iu">使用选定的阈值</strong>来<strong class="lb iu">获得最终的分类标签</strong>并且<strong class="lb iu">计算性能指标</strong>。如果我们不满意，我们可以<strong class="lb iu">选择另一个阈值并再次尝试</strong>。</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nt nu l"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">打印阈值和性能指标。</figcaption></figure><p id="45f5" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">正如我们在下图中看到的，选择的<strong class="lb iu">阈值以召回为代价最大化了精度</strong>。事实上，根据我们应用的决策阈值，相同的模型可以<strong class="lb iu">以不同的方式执行。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi os"><img src="../Images/0fa996c5176c03f7b9b6a7e938a4fb20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R5sd8rEWmFtL0-WpODvz-w.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">不同阈值下的模型性能比较。作者图片</figcaption></figure><p id="6545" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦对结果满意，模型<strong class="lb iu">就可以用于生产</strong>。</p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="17d1" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">6.结论</h2><p id="8bd5" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">到底什么是<strong class="lb iu">带回家的消息</strong>？</p><p id="cd33" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">为二元分类模型<strong class="lb iu">选择<strong class="lb iu">最重要的</strong> <strong class="lb iu">评估指标</strong>并不容易</strong>。这种选择一般<strong class="lb iu">与应用领域</strong>有关，必须考虑<strong class="lb iu">误分类的代价</strong>。在某些情况下，可能有必要<strong class="lb iu">咨询领域专家</strong>来找出<strong class="lb iu">哪个错误代表最大的风险</strong>。</p><p id="6bcd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">模型的行为在很大程度上受到阈值选择</strong>的影响，这就是为什么<strong class="lb iu">阈值调整一点也不简单</strong>。该操作也<strong class="lb iu">增加了模型的灵活性。</strong></p><p id="0e8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">也就是说，存在<strong class="lb iu">不同的技术</strong>你可以应用<strong class="lb iu">评估你的模型</strong>和<strong class="lb iu">调整阈值</strong>到<strong class="lb iu">得到预期的结果</strong>。在本文中，我解释了精确召回曲线方法。</p><p id="58aa" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><em class="ng">感谢阅读，快乐阈值调谐:)</em></p></div><div class="ab cl lv lw hx lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="im in io ip iq"><h2 id="4860" class="mc md it bd me mf mg dn mh mi mj dp mk li ml mm mn lm mo mp mq lq mr ms mt mu bi translated">参考资料:</h2><p id="c10f" class="pw-post-body-paragraph kz la it lb b lc mx ju le lf my jx lh li nm lk ll lm nn lo lp lq no ls lt lu im bi translated">SK-learn，逻辑回归—<a class="ae ky" href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-learn . org/stable/modules/generated/SK learn . linear _ model。LogisticRegression.html</a></p><p id="16d2" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SK-learn、Precision和Recall—<a class="ae ky" href="https://scikit-learn.org/stable/auto_examples/model_selection/plot_precision_recall.html" rel="noopener ugc nofollow" target="_blank">https://scikit-learn . org/stable/auto _ examples/model _ selection/plot _ Precision _ Recall . html</a></p><p id="041b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">SK-learn，ROC曲线—<a class="ae ky" href="https://scikit-learn.org/stable/auto_examples/model_selection/plot_roc.html" rel="noopener ugc nofollow" target="_blank">https://sci kit-learn . org/stable/auto _ examples/model _ selection/plot _ ROC . html</a></p><p id="9675" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">维基百科，第一类和第二类错误——https://en.wikipedia.org/wiki/Type_I_and_type_II_errors<a class="ae ky" href="https://en.wikipedia.org/wiki/Type_I_and_type_II_errors" rel="noopener ugc nofollow" target="_blank"/></p></div></div>    
</body>
</html>