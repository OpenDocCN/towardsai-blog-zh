<html>
<head>
<title>JavaScript ES2020 — The Features You Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript ES2020 —您应该知道的特性</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/javascript-es2020-the-features-you-should-know-5b4f483ed001?source=collection_archive---------3-----------------------#2020-10-14">https://pub.towardsai.net/javascript-es2020-the-features-you-should-know-5b4f483ed001?source=collection_archive---------3-----------------------#2020-10-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="75ea" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/ff117ef10c49b6124c147ff5b679cb46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N0-eWy3-96544bE1"/></div></div></figure><p id="e99a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">ES2020或ECMAScript 2020为JavaScript带来了激动人心的特性。在本文中，我想谈谈我最喜欢的ES2020特性。这意味着本文没有涵盖所有的新增内容。因此，让我们看看我最喜欢的新增内容:</p><ul class=""><li id="b241" class="lf lg iq kj b kk kl ko kp ks lh kw li la lj le lk ll lm ln bi translated">动态导入</li><li id="7cf5" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">零融合算子</li><li id="a78b" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">可选链接运算符</li><li id="159f" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">私有类变量</li><li id="a11d" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">承诺。都解决了</li></ul><p id="7ea8" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">要了解更多信息和所有新增内容，请看官方的<a class="ae lt" href="https://tc39.es/ecma262/2020/" rel="noopener ugc nofollow" target="_blank"> ECMAScript语言规范</a>。另外，你可以看看<a class="ae lt" href="https://github.com/tc39/proposals/blob/master/finished-proposals.md" rel="noopener ugc nofollow" target="_blank">完成的提案</a>。</p><h1 id="fbcc" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">动态导入</h1><p id="023c" class="pw-post-body-paragraph kh ki iq kj b kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la mw lc ld le ij bi translated">其中一个新增功能是我们可以用async/await动态导入依赖项。这意味着我们不必在之前导入所有内容，我们可以只在需要的时候导入依赖项。因此，通过在运行时加载模块，应用程序的性能得到了提高。</p><p id="3b0f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">它是如何提高性能的？对于传统的模块系统，我们在程序开始时静态地导入模块。无论我们现在还是以后需要它们，我们都必须首先导入它们。此外，来自导入模块的所有代码都在加载时进行评估。因此，它不必要地降低了应用程序的速度。为什么？因为它下载导入的模块，并在执行您的代码之前评估每个模块的代码。</p><p id="1d19" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">让我们看一个例子。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="9c91" class="ng lv iq nc b gy nh ni l nj nk">if (calculations) { <br/>    const calculator = await import('./calculator.js'); <br/>    const result = calculator.add(num1, num2); </span><span id="c793" class="ng lv iq nc b gy nl ni l nj nk">    console.log(result); <br/>}</span></pre><p id="8f2f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在上面的代码片段中，您可以看到我们只在想要执行计算时才导入calculator模块。因此，我们不会因为在运行时之前加载所有代码而不必要地降低应用程序的速度。因此，动态导入是一个方便的补充。</p><h1 id="de92" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">零融合算子</h1><p id="30fc" class="pw-post-body-paragraph kh ki iq kj b kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la mw lc ld le ij bi translated">“零化合并运算符(？？)是一种逻辑运算符，当其左侧操作数为空或未定义时，返回右侧操作数，否则返回左侧操作数。<a class="ae lt" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing_operator%22" rel="noopener ugc nofollow" target="_blank">资料来源:MDN </a></p><p id="83c2" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">基本上，Nullish合并操作符允许我们检查一个值是否为空或未定义，如果是这样，就提供一个回退值。让我们看一个例子:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="50c3" class="ng lv iq nc b gy nh ni l nj nk">let score = 0;<br/>let pass = score ?? 60;<br/><br/>console.log(pass);</span></pre><p id="0bab" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在上面的代码片段中，<code class="fe nm nn no nc b">pass</code>的值是0。原因是<code class="fe nm nn no nc b">??</code>操作符不会将零强制为假值。只有当变量<code class="fe nm nn no nc b">score</code>为<code class="fe nm nn no nc b">undefined</code>或<code class="fe nm nn no nc b">null</code>时，变量<code class="fe nm nn no nc b">pass</code>才会被赋值60。</p><p id="6fd9" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">但是，双管“||”和这个运算符有什么区别呢？当使用双管“||”时，它总是返回一个真值，这可能会导致一些意想不到的结果。当使用nullish合并操作符时，我们可以更加严格，因此只允许当值为null或未定义时使用默认值。</p><p id="31d2" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，假设我们有以下代码:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="865d" class="ng lv iq nc b gy nh ni l nj nk">let score = 0;<br/>let pass = score || 60;<br/><br/>console.log(pass);</span></pre><p id="d1b3" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在上面的例子中，当使用<code class="fe nm nn no nc b">||</code>时，值0被视为假值。在上面的代码片段中，<code class="fe nm nn no nc b">pass</code>的值是60，这不是我们想要的。因此，双问号允许我们检查一个变量是否为null，也就是说一个变量是否未定义或者为null。</p><h1 id="28ac" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">可选链接运算符</h1><p id="182a" class="pw-post-body-paragraph kh ki iq kj b kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la mw lc ld le ij bi translated">"当访问链接属性时，当引用可能丢失时，表达式更短更简单."<a class="ae lt" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining" rel="noopener ugc nofollow" target="_blank">资料来源:MDN </a></p><p id="e226" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">使用可选的链接操作符，我们可以从一个对象中访问深度嵌套的属性。如果属性存在，运算符将返回其值。如果属性不存在，运算符将返回undefined。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="cc48" class="ng lv iq nc b gy nh ni l nj nk">const person = {<br/> name: "Catalin Pit",<br/> employer: {<br/>  name: "Catalins Tech",<br/> }<br/>};<br/><br/>console.log(person?.employer?.name);</span></pre><p id="0728" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">上面的代码片段展示了一个访问深层嵌套对象属性的例子。然而，我们可以在数组和函数调用中使用它。在下面的代码片段中，你可以看到我们检查数组是否存在，如果存在，我们访问第三个值。此外，您可以看到检查来自API的函数是否存在，如果存在，它就调用它。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="dab3" class="ng lv iq nc b gy nh ni l nj nk">const allowedValues = [1, 5, 10, 13, 90, 111];<br/>console.log(allowedValues?.[2]);<br/><br/>// functional call<br/>const response = myAPI.getData?.();</span></pre><p id="553e" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">总之，可选的链接操作符很方便，它还帮助我们使代码更易读、更简短。</p><h1 id="9797" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">保证。全部解决</h1><p id="3874" class="pw-post-body-paragraph kh ki iq kj b kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la mw lc ld le ij bi translated">新方法Promise.allSettled()等待所有承诺被结算。也就是说，它接受一组承诺，并且只有当这些承诺得到解决(拒绝或解决)时才返回。</p><p id="8fd0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">当这个函数返回时，我们可以循环每个承诺，看看它是被实现了还是被拒绝了，以及为什么。让我们看一个这个功能的例子。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="4924" class="ng lv iq nc b gy nh ni l nj nk">const promise1 = Promise.resolve(5);<br/>const promise2 = Promise.reject("Reject promise");<br/>const promises = [promise1, promise2];<br/><br/>Promise.allSettled(promises)<br/>    .then(results =&gt; console.log(`Here are are your promises results`, results))<br/>    .catch(err =&gt; console.log(`Catch ${err}`));</span></pre><p id="098a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">上面的代码返回一个对象数组，每个对象代表一个承诺。如果承诺被履行，则对象具有状态和值，如果承诺被拒绝，则对象具有状态和原因。因此，<code class="fe nm nn no nc b">Promise.AllSettled</code>在你想完成所有承诺时是有用的，不管它们是被拒绝还是被履行。</p><h1 id="49b4" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">私有类变量</h1><p id="f40a" class="pw-post-body-paragraph kh ki iq kj b kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la mw lc ld le ij bi translated">从现在开始，我们也可以用JavaScript在类中创建私有变量。要创建私有变量，只需在变量前面添加散列符号。例如，<code class="fe nm nn no nc b">#firstName</code>是一个私有变量，不能在类外访问。</p><p id="b3c3" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">试图在类外调用变量会导致语法错误。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="f63e" class="ng lv iq nc b gy nh ni l nj nk">class Person {<br/>  #firstName = "Catalin";<br/>  getFirstName() <br/>  { <br/>      console.log(this.#firstName) <br/>   }<br/>}<br/><br/>const person1 = new Person();<br/>person1.getFirstName() // "Catalin"<br/><br/>console.log(person1.firstName); // Returns "undefined"<br/>console.log(person1.#firstName); // Returns "Uncaught SyntaxError: Private field '#firstName' must be declared in an enclosing class"</span></pre><p id="18ee" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在上面的代码中，您可以看到一个私有类变量在起作用。试图访问类外的变量<code class="fe nm nn no nc b">firstName</code>，我们得到一个错误。因此，当我们不想将数据暴露在类之外时，这种添加是很方便的。</p><h1 id="4424" class="lu lv iq bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">结论</h1><p id="c65e" class="pw-post-body-paragraph kh ki iq kj b kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la mw lc ld le ij bi translated">文章中的补充并不是唯一的。还有更多，我鼓励你看看官方的<a class="ae lt" href="https://tc39.es/ecma262/2020/" rel="noopener ugc nofollow" target="_blank"> ECMAScript语言规范</a>来了解所有的规范。此外，我鼓励您尝试一下这些特性。</p><p id="8cc9" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">总之，在本文中，您了解了:</p><ul class=""><li id="2f1b" class="lf lg iq kj b kk kl ko kp ks lh kw li la lj le lk ll lm ln bi translated">动态导入</li><li id="9549" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">零融合算子</li><li id="f58b" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">可选链接运算符</li><li id="2fb9" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">承诺。都解决了</li><li id="7f3d" class="lf lg iq kj b kk lo ko lp ks lq kw lr la ls le lk ll lm ln bi translated">私有类变量</li></ul></div><div class="ab cl np nq hu nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="ij ik il im in"><p id="9de3" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">如果对JavaScript教程感兴趣，我推荐</em> <a class="ae lt" href="https://catalins.tech/frontend-masters-membership-is-it-worth-it" rel="noopener ugc nofollow" target="_blank"> <em class="nw">前端高手</em> </a> <em class="nw">！</em></p><p id="5e7f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">如果你想用技术写作赚钱，就去查查</em> <a class="ae lt" href="https://catalins.tech/websites-that-pay-you-to-write-technical-articles" rel="noopener ugc nofollow" target="_blank"> <em class="nw">那些付钱让你写</em> </a> <em class="nw">技术文章的网站吧！</em></p><p id="3d5e" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">如果你想学习JavaScript，我推荐这些</em> <a class="ae lt" href="https://catalins.tech/5-best-resources-to-learn-javascript-as-a-beginner" rel="noopener ugc nofollow" target="_blank"> <em class="nw"> 5资源作为初学者学习JavaScript</em></a><em class="nw">！</em></p><p id="3d54" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">谈判你的工资是必不可少的——学习</em> <a class="ae lt" href="https://catalins.tech/how-to-negotiate-your-salary-as-a-developer" rel="noopener ugc nofollow" target="_blank"> <em class="nw">作为一名开发者如何谈判你的工资</em> </a> <em class="nw">！</em></p><p id="274e" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">用</em> <a class="ae lt" href="https://catalins.tech/git-aliases-what-are-they-and-how-to-use-them" rel="noopener ugc nofollow" target="_blank"> <em class="nw"> Git别名</em> </a> <em class="nw">加速你的开发。</em></p><p id="3170" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">如果你想</em> <a class="ae lt" href="https://catalins.tech/how-to-start-your-blog-as-a-developer" rel="noopener ugc nofollow" target="_blank"> <em class="nw">以开发者的身份开博</em> </a> <em class="nw">，我推荐你阅读《</em> <a class="ae lt" href="https://catalins.tech/how-to-start-your-blog-as-a-developer" rel="noopener ugc nofollow" target="_blank"> <em class="nw">如何以开发者的身份开博</em> </a> <em class="nw">》一文！</em></p><p id="43fe" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">你是否很难跟上科技领域的最新消息？参见 <a class="ae lt" href="https://catalins.tech/one-way-to-stay-up-to-date-as-developer" rel="noopener ugc nofollow" target="_blank"> <em class="nw">作为开发者保持最新状态的一种方法</em> </a> <em class="nw">！</em></p><p id="daf1" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">学习</em> <a class="ae lt" href="https://catalins.tech/how-to-use-asyncawait-in-javascript" rel="noopener ugc nofollow" target="_blank"> <em class="nw">如何在JavaScript </em> </a> <em class="nw">中使用Async/Await！</em></p><p id="cc99" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">GitHub简介目前风靡一时。了解 <a class="ae lt" href="https://catalins.tech/how-to-create-a-kickass-github-profile-page" rel="noopener ugc nofollow" target="_blank"> <em class="nw">如何创建GitHub个人资料页面</em> </a> <em class="nw">！</em></p><p id="a074" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">查看这7个</em> <a class="ae lt" href="https://catalins.tech/7-github-repositories-to-help-you-crush-your-job-interviews" rel="noopener ugc nofollow" target="_blank"> <em class="nw">资源，帮你通过求职面试</em> </a> <em class="nw">！</em></p><p id="99c9" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">查看</em><a class="ae lt" href="https://catalins.tech/javascript-es2021-you-need-to-see-these-ecmascript-2021-features" rel="noopener ugc nofollow" target="_blank"><em class="nw">JavaScript ECMAScript 2021 es 2021</em></a><em class="nw">即将推出的新功能！</em></p><p id="649a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">你是初学程序员吗？查看这些</em> <a class="ae lt" href="https://catalins.tech/10-programming-project-ideas-for-beginners" rel="noopener ugc nofollow" target="_blank"> <em class="nw">编程项目思路适合初学者</em> </a> <em class="nw">！</em></p><p id="7188" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">你是在学习编码还是打算做编码？查看 <a class="ae lt" href="https://catalins.tech/20-best-places-to-learn-programming-for-free" rel="noopener ugc nofollow" target="_blank"> <em class="nw">免费学习编程的最佳去处</em> </a> <em class="nw">！</em></p><p id="90ec" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><a class="ae lt" href="https://catalins.tech/my-9-must-have-browser-extensions-for-increased-developer-productivity" rel="noopener ugc nofollow" target="_blank"> <em class="nw">用这9个浏览器扩展提高你的开发者生产力</em> </a> <em class="nw">！</em></p><p id="af49" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">如果你是Node.js的开发者，我建议你去Node.js </em>  <em class="nw">查看这些</em> <a class="ae lt" href="https://catalins.tech/the-4-creational-design-patterns-in-nodejs-you-should-know" rel="noopener ugc nofollow" target="_blank"> <em class="nw"> 4个创造性的设计模式！</em></a></p><p id="7cee" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="nw">查看这些惊人的</em><a class="ae lt" href="https://catalins.tech/javascript-es2020-the-features-you-should-know" rel="noopener ugc nofollow" target="_blank"><em class="nw">JavaScript ECMAScript 2020特性</em> </a> <em class="nw">！</em></p></div></div>    
</body>
</html>