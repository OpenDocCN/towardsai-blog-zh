<html>
<head>
<title>Stop the Stopwords using Different Python Libraries</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用不同的Python库停止停用词</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/stop-the-stopwords-using-different-python-libraries-ffa6df941653?source=collection_archive---------0-----------------------#2020-04-24">https://pub.towardsai.net/stop-the-stopwords-using-different-python-libraries-ffa6df941653?source=collection_archive---------0-----------------------#2020-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/0bb2dfaf60e43a81d9d6e344e002496b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nsm-opnRsKNAmKaK1Osu7w.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">资料来源:Pixabay.com</figcaption></figure><p id="a753" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">字母表字母是英语单词的组成部分。这些词按照语法规则组合在一起构成一个句子。因为语法原因，有些词出现的频率比其他词高。这些单词的主要目的是连接一个句子中的不同单词。这些词被称为停用词。通常，停用词没有词典意义。</p><p id="472f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">自然语言处理(NLP)中常用的停用词。在为NLP任务处理数据之前，请尝试删除停用词。</p><p id="eeba" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">不同的图书馆在它们的停用词集合中有不同的词计数。没有标准跟踪停用词的集合。这导致图书馆收集停用词。</p><p id="e086" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在本文中，我们将浏览这些库。</p><h1 id="a959" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">1.自然语言工具包(NLTK)</h1><p id="5d49" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">NLTK是用于文本预处理的领先python工具。使用NLTK库删除停用词。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="1618" class="mm lb iq mi b gy mn mo l mp mq">from nltk.corpus import stopwords</span><span id="f2fb" class="mm lb iq mi b gy mr mo l mp mq">nltk_stopwords = set(stopwords.words(‘english’))</span><span id="4a62" class="mm lb iq mi b gy mr mo l mp mq">text = f”The first time I saw Catherine she was wearing a vivid crimson dress and was nervously “ \<br/>       f”leafing through a magazine in my waiting room.”</span><span id="4e56" class="mm lb iq mi b gy mr mo l mp mq">text_without_stopword = [word for word in text.split() if word.lower() not in nltk_stopwords]</span><span id="7e14" class="mm lb iq mi b gy mr mo l mp mq">print(f”Original Text : {text}”)<br/>print(f”Text without stopwords : {‘ ‘.join(text_without_stopword)}”)<br/>print(f”Total count of stopwords in NLTK is {len(nltk_stopwords)}”)</span></pre><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ms"><img src="../Images/9a5d58655a68049811bc0aa838074f3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FZ9R5ogZ0XDG9aUah9mFwQ.jpeg"/></div></div></figure><p id="2556" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">NLTK库在停用词集合中有179个词。正如你所观察到的，像was、the和I这样最常见的词从句子中删除了。</p><p id="3d6c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">注意:默认库的停用词表中的所有单词都是小写的。为了获得更好的效果，请将文档/句子中的单词转换成小写。否则，停用词不会从数据中删除。</p><h1 id="2ccb" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">2.空间</h1><p id="d594" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">Spacy也在NLP中广泛使用库。使用spaCy库删除停用词。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="3b82" class="mm lb iq mi b gy mn mo l mp mq">import spacy</span><span id="2caa" class="mm lb iq mi b gy mr mo l mp mq">sp = spacy.load(‘en_core_web_sm’)<br/>spacy_stopwords = sp.Defaults.stop_words</span><span id="dec3" class="mm lb iq mi b gy mr mo l mp mq">text = f”The first time I saw Catherine she was wearing a vivid crimson dress and was nervously “ \<br/>       f”leafing through a magazine in my waiting room.”</span><span id="2f3f" class="mm lb iq mi b gy mr mo l mp mq">text_without_stopword = [word for word in text.split() if word not in spacy_stopwords]</span><span id="aefc" class="mm lb iq mi b gy mr mo l mp mq">print(f”Original Text : {text}”)<br/>print(f”Text without stopwords : {‘ ‘.join(text_without_stopword)}”)<br/>print(f”Total count of stopwords in SpaCy is {len(spacy_stopwords)}”)</span></pre><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/624294060be2b9808a50149146b94488.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-_kKqUdz0ms0aYCbqMjHvQ.jpeg"/></div></div></figure><p id="e48c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SpaCy的停用词集合中有326个词，是NLTK停用词的两倍。Spacy和NLTK显示了删除停止字后的不同输出。其结果是，图书馆有自己的停用词定义，这决定了停用词的字数。它们包括第一、第二、第十二等。数字单词。他们的列表还包括经常出现的动词，如go、find等。</p><h1 id="3360" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">3.根西姆</h1><p id="c9b3" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">使用genism库删除停用词。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="19e1" class="mm lb iq mi b gy mn mo l mp mq">from gensim.parsing.preprocessing import remove_stopwords<br/>import gensim</span><span id="48a9" class="mm lb iq mi b gy mr mo l mp mq">gensim_stopwords = gensim.parsing.preprocessing.STOPWORDS</span><span id="98a8" class="mm lb iq mi b gy mr mo l mp mq">text = f”The first time I saw Catherine she was wearing a vivid crimson dress and was nervously “ \<br/>       f”leafing through a magazine in my waiting room.”</span><span id="f2f2" class="mm lb iq mi b gy mr mo l mp mq">print(f”Original Text : {text}”)<br/>print(f”Text without stopwords : {remove_stopwords(text.lower())}”)<br/>print(f”Total count of stopwords in Gensim is {len(list(gensim_stopwords))}”)</span></pre><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/3a570604dc7beea10cd81a298c25692e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KoLnIV-DOhjwcQxWF4Z_eQ.jpeg"/></div></div></figure><p id="64d6" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Gensim的停用词集合中有337个词。他们的停用词集合类似于Spacy。remove_stopwords函数直接从句子中删除停用词。</p><h1 id="d4df" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">4.sci kit-学习</h1><p id="7d66" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">Scikit-learn在数据建模中非常流行。使用Scikit-learn库删除停用词。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="8dab" class="mm lb iq mi b gy mn mo l mp mq">from sklearn.feature_extraction.text import ENGLISH_STOP_WORDS</span><span id="d33d" class="mm lb iq mi b gy mr mo l mp mq">text = f”The first time I saw Catherine she was wearing a vivid crimson dress and was nervously “ \<br/>       f”leafing through a magazine in my waiting room.”</span><span id="99ce" class="mm lb iq mi b gy mr mo l mp mq">text_without_stopword = [word for word in text.split() if word not in ENGLISH_STOP_WORDS]</span><span id="999a" class="mm lb iq mi b gy mr mo l mp mq">print(f”Original Text : {text}”)<br/>print(f”Text without stopwords : {‘ ‘.join(text_without_stopword)}”)<br/>print(f”Total count of stopwords in Sklearn is {len(ENGLISH_STOP_WORDS)}”)</span></pre><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/3a570604dc7beea10cd81a298c25692e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KoLnIV-DOhjwcQxWF4Z_eQ.jpeg"/></div></div></figure><p id="06e7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">Scikit-learn的停用词集合中有318个词。他们的停用词集合类似于Spacy和Gensim。</p><p id="7857" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">注意:有时，可以归类为停用词的词在上述库的默认停用词列表中不可用。您可以根据自己的选择修改现有的停用词集合。使用append添加或remove从停用字词集合中删除字词。</p><p id="cb8c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">修改图书馆的默认停用词表。</p><pre class="md me mf mg gt mh mi mj mk aw ml bi"><span id="866f" class="mm lb iq mi b gy mn mo l mp mq">from nltk.corpus import stopwords<br/>nltk_stopwords = stopwords.words(‘english’)</span><span id="63e5" class="mm lb iq mi b gy mr mo l mp mq">text = f”The first time I saw Catherine she was wearing a vivid crimson dress and was nervously “ \<br/>       f”leafing through a magazine in my waiting room.”</span><span id="2a08" class="mm lb iq mi b gy mr mo l mp mq">text_without_stopword = [word for word in text.split() if word.lower() not in nltk_stopwords]</span><span id="40c6" class="mm lb iq mi b gy mr mo l mp mq">print(f”Original Text : {text}”)<br/>print(f”Text without stopwords : {‘ ‘.join(text_without_stopword)}”)</span><span id="1a16" class="mm lb iq mi b gy mr mo l mp mq"># ‘wearing’ added as a stopwords in nltk stopwords collection</span><span id="6729" class="mm lb iq mi b gy mr mo l mp mq">nltk_stopwords.append(‘wearing’)<br/>text_without_stopword = [word for word in text.split() if  word.lower() not in nltk_stopwords]</span><span id="ab92" class="mm lb iq mi b gy mr mo l mp mq">print(f”Text with wearing stopwords added : {‘ ‘.join(text_without_stopword)}”)</span><span id="cd4e" class="mm lb iq mi b gy mr mo l mp mq"># ‘my’ removed as a stopwords in nltk stopwords collection</span><span id="7d2c" class="mm lb iq mi b gy mr mo l mp mq">nltk_stopwords.remove(‘my’)</span><span id="0e54" class="mm lb iq mi b gy mr mo l mp mq">text_without_stopword = [word for word in text.split() if word.lower() not in nltk_stopwords]</span><span id="e198" class="mm lb iq mi b gy mr mo l mp mq">print(f”Text with my stopwords removed : {‘ ‘.join(text_without_stopword)}”)</span></pre><figure class="md me mf mg gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/59285c47f9d58dbdb740e45636f3ca45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oC7r-MsP_hECqhXJw1eUqQ.jpeg"/></div></div></figure><h1 id="82ec" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">结论</h1><p id="e4a3" class="pw-post-body-paragraph kc kd iq ke b kf ly kh ki kj lz kl km kn ma kp kq kr mb kt ku kv mc kx ky kz ij bi translated">为停用词选择python库完全取决于NLP任务。如果使用NLTK库进行文本处理，那么不建议使用Gensim库来处理停用词。停用字词删除减少了处理时间和磁盘空间，并提高了准确性。因此，在训练模型之前，请使用停用字词删除来清理数据。</p><p id="9b1b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">希望这篇文章能帮助你解决NLP模型和问题。</p><p id="fc97" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">作者的其他文章</strong></p><ol class=""><li id="4438" class="mw mx iq ke b kf kg kj kk kn my kr mz kv na kz nb nc nd ne bi translated"><a class="ae nf" href="https://medium.com/analytics-vidhya/first-step-in-eda-descriptive-statistics-analysis-f49ca309da15" rel="noopener">EDA的第一步:描述性统计分析</a></li><li id="8666" class="mw mx iq ke b kf ng kj nh kn ni kr nj kv nk kz nb nc nd ne bi translated"><a class="ae nf" href="https://towardsdatascience.com/automate-sentiment-analysis-process-for-reddit-post-textblob-and-vader-8a79c269522f" rel="noopener" target="_blank">Reddit Post:text blob和VADER </a>的自动化情感分析流程</li><li id="2a00" class="mw mx iq ke b kf ng kj nh kn ni kr nj kv nk kz nb nc nd ne bi translated"><a class="ae nf" href="https://towardsdatascience.com/discover-the-sentiment-of-reddit-subgroup-using-roberta-model-10ab9a8271b8" rel="noopener" target="_blank">使用罗伯塔模型发现Reddit子群的情绪</a></li></ol></div></div>    
</body>
</html>