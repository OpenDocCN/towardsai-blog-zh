<html>
<head>
<title>Plotly Express: Interprete data through interactive visualization</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Plotly Express:通过交互式可视化解释数据</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/matplotlib-is-dead-long-life-to-plotly-express-e1671dce0d18?source=collection_archive---------0-----------------------#2021-04-01">https://pub.towardsai.net/matplotlib-is-dead-long-life-to-plotly-express-e1671dce0d18?source=collection_archive---------0-----------------------#2021-04-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="aa7a" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据可视化，意见</h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div class="gh gi jz"><img src="../Images/a0270b61531bcd81c8a6eb0a5f77d3c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/1*ePWWolJMYpFrQnyi-ltbng.gif"/></div><figcaption class="kg kh gj gh gi ki kj bd b be z dk translated">作者图片</figcaption></figure><p id="6502" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">这是使用其他工具来可视化数据的最佳时机。你知道<strong class="km jd"> Matplotlib </strong>吗？你做梦去吧。也许它可以很容易应用并且不占用太多内存，但是很难从静态图中观察到特征随时间的变化。</p><p id="def7" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">不经意间，当我开始为我的数据科学实习工作时，我开始使用一个神话般的Python库。我做梦也没想到这样的事情会发生。它叫做<strong class="km jd">剧情快车</strong>。你终于可以和图表互动了。令人惊讶的是，它可以看到每个细节，每个点，你甚至可以缩放你想要检查的间隔。</p><p id="6d23" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">在本文中，我将向您展示使用这个神奇的库的基本知识。是的，不可思议，也许我夸大了，但是我认为你可以理解这些五彩缤纷的动态的情节。它非常容易使用，有直观的功能，没有很长的代码。让我们开始这段旅程，就像爱丽丝梦游仙境一样！</p><h1 id="ff9c" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">Plotly Express</h1><p id="b709" class="pw-post-body-paragraph kk kl it km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh im bi translated">Plotly是一家使用Python、R和JavaScript构建交互式高质量数据可视化工具的公司。它于2012年在加拿大蒙特利尔成立。它提供了种类繁多的产品，尤其是Dash，一个用于构建基于web的分析应用程序的框架。2019年，他们发布了新的高级Python可视化库:<a class="ae ml" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"> Plotly Express </a>。通常作为px导入的<strong class="km jd"> plotly.express </strong>模块包含使用<strong class="km jd">图形对象</strong>构建图形的函数。该图的构建模块包含在<strong class="km jd"> plotly.graph_objects </strong>模块中，由形成布局的轨迹(散点图、直方图等)和轨迹类型的属性组成。plotly.express的功能使用起来很直观，并且可以很好地处理Pandas DataFrame对象。</p><h1 id="688d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">概观</h1><p id="fbe0" class="pw-post-body-paragraph kk kl it km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh im bi translated">在本教程中，我们将使用相同的数据集来显示图表。我想你在哪里听过，因为它很有名。它叫做<strong class="km jd">虹膜</strong>。该名称背后的原因是由于它包含三种鸢尾属物种，并由这三种物种各自的50个样本组成。从每个样本中收集了四个特征:萼片和花瓣的长度和宽度。</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ms"><img src="../Images/64f12f6624cd37c553b0763784aa22ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GC9AxLtp6klYI-DCWkuonQ.png"/></div></div></figure><p id="aa17" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">一旦我们导入了库和数据集，我们就可以开始尝试显示绘图的基本功能。下面是一个<strong class="km jd">散点图</strong>的例子，显示了萼片的宽度和长度之间的关系。使用Plotly Express模块中的函数scatter，我们可以轻松地构建图形，指定DataFrame对象的必要参数、x轴上的变量和y轴上的变量。</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/e285c0c6d8b79b973b5e65d4888a16c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*DMLGgztrxG1oLaUaLIjsEw.gif"/></div></figure><p id="623e" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">可以建立更精细的散点图，包括物种和花瓣长度作为信息。三个物种中的每一个都由不同的颜色代表，而圆点的大小与花瓣的长度成正比。结果是这张漂亮的图表:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi my"><img src="../Images/f42af02e1eb9216dbdb2b3ba1ba984f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XVx4o1xbWr2hIDcIoq0Fuw.png"/></div></div></figure><p id="e8fc" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">但是，如果我们想要对数据集中的所有要素有一个概述呢？简单的散点图是不够的。一个<strong class="km jd"> 3D散点图</strong>是这个问题的解决方案。在这个三维图中，我包含了五个维度:</p><ul class=""><li id="cbec" class="mz na it km b kn ko kr ks kv nb kz nc ld nd lh ne nf ng nh bi translated">第一维:萼片在x轴上的长度</li><li id="054b" class="mz na it km b kn ni kr nj kv nk kz nl ld nm lh ne nf ng nh bi translated">第二维:y轴上的花瓣长度</li><li id="25c3" class="mz na it km b kn ni kr nj kv nk kz nl ld nm lh ne nf ng nh bi translated">第三维:z轴上的花瓣宽度</li><li id="aea2" class="mz na it km b kn ni kr nj kv nk kz nl ld nm lh ne nf ng nh bi translated">第四维:不同的颜色对应不同的物种</li><li id="698e" class="mz na it km b kn ni kr nj kv nk kz nl ld nm lh ne nf ng nh bi translated">第五维:圆点的大小与萼片的宽度成正比</li></ul><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/d3c0dcb5560833de5228b61f38d6b8d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*UCxUOuUGAxDxz0vyUdFNew.gif"/></div></figure><p id="36f4" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">另一种很好地表示每对特征之间关系的方法是使用函数scatter_matrix:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi no"><img src="../Images/0fefa1a42797fb20e7f766265581d140.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vk6ZteOQRz7Y4kllA97jTA.png"/></div></div></figure><p id="6c0c" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">在我们看到了这些特征之间的关系之后，我们可能会有兴趣看看这些特征的分布。了解特定特性的值的分布的一个简单方法是显示一个<strong class="km jd">箱线图</strong>。从这个图形工具中，您可以一次观察到许多模式:方差、中位数、第一个和第三个分位数以及异常值。</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi np"><img src="../Images/daea1c26f2f17c3c2eaafaf30c0e987c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MZxsXg9aRUNqrpAPMJkQoA.png"/></div></div></figure><p id="af4d" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">得益于plotly.express模块提供的交互式箱线图，可以直观显示与最小值和最大值、第一、第二和第三分位数相对应的特定值。下面我还包括了三个物种的信息，指定了y变量:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nq"><img src="../Images/dbe0b25486b477e1f725d42b67cd7d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*foAHk-akoBuhl2DhYOJlog.png"/></div></div></figure><p id="4a60" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">为了获得关于数据分布的更完整的信息，我们还需要<strong class="km jd">直方图</strong>。它表示特定数值变量的每个值的频率分布。每个容器计算该特定值出现的次数。有很多可能的聚合函数，比如sum和average，而不仅仅是count。使用函数px.histogram()可以可视化萼片宽度特征的频率分布:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nr"><img src="../Images/6cb465060a6acb8d4df602b7ef182feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6I6z1BUzn854y98OnbW2cw.png"/></div></div></figure><p id="9316" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">和以前一样，我想用一个特征来展示物种之间的差异。通过为不同的萼片宽度值生成几个直方图是可能的。每种颜色代表三种物种中的一种。还有一些叠加直方图并降低不透明度的函数，以便能够同时看到三个直方图，即使它们具有相同的值。</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi ns"><img src="../Images/e0bdfd2af8512af18170dda3523e2b64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c-k0ixt1ZZvm6XoZXhv6RQ.png"/></div></div></figure><p id="f324" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">使用直方图函数，还可以构建<strong class="km jd">条形图</strong>。我们可以计算三个物种中每一个的观察次数:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nt"><img src="../Images/12906492876155548588f24e33a6daf2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNFTi2rc3avb0_H4JwuMFg.png"/></div></div></figure><p id="2077" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">事实上，该数据集为每个物种收集了50个样本。Plotly Express提供了其他工具，可以将更多的情节组合在一起。在这种情况下，我们可以将散点图与箱线图结合起来，用于包含的每个功能:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nu"><img src="../Images/e9bab6eee2efdbfc6135caad4d8c3e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hvyGmg4h7PUoRjCylbSo7A.png"/></div></div></figure><p id="5d28" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">或者我们可以立刻看到散点图和直方图:</p><figure class="mm mn mo mp gt kd"><div class="bz fp l di"><div class="mq mr l"/></div></figure><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nv"><img src="../Images/e026647710165e21f5309505530cced7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8OIUTiwbGLdE8Hr1kbDeig.png"/></div></div></figure><h1 id="b9b4" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">保存文件</h1><p id="40a3" class="pw-post-body-paragraph kk kl it km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh im bi translated">有许多方法可以将数字导出到您的本地PC上。更直观的方法是单击图表顶部的摄像机底部:</p><figure class="mm mn mo mp gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="mt mu di mv bf mw"><div class="gh gi nw"><img src="../Images/0d55d4ecf5f5061b05a7f8395f14838e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kx6wVc59uWlNMb__hcvo5Q.png"/></div></div></figure><p id="6e1e" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">第二种可能是在已经创建了绘图之后添加Python代码行:</p><pre class="mm mn mo mp gt nx ny nz oa aw ob bi"><span id="577d" class="oc lj it ny b gy od oe l of og">fig.write_image("images/fig1.png")<br/>fig.write_html("images/fig1.html")</span></pre><p id="9348" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">如果你想存储一个静态图形，典型的导出图形的格式有<strong class="km jd"> png </strong>、<strong class="km jd"> jpeg </strong>、<strong class="km jd"> webp </strong>、<strong class="km jd"> svg </strong>、<strong class="km jd"> pdf </strong>、<strong class="km jd"> eps、html </strong>。</p><h1 id="104a" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">最终想法:</h1><p id="5a5f" class="pw-post-body-paragraph kk kl it km b kn mg kp kq kr mh kt ku kv mi kx ky kz mj lb lc ld mk lf lg lh im bi translated">在本教程中，我只展示了这个惊人的库的最著名的图形。还有许多其他多彩的情节有待发现。你最终可以在<a class="ae ml" href="https://plotly.com/python/plotly-express/" rel="noopener ugc nofollow" target="_blank"> Plotly Express </a>的官网上寻找其他代码示例。该网站是一个赏心悦目的网站，你不会后悔决定看看这些高质量和交互式条形图，散点图，热图，直方图，支线剧情和更多。如果你在这个单调的covid时期感到无聊，看看剧情，你会感觉好一点。GitHub代码可在<a class="ae ml" href="https://github.com/eugeniaring/plotly_express/blob/main/plotlyexpress.ipynb" rel="noopener ugc nofollow" target="_blank">这里</a>获得。感谢您的阅读。祝您愉快！</p><p id="17b3" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">您有兴趣看看使用这个库的其他文章吗？下面我建议另一个美丽的视觉化应用于PCA的故事。</p><div class="oh oi gp gr oj ok"><a rel="noopener  ugc nofollow" target="_blank" href="/machine-learning-1096c38e6a18"><div class="ol ab fo"><div class="om ab on cl cj oo"><h2 class="bd jd gy z fp op fr fs oq fu fw jc bi translated">主成分分析的变量约简</h2><div class="or l"><h3 class="bd b gy z fp op fr fs oq fu fw dk translated">使用库Plotly Express对MNIST数据集进行可视化的示例</h3></div><div class="os l"><p class="bd b dl z fp op fr fs oq fu fw dk translated">pub.towardsai.net</p></div></div><div class="ot l"><div class="ou l ov ow ox ot oy ke ok"/></div></div></a></div></div><div class="ab cl oz pa hx pb" role="separator"><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe pf"/><span class="pc bw bk pd pe"/></div><div class="im in io ip iq"><p id="b24f" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">你喜欢我的文章吗？ <a class="ae ml" href="https://eugenia-anello.medium.com/membership" rel="noopener"> <strong class="km jd"> <em class="pg">成为会员</em> </strong> </a> <strong class="km jd"> <em class="pg">每天无限获取数据科学新帖！这是一种间接的支持我的方式，不会给你带来任何额外的费用。如果您已经是会员，</em> </strong> <a class="ae ml" href="https://eugenia-anello.medium.com/subscribe" rel="noopener"> <strong class="km jd"> <em class="pg">订阅</em> </strong> </a> <strong class="km jd"> <em class="pg">每当我发布新的数据科学和python指南时，您都可以收到电子邮件！</em> </strong></p></div></div>    
</body>
</html>