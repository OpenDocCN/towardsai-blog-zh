<html>
<head>
<title>A friendly guide to Web Scraping Greenhouse Gas data from Wikipedia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">维基百科上收集温室气体数据的友好指南</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/scraping-a-wikipedia-table-about-greenhouse-gas-600f2990af56?source=collection_archive---------1-----------------------#2021-04-28">https://pub.towardsai.net/scraping-a-wikipedia-table-about-greenhouse-gas-600f2990af56?source=collection_archive---------1-----------------------#2021-04-28</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9db0" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/web-scraping" rel="noopener ugc nofollow" target="_blank">网页抓取</a></h2><div class=""/><div class=""><h2 id="a8e8" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">如何用八元分析法提取表格内容并应用聚类分析</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/3bf9be4ab18e1f74ccc52e329d3c8a09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1324/format:webp/1*EDTsvSahw4Tu4Q8YWg2Nug.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">作者插图</figcaption></figure><p id="34d6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd"> <em class="lz">免责声明:</em> </strong> <em class="lz">本文仅作教育用途。我们不鼓励任何人抓取网站，尤其是那些可能有条款和条件反对此类行为的网站。</em></p><p id="98a0" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="lz">这篇文章是建造铲运机系列教程的第二篇。下面，是全系列:</em></p><ol class=""><li id="fbc9" class="ma mb it lf b lg lh lj lk lm mc lq md lu me ly mf mg mh mi bi translated"><a class="ae mj" href="https://betterprogramming.pub/understanding-html-basics-for-web-scraping-ae351ee0b3f9" rel="noopener ugc nofollow" target="_blank"> <em class="lz">网页抓取的HTML基础</em> </a></li><li id="face" class="ma mb it lf b lg mk lj ml lm mm lq mn lu mo ly mf mg mh mi bi translated"><em class="lz">用Octoparse进行网页抓取(本帖)</em></li><li id="9fc6" class="ma mb it lf b lg mk lj ml lm mm lq mn lu mo ly mf mg mh mi bi translated"><a class="ae mj" href="https://www.analyticsvidhya.com/blog/2021/08/an-intuitive-guide-to-web-scraping-using-selenium/" rel="noopener ugc nofollow" target="_blank"> <em class="lz">用硒刮网</em> </a></li><li id="bae9" class="ma mb it lf b lg mk lj ml lm mm lq mn lu mo ly mf mg mh mi bi translated"><a class="ae mj" href="https://www.analyticsvidhya.com/blog/2021/08/a-simple-introduction-to-web-scraping-with-beautiful-soup/" rel="noopener ugc nofollow" target="_blank">网刮配美汤</a></li></ol><p id="da20" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="lz">本系列的目的是学习从网站中提取数据。网站中的大部分数据都是HTML格式的，那么第一个教程解释这种标记语言的基础知识。第二个指南展示了使用直观的web抓取工具轻松抓取数据的方法，这不需要任何HTML知识。相反，上一期教程的重点是使用Python从web上收集数据。在这种情况下，你需要掌握直接与HTML页面进行交互，你需要一些以前的知识。</em></p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><p id="d7f4" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">气候变化和全球变暖是你每天都能找到的常用词。而这些概念都是和某个东西有联系的。510亿吨温室气体。所有这些气体都是世界上所有国家产生的。你可以在维基百科页面上找到这些数据。这个表格叫做<a class="ae mj" href="https://en.wikipedia.org/wiki/List_of_countries_by_greenhouse_gas_emissions" rel="noopener ugc nofollow" target="_blank">温室气体排放国家名单</a>。</p><p id="edce" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">你可能会问自己为什么搜集温室气体的数据。我认为数据科学可以有利于获取更多的知识，我们可以直接接触大多数人避免思考的东西。评估我们排放的影响对于未来取得进展至关重要。</p><p id="0e08" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">实际上，我正在读比尔·盖茨写的《如何避免气候变化》这本书，我开始意识到，与气候变化相比，covid似乎是一个笑话。很难接受我们的生活方式每天产生510亿吨温室气体。怎么可能呢？我建议你阅读这本书，深入了解原因，以及如何找到解决这一紧急情况的建议方案。</p><p id="56da" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">无论如何，在这篇文章中，我将使用<a class="ae mj" href="https://www.octoparse.com/" rel="noopener ugc nofollow" target="_blank"> Octoparse </a>来提取维基百科中温室气体排放的国家列表。这是一个强大的数据提取软件，使用直观，允许无编码的抓取。我认为，当你以前没有网络抓取的经验，并且你有严格的截止日期要遵守时，它会很有用。一旦我们从维基百科搜集了内容，我们将通过k-means算法根据温室气体排放量对国家进行分组，以查看各州之间的相似性/差异。</p><pre class="ks kt ku kv gt mw mx my mz aw na bi"><span id="d800" class="nb nc it mx b gy nd ne l nf ng"><strong class="mx jd">Table of Contents:</strong></span><span id="d21f" class="nb nc it mx b gy nh ne l nf ng">1. <a class="ae mj" href="#8dfb" rel="noopener ugc nofollow">Check robots.txt</a></span><span id="ef5a" class="nb nc it mx b gy nh ne l nf ng">2. <a class="ae mj" href="#f49c" rel="noopener ugc nofollow">Let's begin to scrape</a></span><span id="e076" class="nb nc it mx b gy nh ne l nf ng">3. <a class="ae mj" href="#0ab7" rel="noopener ugc nofollow">Manual Workflow</a></span><span id="94fe" class="nb nc it mx b gy nh ne l nf ng">4. <a class="ae mj" href="#dd53" rel="noopener ugc nofollow">Save table data</a></span><span id="a7be" class="nb nc it mx b gy nh ne l nf ng">5. <a class="ae mj" href="#4021" rel="noopener ugc nofollow">Cluster analysis</a> </span></pre><h1 id="8dfb" class="ni nc it bd nj nk nl nm nn no np nq nr ki ns kj nt kl nu km nv ko nw kp nx ny bi translated">1.Check robots.txt</h1><p id="a792" class="pw-post-body-paragraph ld le it lf b lg nz kd li lj oa kg ll lm ob lo lp lq oc ls lt lu od lw lx ly im bi translated">在开始刮之前，我们应该在你感兴趣的网站上做一个检查。为了避免不必要的法律影响，查看robots.txt文件很重要，它可以在任何网站上找到。这个名字代表机器人排除协议。一个例子是位于https://it.wikipedia.org/robots.txtT2的维基百科的robots.txt文件。有三种主要情况需要区分。</p><p id="247c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">*表示网站对所有机器人开放，可以完全访问内容。</p><pre class="ks kt ku kv gt mw mx my mz aw na bi"><span id="1b99" class="nb nc it mx b gy nd ne l nf ng">User-agent: *<br/>Disallow: </span></pre><p id="fbb6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">另一种情况可能是相反的情况，即不可能访问网站的所有数据。在这个例子中，网站屏蔽了对Googlebot搜索引擎的所有访问。</p><pre class="ks kt ku kv gt mw mx my mz aw na bi"><span id="9afb" class="nb nc it mx b gy nd ne l nf ng">User-agent: Googlebot<br/>Disallow: /</span></pre><p id="0746" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在大多数情况下，只有部分网站不允许。在本例中，它不允许从/media/目录中抓取包含特定参数和数据的搜索结果。</p><pre class="ks kt ku kv gt mw mx my mz aw na bi"><span id="1cc0" class="nb nc it mx b gy nd ne l nf ng">User-agent: *<br/>Disallow: /media/<br/>Disallow: /search?q=</span></pre><p id="17da" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">正如您所推断的，您必须在URL的末尾添加“/robots.txt”来检查robots.txt文件。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="f49c" class="ni nc it bd nj nk oe nm nn no of nq nr ki og kj nt kl oh km nv ko oi kp nx ny bi translated">2.让我们开始刮吧</h1><p id="1cb9" class="pw-post-body-paragraph ld le it lf b lg nz kd li lj oa kg ll lm ob lo lp lq oc ls lt lu od lw lx ly im bi translated">要使用<a class="ae mj" href="https://www.octoparse.com/" rel="noopener ugc nofollow" target="_blank">网页抓取工具</a>，需要下载并在网站注册。注册后，你必须登录到该软件，并在白色栏中复制你的网址，然后点击“找到1个有效网址”。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oj"><img src="../Images/e249bf4cee60cc6e2825f36260ffdedf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t1n3RrdV7x35l0sOBWLypw.png"/></div></div></figure><p id="28be" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Voilà: Octoparse将向您展示一个页面，上面列出了2016年各国及其相应的温室气体年排放总量。该软件将检测网页，并向您显示数据预览。</p><p id="ade1" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在大多数情况下，它会自动识别表格数据，但在这种情况下，表格包含许多空元素，并且它只返回数据预览中第一列的元素。因此，<strong class="lf jd">自动检测器没有收集到所有数据，我们需要手动设置任务</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oo"><img src="../Images/f36446198cbd955ca33e289c1da80b29.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mfoCoScSJJ_E9de5hpZqMw.png"/></div></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="0ab7" class="ni nc it bd nj nk oe nm nn no of nq nr ki og kj nt kl oh km nv ko oi kp nx ny bi translated">3.手动工作流程</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/eadb888ef3a8c2176065afab08cbe217.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*hyVdzKagxfLjHAzeE-Jltw.gif"/></div></figure><p id="de75" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在这种情况下，自动检测失败，我们需要做一个额外的步骤。首先，我们按下“创建工作流”按钮，并选择表格的第一个单元格。我们点击提示面板右下角的图标后，<strong class="lf jd">展开选择区域</strong>。</p><p id="bc4f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们选择第一行的所有单元格，它们将被涂成绿色。这样，Octoparse将自动选择表格的所有其他行。我们还需要重命名表中的字段。这可以通过直接从数据预览部分进行修改来完成。</p><p id="e5a0" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们还可以删除表中不必要的列，并交换列的位置。一旦我们固定了表格，我们可以点击提示面板中的<strong class="lf jd">提取数据</strong>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oq"><img src="../Images/e3083abc4cd4394e09abb703705698fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5k9rYjI4hYLJU1RP4oZ9dA.png"/></div></div></figure><p id="aff6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在您按下“提取数据”按钮并更改标题行后，您应该得到以下结果:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi or"><img src="../Images/92e5ec3b6154aa60eb0f9b0a3e1b85d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZFliap9Ew2d843dDdOuUwA.png"/></div></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="852c" class="ni nc it bd nj nk oe nm nn no of nq nr ki og kj nt kl oh km nv ko oi kp nx ny bi translated">4.保存表格数据</h1><p id="67e6" class="pw-post-body-paragraph ld le it lf b lg nz kd li lj oa kg ll lm ob lo lp lq oc ls lt lu od lw lx ly im bi translated">要存储软件中显示的数据，我们必须单击顶部与“保存”按钮相邻的“运行”按钮。我们需要进入<strong class="lf jd">运行→在你的设备上运行</strong>。</p><p id="1c1e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">将会打开一个窗口，Octoparse将在其中执行我们设置的工作。一旦提取完数据，我们就可以点击底部的“导出数据”了。可用的格式有。xlsx，。csv，。在我的例子中，我选择了. xlsx格式。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi os"><img src="../Images/6bc745b173a1c6426ab5088eed60386e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zPvFwazZGahjRzqerbDRcA.png"/></div></div></figure></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="4021" class="ni nc it bd nj nk oe nm nn no of nq nr ki og kj nt kl oh km nv ko oi kp nx ny bi translated">5.聚类分析</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ot"><img src="../Images/9671826e41e868db76ce8749b6d4c454.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VG9bxFHzNdhys64XaMHYqg.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">作者插图。</figcaption></figure><p id="ca0a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">从这些数据中获取更多信息的一个有效方法是将相似的国家分组，同时考虑到温室气体的排放水平。集群的形成也将基于关于<strong class="lf jd">纬度</strong>、<strong class="lf jd">经度、</strong>的轨迹信息，这些轨迹信息可以间接影响GHG排放。</p><p id="c189" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们将应用<strong class="lf jd"> k-means聚类</strong>，这是最简单也是最常见的无监督方法之一。该算法的名称源自使用<strong class="lf jd">质心</strong>的每个聚类的表示，该质心通常是平均值或加权平均值，在图中表示为“X”。</p><p id="962d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">为了很好地工作，该方法需要先验知识，即k的值，即聚类的数量。因此，该算法的目标是找到最小化准则函数的k个聚类。它被称为<strong class="lf jd">惯性</strong>或<strong class="lf jd">类内平方和标准</strong>，用于测量类内观察值的可变性。标准越低，聚类越好。</p><p id="2b6a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">首先，让我们导入在上一步中导出的库和数据集。我将进一步解释与温室气体排放相关的四个领域的含义。基本上，数据集包含了2016年每个国家的温室气体年排放总量的信息。二氧化碳是GHG中最常见的。其他温室气体是甲烷和一氧化二氮。</p><p id="df66" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">该数据集提供了考虑到生产的排放量，包括每个国家的商品和服务消费。最后一栏提供了土地利用、土地利用变化和林业的排放量。你想知道这些特征的单位是什么。这是<strong class="lf jd">百万吨二氧化碳当量</strong> (MtCO2e)。二氧化碳当量的目的是找到一种比较不同温室气体排放量的方法。这种比较是通过将其他气体的量转换成具有相同全球变暖潜能的二氧化碳的当量来实现的[1]。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ow"><img src="../Images/80589196d0ea154903b4dfc61fc0f8a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FvlRGWvXSp8YrF24S7a05w.png"/></div></div></figure><p id="3670" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">该数据集包含欧洲的单个国家和整个欧盟。此外，我们有多种形式的温室气体排放，彼此高度相关。存在需要移除的冗余特征或行。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi ox"><img src="../Images/b8ef9720f81b3e9e079ed70ccab0b65a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8LrRfcUye2SjITvN-ki37A.png"/></div></div></figure><p id="d3e0" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">为了识别集群，我想添加国家的地理特征、纬度和经度。用于提取这些坐标的python包叫做<a class="ae mj" href="https://pypi.org/project/geopy/" rel="noopener ugc nofollow" target="_blank"> geopy </a>。它为地理编码服务提供了类，比如OpenStreetMap提名和Google地理编码。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oy"><img src="../Images/3d7c28155de0097a3ea6264085408a72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UlfKXaSuS8guN26wUhW9bA.png"/></div></div></figure><p id="2574" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在开始使用K-means之前，我们需要缩放我们的特征。我们需要小心缩放纬度和经度，它们分别在-90°和90°之间以及-180°和180°之间。解决这个问题的一个方法是<strong class="lf jd">将经纬度映射成x，y，z坐标</strong>。使用余弦和正弦，我们可以缩放这些特征[2]。这样，这三个新维度的范围将在-1和1之间。为了具有相同的值范围，我也将在-1和1之间缩放production_based_emission变量。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><p id="346c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在，我们终于可以应用sklearn库中的K均值算法了。我们需要考虑标准函数来选择聚类的数量k。正如我之前说过的，函数越低，集群内的观测就越不均匀。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi oz"><img src="../Images/504f59146d8b0a855c203750ea376848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eejhJplmRU8CDRF2cIpGrA.png"/></div></div></figure><p id="4b65" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">从不同k值的失真图来看，很明显k=4是算法的一个好选择。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/34bb130710cfd448b0823db636043fe0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*Rs-crrg-wW5ZHWTfTim_kg.png"/></div></figure><p id="7806" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">为了快速了解使用kmeans获得的结果，我们可以使用图形工具，例如条形图:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pb"><img src="../Images/84a2cac76f30b53616e22ee2fcd24f0d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AF6-wOdxL-b-_iQssDO-kw.png"/></div></div></figure><p id="c197" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我们可以观察到，有一个包含大多数国家的集群，两个由单个观察形成的集群，分别由<strong class="lf jd">中国</strong>和<strong class="lf jd">美国</strong>组成，还有一个集群包含<strong class="lf jd">印尼</strong>、<strong class="lf jd">印度</strong>和<strong class="lf jd">俄国</strong>。但有趣的是，我们可以通过3D散点图来了解这些群体的起源:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/d4673964a3671e12d58005591b7b11f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/1*fkLoK7Nixxhro6aEnWGdjA.gif"/></div></figure><p id="05f3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">很容易看出，相对于所有剩余的点，聚类2和聚类4的点确实很远。蓝点和红点分别对应世界上最大的排放国中国和美国。这两个国家在地理位置上也非常遥远，区分得很清楚。与中国和美国相比，类组3由排放量较少的国家组成，但其排放量高于类组4，而类组4中的大多数国家属于欧洲联盟。</p><p id="4a14" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">使用plotly.express库中的地理散点图可以获得更清晰的表示。函数px.scatter_geo不会通过仅指定国家的名称来自动绘制散点图中的点，但是它还需要通过参数lon和lat来设置经度和纬度。此外，点数的大小将与温室气体排放量成正比。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ou ov l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="ok ol di om bf on"><div class="gh gi pc"><img src="../Images/86ad7e43438fa38a0c89978f517143bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OHZLIeRquxIkJJmgVpfKOg.png"/></div></div></figure><p id="d688" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Voilà:我们可以看到由k-means算法提取的所有特征的世界地图。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="3b90" class="ni nc it bd nj nk oe nm nn no of nq nr ki og kj nt kl oh km nv ko oi kp nx ny bi translated">最终想法:</h1><p id="d48f" class="pw-post-body-paragraph ld le it lf b lg nz kd li lj oa kg ll lm ob lo lp lq oc ls lt lu od lw lx ly im bi translated">恭喜你！你已经发现了八解的潜力。用多了就真的很直观了。在大多数情况下，它会自动检测网站的功能，无需手动步骤。</p><p id="74bb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我希望您也喜欢聚类分析，它为您概述了与气候变化相关的数据的可能的数据科学应用。应该注意的是，这是一个复杂的问题，肯定有更合适的数据集和技术可以使用。我的目标是激发好奇心，打开你的思维。Github的代码在这里是<a class="ae mj" href="https://github.com/eugeniaring/webscraping/blob/main/green_cluster.ipynb" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="c559" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">如果你对更完整的全球排放历史感兴趣，我建议你访问网站<a class="ae mj" href="https://www.climatewatchdata.org/ghg-emissions?end_year=2018&amp;start_year=1990" rel="noopener ugc nofollow" target="_blank"> climatewatchdata </a>。这是一个免费的平台，提供关于气候变化的公开数据和可视化。</p><p id="9d1e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">感谢阅读。祝你有愉快的一天。</p></div><div class="ab cl mp mq hx mr" role="separator"><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu mv"/><span class="ms bw bk mt mu"/></div><div class="im in io ip iq"><h1 id="1e04" class="ni nc it bd nj nk oe nm nn no of nq nr ki og kj nt kl oh km nv ko oi kp nx ny bi translated">参考资料:</h1><p id="d69e" class="pw-post-body-paragraph ld le it lf b lg nz kd li lj oa kg ll lm ob lo lp lq oc ls lt lu od lw lx ly im bi translated">[1]<a class="ae mj" href="https://ec.europa.eu/eurostat/statistics-explained/index.php/Glossary:Carbon_dioxide_equivalent" rel="noopener ugc nofollow" target="_blank">https://EC . Europa . eu/Eurostat/statistics-explained/index . PHP/Glossary:Carbon _ CO2 _ equivalent</a></p><p id="9065" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">[2]<a class="ae mj" href="https://datascience.stackexchange.com/questions/13567/ways-to-deal-with-longitude-latitude-feature" rel="noopener ugc nofollow" target="_blank">https://data science . stack exchange . com/questions/13567/ways-to-deal-with-longitude-latitude-feature</a></p></div></div>    
</body>
</html>