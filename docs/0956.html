<html>
<head>
<title>The Beginners’ Guide to Elasticsearch — Part 3</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">弹性搜索初学者指南——第三部分</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/the-beginners-guide-to-elasticsearch-part-3-50352cdce23e?source=collection_archive---------4-----------------------#2020-09-21">https://pub.towardsai.net/the-beginners-guide-to-elasticsearch-part-3-50352cdce23e?source=collection_archive---------4-----------------------#2020-09-21</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="7e32" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a>，<a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><div class=""><h2 id="10fa" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">Elasticsearch和Kibana的安装步骤，索引和检索文档</h2></div><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div class="ab gv cl kx"><img src="../Images/878fbabb1a6d2c224060756f3095730c.png" data-original-src="https://miro.medium.com/v2/format:webp/0*Xgk5q3nRgqsfakKo.jpeg"/></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">图片来自官方页面:elastic.co</figcaption></figure></div><div class="ab cl le lf hy lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="in io ip iq ir"><p id="238c" class="pw-post-body-paragraph ll lm iu ln b lo lp ke lq lr ls kh lt lu lv lw lx ly lz ma mb mc md me mf mg in bi translated">在本文中，我们将介绍在Windows操作系统上安装Elasticsearch和Kibana的步骤。然而，步骤将类似于Linux、macOS和其他系统。最后，我们将通过Kibana快速运行基本命令，以确保Elasticsearch成功运行。</p><h1 id="ba67" class="mh mi iu bd mj mk ml mm mn mo mp mq mr kj ms kk mt km mu kn mv kp mw kq mx my bi translated">弹性搜索</h1><h2 id="fa8d" class="mz mi iu bd mj na nb dn mn nc nd dp mr lu ne nf mt ly ng nh mv mc ni nj mx ja bi translated">安装步骤</h2><ul class=""><li id="2d6f" class="nk nl iu ln b lo nm lr nn lu no ly np mc nq mg nr ns nt nu bi translated">从这个链接下载最新版本的Elasticsearch。解压缩下载的文件，并把它放在任何驱动器。</li></ul><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj nv"><img src="../Images/ac6f35003d30156757a79c752dda3c56.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NzBrPmoCT4Y5LZexyVh5Cg.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><ul class=""><li id="69d3" class="nk nl iu ln b lo lp lr ls lu oa ly ob mc oc mg nr ns nt nu bi translated">现在，打开命令提示符并运行<code class="fe od oe of og b">bin\elasticsearch.bat</code>。等待，直到您在命令提示符中看到信息<code class="fe od oe of og b">Cluster health status changed from [RED] to [YELLOW]</code>。</li></ul><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj oh"><img src="../Images/1da2a23cf45ffcaa143d0dc9f490f6e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p-6YHQ6i3UWwyhP23krmzQ.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><ul class=""><li id="85c5" class="nk nl iu ln b lo lp lr ls lu oa ly ob mc oc mg nr ns nt nu bi translated">转到你最喜欢的浏览器，粘贴这个<code class="fe od oe of og b"><a class="ae oi" href="http://localhost:9200" rel="noopener ugc nofollow" target="_blank">http://localhost:9200</a></code>，然后点击回车。如果你看到这条信息，它确认Elasticsearch开始运行。</li></ul><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj oj"><img src="../Images/d74b9e93ac36e53c79a3886f7e397542.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i9Sym63j0u8TdzPNIKGJdA.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><h1 id="f95f" class="mh mi iu bd mj mk ml mm mn mo mp mq mr kj ms kk mt km mu kn mv kp mw kq mx my bi translated">基巴纳</h1><h2 id="bc6b" class="mz mi iu bd mj na nb dn mn nc nd dp mr lu ne nf mt ly ng nh mv mc ni nj mx ja bi translated">安装步骤</h2><ul class=""><li id="13a8" class="nk nl iu ln b lo nm lr nn lu no ly np mc nq mg nr ns nt nu bi translated">从这个链接下载最新版本的Elasticsearch。解压缩下载的文件，并把它放在任何驱动器。</li></ul><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj ok"><img src="../Images/23c3e2e9a17f0b2b1db47a69b772fc73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DU4yg3lYDmOBrDPg3Kp3PQ.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><ul class=""><li id="6fdd" class="nk nl iu ln b lo lp lr ls lu oa ly ob mc oc mg nr ns nt nu bi translated">[可选]在编辑器中打开config/kibana.yml。设置<code class="fe od oe of og b">elasticsearch.hosts</code>指向您的Elasticsearch实例。如果我们在同一台机器上使用默认实例来尝试，您可以跳过这一步。</li><li id="03d2" class="nk nl iu ln b lo ol lr om lu on ly oo mc op mg nr ns nt nu bi translated">现在，打开命令提示符并运行<code class="fe od oe of og b">bin\kibana.bat</code>。等待，直到您在命令提示符上看到消息<code class="fe od oe of og b">[info][server][Kibana][http] http server running at <a class="ae oi" href="http://localhost:5601" rel="noopener ugc nofollow" target="_blank">http://localhost:5601</a></code>。</li></ul><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj oq"><img src="../Images/c7ceac7a86aa433482b4e070afb0c998.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4T_qSECYbMKrpP7w_yG7KQ.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><ul class=""><li id="80f0" class="nk nl iu ln b lo lp lr ls lu oa ly ob mc oc mg nr ns nt nu bi translated">转到浏览并粘贴这个<code class="fe od oe of og b"><a class="ae oi" href="http://localhost:9200" rel="noopener ugc nofollow" target="_blank">http://localhost:5</a>601</code>并点击回车。如果Kibana启动并运行，您应该会看到Kibana仪表板。</li></ul><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj or"><img src="../Images/4ca3eb0a45b5dab3a636cc6dc0dcd3cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2QO-kR3F7rm_W21m6gBLA.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><blockquote class="os ot ou"><p id="29f0" class="ll lm ov ln b lo lp ke lq lr ls kh lt ow lv lw lx ox lz ma mb oy md me mf mg in bi translated"><strong class="ln je">注意:</strong>第一次设置Kibana时，您可能会遇到错误“”。如果您遇到这个错误，请打开另一个命令提示符并运行这个命令:<code class="fe od oe of og b">curl -X DELETE <a class="ae oi" href="http://localhost:9200/.kibana*" rel="noopener ugc nofollow" target="_blank">http://localhost:9200/.kibana*</a></code></p></blockquote><p id="550f" class="pw-post-body-paragraph ll lm iu ln b lo lp ke lq lr ls kh lt lu lv lw lx ly lz ma mb mc md me mf mg in bi translated">现在Elasticsearch和Kibana都已经开始运行了。让我们快速索引一些记录并确认。如果您不理解这些命令</p><blockquote class="os ot ou"><p id="9a1b" class="ll lm ov ln b lo lp ke lq lr ls kh lt ow lv lw lx ox lz ma mb oy md me mf mg in bi translated"><strong class="ln je">注意</strong>:如果你试图通过不同的方法安装/设置Elasticsearch和Kibana，你可以在这里查看步骤<a class="ae oi" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote><p id="c23c" class="pw-post-body-paragraph ll lm iu ln b lo lp ke lq lr ls kh lt lu lv lw lx ly lz ma mb mc md me mf mg in bi translated"><strong class="ln je">基巴纳控制台:</strong>要访问基巴纳控制台与Elasticsearch交互，请从基巴纳仪表板(<code class="fe od oe of og b"><a class="ae oi" href="http://localhost:9200" rel="noopener ugc nofollow" target="_blank">http://localhost:5</a>601</code>)转到<code class="fe od oe of og b">Manage and Administer the Elastic Stack</code>部分，然后点击<code class="fe od oe of og b">console</code>，这将打开以下屏幕:</p><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj oz"><img src="../Images/37bf4de3414ffaa656bf4df20272bed4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8qhgkftga02GiuP6I8ssfA.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><h1 id="641a" class="mh mi iu bd mj mk ml mm mn mo mp mq mr kj ms kk mt km mu kn mv kp mw kq mx my bi translated">索引和检索文档的快速测试</h1><p id="2222" class="pw-post-body-paragraph ll lm iu ln b lo nm ke lq lr nn kh lt lu pa lw lx ly pb ma mb mc pc me mf mg in bi translated">既然Elasticsearch和Kibana实例都在运行，让我们将一些文档索引到Elasticsearch中(即，以关系数据库的形式将记录插入到数据库中)。</p><h2 id="c18a" class="mz mi iu bd mj na nb dn mn nc nd dp mr lu ne nf mt ly ng nh mv mc ni nj mx ja bi translated">为文档编制索引:</h2><p id="f275" class="pw-post-body-paragraph ll lm iu ln b lo nm ke lq lr nn kh lt lu pa lw lx ly pb ma mb mc pc me mf mg in bi translated">在下面的例子中，我们使用JSON结构通过POST方法将一个文档插入到索引名customer中。结果显示在右侧。</p><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj pd"><img src="../Images/2c062aa7afbf7e348e8c6179581e4943.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZ0IyqUknq6JP6GrzQZqbw.png"/></div></div><figcaption class="la lb gk gi gj lc ld bd b be z dk translated">作者图片</figcaption></figure><h2 id="d818" class="mz mi iu bd mj na nb dn mn nc nd dp mr lu ne nf mt ly ng nh mv mc ni nj mx ja bi translated">检索文档</h2><p id="359a" class="pw-post-body-paragraph ll lm iu ln b lo nm ke lq lr nn kh lt lu pa lw lx ly pb ma mb mc pc me mf mg in bi translated">下面的例子显示，我们能够从Elasticsearch中检索文档。</p><figure class="ks kt ku kv gu kw gi gj paragraph-image"><div role="button" tabindex="0" class="nw nx di ny bf nz"><div class="gi gj pe"><img src="../Images/5f78c4ac931769bc05959ce64a9ad778.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PrGylwsFpsF4oec4UGA4wg.png"/></div></div></figure><p id="8edc" class="pw-post-body-paragraph ll lm iu ln b lo lp ke lq lr ls kh lt lu lv lw lx ly lz ma mb mc md me mf mg in bi translated">如果您还没有理解这些命令，请不要担心。我将在以后的文章中详细介绍它们。敬请期待！！</p><p id="39f6" class="pw-post-body-paragraph ll lm iu ln b lo lp ke lq lr ls kh lt lu lv lw lx ly lz ma mb mc md me mf mg in bi translated"><em class="ov">阅读更多关于Python和数据科学的此类有趣文章，</em> <a class="ae oi" href="https://pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ln je"> <em class="ov">订阅</em> </strong> </a> <em class="ov">到我的博客</em><a class="ae oi" href="http://www.pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ln je">【www.pythonsimplified.com】</strong></a><strong class="ln je"><em class="ov">。</em> </strong>你也可以通过<a class="ae oi" href="https://www.linkedin.com/in/chetanambi/" rel="noopener ugc nofollow" target="_blank"> <strong class="ln je"> LinkedIn </strong> </a>联系我。</p></div><div class="ab cl le lf hy lg" role="separator"><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj lk"/><span class="lh bw bk li lj"/></div><div class="in io ip iq ir"><h1 id="7e98" class="mh mi iu bd mj mk pf mm mn mo pg mq mr kj ph kk mt km pi kn mv kp pj kq mx my bi translated">参考</h1><div class="pk pl gq gs pm pn"><a href="https://www.elastic.co/" rel="noopener  ugc nofollow" target="_blank"><div class="po ab fp"><div class="pp ab pq cl cj pr"><h2 class="bd je gz z fq ps fs ft pt fv fx jd bi translated">开源搜索:Elasticsearch、ELK Stack &amp; Kibana | Elastic的创造者</h2><div class="pu l"><h3 class="bd b gz z fq ps fs ft pt fv fx dk translated">我们是Elastic (ELK) Stack的创造者——Elastic search、Kibana、Beats和Logstash。安全可靠地…</h3></div><div class="pv l"><p class="bd b dl z fq ps fs ft pt fv fx dk translated">www.elastic.co</p></div></div><div class="pw l"><div class="px l py pz qa pw qb ky pn"/></div></div></a></div></div></div>    
</body>
</html>