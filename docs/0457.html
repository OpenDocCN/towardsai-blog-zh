<html>
<head>
<title>Convert Images to ASCII Art Images Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python将图像转换为ASCII艺术图像</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/convert-images-to-ascii-art-images-using-python-90261de03c53?source=collection_archive---------0-----------------------#2020-05-04">https://pub.towardsai.net/convert-images-to-ascii-art-images-using-python-90261de03c53?source=collection_archive---------0-----------------------#2020-05-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="5cea" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="c380" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">在本文中，我们将使用Python在不到35行代码内将任何给定的图像转换为艺术的ASCII彩色图像。</h2></div><div class="ko kp kq kr gt ab cb"><figure class="ks kt ku kv kw kx ky paragraph-image"><img src="../Images/71825fcad9e7478f7edef16f8cfd1588.png" data-original-src="https://miro.medium.com/v2/resize:fit:450/format:webp/1*49YR1CGWC9fXplppr_GU5A.jpeg"/></figure><figure class="ks kt ku kv kw kx ky paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><img src="../Images/7746d8d9b8c6d41a6f38bbbf7674af1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*oFuefSKAfPwioxonkUEM9w.png"/></div><figcaption class="lf lg gj gh gi lh li bd b be z dk lj di lk ll translated">左边是原始图像，右边是最终的ASCII图像</figcaption></figure></div><p id="27df" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">这个项目会给你一个坚实的基础，让你理解图像的结构，并以一种有趣的方式来玩它！！那么，我们开始吧。</p><p id="7d6e" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">另外查看一下这篇文章出在<a class="ae mi" href="https://towardsdatascience.com/automatic-movie-review-system-using-sentimental-analysis-for-positive-or-negative-review-1667ea3041d4" rel="noopener" target="_blank"> <strong class="lo ja"> <em class="mj">自动电影审查系统</em> </strong> </a> :-</p><div class="mk ml gp gr mm mn"><a href="https://towardsdatascience.com/automatic-movie-review-system-using-sentimental-analysis-for-positive-or-negative-review-1667ea3041d4" rel="noopener follow" target="_blank"><div class="mo ab fo"><div class="mp ab mq cl cj mr"><h2 class="bd ja gy z fp ms fr fs mt fu fw iz bi translated">使用正面或负面评论的情感分析的自动电影评论系统</h2><div class="mu l"><h3 class="bd b gy z fp ms fr fs mt fu fw dk translated">在本文中，我们将使用机器学习对IMDB网站上的评论进行情感分析…</h3></div><div class="mv l"><p class="bd b dl z fp ms fr fs mt fu fw dk translated">towardsdatascience.com</p></div></div><div class="mw l"><div class="mx l my mz na mw nb kz mn"/></div></div></a></div><p id="f169" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated"><strong class="lo ja">所需依赖关系:</strong></p><p id="58c8" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">你必须在你的系统上安装python和<strong class="lo ja"><em class="mj">pillow</em></strong>python包。你可以简单地用<strong class="lo ja"> <em class="mj"> pip安装</em> </strong>的<strong class="lo ja"> <em class="mj">枕头</em> </strong>。首先我会解释所有的步骤，然后我们将继续代码片段。</p><p id="94cd" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated"><strong class="lo ja">步骤:- </strong></p><ul class=""><li id="0045" class="nc nd iq lo b lp lq ls lt lv ne lz nf md ng mh nh ni nj nk bi translated">从提供的路径打开图像。</li><li id="a854" class="nc nd iq lo b lp nl ls nm lv nn lz no md np mh nh ni nj nk bi translated">缩放图像，否则将生成非常大的输出图像。</li><li id="b0c8" class="nc nd iq lo b lp nl ls nm lv nn lz no md np mh nh ni nj nk bi translated">将图像转换成灰度图像。</li><li id="9276" class="nc nd iq lo b lp nl ls nm lv nn lz no md np mh nh ni nj nk bi translated">从字符列表中获取每个像素的相关字符(根据像素值，从列表中选择字符，即“_”代表低密度)。</li><li id="9b8b" class="nc nd iq lo b lp nl ls nm lv nn lz no md np mh nh ni nj nk bi translated">现在，该字符通过ImageDraw函数打印在给定大小的新画布上(在函数本身中，您可以选择颜色为RGB或B&amp;W)。</li><li id="a829" class="nc nd iq lo b lp nl ls nm lv nn lz no md np mh nh ni nj nk bi translated">保存新生成的图像，就大功告成了！！！</li></ul><h2 id="119d" class="nq nr iq bd ns nt nu dn nv nw nx dp ny lv nz oa ob lz oc od oe md of og oh iw bi translated"><strong class="ak">代码:</strong></h2><pre class="ko kp kq kr gt oi oj ok ol aw om bi"><span id="f570" class="nq nr iq oj b gy on oo l op oq"><strong class="oj ja">from </strong>PIL <strong class="oj ja">import </strong>Image,ImageDraw,ImageFont<br/><strong class="oj ja">import </strong>math</span></pre><p id="8b63" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">首先导入这些库</p><pre class="ko kp kq kr gt oi oj ok ol aw om bi"><span id="7d38" class="nq nr iq oj b gy on oo l op oq">image = Image.open("InputImage.jpg")<br/>scaleFac = 0.8<br/>charWidth = 10<br/>charHeight = 18<br/>w,h = image.size<br/>image = image.resize((int(scaleFac*w),int(scaleFac*h*(charWidth/charHeight))),Image.NEAREST)<br/>w,h = image.size<br/>pixels = image.load()</span></pre><p id="ce56" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">这里，首先加载图像，然后选择缩放因子(0.1–1)，并决定最终输出图像中每个ASCII字符的大小，然后获取图像的宽度和高度，并调整图像的大小。这样做是非常重要的，否则将使用更多的计算能力，输出图像将太大。</p><pre class="ko kp kq kr gt oi oj ok ol aw om bi"><span id="d390" class="nq nr iq oj b gy on oo l op oq">font = ImageFont.truetype(<strong class="oj ja">'C:\\Windows\\Fonts\\lucon.ttf'</strong>,15)<br/>outputImage = Image.new(<strong class="oj ja">'RGB'</strong>,(charWidth*w,charHeight*h),color=(0,0,0))<br/>draw = ImageDraw.Draw(outputImage)</span></pre><p id="8cf1" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">现在ASCII字符的字体已经确定。我使用了windows的内置字体。然后，使用Image函数创建一个黑色的画布“outputImage ”,并创建ImageDraw对象以在画布上嵌入ASCII字符。</p><pre class="ko kp kq kr gt oi oj ok ol aw om bi"><span id="70a6" class="nq nr iq oj b gy on oo l op oq"><strong class="oj ja">def </strong>getSomeChar(h):<br/>    chars  = <strong class="oj ja">"$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\|()1{}[]?-                          _+~&lt;&gt;i!lI;:,\"^`'. "</strong>[::-1]<br/>    charArr = list(chars)<br/>    l = len(charArr)<br/>    mul = l/256<br/>    <strong class="oj ja">return </strong>charArr[math.floor(h*mul)]</span></pre><p id="8e4a" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">这个函数<strong class="lo ja"> getSomeChar </strong>将获取像素值作为一个参数，范围在0-256之间，它从chars列表中返回相应的ASCII字符。如果愿意，您可以创建自己char列表。</p><pre class="ko kp kq kr gt oi oj ok ol aw om bi"><span id="bf93" class="nq nr iq oj b gy on oo l op oq"><strong class="oj ja">for </strong>i <strong class="oj ja">in </strong>range(h):<br/>    <strong class="oj ja">for </strong>j <strong class="oj ja">in </strong>range(w):<br/>        r,g,b = pixels[j,i]<br/>        grey = int((r/3+g/3+b/3))<br/>        pixels[j,i] = (grey,grey,grey)<br/>        draw.text((j*charWidth,i*charHeight),getSomeChar(grey),<br/>        font=font,fill = (r,g,b))</span></pre><p id="87c2" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">这是最重要的工作完成的地方。我们循环通过每个像素和收集的RGB分量，它们的平均值给出了灰度像素值。现在，在draw.text中，它将嵌入字符的位置作为第一个参数，将使用<strong class="lo ja"> getSomeChar </strong>函数选择的字符本身作为第二个参数，将我们之前选择的字体作为第三个参数，将颜色填充作为第四个参数。</p><pre class="ko kp kq kr gt oi oj ok ol aw om bi"><span id="87dc" class="nq nr iq oj b gy on oo l op oq">outputImage.save(<strong class="oj ja">"name_for_output.png"</strong>)</span></pre><p id="633d" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">然后只保存图像…..并共享生成的艺术图像。</p><p id="8a2b" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">您可以使用字体大小、字体样式、缩放因子、画布背景和字符列表。</p><p id="8472" class="pw-post-body-paragraph lm ln iq lo b lp lq ka lr ls lt kd lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated">这是我的第一个博客…所以请让我知道你们喜不喜欢。建议是最受欢迎的。</p></div></div>    
</body>
</html>