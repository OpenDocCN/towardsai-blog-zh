<html>
<head>
<title>Solar Power Prediction Using SARIMA, XGBoost, and CNN-LSTM</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用SARIMA、XGBoost和CNN-LSTM的太阳能预测</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/solar-power-prediction-using-sarima-xgboost-and-cnn-lstm-ec5742abcd79?source=collection_archive---------1-----------------------#2022-12-04">https://pub.towardsai.net/solar-power-prediction-using-sarima-xgboost-and-cnn-lstm-ec5742abcd79?source=collection_archive---------1-----------------------#2022-12-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="93c1" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用统计测试和机器学习分析和预测太阳能性能</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/9ae6695a482b30a1e9e6b53fd26aff8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Cuy1ph5ZLC3E2wgW"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">努诺·马克斯在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="8291" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak">目录</strong></h2><ol class=""><li id="90c0" class="ls lt iq lu b lv lw lx ly lf lz lj ma ln mb mc md me mf mg bi translated"><a class="ae kv" href="#e715" rel="noopener ugc nofollow">简介</a></li><li id="9bc3" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated"><a class="ae kv" href="#2601" rel="noopener ugc nofollow">数据</a></li><li id="fbde" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated"><a class="ae kv" href="#df3b" rel="noopener ugc nofollow">探索性数据分析</a> (EDA)</li><li id="a464" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc md me mf mg bi translated"><a class="ae kv" href="#e1a4" rel="noopener ugc nofollow">造型</a></li></ol><ul class=""><li id="c443" class="ls lt iq lu b lv mm lx mn lf mo lj mp ln mq mc mr me mf mg bi translated"><a class="ae kv" href="#c49d" rel="noopener ugc nofollow">萨里玛</a></li><li id="4a72" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><a class="ae kv" href="#71db" rel="noopener ugc nofollow"> XGBoost </a></li><li id="8db5" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><a class="ae kv" href="#aa3e" rel="noopener ugc nofollow">美国有线电视新闻网-LSTM </a></li><li id="f486" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><a class="ae kv" href="#b6ba" rel="noopener ugc nofollow">结果</a></li></ul><p id="dcba" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">5.<a class="ae kv" href="#c863" rel="noopener ugc nofollow">结论</a></p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="0ddb" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">这篇文章的目的是展示如何应用数据科学方法来解决可再生能源领域的问题。我将讨论通过使用假设检验、特征工程、时间序列建模方法等从数据集获得有形价值的技术。我还将讨论不同时间序列模型的数据泄漏和数据准备等问题，以及如何管理它们。</p><h1 id="e715" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated"><strong class="ak"> 1。简介</strong></h1><p id="1997" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">能源部门利用可再生能源为家庭供电的情况有所增加。然而，无论是大规模还是家庭使用，问题都是一样的。提供来自可再生能源的电力的发电厂面临着间歇性的困难，并且需要不断的维护。由于间歇性，电网很难保持稳定。然而，通过预测方法，电网运营商可以预测发电量的增加和减少，这有助于相应地管理负载，更好地规划运营。</p><p id="5862" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">使用两个太阳能发电厂的数据，我将通过首先把它们总结成两个问题来解决这些问题:</p><blockquote class="oa"><p id="0dbf" class="ob oc iq bd od oe of og oh oi oj mc dk translated"><strong class="ak"> 1。是否有可能确定次优性能的太阳能组件？</strong></p><p id="f16e" class="ob oc iq bd od oe of og oh oi oj mc dk translated"><strong class="ak"> 2。有没有可能预测两天的太阳能电量？</strong></p></blockquote><p id="3c58" class="pw-post-body-paragraph ms mt iq lu b lv ok jr mu lx ol ju mv lf om mx my lj on na nb ln oo nd ne mc ij bi translated">在回答这些问题之前，让我们先了解一下太阳能发电厂是如何发电的。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/48d3ccbc1d06659f17fe45ac7d0d6aff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-c0Q6Im36l3NWfChokzVdQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图1-并网太阳能系统。图片由作者提供。</figcaption></figure><p id="8225" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">图1描绘了从太阳能电池板模块到电网的发电过程的高级视图。太阳能通过光电效应直接转化为电能。当硅(<a class="ae kv" href="https://www.energy.gov/eere/solar/solar-photovoltaic-cell-basics#:~:text=Silicon%20is,%20by%20far,%20the,semiconductor%20used%20in%20computer%20chips." rel="noopener ugc nofollow" target="_blank"><em class="oq"/></a>太阳能电池板中最常见的半导体材料)等材料暴露在光线下时，光子(电磁能量的亚原子粒子)被吸收并释放出自由电子，从而产生直流电(DC)。使用逆变器，DC被转换成交流电(AC)并馈入电网，在那里它可以被分配到家庭。</p><p id="6b17" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">有不同类型的太阳能发电系统，如离网系统和直接光伏系统，但在这种情况下，我们将分析一个并网系统。</p><p id="802e" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">事不宜迟，我们继续分析。</p><h1 id="2601" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated"><strong class="ak"> 2。数据</strong></h1><p id="9780" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">原始数据由每个太阳能发电厂的两个逗号分隔值(<em class="oq"> CSV </em>)文件组成。一个文件显示了发电量，另一个文件显示了位于太阳能发电厂的传感器记录的测量值。每个太阳能发电厂的两个数据集被整理成一个单一的数据框架。</p><p id="ee70" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">从2020年5月15日<em class="oq">到2020年6月18日</em><strong class="lu ir"><strong class="lu ir">太阳能电站1 (SP1) </strong>和<strong class="lu ir">太阳能电站2 (SP2) </strong>的数据每15分钟收集一次。</strong>SP1和SP2两个数据集包含相同的变量。</p><ul class=""><li id="a0d4" class="ls lt iq lu b lv mm lx mn lf mo lj mp ln mq mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">日期时间</em> </strong> -15分钟间隔</li><li id="94c9" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">环境温度- </em> </strong>模块周围空气的温度</li><li id="f413" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">模块温度</em></strong>-模块的温度</li><li id="4ba6" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">辐照- </em> </strong>对模块进行高能辐照</li><li id="fbed" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"><em class="oq">【DC功率(千瓦)</em></strong>-直流电</li><li id="dc80" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">【千瓦】</em></strong>-交流电</li><li id="5f8f" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"><em class="oq"/></strong>-每日发电量总和</li><li id="e068" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"><em class="oq"/></strong>-变频器累计产量</li><li id="aa65" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">工厂ID</em></strong>-太阳能工厂的唯一标识</li><li id="ed2c" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">模块ID</em></strong>-每个模块的唯一标识</li></ul><p id="a167" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">天气传感器用于记录环境温度、模块温度和每个太阳能设备的辐射。</p><blockquote class="or os ot"><p id="779f" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated"><strong class="lu ir">原始数据可以在这里找到</strong><a class="ae kv" href="https://www.kaggle.com/datasets/anikannal/solar-power-generation-data" rel="noopener ugc nofollow" target="_blank"><strong class="lu ir"/></a><strong class="lu ir">。</strong></p></blockquote><p id="4a12" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">在这种情况下，<strong class="lu ir"> DC功率将成为因变量(<em class="oq">目标变量</em>)。在继续建模之前，深入分析数据总是一个好主意，在我们的情况下，尝试找到次优性能的太阳能电池组件。</strong></p><blockquote class="or os ot"><p id="fb5d" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated">两个独立的数据框架用于分析和预测。唯一的区别是用于预测的数据帧被重新采样成小时间隔，而用于分析的数据帧包含15分钟间隔。</p></blockquote><p id="3ba6" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">工厂ID从两个数据框中删除，因为它对尝试回答上述问题没有增加任何价值。模块ID也将从预测数据集中删除。表1和表2显示了数据示例。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/87223e9f6b8a1f85eb1e4321071f60d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ap71hqVDcJGu0iYwRUYyKg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">表1-用于预测的数据帧。图片由作者提供。</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oy"><img src="../Images/7cfdb5652095a3e1af062892fc079b85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oEcf7kPsDPxA89gkfzd0_w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">表2-用于分析的数据框架。图片由作者提供。</figcaption></figure><p id="1264" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">在继续分析数据之前，对太阳能发电厂做了一些假设，包括:</p><ul class=""><li id="0b1b" class="ls lt iq lu b lv mm lx mn lf mo lj mp ln mq mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">数据采集仪器没有故障</em> </strong></li><li id="7b33" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">定期清洁模块</em> </strong></li><li id="e76a" class="ls lt iq lu b lv mh lx mi lf mj lj mk ln ml mc mr me mf mg bi translated"><strong class="lu ir"> <em class="oq">两个太阳能发电厂周围都没有遮阳问题</em> </strong></li></ul><h1 id="df3b" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated"><strong class="ak"> 3。探索性数据分析</strong></h1><blockquote class="or os ot"><p id="726e" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated">对于那些刚刚接触数据科学的人来说，EDA是通过绘制可视化和执行统计测试来理解数据的关键一步。这部分的代码不包括在内，但是，所有可视化的代码可以在我的Github页面上找到，该页面链接在帖子的底部。</p></blockquote><p id="ca34" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">首先，通过绘制SP1和SP2的DC和AC，可以观察每个太阳能发电厂的性能。</p><div class="kg kh ki kj gt ab cb"><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/8ba5ae87a3739a77e6df184696f6fcbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*vwVPWEBs3Q7LXQYp-sDQtw.png"/></div></figure><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/f74312c3983988b1f813fc0beeedac8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*38Vp0N9D0SUd7Z6srnBlUw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk pf di pg ph translated">图2: SP1和SP2交流/DC电力公司。图片由作者提供。</figcaption></figure></div><p id="5fc3" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">工厂1显示DC功率比工厂2高一个数量级。基于为SP1收集的数据是正确的并且用于记录数据的仪器没有故障的假设，这导致调查在SP1的逆变器的效率。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pi"><img src="../Images/c05e5504e1bb452c37dc15907ba0dde8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*233sI236Vsrp3Gzjpe0PbA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图3: SP1功率输出效率。图片由作者提供。</figcaption></figure><p id="31bc" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">通过汇总每个模块每日频率的交流和DC功率，图3显示了SP1所有模块的逆变器效率。根据节能信托公司的说法，太阳能逆变器的效率应该在93-96%之间。<em class="oq">由于所有模块的效率范围为9.76% — 9.79%，太阳能电站运营商可以进一步调查逆变器的性能以及是否需要更换</em>。</p><blockquote class="or os ot"><p id="c3d7" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated">由于SP1显示逆变器的问题，进一步的分析只在SP2完成。</p></blockquote><p id="c64f" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">尽管这一简短的分析导致了对逆变器的研究，但它并没有回答识别次优太阳能电池组件的主要问题。</p><p id="6bc7" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">由于SP2的逆变器按预期运行，通过深入挖掘数据，我们将尝试识别和调查任何异常情况。</p><p id="8005" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">检查图4中模块温度和环境温度之间的关系，有时模块温度会非常高。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pj"><img src="../Images/f12af0acd517568b7cd3e4df2e3c26bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gaoMhlW9kREjo1Qkgu73_Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图4:SP2的模块和环境温度。图片由作者提供。</figcaption></figure><blockquote class="or os ot"><p id="fb6b" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated">这可能看起来有悖常理，但高温对太阳能电池板有负面影响。如前所述，当光子与太阳能电池中的电子接触时，它们会释放自由电子，但在更高的温度下，更多的电子已经处于激发态，这降低了电池板可以产生的电压，从而降低了效率。</p></blockquote><p id="1d32" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">请记住这一现象，下面的图5显示了SP2的模块温度和DC功率(<em class="oq">环境温度低于模块温度的数据点和一天中少量模块运行的时间已被过滤，以防止数据失真</em>)。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pk"><img src="../Images/122b111d8af3b9fe83e2a47b29138e79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhtxxAGkyrUQ1iyVx_gUrg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图5:SP2模块温度和DC功率之间的关系。图片由作者提供。</figcaption></figure><p id="41c3" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">在图5中，红线显示平均温度。有一个明显的引爆点和DC权力停滞的迹象。DC电力公司开始稳定在大约52 <em class="oq">摄氏度。</em>为了发现太阳能电池组件的性能次优，<strong class="lu ir">所有显示组件温度超过52摄氏度的行都被删除。</strong></p><p id="a3d1" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">下图6显示了SP2一天中每个模块的DC功率。DC的电力分配符合预期，中午的发电量更大。然而，有迹象表明在高峰时段发电量较低。很难描述这种情况的原因，因为当天的天气条件可能很差，或者SP2可能已经到了定期清洁周期的尾声。</p><p id="3f75" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir"> <em class="oq">图6中也有低性能模块的迹象。它们可以在图上被识别为模块(单个数据点)，偏离它们最近的集群。</em>T11】</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pl"><img src="../Images/9b4f923d2a6bcf18eed4435838e5d9a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8XwQml8oAkjZxYRJr41tzA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图6:SP2一天中DC能量的分布。图片由作者提供。</figcaption></figure><p id="0da7" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">为了确定哪些模块性能不佳且不受恶劣天气条件或清洁周期结束的影响，同时显示每个模块与其他模块相比的性能的统计测试将确定次优性能。</p><p id="192f" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">由于在同一时间每15分钟间隔的DC电力的不同模块的分布是正态分布的，假设检验可以确定哪些模块表现不佳。<em class="oq"/><em class="oq">计数是指模块落在p值为&lt; 0.001 </em>的99.9%置信区间之外的次数。</p><p id="189d" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">图7以降序显示了每个模块与同时期的其他模块相比在统计上表现明显不佳的次数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pm"><img src="../Images/ae6f5571ad11543054d7381d065e0199.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n31V7qYRd6kH0NXwpeFDtA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图7:SP2在统计上表现不佳的模块。图片由作者提供。</figcaption></figure><p id="8a22" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">从图7中可以得出清晰的推论，图中显示<em class="oq"> </em> <strong class="lu ir"> <em class="oq">模块‘quc1 tzyxw 2 pyo wx’次优性能约为</em>的850倍。该信息可提供给SP2的运营经理，以调查原因。</strong></p><h1 id="e1a4" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated"><strong class="ak"> 4。建模</strong></h1><p id="7b14" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">在本节中，我们将了解三种不同的时间序列算法:SARIMA、XGBoost和CNN-LSTM，以及它们预测SP2 DC 2天电力的设置。</p><p id="c519" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">对于所有这三个模型，都使用了前向走验证来预测下一个数据点。逐步验证是一种用于时间序列建模的技术，因为随着时间的推移，预测会变得越来越不准确，因此更实用的方法是在实际数据可用时用实际数据重新训练模型。</p><blockquote class="or os ot"><p id="64eb" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated">更多关于这项技术以及它如何应用于长短期记忆(LSTM)模型的信息可以在下面的帖子中找到。</p></blockquote><div class="pn po gp gr pp pq"><a href="https://medium.com/swlh/using-deep-learning-to-forecast-a-wind-turbines-power-output-e87b37b9a50e" rel="noopener follow" target="_blank"><div class="pr ab fo"><div class="ps ab pt cl cj pu"><h2 class="bd ir gy z fp pv fr fs pw fu fw ip bi translated">使用深度学习来预测风力涡轮机的功率输出</h2><div class="px l"><h3 class="bd b gy z fp pv fr fs pw fu fw dk translated">用前推验证方法对时间序列数据实施短期长期记忆(LSTM)模型。</h3></div><div class="py l"><p class="bd b dl z fp pv fr fs pw fu fw dk translated">medium.com</p></div></div><div class="pz l"><div class="qa l qb qc qd pz qe kp pq"/></div></div></a></div></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="251e" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">在建模之前，更详细地探索数据总是值得的。图8显示了SP2数据集中所有要素的关联热图。热图显示了因变量DC功率，显示了与模块温度、辐射和环境温度的强相关性。这些特征可能在预测中发挥重要作用。</p><blockquote class="or os ot"><p id="6cfb" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated"><strong class="lu ir">在下面的热图中，交流电源显示皮尔逊相关系数为1。为了防止数据泄漏问题，交流电源从数据帧中移除，因为在记录任何其他变量之前，模型不能访问该信息。</strong></p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qf"><img src="../Images/8fa4192d268599eeb4505518f81605c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cjp-5P6qEJMBh0pFv_mJeg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图8:SP2所有特征的相关热图。图片由作者提供。</figcaption></figure><blockquote class="or os ot"><p id="48f3" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated"><strong class="lu ir">对于SARIMA和XGBoost模型，python库“多重处理”用于利用多个处理器，通过网格搜索找到最佳超参数。</strong></p></blockquote><h2 id="c49d" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak"> <em class="qg">萨里玛</em> </strong></h2><p id="bbfc" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">SARIMA ( <em class="oq">季节性自回归综合移动平均</em>)是一种单变量时间序列预测方法。由于目标变量显示出24小时循环周期的迹象，SARIMA是一个有效的建模选项，因为它考虑了季节效应。这可以在下面的季节分解图中观察到。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/191e23942bb009e52ae125a9cf694d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sKEY7Yd829DjZeLcRMY4kA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图9:SP2 DC电力的季节分解。图片由作者提供。</figcaption></figure><p id="dd6f" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">SARIMA算法要求数据是静态的。测试数据是否稳定有多种方法，例如，统计测试(<em class="oq">扩展的Dickey fuller测试</em>)、汇总统计(<em class="oq">比较数据不同部分的均值/方差</em>)以及直观分析数据。<strong class="lu ir"> <em class="oq">在建模之前尝试多次测试很重要。</em> </strong></p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="ca3d" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir">增广的Dickey-Fuller (ADF) </strong>检验是一种'<a class="ae kv" href="https://www.statisticshowto.com/unit-root/" rel="noopener ugc nofollow" target="_blank">单位根检验'</a> <strong class="lu ir"> </strong>用于判断时间序列是否平稳。从根本上来说，这是一个具有无效和替代假设的统计显著性测试，并根据得出的p值得出结论。</p><p id="5cba" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir"> <em class="oq">零假设:</em> </strong>时间序列数据是非平稳的。</p><p id="ebfe" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir"> <em class="oq">替代假设:</em> </strong>时间序列数据是平稳的。</p><p id="2ed9" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">在我们的例子中，如果p值≤ 0.05，我们可以拒绝零假设，并确认数据没有单位根。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="qi qj l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qk"><img src="../Images/fb465ef42c2f422ad5826f73d0680097.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*9Pd97Hwv5QRskehjrhWFZw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图片由作者提供。</figcaption></figure><p id="6e04" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir">从ADF测试来看，p值为0.000553，也就是&lt; 0.05。根据这一统计，可以认为数据是稳定的。然而，看图2，有明显的季节性迹象<em class="oq">(对于被认为是平稳的时间序列数据，不应有季节性和趋势的迹象)</em>，导致非平稳数据。因此，运行多个测试非常重要。</strong></p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="7307" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">要使用SARIMA对因变量建模，时间序列需要是静态的。<a class="ae kv" href="#301f" rel="noopener ugc nofollow">图9 </a> ( <em class="oq">第一和第三图</em>)显示了DC电力季节性的明显迹象。取第一个差值<em class="oq"> [t-(t-1)] </em>去除了季节性成分，这可以在图10中看到，因为它看起来类似于正态分布。数据现在是稳定的，适合于SARIMA算法。</p><div class="kg kh ki kj gt ab cb"><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/62389befb08274c4bc2de0b5f0aaa733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*pS6iMjQbTHLjlYGkgb3jjA.png"/></div></figure><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/7ae1351bcbc8bea86657df83979c5f7a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*q5P4CHybZHsMx0BM5vKD_A.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk pf di pg ph translated">图10:DC力的分布(左)和第一差(右)。图片由作者提供。</figcaption></figure></div><p id="01a0" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">SARIMA的超参数有<strong class="lu ir"> p </strong> ( <em class="oq">自回归顺序</em>)、<strong class="lu ir"> d </strong> ( <em class="oq">差序</em>)、<strong class="lu ir"> q </strong> ( <em class="oq">移动平均</em>)、<strong class="lu ir"> P </strong> ( <em class="oq">季节自回归顺序</em>)、<strong class="lu ir"> D </strong> ( <em class="oq">季节差序</em>)、<strong class="lu ir"> Q </strong>()更多关于SARIMA超参数和预测的信息可在<a class="ae kv" href="https://machinelearningmastery.com/sarima-for-time-series-forecasting-in-python/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><div class="kg kh ki kj gt ab cb"><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/730f7362329fa47a94947dee2e120d05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*zUpOGooCCwtMefoPNNUFag.png"/></div></figure><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/98f92a77be2aa6877566dd8e52cbdefd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*o8cHTQQnAvMzbcFrJex9Ng.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk pf di pg ph translated">图11: ACF/PACF &amp;季节性差异ACF/PACF。图片由作者提供。</figcaption></figure></div><p id="c6d2" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">图11显示了自相关(<strong class="lu ir"> ACF </strong>)、偏自相关(<strong class="lu ir"> PACF </strong>)和季节性ACF/PACF图。ACF图显示了时间序列与其延迟版本之间的相关性。PACF显示了时间序列与其滞后版本之间的直接相关性。蓝色阴影区域代表置信区间。SACF和SPACF可以通过从原始数据中提取季节差异(<strong class="lu ir"> m </strong>)来计算，在本例中为24，因为有明显的24小时季节效应，如ACF图所示。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="23bb" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">凭直觉，可以从ACF和PACF图推导出超参数的起点。例如，ACF和PACF都显示逐渐下降，这意味着自回归阶数(<strong class="lu ir"> <em class="oq"> p </em> </strong>)和移动平均阶数(<strong class="lu ir"> <em class="oq"> q </em> </strong>)都大于0。<strong class="lu ir"> <em class="oq"> p </em> </strong>和<strong class="lu ir"> <em class="oq"> P </em> </strong>可以通过分别观察PCF和SPCF曲线，并在滞后值不显著之前计数统计上显著的滞后数来确定。同样的，<strong class="lu ir"> <em class="oq"> q </em> </strong>和<strong class="lu ir"> <em class="oq"> Q </em> </strong>也可以在ACF和SACF的剧情中找到。</p><p id="67bd" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">差分顺序(<strong class="lu ir"> <em class="oq"> d </em> </strong>)可以由使数据稳定所取的差分数来确定。季节性差序(<strong class="lu ir"> <em class="oq"> D </em> </strong>)是从时间序列中去除季节性成分所需的差数估计出来的。</p><p id="360c" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">该方法作为开始建模的起点。围绕此起始点在一系列值上进行网格搜索应该会提高模型性能。关于估算这些参数的更多信息可以在 <a class="ae kv" href="https://arauto.readthedocs.io/en/latest/how_to_choose_terms.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir"> <em class="oq">这里</em> </strong> </a> <em class="oq">找到。</em></p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="ee86" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir">通过使用网格搜索方法的超参数优化，基于最小均方误差(MSE)选择最佳超参数，包括<em class="oq"> p = 2，d = 0，q = 4，p = 2，D = 1，Q = 6，m = 24，trend =‘n’(无趋势)</em>。</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="qi qj l"/></div></figure><p id="c4d8" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">图12显示了SARIMA模型的预测值与SP2 2天内记录的DC功率的比较。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/2d370559e5b7e488c7cb111f91022f90.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tEMZ-nI7nZX-gp0FgBTZYg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图12: SARIMA预测(红色)与测试值(蓝色)的比较。图片由作者提供。</figcaption></figure><p id="0046" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">为了分析模型的性能，图13显示了模型诊断。在第一个滞后之后，相关图显示几乎没有相关性，下面的直方图显示了平均值零周围的正态分布。由此，我们可以说模型无法从数据中收集更多的信息。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pj"><img src="../Images/e97a8a25b4c483d0fe037df1069742ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f137Z49LZX8VEsTx98g3bA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图13: SARIMA诊断。图片由作者提供。</figcaption></figure><h2 id="71db" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak"> <em class="qg"> XGBoost </em> </strong></h2><p id="2c97" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">XGBoost <em class="oq">(极限梯度提升)</em>是一种梯度提升决策树算法。它使用一种集成方法，其中添加新的决策树模型来修正现有的决策树得分。与SARIMA不同，XGBoost是一种多元机器学习算法，这意味着该模型可以采用多个特征来提高模型性能。</p><p id="2c7f" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">采取特征工程步骤来提高模型精度。创建了3个附加特征，分别包括交流和DC功率的滞后版本、<strong class="lu ir"><em class="oq">【S1 _交流_功率</em> </strong>和<strong class="lu ir"><em class="oq">【S1 _ DC _功率、</em> </strong>，以及通过将交流功率除以DC功率得到的总效率、<strong class="lu ir"><em class="oq">【EFF】</em></strong>。<strong class="lu ir"> <em class="oq"> AC_POWER </em> </strong>和<strong class="lu ir"><em class="oq">MODULE _ TEMPERATURE</em></strong>被从数据中删除。图14通过增益(<em class="oq">使用特征</em>的分裂的平均增益)和权重(<em class="oq">特征在树中出现的次数</em>)显示了重要性级别。</p><div class="kg kh ki kj gt ab cb"><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/492d6cb60bf3da7a3e656622f01d8d62.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*CcFBS4FQLotz7dnsVv52XQ.png"/></div></figure><figure class="oz kk pa pb pc pd pe paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/6377200f271d42223f37ea5998df2f98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*e90vCpAlpa9xSxhyYmmxPA.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk pf di pg ph translated">图14: XGBOOST特征重要性增益(左)和权重(右)。图片由作者提供。</figcaption></figure></div><p id="1ff6" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">通过网格搜索确定用于建模的超参数，并得到:<strong class="lu ir"> <em class="oq">学习率= 0.01，估计器数量= 1200，子样本= 0.8，按树分类的列样本= 1，按级别分类的列样本= 1，最小子权重= 20，最大深度= 10 </em> </strong> <em class="oq">。</em></p><p id="8745" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">如前所述，使用了一种向前行走的验证方法，并使用一个<strong class="lu ir"> <em class="oq"> MinMaxScaler在0和1之间缩放训练数据</em> </strong> <em class="oq">(我强烈建议尝试其他缩放器，如log-transform和standard-scaler，具体取决于您的数据分布)</em>。<strong class="lu ir"> <em class="oq">通过将所有独立变量后移一段时间</em> </strong>，将数据转换为监督学习数据集。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="qi qj l"/></div></figure><p id="0c65" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">图15显示了XGBoost模型的预测值与SP2 2天内记录的DC功率的比较。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/c6f7f96ca303cf04c0cd012e60a0738e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f9QJjIYcQj2IOSXaAslOfw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图15: XGBoost预测(绿色)与测试值(蓝色)的对比。图片由作者提供。</figcaption></figure><h2 id="aa3e" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">CNN LSTM频道</h2><p id="c7d5" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">CNN-LSTM <em class="oq">(卷积神经网络长短期记忆)</em>是两种神经网络模型的混合模型。CNN是一种前馈神经网络，在图像处理和自然语言处理中表现出良好的性能。它还可以有效地应用于时间序列数据的预测。LSTM是一种序列到序列神经网络模型，旨在通过使用内部存储系统来解决梯度爆炸/消失的长期问题，该系统允许其在输入序列上累积状态。<em class="oq">更多关于这些车型的信息可以在这里</em><a class="ae kv" href="https://www.hindawi.com/journals/complexity/2020/6622927/" rel="noopener ugc nofollow" target="_blank"><em class="oq"/></a><em class="oq">和</em> <a class="ae kv" href="https://machinelearningmastery.com/gentle-introduction-long-short-term-memory-networks-experts/" rel="noopener ugc nofollow" target="_blank"> <em class="oq">这里</em> </a> <em class="oq">找到。</em></p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="811b" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">在这种情况下，CNN-LSTM被用作编码器-解码器架构。由于CNN不直接支持序列输入，1D CNN读取序列输入并自动学习重要特征。这些可以由LSTM来解释。与XGBoost模型类似，使用scikitlearn的MinMaxScaler使用相同的数据并进行缩放，但是范围在-1和1之间。<strong class="lu ir"> <em class="oq">对于CNN-LSTM来说，需要将数据重塑成所需的结构:</em> </strong> <em class="oq"> </em> <strong class="lu ir"> <em class="oq">【样本、子序列、时间步长、特征】，这样就可以传入作为模型的输入。</em> </strong></p><p id="e8fc" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir"> <em class="oq">因为我们希望对每个子序列重用相同的CNN模型，所以使用时间分布式包装器对每个输入子序列应用一次整个模型。</em> </strong>最终模型中使用的不同层的模型总结如下图16所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ql"><img src="../Images/c3ba4b73432d744eb59641948223338d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1184/format:webp/1*6VF03bwnMJ0LJX4bCTkGeQ.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图16:模型总结。图片由作者提供。</figcaption></figure><p id="3008" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">除了将数据分成训练和测试数据之外，还将训练数据分成训练和验证数据集。在所有训练数据(包括验证数据)的每次迭代之后，这可以进一步被模型用来评估模型性能。这被称为一个时代。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><p id="ebdc" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">学习曲线是深度学习中使用的一个很好的诊断工具，它显示了每个时期后模型的性能。下面的图17显示了模型如何从数据中学习，并显示了验证数据与训练数据的融合。这是模特训练好的标志。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/35df811d222c70985a535e2357392f65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*33PeEUpUBNAdx2lgte7cFQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图17:培训和验证损失的学习曲线。图片由作者提供。</figcaption></figure><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="qi qj l"/></div></figure><p id="0532" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">图18显示了CNN-LSTM模型的预测值与SP2两天内记录的DC功率的比较。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/17366ab02b40a9942fbcff784d32a724.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WHfD6XeGCgTaCUo6EudYIA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图18: CNN-LSTM预测(浅蓝色)与测试值(深蓝色)的比较。图片由作者提供。</figcaption></figure><p id="c874" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated"><strong class="lu ir"> <em class="oq">由于CNN-LSTM的随机性，模型运行10次，记录一个平均MSE值作为最终值来判断模型的性能。</em> </strong>图19显示了所有模型运行记录的MSEs范围。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi qh"><img src="../Images/f35ddab8811de092be21c70c25da7ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bZVnehowFymkLtnXXjIxmw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图19:10次运行的平均MSE。图片由作者提供。</figcaption></figure><h2 id="b6ba" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated"><strong class="ak"> <em class="qg">结果</em> </strong></h2><p id="7939" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">在建模之前，计算持久性模型以提供最大MSE值并评估其他模型的性能。<em class="oq">持续性模型的结果是通过计算DC幂和同一时间序列的1个周期的滞后版本的MSE来计算的。表3突出显示了每个模型的MSE(CNN-LSTM的平均MSE)和每个模型的运行时间(分钟)。</em></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qm"><img src="../Images/b3000d2248b679de304ddcae602dda91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*E1_F2a050m_-gJVwKa3cTw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">表3:所有模型的MSE和运行时间。图片由作者提供。</figcaption></figure><p id="057f" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">从表3中可以看出，与所有其他模型相比，XGBoost的性能最好，MSE最低，运行时间第二快。由于该模型显示了每小时预测可接受的运行时间，它可以成为帮助运营经理决策过程的有力工具。</p><h1 id="c863" class="nm kx iq bd ky nn no np lb nq nr ns le jw nt jx li jz nu ka lm kc nv kd lq nw bi translated">5.结论</h1><p id="bcd0" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated">总而言之，我们分析了SP1和SP2，以找出表现不佳的地方。由于逆变器效率低，SP1表现不佳。对SP2的调查进一步显示了太阳能电池组件性能不佳的迹象。使用假设检验来统计每个模块在统计上明显表现不佳的次数，与同时期的其他模块相比，提出了对模块<em class="oq">‘quc1 tzyxw 2 pyo wx’，</em> <strong class="lu ir"> <em class="oq"> </em> </strong>的关注，其中<strong class="lu ir"> <em class="oq"> </em> </strong>显示约850次低性能。</p><p id="9adc" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">预测未来的太阳能发电量导致对SP2进行每小时间隔的重新采样，并将数据分成48个周期(2天)用于测试数据，其余时间用于训练三个模型。这些模型包括萨里玛，XGBoost和有线电视新闻网LSTM。SARIMA表现出最差的性能，XGBOOST表现出最好的结果，MSE为16.9，运行时间为1.43分钟。XGBoost是所有三种模型中推荐的，并被部署到生产环境中。</p><p id="be9e" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">谢谢你的阅读，祝你学习愉快。</p></div><div class="ab cl nf ng hu nh" role="separator"><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk nl"/><span class="ni bw bk nj nk"/></div><div class="ij ik il im in"><h2 id="3b86" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">数据参考</h2><p id="c253" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated"><em class="oq">坎纳尔，A. (2020，8月)</em>。<strong class="lu ir">太阳能发电数据</strong>。许可证:数据文件原作者，2020年9月25日从<em class="oq"/><a class="ae kv" href="https://www.kaggle.com/datasets/anikannal/solar-power-generation-data" rel="noopener ugc nofollow" target="_blank"><em class="oq">https://www . ka ggle . com/datasets/anikannal/solar-power-generation-Data</em></a>检索</p><blockquote class="or os ot"><p id="aa5a" class="ms mt oq lu b lv mm jr mu lx mn ju mv ou mw mx my ov mz na nb ow nc nd ne mc ij bi translated"><strong class="lu ir">要访问本文中使用的代码，请访问我的GitHub页面。链接可以在</strong> <a class="ae kv" href="https://github.com/Amitdb123/Solar_Power_Analysis-Prediction" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir">这里找到</strong> </a> <strong class="lu ir">。</strong></p></blockquote><h2 id="d72a" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">取得联系</h2><p id="80d1" class="pw-post-body-paragraph ms mt iq lu b lv lw jr mu lx ly ju mv lf nx mx my lj ny na nb ln nz nd ne mc ij bi translated"><strong class="lu ir">领英:</strong><a class="ae kv" href="https://www.linkedin.com/in/amit-bharadwa123/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/amit-bharadwa123/</a></p><p id="b28d" class="pw-post-body-paragraph ms mt iq lu b lv mm jr mu lx mn ju mv lf mw mx my lj mz na nb ln nc nd ne mc ij bi translated">有兴趣开始自己的数据科学项目吗？查看下面的链接，帮助您踏上旅程。</p><div class="pn po gp gr pp pq"><a href="https://towardsdatascience.com/7-steps-to-a-successful-data-science-project-b452a9b57149" rel="noopener follow" target="_blank"><div class="pr ab fo"><div class="ps ab pt cl cj pu"><h2 class="bd ir gy z fp pv fr fs pw fu fw ip bi translated">成功数据科学项目的7个步骤</h2><div class="px l"><h3 class="bd b gy z fp pv fr fs pw fu fw dk translated">从头开始完成数据科学项目的初学者指南</h3></div><div class="py l"><p class="bd b dl z fp pv fr fs pw fu fw dk translated">towardsdatascience.com</p></div></div><div class="pz l"><div class="qn l qb qc qd pz qe kp pq"/></div></div></a></div></div></div>    
</body>
</html>