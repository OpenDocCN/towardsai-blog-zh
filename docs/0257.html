<html>
<head>
<title>Creating a ‘Trading Sentiment Analyzer’ in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python创建“交易情绪分析器”</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/creating-a-trading-sentiment-analyzer-in-python-f1b3515dd8e3?source=collection_archive---------0-----------------------#2020-01-02">https://pub.towardsai.net/creating-a-trading-sentiment-analyzer-in-python-f1b3515dd8e3?source=collection_archive---------0-----------------------#2020-01-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9915" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/nlp" rel="noopener ugc nofollow" target="_blank">自然语言处理</a></h2><div class=""/><div class=""><h2 id="6a86" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用Google News API开发NLP驱动的交易工具情绪分析器</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/e46541c53130b8c768abc1f20bb01251.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uZApszYCVwPzIdIh"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@m_b_m?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> M. B. M. </a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><h1 id="1029" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">介绍</h1><p id="f127" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">交易情绪分析仪将通过分析互联网上的相关和当前新闻文章来计算任何股票、货币、商品或指数的标准化“情绪”得分。解释这个节目的视频可以在<a class="ae lh" href="https://www.youtube.com/watch?v=7c5EzELQ_7c&amp;feature=youtu.be" rel="noopener ugc nofollow" target="_blank">这里</a>找到。<strong class="mc jd">源代码</strong>可以在<a class="ae lh" href="https://github.com/mkhorasani/Trading_Sentiment_Analyzer" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><h1 id="cfb4" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">程序的功能是什么？</h1><p id="8f82" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">交易者熟知股票市场和交易中的“情绪”现象。专业交易者在考虑是否购买某个工具时，不仅要参考基本面技术指标，还要观察对该工具的看法。交易情绪分析器将通过从谷歌新闻API的新闻文章中检索文本信息来分析用户请求的任何货币、商品、加密货币、股票或指数。随后，在分析各种文章后，该工具将提供该工具的一天、一周、一个月和整体“情绪”的量化分数。完全看涨(积极)的情绪将得到1.0分，而完全看跌(消极)的情绪将得到-1.0分。任何介于两者之间的分数都将表明该交易工具具有积极或消极情绪的程度。情绪值是标准化的，可以用来与市场上的其他交易工具进行比较。</p><h1 id="bd1d" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">谁将从这样的计划中受益？</h1><p id="3d94" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">整个交易社区都可以从这种工具中受益，包括但不限于私人投资者、机构投资者、银行、保险公司等。基本上，任何打算在交易时做出更经验性决策的个人或实体都可以通过了解该交易工具的短期未来而受益，从而增加他们获得回报的可能性。然而，有必要承认，这种技术指标并不总是或完全准确，用户必须始终保持谨慎。</p><h1 id="bf41" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">在线运行</h1><p id="9f7e" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">要在线运行该程序，请访问以下网址<a class="ae lh" href="https://mkhorasani.pythonanywhere.com/" rel="noopener ugc nofollow" target="_blank">mkhorasani.pythonanywhere.com</a>。</p><h1 id="15af" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">本地运行</h1><p id="9724" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">要在您的本地机器上安装并运行该程序，请按顺序执行以下步骤。</p><h2 id="5794" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">Python 3.4</h2><p id="6dd6" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">如果您尚未安装Python，请在此处安装Python 3.4或更高版本的<a class="ae lh" href="https://www.python.org/downloads/release/python-340/" rel="noopener ugc nofollow" target="_blank">。</a></p><h2 id="2000" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">工具包:</h2><h2 id="f592" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">点</h2><p id="1d19" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">首先，通过下载并解压<a class="ae lh" href="https://pypi.org/project/pip/#files" rel="noopener ugc nofollow" target="_blank">pip-18.1.tar.gz来安装pip工具包。</a>然后在命令提示符(行解释器)中键入以下代码行:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="ced1" class="mw lj it ni b gy nm nn l no np">set path=%path%;C:/Python34/<br/>cd C:/Users/**/***/pip-18.1/<br/>python setup.py install</span></pre><p id="9c12" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">** <em class="nv">账户用户名</em></p><p id="db7a" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">* * *<em class="nv">pip-18.1安装文件夹的根目录</em></p><h2 id="59c5" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">新闻api</h2><p id="9921" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在命令提示符(行解释器)中键入以下代码行:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="7761" class="mw lj it ni b gy nm nn l no np">set path=%path%;C:/Python34/Scripts/<br/>pip install newsapi</span></pre><h2 id="0ab7" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">要求</h2><p id="3fa0" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在命令提示符(行解释器)中键入以下代码行:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="96c0" class="mw lj it ni b gy nm nn l no np">set path=%path%;C:/Python34/Scripts/<br/>pip install requests</span></pre><h2 id="6a95" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">tkinter</h2><p id="6a63" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在命令提示符(行解释器)中键入以下代码行:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="ece0" class="mw lj it ni b gy nm nn l no np">set path=%path%;C:/Python34/Scripts/<br/>pip install tkinter</span></pre><h2 id="6c8c" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">metapy</h2><p id="a7df" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在命令提示符(行解释器)中键入以下代码行:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="b85e" class="mw lj it ni b gy nm nn l no np">set path=%path%;C:/Python34/Scripts/<br/>pip install metapy</span></pre><h2 id="8727" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">收集</h2><p id="9faa" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在命令提示符(行解释器)中键入以下代码行:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="6f2f" class="mw lj it ni b gy nm nn l no np">set path=%path%;C:/Python34/Scripts/<br/>pip install collections</span></pre><p id="d9b0" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">要在本地运行此脚本，请将以下文件复制并粘贴到您的根目录中:</p><ol class=""><li id="e8bc" class="nw nx it mc b md nq mg nr mj ny mn nz mr oa mv ob oc od oe bi translated"><a class="ae lh" href="https://github.com/mkhorasani/Trading_Sentiment_Analyzer/blob/master/TSA%20v1.0.py" rel="noopener ugc nofollow" target="_blank">美国运输安全管理局v1.0.py </a></li><li id="27e1" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated"><a class="ae lh" href="https://github.com/mkhorasani/Trading_Sentiment_Analyzer/blob/master/lemur-stopwords.txt" rel="noopener ugc nofollow" target="_blank"> lemur-stopwords.txt </a></li><li id="7bdd" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">答。GUI的gif图片。</li></ol><p id="7795" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">随后，您必须修改以下代码行以反映根目录的位置:</p><p id="10f0" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第50行:<code class="fe ok ol om ni b">logo = PhotoImage(file='C:/Users/**/***/****.gif')</code></p><p id="ec31" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第269行:<code class="fe ok ol om ni b">logo = PhotoImage(file='C:/Users/**/***/****.gif')</code></p><p id="b041" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第310行:<code class="fe ok ol om ni b">logo = PhotoImage(file='C:/Users/**/***/****.gif')</code></p><p id="c551" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第130行:<code class="fe ok ol om ni b">tok1 = metapy.analyzers.ListFilter(tok1, "C:/Users/**/***/lemur-stopwords.txt", metapy.analyzers.ListFilter.Type.Reject)</code></p><p id="8e1b" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第181行:<code class="fe ok ol om ni b">tok2 = metapy.analyzers.ListFilter(tok2, "C:/Users/**/***/lemur-stopwords.txt", metapy.analyzers.ListFilter.Type.Reject)</code></p><p id="66dc" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第232行:<code class="fe ok ol om ni b">tok3 = metapy.analyzers.ListFilter(tok3, "C:/Users/**/***/lemur-stopwords.txt", metapy.analyzers.ListFilter.Type.Reject)</code></p><p id="0358" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">** <em class="nv">账户用户名</em></p><p id="6ab9" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">*** <em class="nv">交易情绪分析仪安装文件夹的根目录</em></p><h2 id="8ec3" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">谷歌新闻API</h2><p id="b807" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">请在此向谷歌新闻API <a class="ae lh" href="https://newsapi.org/s/google-news-api" rel="noopener ugc nofollow" target="_blank">注册，以获得您自己的API密钥。随后，在以下代码行中用您自己的密钥替换当前的API密钥:</a></p><p id="9565" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第113行:“apiKey= <em class="nv">你的API键在这里</em></p><p id="bd12" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第164行:“apiKey= <em class="nv">你的API键在这里</em>”</p><p id="40c0" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">第215行:“apiKey= <em class="nv">您的API密钥在这里</em>”</p><h1 id="8010" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">使用</h1><h2 id="4b9a" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">在线运行</h2><p id="dfef" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">要在线使用该程序，只需在输入字段中输入交易工具的名称，然后点击“生成报告”按钮。您将被带到显示以下信息的页面:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="0998" class="mw lj it ni b gy nm nn l no np">----------------------------------- TRADING SENTIMENT ANALYZER        RESULTS -----------------------------------</span><span id="7093" class="mw lj it ni b gy on nn l no np">Sentiment Values Range From -1 to +1             -1 = Negative Sentiment           +1 = Positive Sentiment</span><span id="3fb3" class="mw lj it ni b gy on nn l no np">Trading Instrument: aapl</span><span id="95bb" class="mw lj it ni b gy on nn l no np">One Day Sentiment: -0.22</span><span id="bd4e" class="mw lj it ni b gy on nn l no np">One Week Sentiment: -0.05</span><span id="443f" class="mw lj it ni b gy on nn l no np">One Month Sentiment: -0.13</span><span id="4888" class="mw lj it ni b gy on nn l no np">Overall Sentiment: -0.13</span></pre><p id="2959" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">请注意，我们所说的“交易工具”是指任何股票、货币、商品、指数基金等。请不要在输入字段中输入不相关的单词或短语，因为您将在报告中收到如下所示的“不适用”值。</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="8d10" class="mw lj it ni b gy nm nn l no np">----------------------------------- TRADING SENTIMENT ANALYZER RESULTS -----------------------------------</span><span id="270b" class="mw lj it ni b gy on nn l no np">Sentiment Values Range From -1 to +1             -1 = Negative Sentiment           +1 = Positive Sentiment</span><span id="30ea" class="mw lj it ni b gy on nn l no np">Trading Instrument: berlin</span><span id="dc5d" class="mw lj it ni b gy on nn l no np">One Day Sentiment: N/A</span><span id="d21f" class="mw lj it ni b gy on nn l no np">One Week Sentiment: N/A</span><span id="faab" class="mw lj it ni b gy on nn l no np">One Month Sentiment: N/A</span><span id="0ca2" class="mw lj it ni b gy on nn l no np">Overall Sentiment: N/A</span></pre><p id="0617" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">在特殊情况下，你可能会收到一个不相关条目的分数，但是，分数只会反映关于你的条目的情绪，通常是无目的的。</p><h2 id="f377" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">本地运行</h2><p id="9db3" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在成功安装了上一节中解释的所有必需的工具包和代码修改后，您可以在Python IDE打开时通过点击“F5”键来执行TSA v1.0.py脚本。随后，将出现一个窗口，提示您输入交易工具的名称，然后您可以点击“生成报告”按钮。将显示一个包含以下信息的新窗口:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="b08c" class="mw lj it ni b gy nm nn l no np">----------------------------------- TRADING SENTIMENT ANALYZER RESULTS -----------------------------------</span><span id="85f9" class="mw lj it ni b gy on nn l no np">Sentiment Values Range From -1 to +1             -1 = Negative Sentiment           +1 = Positive Sentiment</span><span id="6efc" class="mw lj it ni b gy on nn l no np">Trading Instrument: aapl</span><span id="6887" class="mw lj it ni b gy on nn l no np">One Day Sentiment: -0.22</span><span id="f5f1" class="mw lj it ni b gy on nn l no np">One Week Sentiment: -0.05</span><span id="2fc8" class="mw lj it ni b gy on nn l no np">One Month Sentiment: -0.13</span><span id="de20" class="mw lj it ni b gy on nn l no np">Overall Sentiment: -0.13</span></pre><p id="b42c" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">如果在输入字段中输入了不相关的内容，则会出现另一个窗口，显示以下消息:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="8772" class="mw lj it ni b gy nm nn l no np">No information found for this instrument.<br/>                                         <br/>                                    Please try another trading instrument.</span></pre><h1 id="1c15" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">解读分数</h1><p id="a465" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">“情绪”分数范围是从-1到+1的相对分数。-1代表完全消极的情绪，而+1代表完全积极的情绪，0代表完全中立的情绪。大多数情况下，分数会介于两者之间，最多显示两位小数。分数如下所示:</p><p id="f6f6" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">一天感悟:(对互联网上一天新闻的感悟)</p><p id="b86a" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">一周感悟:(对互联网上一周新闻的感悟)</p><p id="b12f" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">一个月感悟:(对互联网上一个月新闻文章的感悟)</p><p id="cbcf" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">总体情绪:(一天、一周和一个月情绪得分的算术平均值，权重相等)</p><p id="5b74" class="pw-post-body-paragraph ma mb it mc b md nq kd mf mg nr kg mi mj ns ml mm mn nt mp mq mr nu mt mu mv im bi translated">因此，负的分数表明对交易工具的看法是消极的，也许最好不要购买该工具，或者如果你已经拥有该工具，你可能想卖掉它。反之亦然，正分数表明对交易工具的看法是积极的，也许最好购买该工具，或者如果你已经拥有该工具，你可能希望继续持有。</p><h1 id="dc22" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">密码</h1><p id="d947" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">下面的选择将揭示该程序的各个部分，并提供如何修改该程序以满足用户需求的概述。</p><h2 id="7b02" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">工具包</h2><p id="13f4" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第13–22行:程序的这一部分简单地导入了程序中使用的工具包。目前，使用以下工具包:</p><ol class=""><li id="cfd7" class="nw nx it mc b md nq mg nr mj ny mn nz mr oa mv ob oc od oe bi translated">newsapi —用于从Google新闻api中检索文章</li><li id="e9b5" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">日期时间—用于动态生成时间戳，这些时间戳用于检索特定日期的新闻文章</li><li id="6dcf" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">时间—用于更改时间戳，以便检索过去日期的新闻文章</li><li id="8057" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">请求—用于发出http请求</li><li id="6677" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">tkinter —用于设计和执行图形用户界面</li><li id="2836" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">metapy —用于对检索到的新闻文章的文本进行分词、词干提取和应用其他过滤器</li><li id="0ff1" class="nw nx it mc b md of mg og mj oh mn oi mr oj mv ob oc od oe bi translated">计数器—用于计算单词数组中单词的出现次数</li></ol><h2 id="9afd" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">图形用户界面</h2><p id="be84" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第28–77行:程序的这一部分使用工具包“tkinter”构建一个GUI窗口，允许用户输入他们需要的交易工具并相应地生成一个报告。本节还构建了另一个GUI窗口，提醒用户他们已经输入了一个空字段。在此部分可以修改的参数包括尺寸、布局、静态图像、静态文本等。GUI窗口的。</p><h2 id="0f85" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">日期和查询格式</h2><p id="6141" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第86–97行:程序的这一部分创建了一个名为query的空变量，该变量将被分配给前面部分中GUI的输入字段。然后，这个变量将被附加到另一个名为“trading”的字符串上，形成一个查询，如“aapl trading”。然后，这个查询将用于检索以下部分中的相关新闻文章。同样在这部分代码中，日期和时间工具包将用于创建1天、1周和1个月的时间戳，这些时间戳将在下面的部分中用于检索这些时间段内的新闻文章。</p><h2 id="2728" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">一天的感悟</h2><p id="f6ae" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第105–149行:这部分代码使用带有Google News API的格式化查询来检索一天内的新闻文章。随后，metapy工具包将用于对检索到的文本进行解析、标记、词干提取和应用其他过滤器。然后，计数器工具包将用于对标记化列表中的负项<code class="fe ok ol om ni b">NS1</code>和正项<code class="fe ok ol om ni b">PS1</code>的实例进行计数。情感得分将通过计算正负词语之间的差异<code class="fe ok ol om ni b">(PS1 - NS1)</code>来计算，然后将结果除以正负词语的总数<code class="fe ok ol om ni b">(PS1 - NS1)/(PS1 + NS1)</code>来归一化。最终分数将四舍五入到小数点后两位。Google新闻API可以修改为包括不同的域(新闻网站)、不同的排序方法，即发布日期/相关性/受欢迎程度、新闻文章语言和页面大小(返回结果的数量)。正面和负面术语的列表也可以被修改，以在“术语频率”计数中添加或删除术语。</p><h2 id="18e7" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">一周感悟</h2><p id="1139" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第156–200行:这部分代码使用带有Google News API的格式化查询来检索一周内的新闻文章。随后，metapy工具包将用于对检索到的文本进行解析、标记、词干提取和应用其他过滤器。然后，计数器工具包将用于统计标记化列表中负面术语<code class="fe ok ol om ni b">NS2</code>和正面术语<code class="fe ok ol om ni b">PS2</code>的实例。情感得分将通过计算正负词语之间的差异<code class="fe ok ol om ni b">(PS2 - NS2)</code>来计算，然后将结果除以正负词语的总数<code class="fe ok ol om ni b">(PS2 - NS2)/(PS2 + NS2)</code>来归一化。最终分数将四舍五入到小数点后两位。Google新闻API可以修改为包括不同的域(新闻网站)、不同的排序方法，即发布日期/相关性/受欢迎程度、新闻文章语言和页面大小(返回结果的数量)。正面和负面术语的列表也可以被修改，以在“术语频率”计数中添加或删除术语。</p><h2 id="7a90" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">一个月感悟</h2><p id="4878" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第207–251行:这部分代码使用带有Google News API的格式化查询来检索1个月内的新闻文章。随后，metapy工具包将用于对检索到的文本进行解析、标记、词干提取和应用其他过滤器。然后，计数器工具包将用于对标记化列表中的负项<code class="fe ok ol om ni b">NS3</code>和正项<code class="fe ok ol om ni b">PS3</code>的实例进行计数。情感得分将通过计算正负词语之间的差异<code class="fe ok ol om ni b">(PS3 - NS3)</code>来计算，然后将结果除以正负词语的总数<code class="fe ok ol om ni b">(PS3 - NS3)/(PS3 + NS3)</code>来归一化。最终分数将四舍五入到小数点后两位。Google新闻API可以修改为包括不同的域(新闻网站)、不同的排序方法，即发布日期/相关性/受欢迎程度、新闻文章语言和页面大小(返回结果的数量)。正面和负面术语的列表也可以被修改，以在“术语频率”计数中添加或删除术语。</p><h2 id="47bd" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">出错信息</h2><p id="bdf8" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第258–288行:这部分代码构建了一个GUI窗口，当检索到的新闻文章中没有足够的正面或负面词汇时，该窗口会向用户发出警告。如果1天时间戳内的正项和负项的数量少于3 <code class="fe ok ol om ni b">(PS1 + NS1) &lt; 3</code>，则使用tkinter工具包触发错误消息，在新窗口中显示以下消息:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="c9a9" class="mw lj it ni b gy nm nn l no np">No information found for this instrument.<br/>                                         <br/>                                    Please try another trading instrument.</span></pre><h2 id="060c" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">评分和报告图形用户界面</h2><p id="d2c2" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">第295–366行:这部分代码使用tkinter工具包构建了一个GUI窗口，显示成功的情感分析结果。它显示交易工具，一天的情绪得分，一周的情绪得分，一个月的情绪得分和整体情绪得分。在此部分可以修改的参数包括尺寸、布局、静态图像、静态文本等。GUI窗口的。只有在1天的时间戳<code class="fe ok ol om ni b">(PS1 + NS1 &gt; 2)</code>内有2个以上的正项和负项时，GUI才会被触发，这样做是为了过滤掉任何不相关的查询，这些查询可能有一些正项和负项，但在其他方面是不相关的。最终结果将显示如下:</p><pre class="ks kt ku kv gt nh ni nj nk aw nl bi"><span id="7909" class="mw lj it ni b gy nm nn l no np">----------------------------------- TRADING SENTIMENT ANALYZER RESULTS -----------------------------------</span><span id="df5b" class="mw lj it ni b gy on nn l no np">Sentiment Values Range From -1 to +1             -1 = Negative Sentiment           +1 = Positive Sentiment</span><span id="9c2b" class="mw lj it ni b gy on nn l no np">Trading Instrument: aapl</span><span id="a052" class="mw lj it ni b gy on nn l no np">One Day Sentiment: -0.22</span><span id="5ab8" class="mw lj it ni b gy on nn l no np">One Week Sentiment: -0.05</span><span id="551c" class="mw lj it ni b gy on nn l no np">One Month Sentiment: -0.13</span><span id="6837" class="mw lj it ni b gy on nn l no np">Overall Sentiment: -0.13</span></pre><h1 id="3316" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">放弃</h1><p id="a040" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">这个程序的结果并不总是或完全准确。建议用户始终保持谨慎。</p><h2 id="76db" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">使用Streamlit开发Web应用程序:</h2><div class="oo op gp gr oq or"><a href="https://www.amazon.com/Web-Application-Development-Streamlit-Applications/dp/1484281101?&amp;linkCode=ll1&amp;tag=mkhorasani09-20&amp;linkId=a0cb2bc17df598006fd9029c58792a6b&amp;language=en_US&amp;ref_=as_li_ss_tl" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd jd gy z fp ow fr fs ox fu fw jc bi translated">使用Streamlit开发Web应用程序:开发和部署安全且可伸缩的Web应用程序…</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">使用Streamlit开发Web应用程序:使用……开发安全且可扩展的Web应用程序并将其部署到云中</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">www.amazon.com</p></div></div><div class="pa l"><div class="pb l pc pd pe pa pf lb or"/></div></div></a></div><h2 id="0b4b" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">使用Python实现数据可视化:</h2><div class="oo op gp gr oq or"><a href="https://www.coursera.org/learn/python-for-data-visualization?irclickid=xgMQ4KWb%3AxyIWO7Uo7Vva0OcUkGQgW2aEwvr1c0&amp;irgwc=1&amp;utm_medium=partners&amp;utm_source=impact&amp;utm_campaign=3308031&amp;utm_content=b2c" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd jd gy z fp ow fr fs ox fu fw jc bi translated">用Python实现数据可视化</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">“一图胜千言”。我们都熟悉这个表达。它尤其适用于试图…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">www.coursera.org</p></div></div><div class="pa l"><div class="pg l pc pd pe pa pf lb or"/></div></div></a></div><h2 id="ac9e" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">面向所有人的Python专业化:</h2><div class="oo op gp gr oq or"><a href="https://www.coursera.org/specializations/python?irclickid=xgMQ4KWb%3AxyIWO7Uo7Vva0OcUkGQgW16Ewvr1c0&amp;irgwc=1&amp;utm_medium=partners&amp;utm_source=impact&amp;utm_campaign=3308031&amp;utm_content=b2c" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd jd gy z fp ow fr fs ox fu fw jc bi translated">面向所有人的Python</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">学习用Python编程和分析数据。开发收集、清理、分析和可视化数据的程序…</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">www.coursera.org</p></div></div><div class="pa l"><div class="ph l pc pd pe pa pf lb or"/></div></div></a></div><h2 id="737c" class="mw lj it bd lk mx my dn lo mz na dp ls mj nb nc lu mn nd ne lw mr nf ng ly iz bi translated">GitHub资源库:</h2><div class="oo op gp gr oq or"><a href="https://github.com/mkhorasani/Trading_Sentiment_Analyzer" rel="noopener  ugc nofollow" target="_blank"><div class="os ab fo"><div class="ot ab ou cl cj ov"><h2 class="bd jd gy z fp ow fr fs ox fu fw jc bi translated">mkhorasani/Trading _情操_分析器</h2><div class="oy l"><h3 class="bd b gy z fp ow fr fs ox fu fw dk translated">交易情绪分析仪将通过以下方式计算任何股票、货币、商品或指数的标准化“情绪”得分</h3></div><div class="oz l"><p class="bd b dl z fp ow fr fs ox fu fw dk translated">github.com</p></div></div><div class="pa l"><div class="pi l pc pd pe pa pf lb or"/></div></div></a></div></div><div class="ab cl pj pk hx pl" role="separator"><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po pp"/><span class="pm bw bk pn po"/></div><div class="im in io ip iq"><h1 id="d03d" class="li lj it bd lk ll pq ln lo lp pr lr ls ki ps kj lu kl pt km lw ko pu kp ly lz bi translated">新到中？您可以在此订阅和解锁无限文章<a class="ae lh" href="https://khorasani.medium.com/membership" rel="noopener">。</a></h1></div></div>    
</body>
</html>