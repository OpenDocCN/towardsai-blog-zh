<html>
<head>
<title>Jumbled Word — A Game Using Python And Jupyter IPyWidget</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">jumbed Word—使用Python和Jupyter IPyWidget的游戏</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/jumbled-word-game-3fc416829fe4?source=collection_archive---------4-----------------------#2020-11-29">https://pub.towardsai.net/jumbled-word-game-3fc416829fe4?source=collection_archive---------4-----------------------#2020-11-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="28ac" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/7f1631f967cccf4b815b3b883f8184b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*HjG_chxR2cF8rifCNMuXzQ.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">冗杂的文字游戏|来源:图片由作者提供。</figcaption></figure><h1 id="1b7f" class="kh ki iq bd kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le bi translated">介绍</h1><p id="796f" class="pw-post-body-paragraph lf lg iq lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">这个游戏可以由单个用户玩，它涉及到字典中的一个随机单词，这个单词是杂乱无章的。用户必须猜测并在定时器控制的游戏环境中输入相同的内容。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="4d57" class="kh ki iq bd kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le bi translated">规则</h1><p id="d6c0" class="pw-post-body-paragraph lf lg iq lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">玩家可以从下拉菜单中选择一个级别，即初级、中级和高级。当玩家单击开始按钮时，会出现以下结果:</p><ul class=""><li id="ebd2" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">基于所选择的级别，根据所选择的级别，随机弹出长度为4，5，6的单词。</li><li id="313a" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">一个计时器在底部启动，根据选择的级别，启动时间为80、100和120秒。</li><li id="19fb" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">“继续”和“暂停”按钮已启用。</li><li id="b5b5" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">提示按钮根据所选的级别启用。</li><li id="2901" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是初学者，则提示按钮被禁用。</li><li id="48cd" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是中级或高级，则提示按钮将启用默认提示文本。</li><li id="1d64" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">单击开始按钮后，下拉菜单被禁用。</li><li id="d328" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">当玩家单击暂停按钮时，会出现以下结果:</li><li id="e31a" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">提示按钮被禁用。</li><li id="e99a" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">暂停按钮被禁用，以防止多次点击。</li><li id="18f8" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">用户输入答案的文本框被禁用。</li><li id="b25e" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">无论等级如何，分数都会减少1。但是，当它为0时，它不会减少。</li><li id="6eae" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">底部的计时器会暂停。</li></ul><p id="44cc" class="pw-post-body-paragraph lf lg iq lh b li mr lk ll lm ms lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">4.当玩家单击“继续”按钮时，会出现以下结果:</p><ul class=""><li id="ecee" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">用户输入答案的文本框被启用。</li><li id="595b" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">暂停按钮已启用。</li><li id="b89d" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">提示按钮基于以下约束被启用。</li><li id="0394" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是初级，则禁用该级别。</li><li id="53c4" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的等级是中级或高级，如果玩家使用了所有的提示，那么它将被禁用。</li><li id="b9ab" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">否则它被启用。</li><li id="d759" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">底部的计时器从暂停的地方继续计时。</li></ul><p id="1614" class="pw-post-body-paragraph lf lg iq lh b li mr lk ll lm ms lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">5.当玩家单击退出按钮时，会出现以下结果:</p><ul class=""><li id="814b" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">开始、暂停、继续和退出按钮被禁用。</li><li id="8b8e" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">下拉菜单、文本框和提示按钮被禁用。</li><li id="8db3" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">基本上，它会使所有相关的控件失效，用户必须重新运行游戏。</li></ul><p id="e3c0" class="pw-post-body-paragraph lf lg iq lh b li mr lk ll lm ms lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">6.分数是根据所选的级别决定的。内容如下:</p><ul class=""><li id="6356" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">如果选择的级别是初级，分数会增加1。</li><li id="129f" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是中级，分数会增加2。</li><li id="46f2" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是高级，分数会增加4。</li></ul><p id="6197" class="pw-post-body-paragraph lf lg iq lh b li mr lk ll lm ms lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">7.提示的数量取决于所选的级别。内容如下:</p><ul class=""><li id="7d73" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">如果选择的级别是初学者，则为0。</li><li id="4401" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是中级，则为1。</li><li id="1b9b" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是高级，则为2。</li></ul><p id="952a" class="pw-post-body-paragraph lf lg iq lh b li mr lk ll lm ms lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">8.要猜测的随机单词的长度是根据所选的级别决定的。内容如下:</p><ul class=""><li id="ba42" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">如果选择的级别是初级，则为4级。</li><li id="054e" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是中级，则为5。</li><li id="5b55" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是高级，则为6。</li></ul><p id="9389" class="pw-post-body-paragraph lf lg iq lh b li mr lk ll lm ms lo lp lq nf ls lt lu ng lw lx ly nh ma mb mc ij bi translated">9.定时器值根据所选的级别决定。内容如下:</p><ul class=""><li id="1e46" class="mp mq iq lh b li mr lm ms lq mt lu mu ly mv mc mw mx my mz bi translated">如果选择的等级是初级，则为80秒。</li><li id="90aa" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是中级，则为100秒。</li><li id="ac9a" class="mp mq iq lh b li na lm nb lq nc lu nd ly ne mc mw mx my mz bi translated">如果选择的级别是高级，则为120秒。</li></ul></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="df6f" class="kh ki iq bd kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le bi translated">游戏部分</h1><p id="1491" class="pw-post-body-paragraph lf lg iq lh b li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc ij bi translated">混乱的单词是小写的，玩家必须用小写输入文本。根据输入的文本，如果它匹配随机词，那么计时器停止，在底部的“右”的消息生成，分数得到更新。否则游戏继续进行，直到计时器倒计时结束。如果玩家尝试了一次，但是不正确，那么在底部会产生一个“错误”的信息。在没有尝试的情况下，完成后仅显示计时器倒计时值。</p></div><div class="ab cl md me hu mf" role="separator"><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi mj"/><span class="mg bw bk mh mi"/></div><div class="ij ik il im in"><h1 id="fd1a" class="kh ki iq bd kj kk mk km kn ko ml kq kr ks mm ku kv kw mn ky kz la mo lc ld le bi translated">密码</h1><pre class="ni nj nk nl gt nm nn no np aw nq bi"><span id="3b9f" class="nr ki iq nn b gy ns nt l nu nv">!pip install ipywidgets<br/>!pip install requests</span><span id="001d" class="nr ki iq nn b gy nw nt l nu nv">import copy<br/>import random<br/>import threading<br/>import time<br/>import ipywidgets<br/>import requests<br/>from IPython.display import display<br/><br/>random_word = ''<br/>score = 0<br/>random_word_length = 0<br/>no_of_hints = 0<br/>data = []<br/>hint_letter = ''<br/><br/>jumbled_text = ipywidgets.Label(value='Jumbled Text : ')<br/>text_entered = ipywidgets.Label(value='Text Entered : ')<br/>text = ipywidgets.Text(description="Text", disabled=True)<br/>score_label = ipywidgets.Label(value='Score : ')<br/>hint_text = ipywidgets.Label(value='Hint Text : ')<br/>hint_remaining = ipywidgets.Label(value='Hints Remaining : ')<br/>btn_hint = ipywidgets.Button(description='Hint', disabled=True)<br/>high_score_label = ipywidgets.Label(value='High Score : ')<br/>time_remaining = 0<br/><br/><br/>def text_change(change):<br/>    """<br/>    Changing text entered label value when the user enters text through the text box.<br/>    When the text entered is equal to the random word, the textbox is rendered empty.<br/>    :param change: Handling change event from the text box.<br/>    """<br/>    if change["new"] == "Expected":<br/>        text.value = ""<br/>    text_entered.value = "Text Entered : " + change["new"]<br/><br/><br/>text.observe(text_change, names='value')<br/><br/>w = ipywidgets.Dropdown(<br/>    options=['Beginner', 'Intermediate', 'Advanced'],<br/>    value='Beginner',<br/>    description='Choose Level:',<br/>)<br/><br/><br/>def set_hint_text():<br/>    """<br/>    Set the default hint text for the intermediate and advanced level.<br/>    The default hint text is '__'*{word_length} based on the level selected.<br/>    """<br/>    initial_hint_text = ''<br/>    if random_word_length &gt; 4:<br/>        for i in range(random_word_length):<br/>            initial_hint_text += '__'<br/>            if i &lt; random_word_length - 1:<br/>                initial_hint_text += " "<br/><br/>    hint_text.value = 'Hint Text : ' + initial_hint_text<br/><br/><br/>def jumble_random_word():<br/>    """<br/>    Jumbling the random word of a given length depending on the level selected.<br/>    The random.shuffle() method is sometimes giving same string thus a while loop to re-iterate the same.<br/>    Also the random word generated by the above might be a word in data obtained from json so it is also re-iterated.<br/>    :return: jumbled_word.<br/>    """<br/>    set_word_length_on_level()<br/>    set_random_word()<br/>    temp_word = random_word<br/>    random_word_list = list(random_word)<br/>    temp = copy.deepcopy(random_word_list)<br/>    while temp == random_word_list or temp_word in data:<br/>        random.shuffle(random_word_list)<br/>        temp_word = ''.join(random_word_list)<br/>    jumbled_word = ''.join(random_word_list)<br/>    return jumbled_word<br/><br/><br/>def set_random_word():<br/>    """<br/>    Setting the random word based on the level selected by user.<br/>    """<br/>    global data<br/>    global random_word<br/>    words_with_length_k = []<br/>    response = requests.get("http://raw.githubusercontent.com/sindresorhus/mnemonic-words/master/words.json")<br/>    data = response.json()<br/>    for _, value in enumerate(data):<br/>        if len(value) == random_word_length:<br/>            words_with_length_k.append(value)<br/>    random_word = random.choice(words_with_length_k)<br/><br/><br/>def set_word_length_on_level():<br/>    """<br/>    Setting random word length based on the level selected.<br/>    """<br/>    global random_word_length<br/>    if w.value == 'Beginner':<br/>        random_word_length = 4<br/>    elif w.value == 'Intermediate':<br/>        random_word_length = 5<br/>    elif w.value == 'Advanced':<br/>        random_word_length = 6<br/><br/><br/>display(w)<br/>display(score_label)<br/>display(jumbled_text)<br/>b = ipywidgets.HBox([hint_text, btn_hint, hint_remaining])<br/>display(b)<br/>display(text_entered, text)<br/><br/>btn_start = ipywidgets.Button(description='Start')<br/>btn_pause = ipywidgets.Button(description='Pause',disabled=True)<br/>btn_resume = ipywidgets.Button(description='Resume',disabled=True)<br/>btn_exit = ipywidgets.Button(description='Exit')<br/>left_box = ipywidgets.VBox([btn_start, btn_pause])<br/>right_box = ipywidgets.VBox([btn_resume, btn_exit])<br/>a = ipywidgets.HBox([left_box, right_box])<br/>display(a)<br/><br/><br/>def on_pause_button_clicked(b):<br/>    """<br/>    On Click Event for the Pause Button.<br/>    The timer thread is notified to stop through threading.<br/>    The text box and hint button is disabled.<br/>    The pause button is disabled.<br/>    The score is decremented based on the constraint.<br/>    :param b: pause button.<br/>    """<br/>    global score<br/>    e.clear()<br/>    b.disabled = True<br/>    text.disabled = True<br/>    btn_hint.disabled = True<br/>    if score &gt; 0:<br/>        score -= 1<br/>        score_label.value = 'Score : ' + str(score)<br/><br/><br/>btn_pause.on_click(on_pause_button_clicked)<br/><br/><br/>def on_exit_button_clicked(b):<br/>    """<br/>    On Click event for the exit button.<br/>    The timer thread is notified to stop.<br/>    The controls are invalidated.<br/>    :param b: exit button.<br/>    """<br/>    e.clear()<br/>    text.disabled = True<br/>    btn_start.disabled = True<br/>    btn_resume.disabled = True<br/>    btn_pause.disabled = True<br/>    b.disabled = True<br/>    w.disabled = True<br/>    btn_hint.disabled = True<br/><br/><br/>btn_exit.on_click(on_exit_button_clicked)<br/><br/><br/>def on_hint_button_clicked(b):<br/>    """<br/>    On Click event for the hint button.<br/>    The hint text is updated based on the level selected.<br/>    The hints remaining label value is updated.<br/>    The hint button is disabled based on the remaining hints.<br/>    :param b: hint button.<br/>    """<br/>    global no_of_hints<br/>    global hint_letter<br/>    s_upd = ''<br/><br/>    if no_of_hints == 0:<br/>        s_upd += random_word[0]<br/>        hint_letter = random_word[0]<br/>        s_upd += " "<br/>        for i in range(random_word_length - 1):<br/>            s_upd += '__'<br/>            if i &lt; random_word_length - 2:<br/>                s_upd += " "<br/>    elif no_of_hints == 1:<br/>        for i in range(random_word_length):<br/>            if i &gt; 0:<br/>                if i == 3:<br/>                    s_upd += random_word[3]<br/>                else:<br/>                    s_upd += '__'<br/>            else:<br/>                s_upd += hint_letter<br/>            if i &lt; random_word_length - 1:<br/>                s_upd += " "<br/><br/>    hint_text.value = 'Hint Text : ' + s_upd<br/>    no_of_hints += 1<br/>    set_hint_remaining()<br/>    btn_hint.disabled = disable_hint_button_based_on_hints()<br/><br/><br/>btn_hint.on_click(on_hint_button_clicked)<br/><br/><br/>def on_resume_button_clicked(b):<br/>    """<br/>    On Click Event for the resume button.<br/>    The timer thread is notified to resume again.<br/>    The text box is enabled.<br/>    The pause button is enabled if it is disabled.<br/>    The hint button is enabled/disabled based on the number of hints remaining.<br/>    :param b: resume button.<br/>    """<br/>    e.set()<br/>    text.disabled = False<br/>    if(btn_pause.disabled):<br/>        btn_pause.disabled = False<br/>    btn_hint.disabled = disable_hint_button_based_on_hints()<br/><br/><br/>def disable_hint_button_based_on_hints():<br/>    """<br/>    Disabling the hint button based on constraints for the game levels.<br/>    :return: True indicating the button can be disabled else False.<br/>    """<br/>    return (random_word_length == 4) or (random_word_length == 5 and no_of_hints == 1) or (random_word_length == 6 and no_of_hints == 2)<br/><br/><br/>btn_resume.on_click(on_resume_button_clicked)<br/><br/><br/>def set_timer_based_on_level():<br/>    """<br/>    Setting the timer based on the game level.<br/>    """<br/>    global time_remaining<br/>    if w.value == 'Beginner':<br/>        time_remaining = 80<br/>    elif w.value == 'Intermediate':<br/>        time_remaining = 100<br/>    elif w.value == 'Advanced':<br/>        time_remaining = 120<br/><br/><br/>def set_hint_remaining():<br/>    """<br/>    Setting the hint remaining label value based on the number of hints for each game level.<br/>    """<br/>    value = 0<br/>    if random_word_length == 5:<br/>        value = 1 - no_of_hints<br/>    elif random_word_length == 6:<br/>        value = 2 - no_of_hints<br/><br/>    hint_remaining.value = 'Hints Remaining : ' + str(value)<br/><br/><br/>def on_start_button_clicked(b):<br/>    """<br/>    On Click Event for the start button.<br/>    Setting the timer function based on level is called.<br/>    The jumbled random word function is called.<br/>    The set hint text and hints remaining function is called.<br/>    The threading mechanism is called to start the countdown timer.<br/>    The start button is disabled while pause and resume buttons are enabled.<br/>    The textbox is enabled and the dropdown menu is disabled.<br/>    The hint button is disabled based on the random word length.<br/>    <br/>    :param b: start button.<br/>    """<br/>    set_timer_based_on_level()<br/>    jumbled_word = jumble_random_word()<br/>    jumbled_text.value = "Jumbled Text : " + jumbled_word<br/>    set_hint_text()<br/>    set_hint_remaining()<br/>    thread = threading.Thread(target=countdown, args=(e,))<br/>    thread.start()<br/>    e.set()<br/>    btn_start.disabled = True<br/>    text.disabled = False<br/>    btn_pause.disabled = False<br/>    btn_resume.disabled = False<br/>    w.disabled = True<br/>    if random_word_length &gt; 4:<br/>        btn_hint.disabled = False<br/><br/><br/>btn_start.on_click(on_start_button_clicked)<br/><br/><br/>def update_score_on_level():<br/>    """<br/>    Updating the game score based on the correct answer for the selected game level.<br/>    """<br/>    global score<br/>    if w.value == 'Beginner':<br/>        score += 1<br/>    elif w.value == 'Intermediate':<br/>        score += 2<br/>    else:<br/>        score += 4<br/><br/><br/>def print_result_on_console(result):<br/>    """<br/>    Printing the result after game finishes.<br/>    :param result: The message to be printed on the console after the game finishes which is Right/Wrong.<br/>    """<br/>    print(result, end='\r')<br/>    text.value = ""<br/><br/><br/>def countdown(event):<br/>    """<br/>    Running timer based on game level and handling thread to notify the timer to start/stop based on user action.<br/>    The user action here denotes the click on resume/pause button.<br/>    Printing the result message on the console function is called.<br/>    The update score function is called.<br/>    The timer countdown is printed on the bottom of the screen.<br/>    The dropdown menu is enabled post game completion while other controls are invalidated.<br/>    The start button is enabled.<br/>    :param event: Denoting it as a target function for threading.<br/>    """<br/>    global time_remaining<br/>    global no_of_hints<br/>    global data<br/>    event_is_set = True<br/><br/>    while time_remaining &gt;= 0 and event_is_set:<br/>        event_is_set = e.wait()<br/>        if text.value == random_word:<br/>            print_result_on_console("Right")<br/>            time_remaining = 0<br/>            update_score_on_level()<br/>            break<br/><br/>        minutes, secs = divmod(time_remaining, 60)<br/>        time_format = '{:02d}:{:02d}'.format(minutes, secs)<br/>        print(time_format, end='\r')<br/>        time.sleep(1)<br/>        time_remaining -= 1<br/><br/>    if text.value != "" and text.value != random_word:<br/>        print_result_on_console("Wrong")<br/><br/>    score_label.value = 'Score : ' + str(score)<br/>    hint_remaining.value = 'Hints Remaining : '<br/>    jumbled_text.value = "Jumbled Text : "<br/>    btn_start.disabled = False<br/>    w.disabled = False<br/>    text.disabled = True<br/>    hint_text.value = 'Hint Text : '<br/>    btn_hint.disabled = True<br/>    btn_pause.disabled = True<br/>    btn_resume.disabled = True<br/>    no_of_hints = 0<br/>    data = []<br/><br/><br/>e = threading.Event()</span></pre></div></div>    
</body>
</html>