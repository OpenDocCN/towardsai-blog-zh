<html>
<head>
<title>Microsoft Azure Synapse Analytics Workspace vs. Snowflake Data Cloud</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Microsoft Azure Synapse分析工作区与雪花数据云</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/microsoft-azure-synapse-analytics-workspace-vs-snowflake-data-cloud-53f282633b0d?source=collection_archive---------0-----------------------#2021-02-20">https://pub.towardsai.net/microsoft-azure-synapse-analytics-workspace-vs-snowflake-data-cloud-53f282633b0d?source=collection_archive---------0-----------------------#2021-02-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="19d1" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/cloud-computing" rel="noopener ugc nofollow" target="_blank">云计算</a></h2><div class=""/><div class=""><h2 id="5b98" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">比较Microsoft Azure Synapse分析工作区和雪花数据云，在Azure云上构建企业数据仓库</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/edd5f2367648b5b91ed1b3de6fcdb600.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sIEy1N3lI5LdYEESnucUJg.png"/></div></div></figure><p id="d4f5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi lz translated"><span class="l ma mb mc bm md me mf mg mh di"> O </span>作为数字化转型的一部分，组织开始转向数据驱动的业务决策。为了建立数据驱动的文化，数据移动对于检索可操作的见解至关重要。随着数据激增，有必要构建一个企业数据仓库或数据湖，以便在此基础上进行分析。为了创建企业数据的单一真实来源，企业往往更加关注在一个可以随着数据量增长而扩展的强大平台上存储和管理数据。</p><p id="b2a5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">亚马逊AWS、微软Azure、谷歌云平台、雪花数据云都提供数据仓库即服务(<em class="mi"> DWaaS </em>)。</p><h2 id="ffd4" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated">本博客的目的</h2><blockquote class="nb nc nd"><p id="9dde" class="ld le mi lf b lg lh kd li lj lk kg ll ne ln lo lp nf lr ls lt ng lv lw lx ly im bi translated">在本文中，我们将讨论在针对Azure Synapse和雪花数据云<strong class="lf jd">在云中设置企业数据仓库之前需要评估的重要标准，以及这两个仓库与Azure云平台的集成情况</strong>。</p></blockquote><h2 id="71e3" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated">这个博客的主要焦点</h2><blockquote class="nb nc nd"><p id="b1e4" class="ld le mi lf b lg lh kd li lj lk kg ll ne ln lo lp nf lr ls lt ng lv lw lx ly im bi translated">T <!-- -->本文仅涵盖与构建企业数据仓库相关的不同类别的两个数据仓库之间的定性度量——可用性、安全性、集成、监控、可伸缩性、集群管理、数据管理/建模、成本、数据治理、持续集成&amp;持续交付、备份/数据归档&amp;保留。</p></blockquote><h2 id="2e4d" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated">什么将被跳过</h2><blockquote class="nb nc nd"><p id="8e9b" class="ld le mi lf b lg lh kd li lj lk kg ll ne ln lo lp nf lr ls lt ng lv lw lx ly im bi translated">本文没有比较两个仓库之间的查询性能。这不包括Synapse和雪花之间的任何定量测量。</p></blockquote></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="bb15" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">非常感谢<a class="ae no" href="https://www.linkedin.com/in/arunkumar-ponnurangam-10110833/" rel="noopener ugc nofollow" target="_blank"> Arunkumar Ponnurangam </a>在各个方面帮助评估云数据仓库。</p><p id="2cd8" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><em class="mi">本博客所有信息均为发布时相关(</em><strong class="lf jd"><em class="mi">2021年2月</em> </strong> <em class="mi">)。由于这两个仓库都发布了新功能并经常增强现有功能，因此列出的一些细节将来可能会有所不同。</em></p></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><p id="8e73" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这两个仓库都是完全托管的服务，可以减轻客户的基础架构管理负担，让他们专注于数据。虽然这些解决方案都是为处理海量数据和支持繁重的分析处理工作而设计的，但它们的方法存在一些差异和相似之处。</p><p id="5e63" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在讨论这些标准之前，先简单介绍一下这两种云平台。</p><h1 id="cc64" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">Azure Synapse分析工作区</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/0acafcdddecf2224062fdad506058d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1S1T-QT3ED-h9wyjKVKU3w.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">图片提供:<a class="ae no" href="https://azure.microsoft.com/en-us/services/synapse-analytics/" rel="noopener ugc nofollow" target="_blank">https://azure . Microsoft . com/en-us/services/synapse-analytics/</a></figcaption></figure><p id="0d35" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><a class="ae no" href="https://azure.microsoft.com/en-us/services/synapse-analytics/" rel="noopener ugc nofollow" target="_blank"> Azure Synapse </a>(原名SQL DW)提供统一的数据平台，开发端到端的数据管道。Synapse Analytics是一项全面管理的服务，旨在为企业构建现代化的数据仓库。Synapse Analytics将SQL、Apache Spark、数据接收/编排(Azure Data Factory)和可视化(Power BI)整合到一个工作空间中，大大缩短了构建分析解决方案的时间。</p><h1 id="d883" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">雪花数据云</h1><p id="b14d" class="pw-post-body-paragraph ld le it lf b lg of kd li lj og kg ll lm oh lo lp lq oi ls lt lu oj lw lx ly im bi translated">一个具有革命性架构的平台，提供近乎无限的数据机会。Snowflake独特的架构在逻辑上分离，但在本地集成了存储、计算和服务。<a class="ae no" href="https://www.snowflake.com/" rel="noopener ugc nofollow" target="_blank"> Snowflake </a>专为云设计，目前可以托管在任何三个云平台(AWS、Azure、GCP)上。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/99d2192ecf726f803ab7bc445d71b434.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GvRJpWaH9ZCP1vIN.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">图片提供:<a class="ae no" href="https://resources.snowflake.com/solution-briefs/snowflake-cloud-data-platform-solution-brief" rel="noopener ugc nofollow" target="_blank">https://resources . snow flake . com/solution-briefs/snow flake-cloud-data-platform-solution-brief</a></figcaption></figure></div><div class="ab cl nh ni hx nj" role="separator"><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm nn"/><span class="nk bw bk nl nm"/></div><div class="im in io ip iq"><h1 id="9670" class="np mk it bd ml nq ol ns mo nt om nv mr ki on kj mu kl oo km mx ko op kp na nz bi translated">可用性、安全性和集成</h1><h2 id="73b5" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">与Azure数据工厂的集成</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/bfebb4839158305088b811842c581b5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1086/format:webp/0*7pAYbxDDNAolXXMu.png"/></div></figure><p id="8e07" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd"> ADF与Synapse的集成运行良好，</strong>无需人工干预。然而，使用雪花，我们第一次需要手动创建表。</p><p id="36cb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:第一次加载表格时，ADF会在Synapse中自动创建表格。</p><p id="a28d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于Synapse，使用ADF中的<a class="ae no" href="https://docs.microsoft.com/en-us/azure/data-factory/transform-data-using-stored-procedure" rel="noopener ugc nofollow" target="_blank">存储过程活动</a>执行存储过程。</p><p id="b200" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:使用数据类型映射，我们需要在雪花中加载数据之前手动创建表格。雪花为大多数源系统提供了预定义的数据类型映射。此外，还可以使用雪花实用程序脚本为流行的数据源创建表DDL。</p><p id="2d34" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于雪花，不能使用ADF存储过程活动来执行存储过程，需要使用<a class="ae no" href="https://stackoverflow.com/questions/56416169/execute-snowflake-stored-procedure-with-azure-data-factory" rel="noopener ugc nofollow" target="_blank">查找活动</a>来调用<a class="ae no" href="https://docs.microsoft.com/en-us/azure/data-factory/connector-snowflake" rel="noopener ugc nofollow" target="_blank">雪花的存储过程</a>。</p><p id="58ab" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Azure数据工厂只执行存储过程。无法从ADF调度SnowSQL/Synapse SQL脚本。很快，从ADF调用Synapse SQL脚本可能成为可能，但从ADF调度SnowSQL脚本/工作表是不可能的。</p><h2 id="68a9" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">与Azure Event Hub集成，支持流数据</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/856a251eb49c38b703e22ba34ea964d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:456/0*NB7EylIwF93k7F2k"/></div></figure><p id="dc41" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd"> Azure Event Hub，Azure Stream Analytics和Synapse，原生集成在Azure内</strong>。然而，它需要额外的一跳写入内容，以成为一个blob存储&amp;与Snowpipe(服务)与雪花集成。</p><p id="1f85" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:从<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-integrate-azure-stream-analytics" rel="noopener ugc nofollow" target="_blank"> Azure Stream Analytics到Synapse </a>的原生集成可以实现实时数据处理。由于它具有本地集成支持，监控实时事件及其处理状态将变得很容易。基于此信息，可以在作业意外停止时设置警报。</p><p id="c506" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:没有与Azure Stream Analytics到Snowflake的原生集成。数据需要从事件中心加载到Blob存储，然后使用<a class="ae no" href="https://docs.snowflake.com/en/user-guide/data-load-snowpipe-auto-azure.html" rel="noopener ugc nofollow" target="_blank"> Snowpipe </a>将数据复制到雪花中。需要额外的跳跃来暂存中间数据。</p><p id="afa7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">除了流分析和SnowPipe之外，Azure Databricks Spark结构化流还可以用于进行实时处理，并从事件中心摄取到<a class="ae no" href="https://docs.databricks.com/data/data-sources/azure/synapse-analytics.html" rel="noopener ugc nofollow" target="_blank"> Synapse </a>和<a class="ae no" href="https://docs.databricks.com/data/data-sources/snowflake.html" rel="noopener ugc nofollow" target="_blank">雪花</a>。</p><h2 id="07b7" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">管理界面</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ow"><img src="../Images/35216357234c974b1db96a94e5365134.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*q_cJsREHxOPtlvwN"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">照片由<a class="ae no" href="https://unsplash.com/@danielkorpai?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">丹尼尔·科尔派</a>在<a class="ae no" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="d9af" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花使管理员能够在一个地方直观地监控</strong>所有查询执行、解释计划、计算利用率。然而，Azure Synapse需要额外的查询存储设置或DMV ( <a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-manage-monitor" rel="noopener ugc nofollow" target="_blank">动态管理视图</a>)来查看过去在Synapse中运行的查询。</p><p id="3f5e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:监控UI仅显示SQL池最后一次恢复时的查询。要查看过去运行的查询，需要启用并查询<a class="ae no" href="https://docs.microsoft.com/en-us/sql/relational-databases/performance/monitoring-performance-by-using-the-query-store?view=sql-server-ver15" rel="noopener ugc nofollow" target="_blank">查询存储库</a>。具有较大SQL文本(&gt; 4000个字符)的查询将被截断。它可以从查询存储中较大的SQL文本的查询计划(XML/string格式)中提取。查询计划可以从门户网站下载，也可以从SSMS生成。查询计划只能由SSMS查看。当某些指标(例如数据库大小或CPU使用率)达到阈值时，可以使用警报来发送电子邮件或调用webhook。</p><p id="ef8b" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code> : <a class="ae no" href="https://docs.snowflake.com/en/user-guide/snowflake-manager.html" rel="noopener ugc nofollow" target="_blank">监控UI </a>显示活动的、排队的、已完成的查询，并提供更多信息，如查询配置文件的可视化表示、扫描的字节数、执行时间、编译和执行。有了雪花，你所有的查询历史将保留1年。计费&amp;使用仪表板显示仓库级别计算资源的每日利用率。资源监视器可用于对仓库消耗的信用数量施加限制。当达到和/或接近这些限制时，资源监视器可以触发各种动作，例如发送警报通知和/或暂停仓库。</p><p id="bb86" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">对于Synapse和Snowflake，随着时间的推移，计算资源的利用率都有可视化的表示。</p><h2 id="a0e5" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">数据安全性—行/列级安全性</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ox"><img src="../Images/c654c30d81b85bdb328092c19b07ae75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*i6ozXwLFxmPby7ZN"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">照片由<a class="ae no" href="https://unsplash.com/@franckinjapan?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">弗兰克</a>在<a class="ae no" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="3d20" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code>:<strong class="lf jd">Synapse和Snowflake都包含所有必需的数据安全选项</strong>来配置认证&amp; RBAC、行级安全、列级安全、动态数据屏蔽。</p><p id="344e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:限制列访问<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/column-level-security?view=sql-server-ver15" rel="noopener ugc nofollow" target="_blank">，保护敏感数据</a>。截至今天，列级加密在Azure Synapse 的<a class="ae no" href="https://docs.microsoft.com/en-us/sql/relational-databases/security/encryption/encrypt-a-column-of-data?view=sql-server-ver15" rel="noopener ugc nofollow" target="_blank">预览选项中。</a><a class="ae no" href="https://docs.microsoft.com/en-us/sql/relational-databases/security/dynamic-data-masking?view=azure-sqldw-latest" rel="noopener ugc nofollow" target="_blank">动态数据屏蔽</a>功能可以在列级启用。</p><p id="0ae5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">可以使用内联表函数限制行级访问控制，并将其应用于<a class="ae no" href="https://docs.microsoft.com/en-us/sql/relational-databases/security/row-level-security?toc=%2Fazure%2Fsynapse-analytics%2Fsql-data-warehouse%2Ftoc.json&amp;bc=%2Fazure%2Fsynapse-analytics%2Fsql-data-warehouse%2Fbreadcrumb%2Ftoc.json&amp;view=sql-server-ver15" rel="noopener ugc nofollow" target="_blank">过滤谓词</a>。它检查存储在自定义表中的登录用户/角色的权限。</p><p id="1d18" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:通过<a class="ae no" href="https://docs.snowflake.com/en/user-guide/views-secure.html" rel="noopener ugc nofollow" target="_blank">创建安全视图</a>限制列访问以保护敏感数据。</p><p id="20a7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">通过创建安全策略，可以实现列级加密和<a class="ae no" href="https://docs.snowflake.com/en/sql-reference/sql/create-masking-policy.html" rel="noopener ugc nofollow" target="_blank">动态数据屏蔽</a>。仅在<a class="ae no" href="https://docs.snowflake.com/en/user-guide/intro-editions.html" rel="noopener ugc nofollow" target="_blank">雪花—企业版</a>中可用。</p><p id="ec74" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">可以使用上下文函数current_user()和current_role()限制行级访问控制，并使用存储在自定义表中的权限进行联接。它使用<a class="ae no" href="https://docs.snowflake.com/en/user-guide/views-secure.html" rel="noopener ugc nofollow" target="_blank">安全视图</a>。</p><h2 id="2468" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">统一工作区体验</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/69597cf4415db32d6fe18ba65835327e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*r4jL0Pu1UJ_RSROZ"/></div></div></figure><p id="89ac" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd"> Synapse workspace提供了统一的体验</strong>来构建端到端的数据管理活动，而Snowflake只涵盖了数据分析、转换和管理UI等几个方面。</p><p id="7d9e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:一个集成的<a class="ae no" href="https://azure.microsoft.com/en-us/services/synapse-analytics/" rel="noopener ugc nofollow" target="_blank">统一工作空间</a>下的端到端数据管道阶段，如数据接收、数据转换、编排、数据分析、管理监控和源代码控制。</p><p id="be88" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:它需要多种工具，但却是可管理的，可以使用<a class="ae no" href="https://azure.microsoft.com/en-us/services/data-factory/" rel="noopener ugc nofollow" target="_blank"> Azure Data Factory </a>来执行数据接收和编排。雪花提供的数据转换、数据分析和管理监控。雪花UI工作表不支持直接与源代码控制系统连接的内置支持。它需要像VS代码一样的外部集成。</p><h1 id="c760" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">可量测性</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oz"><img src="../Images/d4d694fee5637cbc75d32297e4a4dc08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*w4YVB3ukZSiYTKM1.png"/></div></div></figure><p id="3d78" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花提供自动伸缩</strong>，而Synapse需要手动干预或者使用Azure资源的自定义管道。</p><p id="295b" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:没有自动缩放功能。可以手动扩展，也可以使用Azure <a class="ae no" href="https://www.youtube.com/watch?v=_sWkIC97AZ4" rel="noopener ugc nofollow" target="_blank"> Automation </a>、Azure Functions和Webhook Activity进行调度，以基于自定义工作负载分析调用REST端点。<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-manage-compute-overview" rel="noopener ugc nofollow" target="_blank">缩放时，在后台，所有传入的查询都被<strong class="lf jd">终止/取消</strong> </a>，并回滚所有正在运行的事务性查询，以确保状态一致。只有在事务回滚完成后，才会进行仓库缩放。</p><p id="9b69" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code> : <a class="ae no" href="https://docs.snowflake.com/en/user-guide/warehouses-multicluster.html" rel="noopener ugc nofollow" target="_blank">自动缩放</a>无需任何手动交互。通过调整仓库大小来实现纵向扩展(M到L)以提高性能，通过向仓库添加集群来实现横向扩展(M + M)以提高并发性。多集群仓库(需要雪花企业版或更高版本)是专门为处理与大量并发用户和/或查询相关的排队和性能问题而设计的。雪花支持在任何时候调整仓库的大小，甚至在运行的时候。<a class="ae no" href="https://docs.snowflake.com/en/user-guide/warehouses-considerations.html#how-does-query-composition-impact-warehouse-processing" rel="noopener ugc nofollow" target="_blank">调整正在运行的仓库<strong class="lf jd">的大小不会影响仓库已经在处理的查询</strong> </a> <strong class="lf jd"> </strong>，<em class="mi">额外的服务器仅用于排队和新的查询</em>。</p><h1 id="0883" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">集群管理</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pa"><img src="../Images/db54c55ef2d631474955fccf7f6702e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gdsn6H5t5AQulyHK26I8CA.png"/></div></div></figure><p id="71fd" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花支持自动恢复/暂停</strong>。雪花的解耦存储和计算架构支持创建专用的“计算”仓库，以支持各种EDW工作负载。然而，在Synapse中，只需为所有EDW工作负载创建一个整合的SQL池。</p><p id="4487" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code> : <em class="mi">自动暂停或恢复不可用</em>。明确需要使用<a class="ae no" href="https://www.youtube.com/watch?v=_sWkIC97AZ4" rel="noopener ugc nofollow" target="_blank"> Azure Automation </a>安排SQL池暂停/恢复。扩展或缩小SQL池集群遵循相同的方法。示例脚本在这里是<a class="ae no" href="https://github.com/microsoft/sql-data-warehouse-samples/tree/main/samples/automation" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0d2c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">工作负载<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-workload-management#workload-management-concepts" rel="noopener ugc nofollow" target="_blank">管理</a>、<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-workload-isolation" rel="noopener ugc nofollow" target="_blank">隔离</a>、<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-workload-importance" rel="noopener ugc nofollow" target="_blank">重要性</a>只有在同一个专用SQL池内才有可能，不能有多个SQL池访问同一个数据。比如一个ETL工作负载需要DW500c，分析工作负载需要DW2000c然后，我们需要使用DW2000c单元创建一个专用SQL池，并将其用于ETL和分析工作负载，即使ETL工作负载不需要这么大的DWH单元。所有工作负载的成本都是一样的&amp;最终为不需要这么大的DWH单元的ETL工作负载支付更多的钱。</p><p id="2981" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:仓库可以设置为<a class="ae no" href="https://docs.snowflake.com/en/user-guide/warehouses-considerations.html#automating-warehouse-suspension" rel="noopener ugc nofollow" target="_blank"><em class="mi"/></a>在指定时间后没有活动时自动暂停。当自动提交新的查询时，可以将仓库设置为<a class="ae no" href="https://docs.snowflake.com/en/user-guide/warehouses-considerations.html#automating-warehouse-resumption" rel="noopener ugc nofollow" target="_blank"> resume </a>。</p><p id="d37c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Snowflake的独特架构通过使用多个并发运行的仓库，可以同时运行<a class="ae no" href="https://www.snowflake.com/blog/managing-snowflakes-compute-resources/" rel="noopener ugc nofollow" target="_blank">多个工作负载，而不会影响性能</a>。每个工作负载(例如ETL和分析工作负载)都可以有自己独立的资源，即使每个工作负载都在相同的数据库和表上运行。这意味着ETL工作负载不会影响分析工作负载的性能，反之亦然。</p><h1 id="c972" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">数据管理和建模</h1><h2 id="0252" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">数据管理(开发、质量保证、生产)环境设置</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pb"><img src="../Images/ded9c8182894ccae6ad75e5734956cbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PYj6gMqPEhE8ndlq.png"/></div></div></figure><p id="5c20" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花零拷贝克隆跨越</strong> <a class="ae no" href="https://www.snowflake.com/blog/saving-time-space-simplifying-devops-fast-cloning/" rel="noopener ugc nofollow" target="_blank"> <strong class="lf jd"> Dev、QA和Prod </strong> </a> <strong class="lf jd">有助于大幅降低成本</strong>。而在Synapse中，数据需要复制到多个环境中，并且所有这些复制环境的存储成本都是独立的。</p><p id="b03f" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:为了维护开发、QA和生产环境，需要创建三个独立的专用SQL池。较高的DWH单位用于生产，较低的单位用于开发和质量保证。</p><p id="d94b" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">三种环境的存储和计算成本将是分开的，这增加了三种不同环境的存储成本和专用SQL池，带来了额外的计算成本。</p><p id="4866" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code> : Snowflake的<a class="ae no" href="https://www.snowflake.com/blog/snowflake-fast-clone/" rel="noopener ugc nofollow" target="_blank">零拷贝克隆</a>特性提供了一种便捷的方式来快速拍摄任何表、模式或数据库的“快照”,并创建该对象的派生副本，该副本最初共享底层存储。这不会产生任何额外的成本(直到对克隆对象进行了更改)。</p><p id="48e9" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">例如，当从一个表创建克隆时，该克隆不利用任何数据存储，因为它在克隆时共享原始表的所有现有微分区。但是，可以独立于克隆对象的原始表添加、删除或更新行。对克隆对象的每次改变都会导致创建由克隆对象独占的新的微分区。存储成本将节省很多，环境维护将更容易。</p><h2 id="fff0" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">存储数据时的设计考虑</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pc"><img src="../Images/a4ef64b430a5c544f6c4a8cdc09f3651.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2Tb4sQtuKOWdCelF.jpg"/></div></div></figure><p id="eb39" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花</strong>以自己专有的文件格式存储数据，<strong class="lf jd">通过微分区在内部负责优化</strong>。相比之下，Synapse数据需要大量的调整和设计考虑。</p><p id="ce24" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:在Synapse中存储数据时，数据架构师/数据工程师需要决定<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/sql-data-warehouse-tables-overview" rel="noopener ugc nofollow" target="_blank">表分布的类型</a>。有三种类型的表分布，I)散列分布(通常用于大容量事实表)，ii)复制分布(用于维度表或更小容量(&lt; 2GB)以及iii)循环分布(用于临时表或没有高基数分区键的表)。</p><p id="1913" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">Synapse需要维护索引等辅助结构来提高查询性能。</p><p id="dfd7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:易于存储数据，无需任何额外的手动考虑。Snowflake以一种优化的格式存储数据——压缩的、<a class="ae no" href="https://docs.snowflake.com/en/user-guide/tables-clustering-micropartitions.html" rel="noopener ugc nofollow" target="_blank">微分区的</a>，在查询数据时提供最佳性能。只有当表的数据量超过1 TB或者处理时间比预期的长时，才需要对表进行聚类。</p><h2 id="f0a2" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">数据保留&amp;数据存档</strong></h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/ece479d5da287d6791f69ac82f5256d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Uq4HhEzkzU94g75q.jpg"/></div></div></figure><p id="af01" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花</strong>存储成本与blob存储相同，归档数据不会影响计算资源。而在Synapse中，如果数据没有卸载到Blob存储，就会影响计算资源。</p><p id="65c3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:如果synapse中的陈旧数据与非历史数据驻留在同一个表中，它可能会影响计算资源—通过将数据从Synapse卸载到Blob存储来归档数据。例如，在每年归档的情况下，每年年底将数据卸载到Blob存储中。要访问存档的数据，请在临时查询的情况下使用PolyBase，方法是创建一个外部表或开发一个恢复过程，以便在需要历史数据时将数据加载回专用的SQL池。</p><p id="c7ea" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code> : <em class="mi">使用零拷贝克隆归档数据库/模式/表</em>。</p><p id="27cc" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">例如，如果有每年归档的需求，那么每年年底创建一个克隆的数据库/模式/表。克隆后，可以从主数据库中清除数据。存档数据库只能在需要历史数据时使用。在内部，数据以雪花专有文件格式压缩并存储在Azure Blob存储中。因此，当雪花自己维护数据时，存储成本更低。<a class="ae no" href="https://stackoverflow.com/questions/58359301/snowflake-as-an-archive-store" rel="noopener ugc nofollow" target="_blank">不需要通过从Snowflake </a>卸载数据并将其保留在外部Azure Blob存储中来归档数据。不需要显式的恢复过程，因为数据由雪花归档和维护。</p><p id="a28a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">使用雪花标准版，您可以启用“时间旅行”表，并保留1天的数据，无论您如何删除或更新它。<em class="mi">企业版，时间旅行长达90天</em>。这仅仅是由于雪花独特的存储架构；它使用对象存储(Azure中的Blob)。每次数据发生变化时，它都会创建一个新的微分区文件，其中包含发生变化的数据和该分区中存在的其他数据。这导致创建新的版本化文件，并启动时间旅行功能。由于此功能，当您误删除了任何表格时，取消删除&lt;表格&gt;是可能的。该特性在任何RDBMS或EDW中都不可用。</p><p id="92a3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">而在Synapse中，<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/backup-and-restore" rel="noopener ugc nofollow" target="_blank">还原点</a>需要在进行任何批量上传/删除之前显式创建，然后才可能恢复到之前的快照。还原点将创建表的完整快照。</p><h1 id="a39a" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">持续集成和持续部署</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pd"><img src="../Images/9c63d915bd27566f2b9546d4805d2118.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*S5RAGmkuxJdIw4SJ.png"/></div></div></figure><p id="b543" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd"> Synapse与Azure DevOps、Azure Pipelines很好地集成在一起</strong>，这为CI/CD的集成提供了便利，而Snowflake需要额外的设置来利用CI/CD的优势。</p><p id="85c7" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code> : SQL视图&amp;存储过程(SQL脚本)可以从Synapse workspace连接到源代码控制存储库。Azure管道可以直接连接到Azure DevOps和代码库。它可以与Azure资源管理器模板(ARM模板)和<a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/cicd/continuous-integration-deployment" rel="noopener ugc nofollow" target="_blank"> Azure管道集成，实现持续集成和持续部署(CI/CD) </a>。</p><p id="32a2" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:雪花UI不直接连接任何源码控制系统。需要设置Visual Studio代码编辑器或任何其他外部工具，并安装雪花连接器扩展。SQL视图&amp;存储过程(SQL脚本)代码需要使用Visual studio代码进行控制和维护。它可以与Azure资源管理器模板(ARM模板)和<a class="ae no" href="https://medium.com/hashmapinc/doing-devops-for-snowflake-with-dbt-in-azure-db5c6249e721" rel="noopener"> Azure管道集成，实现持续集成</a>和持续部署(CI/CD)。</p><h1 id="9c43" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">费用</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/915c69f810d5ff3249ee93c0f7c205b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ztYUCbRUC6REYCW7.jpg"/></div></div></figure><p id="958a" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">下面提到的成本是w.r.t <strong class="lf jd">东南亚</strong>地区和<strong class="lf jd"> Azure平台</strong>用于<a class="ae no" href="https://www.snowflake.com/pricing/" rel="noopener ugc nofollow" target="_blank">雪花部署</a>。对于雪花部署，不同的地区和不同的云提供商会有所不同。</p><h2 id="8fc1" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated"><strong class="ak">仓储成本</strong></h2><p id="5f99" class="pw-post-body-paragraph ld le it lf b lg of kd li lj og kg ll lm oh lo lp lq oi ls lt lu oj lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:每月1tb 23美元</p><p id="c4c8" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:每月1tb 23美元(压缩后)。雪花内部使用Azure Blob存储，它存储压缩后的数据。</p><h2 id="85d3" class="mj mk it bd ml mm mn dn mo mp mq dp mr lm ms mt mu lq mv mw mx lu my mz na iz bi translated">计算成本</h2><p id="d8bf" class="pw-post-body-paragraph ld le it lf b lg of kd li lj og kg ll lm oh lo lp lq oi ls lt lu oj lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:计算成本是Synapse中每小时计费<a class="ae no" href="https://azure.microsoft.com/en-us/pricing/details/synapse-analytics/" rel="noopener ugc nofollow" target="_blank"><strong class="lf jd"/></a><strong class="lf jd"/>。Synapse计算资源从DW100c到DW30000c不等。以下是Synapse低端计算资源的价格:</p><p id="ffe5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd"> DW100c </strong>:每小时1.8美元</p><p id="4675" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">每小时3.6美元</p><p id="6e23" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:计算费用是<a class="ae no" href="https://www.snowflake.com/blog/how-usage-based-pricing-delivers-a-budget-friendly-cloud-data-warehouse/#:~:text=All%20charges%20are%20usage%2Dbased&amp;text=Our%20Snowflake%20On%20Demand%20Enterprise,per%20second%2C%20per%20compute%20credit." rel="noopener ugc nofollow" target="_blank"> <strong class="lf jd">秒计费</strong> </a> <strong class="lf jd"> </strong>在雪花。雪花计算资源从XS到4倍大的仓库不等。基于信用使用的雪花费用。超小型集群(XS)连续使用1小时会用完1个积分。以下是不同集群规模的配额使用情况:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pe"><img src="../Images/2c6eec6b001408688b4dbe285baa8a93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLbyCqhkOLpKROUti0118w.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated"><a class="ae no" href="https://docs.snowflake.com/en/user-guide/credits.html#virtual-warehouse-credit-usage" rel="noopener ugc nofollow" target="_blank">https://docs . snow flake . com/en/user-guide/credits . html # virtual-warehouse-credit-usage</a></figcaption></figure><p id="bc15" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">以下是雪花的低端计算资源成本:</p><p id="8dad" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">雪花标准版</strong>:每信用点2.5美元</p><p id="6206" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">雪花企业版</strong>:每信用点3.7美元</p><h1 id="a1ea" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">集群配置</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pb"><img src="../Images/c79e5325a9d2f14b8d4098810113f438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u5rZtZDgOEIE6Miw.png"/></div></div></figure><p id="f4eb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">微软分享Azure Synapse <a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/sql-data-warehouse/memory-concurrency-limits" rel="noopener ugc nofollow" target="_blank">集群节点的配置</a>——内核、内存和存储配置。<strong class="lf jd">但是，雪花并没有透露集群配置细节。</strong></p><blockquote class="nb nc nd"><p id="d881" class="ld le mi lf b lg lh kd li lj lk kg ll ne ln lo lp nf lr ls lt ng lv lw lx ly im bi translated">因此，只能将它们与群集容量方面的成本进行比较。</p></blockquote><h1 id="76f0" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">数据沿袭和目录</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pd"><img src="../Images/81f60dbe22949abb0488b6398e36ed5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oPHw6sOjI8Kq_sj5.jpg"/></div></div></figure><p id="fa9c" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd"> Azure内置了对数据治理的支持，</strong>而<em class="mi"> Snowflake需要额外的设置，但它是可管理的</em>。</p><p id="30bb" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code> : <a class="ae no" href="https://docs.microsoft.com/en-us/azure/synapse-analytics/catalog-and-governance/quickstart-connect-azure-purview" rel="noopener ugc nofollow" target="_blank"> Azure权限</a>为Synapse SQL池中的数据提供数据沿袭和数据目录。</p><p id="d97e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code> : <a class="ae no" href="https://www.getdbt.com/getting-started-tutorial/#!/overview" rel="noopener ugc nofollow" target="_blank"> DBT </a>将是一个完美的选择，当使用纯基于SQL的方法而不是使用ADF中的映射数据流来转换数据时。一个<a class="ae no" href="https://pypi.org/project/dbt/" rel="noopener ugc nofollow" target="_blank"> <strong class="lf jd">开源Python项目——DBT</strong></a>(数据构建工具)将是管理代码&amp;转换规则的最佳框架。DBT附带了内置的数据字典、数据血统和现代数据仓库所需的许多其他特性。</p><h1 id="af22" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">半结构化数据支持</h1><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/54cb014b343e7308ec930ce83c2766ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/0*ynamCCYPJqtk9moi.png"/></div></figure><p id="5f47" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Inference</strong></code> : <strong class="lf jd">雪花</strong> <a class="ae no" href="https://docs.snowflake.com/en/user-guide/semistructured-concepts.html" rel="noopener ugc nofollow" target="_blank">原生支持半结构化数据</a>，内置多种函数。</p><p id="1bb5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Synapse</strong></code>:当JSON被加载到Synapse中时，它被分割成字符串，使得处理和查询它变得更加困难。可以使用几个内置函数解析JSON字符串来查询JSON字符串数据。</p><p id="61e5" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><code class="fe or os ot ou b"><strong class="lf jd">Snowflake</strong></code>:说到JSON存储，Snowflake的提供了比Synapse更开箱即用的支持。有了Snowflake，就可以用原生的内置函数存储和查询JSON。雪花为JSON扫描和JSON数据的并发吞吐量提供了高性能。</p><h1 id="e641" class="np mk it bd ml nq nr ns mo nt nu nv mr ki nw kj mu kl nx km mx ko ny kp na nz bi translated">摘要</h1><p id="8676" class="pw-post-body-paragraph ld le it lf b lg of kd li lj og kg ll lm oh lo lp lq oi ls lt lu oj lw lx ly im bi translated">无论是雪花还是Synapse，它们都是取决于业务需求的主要目的地。以上是一个重要的考虑因素，它有助于根据业务需求决定企业的数据仓库。不同的用例要求在上述度量的特定集合上有更大的权重，基于仓库的偏好。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pg"><img src="../Images/714972c078d55561901cc6249372d0ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1QJ-q9pxspAitCm5"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk translated">由<a class="ae no" href="https://unsplash.com/@garciasaldana_?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Pablo garcía saldaa</a>在<a class="ae no" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="9be0" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我希望这篇文章有助于说明这两个仓库在各个方面的差异。下一次，在最终确定项目的企业数据仓库之前，使用这个清单来评估云仓库的特征。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ph"><img src="../Images/82114e9192e4292e3d6ffc76520f2682.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BGLSWgSTj2NapTIFTcIC8A.png"/></div></div></figure><p id="f7fc" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated"><strong class="lf jd">快乐标杆！</strong></p></div></div>    
</body>
</html>