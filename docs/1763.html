<html>
<head>
<title>How to Utilize Autocorrelation for the Financial Markets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何利用金融市场的自相关性</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/how-to-utilize-autocorrelation-for-the-financial-markets-f02edb46c39b?source=collection_archive---------2-----------------------#2021-04-15">https://pub.towardsai.net/how-to-utilize-autocorrelation-for-the-financial-markets-f02edb46c39b?source=collection_archive---------2-----------------------#2021-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="094f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-visualization" rel="noopener ugc nofollow" target="_blank">数据可视化</a></h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/ee94d1436536dc8fe75d2131491a5fce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XbTtvyFTs9qceqD-eT5MHQ.jpeg"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">照片由<a class="ae ko" href="https://www.pexels.com/@goumbik?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kp">卢卡斯</strong> </a>发自<a class="ae ko" href="https://www.pexels.com/photo/person-holding-blue-and-clear-ballpoint-pen-590022/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> <strong class="bd kp">派克斯</strong> </a></figcaption></figure><p id="d9fb" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated"><em class="lo">如果你对以下内容感兴趣，我正在推出一份新的算法金融时事通讯，名为Algo Fin，发表类似的工作。这篇时事通讯将探索数据科学和金融之间的联系，最初的重点是货币市场，但我希望在未来建立更多的途径。时事通讯目前是免费加入的，所以如果这听起来像是你可能感兴趣的东西，它绝对值得查看</em> <a class="ae ko" href="https://algofin.substack.com/" rel="noopener ugc nofollow" target="_blank"> <em class="lo">这里</em> </a> <em class="lo">！。</em></p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><p id="4199" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">术语<strong class="ks jd">自相关</strong>用于指同一时间序列中观测值之间的相关性。本质上，自相关时间序列与其自身的滞后版本相关。</p><p id="5274" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">这对发现数据集中的周期性趋势非常重要。它帮助我们确定我们是否可以预测一个重复的潜在模式，并在此基础上增加我们的残差变异。这可以极大地帮助我们建立我们的预测，因为它提供了任何时间序列分析的基础--&gt;趋势。</p><p id="8552" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">自相关是我们数据的汇总统计。为了定义它，我们必须讨论它的组成部分，这些组成部分本身也是汇总统计数据。</p><blockquote class="lw lx ly"><p id="493a" class="kq kr lo ks b kt ku kv kw kx ky kz la lz lc ld le ma lg lh li mb lk ll lm ln im bi translated">变量x的<strong class="ks jd">期望</strong>是该变量的平均值，用E(x)或希腊符号mu表示。</p><p id="47af" class="kq kr lo ks b kt ku kv kw kx ky kz la lz lc ld le ma lg lh li mb lk ll lm ln im bi translated">变量的<strong class="ks jd">方差</strong>是对数据分布的度量，具体来说是对均方偏差的期望，表示为Var(x) = E[(x — mu) ]。</p><p id="3c94" class="kq kr lo ks b kt ku kv kw kx ky kz la lz lc ld le ma lg lh li mb lk ll lm ln im bi translated"><strong class="ks jd">标准差</strong>是另一个更常见的数据分布度量，因为其单位与数据本身相同。它由希腊字母sigma表示，并计算为方差的平方根。</p><p id="a913" class="kq kr lo ks b kt ku kv kw kx ky kz la lz lc ld le ma lg lh li mb lk ll lm ln im bi translated">协方差告诉我们两个变量一起变化了多少，或者说“共变”。这是理解两个变量如何相关的有用度量，并使用以下公式计算- &gt; sigma(x，y) = E[(x — mu_x)(y — mu_y)]。</p></blockquote><figure class="md me mf mg gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mc"><img src="../Images/3fb6ba0b4dc2fbf12fd80c2f8708a83d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EYQLEQnoInPqaEaTkr57Tw.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">作者图片</figcaption></figure><p id="8b26" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们的协方差度量的问题类似于方差的问题，因为这个度量不能给我们任何可比较的信息。作为一个例子，如果你把前一年的GBPUSD和GBPCHF价格，绘制在下面，并计算它们的协方差，我们得到一个数字0.000382。这并没有告诉我们太多，并且没有值的限制。我们所能推断的是，这两个变量一起移动，因为我们的协方差大于0。</p><figure class="md me mf mg gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mc"><img src="../Images/2c8915d0f428772f4617276cb6f6047b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mPyQ0WtFQ6_EWY7fR8upKA.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">作者图片</figcaption></figure><p id="0e9c" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">输入<strong class="ks jd">相关性</strong>，它通过除以我们两个标准差的乘积来标准化我们的协方差。这确保了我们的数字现在具有最小值-1，最大值+1，这使得我们更容易比较值。过去一年，GBPUSD和GBPCHF之间的相关性为0.7514，根据图表，这更有意义。</p><p id="63d9" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">自相关需要一个参数，滞后k，我们的原始时间序列移动的时间步长数，以创建我们的新时间序列。然后，我们使用刚才描述的相同方法计算这两个时间序列之间的相关性，返回一个数字，如前所述，在[-1，1]的范围内。</p><h2 id="4246" class="mh mi it bd kp mj mk dn ml mm mn dp mo lb mp mq mr lf ms mt mu lj mv mw mx iz bi translated">Python实现和可视化</h2><p id="ad78" class="pw-post-body-paragraph kq kr it ks b kt my kv kw kx mz kz la lb na ld le lf nb lh li lj nc ll lm ln im bi translated">在Python中，我们利用<em class="lo"> statsmodels </em>包来运行自相关计算和可视化，缩写为ACF plot。我们可以将参数<em class="lo">滞后</em>传递给<em class="lo"> plot_acf() </em>方法，该方法设置我们希望计算自相关的最大滞后。下面的代码展示了它的实现。</p><figure class="md me mf mg gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mc"><img src="../Images/427dc13d8ba9655ae20984be3352bf9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KiaXP7q7zOv-LDG3Os4IxQ.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">自相关Python实现</figcaption></figure><p id="c992" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">蓝色阴影图显示了5%的显著性界限。如果我们观察到该值之外的相关性，这表明我们有足够的证据表明我们的数据集中存在显著的自相关。</p><h2 id="83f4" class="mh mi it bd kp mj mk dn ml mm mn dp mo lb mp mq mr lf ms mt mu lj mv mw mx iz bi translated">要点</h2><p id="cd9c" class="pw-post-body-paragraph kq kr it ks b kt my kv kw kx mz kz la lb na ld le lf nb lh li lj nc ll lm ln im bi translated">来自自相关的推断不仅仅是找到具有最高相关数的滞后值那么简单。在分析acf图时，有几个概念是我们应该知道的。</p><p id="5ea1" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">每个滞后都包含相同的数据集，因此，如果我们有一个滞后(除0之外，因为其相关性始终为1)的相关性明显超出了我们的边界，我们希望后续值也能如此，并显示出高相关性。对于我们这些分析师来说，这不是一个理想的情况。当你看下面的GBPUSD ACF图，这变得很明显。我们从每个时期之间的增量变化看了近20年的历史，结果是我们的腿都非常接近1。</p><figure class="md me mf mg gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mc"><img src="../Images/f1df1c962d59959e9a9257ae7713e678.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z4g71fEW-RbEthRGD4HsiQ.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">GBPUSD自相关</figcaption></figure><p id="a740" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我们上面看到的这种图表在建立预测方面没有给我们太多的指导，其原因是因为我们无法将任何自相关与外部变量联系起来。当我们看到一个时间序列显示出某些滞后的高度相关性时，我们需要能够从逻辑的角度理解为什么会出现这些滞后。如果我们无法解释这种相关性背后的原因，那么我们就没有可以建立的复杂模型，因为在这种情况下，我们所做的只是使用过去的数据来尝试和预测未来的数据，而没有任何额外的智能。</p><p id="57e7" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">快速绕道，但为了进一步强调这一点，以下面可视化的数据集为例，该数据集测量了3个世纪(1700-2008)内每年太阳黑子的数量。大约每隔11年，太阳的磁场就会翻转一次，北极和南极基本上会互换位置。在每个周期的开始，太阳黑子的数量最少，而在周期的中期，太阳黑子的数量最多。这已经成为一种测量方法，用来确定太阳实际上在太阳周期中走了多远。</p><figure class="md me mf mg gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mc"><img src="../Images/60b951dbeda7529ae98d2d04d8365058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ROs5o4IHraE-DUkCeRH4hw.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">太阳黑子——原始数据(1700年至2008年)</figcaption></figure><figure class="md me mf mg gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mc"><img src="../Images/08b1427260850323afb2744c9d97f76e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2a58ou13eFZzbfABjTHX4w.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">太阳黑子数据自相关</figcaption></figure><p id="d7c8" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我试图通过这个例子提出的观点是，我们这里有一个外部原因。当我们查看自相关图表时，我们看到在滞后10和11处，然后是21和22处有显著的正相关。像我们在这里看到的图表对分析师来说更有益，因为我们有一个潜在的原因来解释为什么特定的滞后拒绝了我们最初的假设。</p><p id="4ddb" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">自相关并不总是保证能给你帮助你创建模型的洞察力。但是，检查您的时间序列是否在任何时间点重复过去的行为是很有用的，因为更深入的研究可能会揭示经济活动期间的更多相似之处，然后您可以使用这些相似之处进行未来的分析和预测。</p></div><div class="ab cl lp lq hx lr" role="separator"><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu lv"/><span class="ls bw bk lt lu"/></div><div class="im in io ip iq"><p id="744c" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">本文的灵感来自迈克尔·霍尔斯·摩尔的《高级算法交易》第八章中关于序列相关性的内容。</p><p id="0a29" class="pw-post-body-paragraph kq kr it ks b kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated"><em class="lo">太阳黑子的信息由以下网站提供，关于</em> <a class="ae ko" href="https://spaceplace.nasa.gov/solar-cycles/en/#:~:text=Every%2011%20years%20or%20so,poles%20to%20flip%20back%20again.&amp;text=Over%20time%2C%20solar%20activity%E2%80%94and,the%20number%20of%20sunspots%E2%80%94increases" rel="noopener ugc nofollow" target="_blank"> <em class="lo">太阳周期</em> </a> <em class="lo">。</em></p></div></div>    
</body>
</html>