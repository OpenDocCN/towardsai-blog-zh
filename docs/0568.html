<html>
<head>
<title>AI Ethics: Identifying Your Ethnicity and Gender</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人工智能伦理:识别你的种族和性别</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/does-a-machine-know-your-gender-based-on-your-tweets-43b14740fd54?source=collection_archive---------2-----------------------#2020-06-08">https://pub.towardsai.net/does-a-machine-know-your-gender-based-on-your-tweets-43b14740fd54?source=collection_archive---------2-----------------------#2020-06-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="6cc3" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/ethics" rel="noopener ugc nofollow" target="_blank">人工智能伦理学</a>，<a class="ae ep" href="https://towardsai.net/p/category/nlp" rel="noopener ugc nofollow" target="_blank">自然语言处理</a></h2><div class=""/><div class=""><h2 id="f658" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">探索自然语言处理(NLP)和机器学习</h2></div><h1 id="471e" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">AI可以根据一条推文确定你的性别吗？</h1><p id="2d1b" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">为什么这是一个重要的问题？最终，这是回答伦理问题的垫脚石:<strong class="ll jd">我们应该教人工智能来检测你的种族吗？这是一个类似的问题:如果我们有完全的判断力，我们会教我们的孩子识别某人的种族吗？</strong></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi mf"><img src="../Images/9687223c0725fc95ecb66857a241d7e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mzAaTUdfi7RdGKa7_N9oQg.jpeg"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">图片来自unsplash.com/@heyerlein</figcaption></figure><p id="86ee" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">作为这些工具的创造者和使用者，我们有责任以类似于我们强制执行安全带和速度限制的方式来监管人工智能。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi na"><img src="../Images/61b82341b22251279c06da68f0b36119.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XcNaysYwiOstP-SmEUn91g.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">埃隆马斯克谈人工智能监管。</figcaption></figure><p id="516e" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">在通往人工智能伦理的道路上，我们可以首先探索<strong class="ll jd">人工智能简单地根据文本</strong>预测你的性别的能力。我们不会使用语音或面部识别，因为这太容易了。</p><p id="6ee5" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">为了增加经济价值，对性别进行分类的商业案例有哪些？</p><ul class=""><li id="2a2d" class="nb nc it ll b lm mv lp mw ls nd lw ne ma nf me ng nh ni nj bi translated">更好的客户细分:公司可以通过正确识别客户和提供更个性化的营销来降低和优化广告成本。</li><li id="0432" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me ng nh ni nj bi translated">更好的电子商务体验:在像时尚这样的行业，识别正确的性别可以改善客户体验，允许零售商根据您的需求定制建议，并可以增加销售额。</li><li id="58f5" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me ng nh ni nj bi translated">更好的推荐引擎:一些算法是基于客户的相似性，将性别作为一个关键变量。它可以帮助你找到兴趣小组(即妈妈或爸爸)，性别特定的话题(即怀孕)，或电影，音乐或书籍中潜在的娱乐偏好。</li><li id="995f" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me ng nh ni nj bi translated">商业道德:公司越来越需要调整和应对社会问题。新一代的品牌认知可能会导致客户的显著增长或流失，例如，社交媒体公司和一个人使用该产品的“信任感”。</li></ul><p id="a9b8" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">但是，我们真的可以只根据文本来检测性别吗？让我们用自然语言处理和机器学习来探索这一点。以下是6条公众人物的推特语录。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi np"><img src="../Images/c44b159a7fdfcd08f70c79e3dd48b351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qo2La4MV79fEw3mIWhmMrQ.jpeg"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">图片来自unsplash.com/@mr_fresh</figcaption></figure><p id="3e8c" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated"><strong class="ll jd">你能比机器更好地猜出性别吗？</strong></p><ol class=""><li id="1c58" class="nb nc it ll b lm mv lp mw ls nd lw ne ma nf me nq nh ni nj bi translated">“但是即使你害怕，你也必须做你梦想做的事情。”(男的还是女的？)</li><li id="f826" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated"><em class="nr">“我最大的宝贝今天11岁了！我为她成为的善良、艺术、好奇、敏感、聪明、有同情心的人感到骄傲。时间过得真快。在我们最喜欢的地方吃家庭晚餐”(男的还是女的？)</em></li><li id="6cd6" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated">毫无疑问，我们现在的处境可能很糟糕，但照片中的年轻人很快就会掌权，他们想要什么非常清楚(男的还是女的？)</li><li id="b7df" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated">“今天是世界卫生日，我们深深地感谢我们所有的医疗专业人员。他们仍然每天冒着极大的风险为我们付出一切，我们对他们的勇敢和服务感激不尽。”(男的还是女的？)</li><li id="f61c" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated"><em class="nr">“为什么是现在？需求日益迫切，想在有生之年看到影响。我希望这能激励其他人做类似的事情。生命太短暂了，所以让我们今天就尽我们所能去帮助现在的人们。”(男的还是女的？)</em></li><li id="0d12" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated"><em class="nr">“不喜欢别人假装喜欢的东西，不要觉得自己傻。”(男的还是女的？)</em></li></ol><h1 id="53b6" class="kr ks it bd kt ku kv kw kx ky kz la lb ki lc kj ld kl le km lf ko lg kp lh li bi translated">利用Twitter数据构建性别预测机器学习模型</h1><p id="e38e" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">步骤:<br/> 1。获取Twitter数据<br/> 2。清洁数据<br/> 3。造一个模型<br/> 4。预测性别<br/> 5。讨论后续步骤</p><h2 id="fb29" class="ns ks it bd kt nt nu dn kx nv nw dp lb ls nx ny ld lw nz oa lf ma ob oc lh iz bi translated">1.获取Twitter数据</h2><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="78f7" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Import libraries</strong><br/>import json<br/>import pprint<br/>import tweepy as tw<br/>import pandas as pd</span><span id="f468" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Connect to Twitter API</strong><br/>path_auth = '[your file path to twitter API keys]'<br/>auth = json.loads(open(path_auth).read())<br/>pp = pprint.PrettyPrinter(indent=4)</span><span id="6918" class="ns ks it oe b gy om oj l ok ol">my_consumer_key = auth['my_consumer_key']<br/>my_consumer_secret = auth['my_consumer_secret']<br/>my_access_token = auth['your_access_token']<br/>my_access_token_secret = auth['my_access_token_secret']</span><span id="a2bf" class="ns ks it oe b gy om oj l ok ol">auth = tw.OAuthHandler(my_consumer_key, my_consumer_secret)<br/>auth.set_access_token(my_access_token, my_access_token_secret)<br/>api = tw.API(auth)</span><span id="d227" class="ns ks it oe b gy om oj l ok ol">type(api)</span></pre><p id="9e3a" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">上传一个想要的Twitter用户列表，标注他们的性别:0 =男性，1 =女性。</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="0e34" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Upload list of desired Twitter users</strong><br/># Gender classification: 0 = male, 1 = female<br/>users = pd.read_csv('../Data/twitter-users.csv')<br/>users.sample(20)</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi on"><img src="../Images/211599b49adaaca25a4cf4e56fd28c79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sQF3JO9nWypR_h1DxqBLjg.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">基于追随者数量、性别多样性和职业的用户选择。数据集中总共有50个Twitter用户。</figcaption></figure><p id="8fb2" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">使用Twitter API从用户那里获取Tweets并创建一个DataFrame。</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="94ad" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Get collection of tweets and store into a new dataframe</strong><br/>list = []</span><span id="1e2b" class="ns ks it oe b gy om oj l ok ol">for index, row in users.iterrows():<br/>    tweets = api.user_timeline(screen_name=row['user'], count=200, include_rts=False)<br/>    users_text = [[tweet.user.screen_name, tweet.text, row['gender']] for tweet in tweets]<br/>    tweet_text = pd.DataFrame(data=users_text, <br/>                        columns=["user", "text", "gender"])<br/>    list.append(tweet_text)</span><span id="18cc" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Merge the list  </strong>  <br/>tweets = pd.concat(list)<br/>tweets</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi oo"><img src="../Images/1df4b8ad580c867d29978043a9ca84d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P3ptH2syEN6pSyZ2uvjspA.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">请注意，我们现在有了每条推文的性别，可以用来训练模型。</figcaption></figure><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="8a89" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Check percentages for each gender</strong><br/># 0 = male, 1 = female<br/>tweets.gender.value_counts(normalize=True, sort=False)</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi op"><img src="../Images/bd551a26067b7000638232bdaa730698.png" data-original-src="https://miro.medium.com/v2/resize:fit:1072/format:webp/1*Bmeysucd8tyL3sLDRcJ-Hw.png"/></div></figure><p id="a9ed" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">数据是围绕着一个均匀的性别分布，这可能会改变，因为我们清理文本。</p><h2 id="2f54" class="ns ks it bd kt nt nu dn kx nv nw dp lb ls nx ny ld lw nz oa lf ma ob oc lh iz bi translated">2.干净的数据</h2><p id="e25d" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">删除文本中任何对示范教学不必要的内容。</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="96b0" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Import libraries</strong><br/>import numpy as np<br/>import re<br/>import spacy<br/>from matplotlib import pyplot as plt</span><span id="9229" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Clean text</strong><br/>def clean_text(text):<br/>    # Reduce multiple spaces and newlines to only one<br/>    text = re.sub(r'(\s\s+|\n\n+)', r'\1', text)<br/>    # Remove double quotes<br/>    text = re.sub(r'"', '', text)</span><span id="0554" class="ns ks it oe b gy om oj l ok ol">return text</span><span id="045c" class="ns ks it oe b gy om oj l ok ol">tweets['clean_text'] = tweets['text'].apply(clean_text)</span><span id="bde3" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Remove hyperlinks</strong><br/>tweets['clean_text'] = tweets['clean_text'].str.replace('http\S+|<a class="ae oq" href="http://www.\S+'" rel="noopener ugc nofollow" target="_blank">www.\S+'</a>, '', case=False)</span><span id="26ee" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Remove patterns</strong><br/>def remove_pattern(text,pattern):<br/>    <br/>    # re.findall() finds the pattern i.e <a class="ae oq" href="http://twitter.com/user" rel="noopener ugc nofollow" target="_blank">@user</a> and puts it in a list for further task<br/>    r = re.findall(pattern,text)<br/>    <br/>    # re.sub() removes <a class="ae oq" href="http://twitter.com/user" rel="noopener ugc nofollow" target="_blank">@user</a> from the sentences in the dataset<br/>    for i in r:<br/>        text = re.sub(i,"",text)<br/>    <br/>    return text</span><span id="c686" class="ns ks it oe b gy om oj l ok ol">tweets['clean_text'] = np.vectorize(remove_pattern)(tweets['clean_text'], "@[\w]*") # Removes all @<br/>tweets['clean_text'] = np.vectorize(remove_pattern)(tweets['clean_text'], "&amp;amp;") # Removes all &amp;<br/>tweets['clean_text'] = np.vectorize(remove_pattern)(tweets['clean_text'], "#[\w]*") # Removes all #</span><span id="1619" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Remove stop words and apply lemmatization</strong><br/>nlp = spacy.load('en')</span><span id="7d50" class="ns ks it oe b gy om oj l ok ol">def convert_text(text):<br/>    sent = nlp(text)<br/>    ents = {x.text: x for x in sent.ents}<br/>    tokens = []<br/>    for w in sent:<br/>        if w.is_stop or w.is_punct:<br/>            continue<br/>        if w.text in ents:<br/>            tokens.append(w.text)<br/>        else:<br/>            tokens.append(w.lemma_.lower())<br/>    text = ' '.join(tokens)</span><span id="8389" class="ns ks it oe b gy om oj l ok ol">return text</span><span id="842b" class="ns ks it oe b gy om oj l ok ol">tweets['clean_text'] = tweets['clean_text'].apply(convert_text)<br/>tweets.sample(15)</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi or"><img src="../Images/610218bba50f7c4219a4d5e88c9aa91f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0L2KIuP8m9pWR2iQsPuGCw.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">“clean_text”列显示了对原始“text”列的更改。请注意超链接、@、标签是如何被移除的，以及一些单词是如何被词条化的。</figcaption></figure><p id="ad1e" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">仍有一些文本需要清理。</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="b23f" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Remove punctuation, numbers, and special characters</strong><br/>tweets['clean_text'] = tweets['clean_text'].str.replace("[^a-zA-Z#]", " ")</span><span id="0c27" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Remove short words less than 3</strong><br/>tweets['clean_text'] = tweets['clean_text'].apply(lambda x: ' '.join([w for w in x.split() if len(w)&gt;3]))</span><span id="e7b4" class="ns ks it oe b gy om oj l ok ol"># Count the length of characters<br/>tweets['clean_length'] = tweets['clean_text'].apply(len)</span><span id="97ca" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Remove rows where character length &lt;= 20</strong><br/>tweets = tweets[tweets.clean_length &gt; 20]<br/>tweets.sample(n=15)</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi os"><img src="../Images/50378a476a04964e65d2ae4da00ab773.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cIgv2SsPTSMV8LezX8BNVg.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">符号，文字&lt; 3 characters, and total text length of ≤ 20 have been removed.</figcaption></figure><h2 id="cd5f" class="ns ks it bd kt nt nu dn kx nv nw dp lb ls nx ny ld lw nz oa lf ma ob oc lh iz bi translated">3. Build Model</h2><p id="0302" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">We can use Bag-of-words to build a model. There are other methods too, such as using Term Frequency–Inverse Document Frequency (TF-IDF).</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="1074" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Import libraries</strong><br/>from sklearn.feature_extraction.text import CountVectorizer<br/>from sklearn.model_selection import train_test_split<br/>from sklearn.linear_model import LogisticRegression<br/>from sklearn.metrics import f1_score</span><span id="af6a" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Bag-of-words features</strong><br/>bow_vectorizer = CountVectorizer(stop_words='english')</span><span id="cdda" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Bag-of-words feature matrix</strong><br/>bow = bow_vectorizer.fit_transform(tweets['clean_text'])<br/>df_bow = pd.DataFrame(bow.todense(), columns=bow_vectorizer.get_feature_names())<br/>df_bow</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ot"><img src="../Images/44b264e154fbacb4deb265da81a23ee9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C5DzYS--ICcqo5NWx5OY0g.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">To the machine, all the words become vectorized and treated as numbers. This becomes similar to running a prediction model on any other dataset, such as predicting housing prices.</figcaption></figure><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="1006" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Splitting the data into training and test set</strong><br/>X = df_bow<br/>y = tweets['gender']</span><span id="2c18" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Use Bag-of-words features</strong><br/>X_train_bow, X_test_bow, y_train_bow, y_test_bow = train_test_split(X, y, test_size=0.20)</span></pre><p id="ffde" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">For the initial prediction, we can use Logistic Regression. There are other models too, such as Decision Tree or XGBoost.</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="c407" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Fitting on Logistic Regression model</strong><br/>logreg = LogisticRegression()<br/>logreg.fit(X_train_bow, y_train_bow)<br/>prediction_bow = logreg.predict_proba(X_test_bow)</span><span id="1066" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Calculating the F1 score</strong><br/># If prediction is greater than or equal to 0.5 than 1, else 0<br/># Gender, 0 = male and 1 = female<br/>prediction_int = prediction_bow[:,1]&gt;=0.5<br/>prediction_int = prediction_int.astype(np.int)</span><span id="879b" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Calculating F1 score</strong><br/>log_bow = f1_score(y_test_bow, prediction_int)<br/>log_bow</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/6c84d5383385c8d7aa39c28abb5b68f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*8jcYJ5BxhoJNwdJ3hsPMRQ.png"/></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">The F1 score measures the test’s accuracy. This score shows that a meaningful prediction can be made.</figcaption></figure><h2 id="eb92" class="ns ks it bd kt nt nu dn kx nv nw dp lb ls nx ny ld lw nz oa lf ma ob oc lh iz bi translated">4. Predict Gender</h2><p id="f29d" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">After training the model and achieving a workable accuracy score, it’s time to predict the gender of these 6 tweets from the beginning.</p><ol class=""><li id="09cf" class="nb nc it ll b lm mv lp mw ls nd lw ne ma nf me nq nh ni nj bi translated"><em class="nr">“但是即使你害怕，你也必须做你梦想做的事情。”</em></li><li id="bd3c" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated"><em class="nr">“我最大的宝贝今天11岁了！我为她成为的善良、艺术、好奇、敏感、聪明、有同情心的人感到骄傲。时间过得真快。在我们最喜欢的地方吃家庭晚餐"</em></li><li id="b5be" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated">毫无疑问，我们现在的处境可能很糟糕，但照片中的年轻人很快就会掌权，他们想要什么非常清楚</li><li id="8cd1" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated">“今天是世界卫生日，我们深深地感谢我们所有的医疗专业人员。他们仍然每天冒着极大的风险为我们付出一切，我们对他们的勇敢和服务感激不尽。”</li><li id="46a2" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated"><em class="nr">“为什么是现在？需求日益迫切，想在有生之年看到影响。我希望这能激励其他人做类似的事情。生命太短暂了，所以让我们今天就尽我们所能去帮助现在的人们。”</em></li><li id="e69c" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me nq nh ni nj bi translated"><em class="nr">“不喜欢别人假装喜欢的东西，不要觉得自己傻。”</em></li></ol><p id="da29" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">导入上面的数据，并给予它与训练数据相同的单词包处理。</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="7958" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Import testing set</strong><br/>testset = pd.read_csv('Data/twitter-test.csv')</span><span id="eebc" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Bag-of-words feature matrix</strong><br/>bow = bow_vectorizer.transform(testset['text'])<br/>df_bow_test = pd.DataFrame(bow.todense(), columns=bow_vectorizer.get_feature_names())<br/>df_bow_test</span></pre><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ov"><img src="../Images/9cb801ac3afbf0649aeb4b6dd262595d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qwmiaUWByY5TSqVQIrjFYg.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">注意这个数据帧也有6034列，就像训练数据一样。</figcaption></figure><p id="df88" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">现在用逻辑回归来预测性别。</p><pre class="mg mh mi mj gt od oe of og aw oh bi"><span id="5a0d" class="ns ks it oe b gy oi oj l ok ol"><strong class="oe jd"># Predict probability</strong><br/>z = df_bow_test<br/>pred_prob = logreg.predict_proba(z)<br/>pred_prob = pd.DataFrame(data=pred_prob, columns=['percentage_0', 'percentage_1'])</span><span id="3763" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Predict classification</strong><br/>pred = logreg.predict(z)<br/>pred = pd.DataFrame(data=pred, columns=['predicted_gender'])</span><span id="0130" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># Store into the same DataFrame</strong><br/>result = pd.concat([testset, pred, pred_prob], axis=1, sort=False)<br/>result</span><span id="73c2" class="ns ks it oe b gy om oj l ok ol"><strong class="oe jd"># 0 = male, 1 = female</strong></span></pre><p id="90aa" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated"><strong class="ll jd">结果:</strong></p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ow"><img src="../Images/745cf1b1390b8c4f95a643640e8d9ee0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nsAs39hb6LBV2VrbF7mftA.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">左边的“性别”列是真正的标签,“预测性别”是机器的预测。“percentage_0”和“percentage_1”是文本为0或1的概率。</figcaption></figure><p id="812a" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated"><strong class="ll jd">机器100%准确预测性别。与机器相比，你做得怎么样？</strong></p><h2 id="52d1" class="ns ks it bd kt nt nu dn kx nv nw dp lb ls nx ny ld lw nz oa lf ma ob oc lh iz bi translated">5.后续步骤</h2><p id="8e4a" class="pw-post-body-paragraph lj lk it ll b lm ln kd lo lp lq kg lr ls lt lu lv lw lx ly lz ma mb mc md me im bi translated">该模型仍可通过多种方式进行改进，以获得更高的准确性:</p><ul class=""><li id="5fae" class="nb nc it ll b lm mv lp mw ls nd lw ne ma nf me ng nh ni nj bi translated">使用术语频率-逆文档频率(TF-IDF)进行特征提取。</li><li id="3833" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me ng nh ni nj bi translated">将词袋和TF-IDF特征与不同的模型结合使用:逻辑回归、决策树、XGBoost。</li><li id="c664" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me ng nh ni nj bi translated">优化超参数。</li><li id="770a" class="nb nc it ll b lm nk lp nl ls nm lw nn ma no me ng nh ni nj bi translated">使用神经网络进行更好的自然语言处理。</li></ul><p id="448a" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">当然，你可以用不同的词或者中性的措辞来欺骗机器。但是这有什么意义呢？如果一台机器可以仅根据文本来判断你的性别，如果我们给它更多关于你的声音、面部识别、身体特征、信用卡交易、购物购买、社交媒体行为或你的社交图的数据，会发生什么？</p><p id="c877" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">如果你推断出这一点，给定正确的数据，机器可以像人类一样甚至更好地检测你的年龄、社会经济地位、性别、心理健康和种族。</p><p id="c989" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">人工智能正处于这样一个阶段，我们今天所做的事情将对未来产生巨大的雪球效应，这可能会变得不可逆转。以流行/摇滚音乐为例，它起源于20世纪50年代，并成为一种全球现象。</p><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div role="button" tabindex="0" class="ml mm di mn bf mo"><div class="gh gi ox"><img src="../Images/fd1e861fbe4388d499f6d3b3ca8af96d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_71aXpFmjf4EMAAC5TFvw.png"/></div></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">当我们缩小画面时，我们看到流行/摇滚音乐在世界各地传播了几代人。资料来源:reebee.net/rock-genealogy.</figcaption></figure><figure class="mg mh mi mj gt mk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/e90d6ca18b2db07aef9941ce261e145a.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*IBMPjq1Ih_zuRJJdhhFBbA.png"/></div><figcaption class="mr ms gj gh gi mt mu bd b be z dk translated">但是当我们放大时，我们看到巨大的增长确实是从像猫王这样的小种子开始的。这就是我们今天在技术和人工智能方面所处的位置。</figcaption></figure><p id="9074" class="pw-post-body-paragraph lj lk it ll b lm mv kd lo lp mw kg lr ls mx lu lv lw my ly lz ma mz mc md me im bi translated">我们可以建造、设计和使用技术，不管是好是坏。这个决定取决于我们作为它的创造者和使用者。但是，有我们应该强制执行的规则、条例或道德规范吗？例如，如果可以选择，我们应该教我们的机器检测某人的种族吗？这对人类是好是坏？如果我们做，或者不做，50年后会发生什么，或者有没有另一种方式来思考这个问题？</p></div></div>    
</body>
</html>