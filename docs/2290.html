<html>
<head>
<title>Text Data Visualization with WordCloud of Any Shape in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python中任意形状的WordCloud实现文本数据可视化</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/text-data-visualization-with-wordcloud-of-any-shape-in-python-8cec334e5c4f?source=collection_archive---------0-----------------------#2021-11-03">https://pub.towardsai.net/text-data-visualization-with-wordcloud-of-any-shape-in-python-8cec334e5c4f?source=collection_archive---------0-----------------------#2021-11-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/6b96a682b793e86567cb5e73dd1dab9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IATrBReXxmylKtpH"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://unsplash.com/@lxngacn?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">李想</a>在<a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><h2 id="fdc9" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-visualization" rel="noopener ugc nofollow" target="_blank">数据可视化</a></h2><div class=""/><div class=""><h2 id="5837" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">学习生成任何形状的单词云</h2></div><p id="609e" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">单词云是可视化文本的有效方式。从一堆文本中，你可以看出哪些词是占优势的。它们是有趣且吸引人的视觉效果。所以，只要看这个图像，你就知道文本的模式。在这篇文章中，我将解释如何使用名为word cloud的python模块来生成单词云。这个简单易行。我将从一个简单的单词云开始，然后展示一些自定义和酷的形状。</p><h1 id="502f" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">设置</h1><p id="dc2f" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">对于本教程，我将使用来自Kaggle的数据集。请随意下载数据集并跟随:</p><div class="is it gp gr iu na"><a href="https://www.kaggle.com/christopheiv/winemagdata130k" rel="noopener  ugc nofollow" target="_blank"><div class="nb ab fo"><div class="nc ab nd cl cj ne"><h2 class="bd jt gy z fp nf fr fs ng fu fw js bi translated">winemag-data-130k</h2><div class="nh l"><h3 class="bd b gy z fp nf fr fs ng fu fw dk translated">Kaggle是世界上最大的数据科学社区，拥有强大的工具和资源来帮助您实现您的数据…</h3></div><div class="ni l"><p class="bd b dl z fp nf fr fs ng fu fw dk translated">www.kaggle.com</p></div></div><div class="nj l"><div class="nk l nl nm nn nj no ja na"/></div></div></a></div><p id="b0b8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要使用WordCloud模块，需要安装它。这可以通过使用pip install命令来完成:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="43b7" class="ny me jj nu b gy nz oa l ob oc">pip install wordcloud</span></pre><p id="d2be" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">针对anaconda用户的命令:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="dbc7" class="ny me jj nu b gy nz oa l ob oc">conda install -c conda-forge wordcloud</span></pre><p id="c942" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">要使用的工具:</p><ol class=""><li id="6b52" class="od oe jj lj b lk ll ln lo lq of lu og ly oh mc oi oj ok ol bi translated"><a class="ae jg" href="https://numpy.org/" rel="noopener ugc nofollow" target="_blank"> Numpy库</a></li><li id="1f7d" class="od oe jj lj b lk om ln on lq oo lu op ly oq mc oi oj ok ol bi translated"><a class="ae jg" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">熊猫图书馆</a></li><li id="a28a" class="od oe jj lj b lk om ln on lq oo lu op ly oq mc oi oj ok ol bi translated"><a class="ae jg" href="https://matplotlib.org/" rel="noopener ugc nofollow" target="_blank"> Matplotlib库</a></li><li id="6324" class="od oe jj lj b lk om ln on lq oo lu op ly oq mc oi oj ok ol bi translated"><a class="ae jg" href="https://pillow.readthedocs.io/en/stable/" rel="noopener ugc nofollow" target="_blank">枕头影像库</a></li><li id="f94f" class="od oe jj lj b lk om ln on lq oo lu op ly oq mc oi oj ok ol bi translated"><a class="ae jg" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>环境</li></ol><p id="c355" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">请确保您已经安装了它们。</p><h1 id="d7f4" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">简单词云</h1><p id="5d98" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">最简单的版本非常容易构建。首先导入必要的包和数据集。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="f8a6" class="ny me jj nu b gy nz oa l ob oc">import numpy as np<br/>import pandas as pd<br/>from os import path<br/>from PIL import Image<br/>from wordcloud import WordCloud, STOPWORDS, ImageColorGeneratorimport matplotlib.pyplot as plt<br/>%matplotlib inlinedf = pd.read_csv("winemag-data-130k-v2.csv", index_col=0)</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/f1be62e5ca0d59a9b11ee8b0229b16fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0zpUeXuGFzWmXJ5A.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="f045" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">正如你所看到的，这个数据集描述了不同国家的葡萄酒以及其他一些信息。但是对于本教程，我将只关注description列，因为它包含了大量的文本。我将把所有的描述合并成一个大的文本。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="e5be" class="ny me jj nu b gy nz oa l ob oc">text = " ".join(review for review in df.description)<br/>print ("There are {} words in the combination of all review.".format(len(text)))#output:<br/>There are 31661073 words in the combination of all review.</span></pre><p id="cf60" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这就是大文本数据。下面是生成最简单的单词云的代码片段。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="fea7" class="ny me jj nu b gy nz oa l ob oc">wordcl = WordCloud().generate(text)<br/>plt.imshow(wordcl, interpolation='bilinear')<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi os"><img src="../Images/40223b2ed327ab4cbbbf68ed938b7e78.png" data-original-src="https://miro.medium.com/v2/resize:fit:748/format:webp/0*PMqy4AhclKcqza7-.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="c47a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">最基础的字云都做好了！单词越大、越粗，在文本中出现的频率就越高。</p><p id="4c75" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们来看看如何改进这个字云。</p><h1 id="5a3d" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">完善词云</h1><p id="54ae" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">你可能会想到的一个重要的改进是，去掉一些不太重要的词，如is、are、too、some等。这很容易。因为我们已经有了一组叫做“停用词”的词可以使用。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="fb5c" class="ny me jj nu b gy nz oa l ob oc">stopwords = set(STOPWORDS)</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/b7e45ae8d5b66e3d2440ed4cc761be1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:216/format:webp/0*66WkEG6Q5xbcKory.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="d0fc" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这是输出的一部分。你可以看到一些停用词。我想在停用词中再加几个词。比如‘酒’这个词。这可能是文本中使用最多的单词，因为这个单词在WordCloud中看起来非常大。我们知道这和酒有关。我们不需要把这个词想象得那么大。我还会在停用词中添加一些其他词，如下所示:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="6224" class="ny me jj nu b gy nz oa l ob oc">stopwords.update("drink", "now", "wine", "made", "the")</span></pre><p id="a45d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我还将使用更多的样式参数。</p><p id="0e7a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">background_color:更改默认的黑色背景</p><p id="daf8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">max_font_size:在上面的例子中，你可以看到有些单词确实很大。我相信如果我们能控制住它，它会看起来更好。</p><p id="d43c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">max_words:基于出现的频率，它会在词云中呈现指定数量的词。</p><p id="7205" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">让我们使用上面解释的所有参数，再次创建单词cloud:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="5146" class="ny me jj nu b gy nz oa l ob oc">wordcl = WordCloud(stopwords=stopwords, background_color="white", max_font_size=50, max_words= 2000).generate(text)<br/>plt.figure(figsize=(10, 8))<br/>plt.imshow(wordcl, interpolation='bilinear')<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ou"><img src="../Images/eabe67896e289a3b0d79ed7d1c244a44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/0*1ZUs3Mn2twDcDoK8.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="2166" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我建议，请随意摆弄这些参数。</p><h1 id="b4a4" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">使用自定义形状</h1><p id="4be4" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">我们可以使用自定义形状将这个单词云做成我们选择的形状，而不是矩形。为了演示我将使用这张图片:</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/17ba973bd903250c09fca81a75cfe3cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/format:webp/0*xV3tumwiX5lvrtBr.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">图片来源:<a class="ae jg" href="https://www.shutterstock.com/" rel="noopener ugc nofollow" target="_blank">https://www.shutterstock.com/</a></figcaption></figure><p id="64a5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这个<a class="ae jg" href="https://www.shutterstock.com/image-vector/two-women-drinking-champagne-359133053" rel="noopener ugc nofollow" target="_blank">链接</a>中找到这张图片</p><p id="227c" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你也可以从这个页面截图来使用这张图片。我们将把我们的单词云做成这个形状。我把这张照片保存在一个名为“img”的文件夹里。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="36cf" class="ny me jj nu b gy nz oa l ob oc">mask = np.array(Image.open("img/w_wine.png"))</span></pre><p id="9d7f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，在WordCloud模块中使用这个掩码。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="e6cd" class="ny me jj nu b gy nz oa l ob oc">wc = WordCloud(background_color='black', mask=mask, mode='RGB', <br/>              width=1000, max_words=200, height=1000,<br/>              random_state=1)<br/>wc.generate(text)<br/>plt.figure(figsize=(10, 10))<br/>plt.imshow(wc, interpolation='bilinear')<br/>plt.tight_layout(pad=0)<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ow"><img src="../Images/9ca9e0f77a256d91abb818eb2d36d660.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/0*-SfSWd0YfkqJxxnH.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="73ee" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在我看来，不是所有这些颜色，白色的文字在黑色背景下会看起来更清晰更好。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="6771" class="ny me jj nu b gy nz oa l ob oc">wc = WordCloud(background_color='black', mask=mask, mode='RGB', <br/>               color_func=lambda *args, **kwargs: "white", <br/>              width=1000, max_words=200, height=1000,<br/>              random_state=1)<br/>wc.generate(text)<br/>plt.figure(figsize=(10, 10))<br/>plt.imshow(wc, interpolation='bilinear')<br/>plt.tight_layout(pad=0)<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/6e42b88882c04598316de30d88cf224f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1384/format:webp/0*dqi9CeX0_X2lTl3H.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="51f9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">使用轮廓获得更精确的形状。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="257f" class="ny me jj nu b gy nz oa l ob oc">wc = WordCloud(background_color='white', mask=mask, mode='RGB',<br/>               width=1000, max_words=1000, height=1000,<br/>               random_state=1, contour_width=1, contour_color='steelblue')<br/>wc.generate(text)<br/>plt.figure(figsize=(10, 10))<br/>plt.imshow(wc, interpolation='bilinear')<br/>plt.tight_layout(pad=0)<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/d75d3ae0deafbe42021fb1adad07b91a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*7eG_TBKPe5WEA6c1.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="41ef" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">是不是很酷！使用相同的代码，我开发了这个单词云，旁边有图片。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/6f7e2bc80266406fbc86e2f24088d684.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*wkA00jbCjoWCctjD.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="f51b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">找到右图<a class="ae jg" href="https://www.123rf.com/photo_101294827_stock-vector-isolated-logo-silhouette-of-black-and-white-stylish-young-girl-with-glass-of-alcoholic-booze-in-nati.html" rel="noopener ugc nofollow" target="_blank">这里</a></p><p id="08a1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">请随意尝试。我们一定要得到那些黑色的图片来做这种类型的可视化吗？不完全是。我们可以用一张有颜色的图片，把单词的颜色做成图片的颜色。下面我就用这张彩图。</p><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/f8b514cd989352c5898ae389cee0cb5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pc9Tg5h6F3ID_L0x.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">图片来源:<a class="ae jg" href="https://mosaicmagazine.com/" rel="noopener ugc nofollow" target="_blank">https://mosaicmagazine.com/</a></figcaption></figure><p id="f628" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这个<a class="ae jg" href="https://mosaicmagazine.com/observation/history-ideas/2017/07/why-are-extremely-large-wine-bottles-named-after-biblical-kings/" rel="noopener ugc nofollow" target="_blank">链接</a>里找到这张图</p><p id="4ad9" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这里我们将使用图像颜色生成器模块来生成单词云的颜色。以下是全部代码片段:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="95cc" class="ny me jj nu b gy nz oa l ob oc">bottles = np.array(Image.open("img/bottle size.png"))<br/>wc = WordCloud(background_color='white', mask=bottles)<br/>wc.generate(text)image_colors = ImageColorGenerator(bottles)<br/>wc.recolor(color_func=image_colors)plt.figure(figsize=[10, 10])<br/>plt.imshow(wc, interpolation='bilinear')<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/ba1e7aae413871efaccf2d8f4cec256f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*VxEeAnI6L9n8w6nl.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="d4d3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">看，单词的颜色几乎和瓶子的颜色一样。但这并不准确。因为瓶子的颜色不统一，不简单。</p><blockquote class="oz pa pb"><p id="9e33" class="lh li pc lj b lk ll kt lm ln lo kw lp pd lr ls lt pe lv lw lx pf lz ma mb mc im bi translated">一个缺点是，如果形状太复杂，颜色太复杂，可能不会给你想要的效果。</p></blockquote><p id="456a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">瓶子的形状很简单。所以，云这个词的形状变得相当清楚了。但是瓶子的颜色有点复杂。在我看来，云这个词并不能抓住瓶子的确切颜色。</p><p id="b41f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">正如我之前展示的，你可以给它加上一个边界。</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="55e4" class="ny me jj nu b gy nz oa l ob oc">wc = WordCloud(background_color="white", mask=bottles,<br/>              contour_width=1, contour_color='firebrick')<br/>wc.generate(text)<br/>image_colors = ImageColorGenerator(bottles)<br/>wc.recolor(color_func=image_colors)<br/>plt.figure(figsize=(10,10))<br/>plt.imshow(wc, interpolation='bilinear')<br/>plt.axis('off')<br/>plt.show()</span></pre><figure class="np nq nr ns gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pg"><img src="../Images/72b3b692dc0b67dc037ee637ddf4a344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/0*OeNrHfNm57zm9fWs.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="7cfe" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">最后，您可能希望将该图像保存在一个文件中。我在这个笔记本所在的文件夹中有一个名为“img”的文件夹。我决定把这个文件保存在那里。下面是如何做到这一点:</p><pre class="np nq nr ns gt nt nu nv nw aw nx bi"><span id="9484" class="ny me jj nu b gy nz oa l ob oc">wc.to_file("img/wine.png")</span></pre><h1 id="2519" class="md me jj bd mf mg mh mi mj mk ml mm mn ky mo kz mp lb mq lc mr le ms lf mt mu bi translated">结论</h1><p id="1566" class="pw-post-body-paragraph lh li jj lj b lk mv kt lm ln mw kw lp lq mx ls lt lu my lw lx ly mz ma mb mc im bi translated">我在这篇文章中尝试解释了一个单词云的制作过程。提供了一些应该工作良好的代码片段。WordCloud模块中还有其他参数，我没有涉及到，因为我想尽可能保持简单。</p><p id="6688" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">欢迎在<a class="ae jg" href="https://twitter.com/rashida048" rel="noopener ugc nofollow" target="_blank">推特</a>上关注我，并喜欢我的<a class="ae jg" href="https://www.facebook.com/rashida.smith.161" rel="noopener ugc nofollow" target="_blank">脸书</a>页面。</p></div></div>    
</body>
</html>