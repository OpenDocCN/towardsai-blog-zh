<html>
<head>
<title>DevOps: creating a pipeline for a Web APP</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">DevOps:为Web应用程序创建管道</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/devops-creating-a-pipeline-for-a-web-app-830b6d2d4273?source=collection_archive---------2-----------------------#2021-09-06">https://pub.towardsai.net/devops-creating-a-pipeline-for-a-web-app-830b6d2d4273?source=collection_archive---------2-----------------------#2021-09-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="8a12" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/devops" rel="noopener ugc nofollow" target="_blank"> DevOps </a></h2><div class=""/><div class=""><h2 id="4cf0" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">如何连接多个软件一起交互，形成一个完整的DevOps管道</h2></div><p id="168a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">DevOps是一个用于软件开发的框架。因为软件是一个通用术语，包含几种类型的应用程序，所以DevOps仍然是通用的。Web应用程序本身可以使用DevOps过程作为正确开发的指南。</p><p id="da0c" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">DevOps框架可以分为两个主要阶段:</p><ul class=""><li id="6712" class="ln lo it kt b ku kv kx ky la lp le lq li lr lm ls lt lu lv bi translated">发展阶段</li><li id="1269" class="ln lo it kt b ku lw kx lx la ly le lz li ma lm ls lt lu lv bi translated">优化阶段</li></ul><p id="9e8b" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">当项目背后的复杂程度变得如此之大，以至于开始难以管理时，就需要这样一个框架。为了完全控制开发应用程序的最佳方式，DevOps提出了一套实践，这些实践集中在效率的最大化和应用程序随时间的持续优化上，甚至在它已经在平台上构建和部署之前。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/e1ab3e3a1a4b2b7c67379765c55dee9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*13YaErVFkQCooSsJ.jpg"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">DevOps框架</figcaption></figure><h2 id="f53b" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">甚至在开始之前</h2><p id="55eb" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">当我们计划如何构建应用程序的架构时，我们应该意识到管道中每个软件背后的现有协同作用。在我进入开发的第一年之后，我才开始熟悉这个过程。大约9个月前，在构建我的第一个web应用程序时，我做出了最糟糕的软件和编码选择，但这些选择是值得的，因为它们让我明白了我所犯的<a class="ae nk" rel="noopener ugc nofollow" target="_blank" href="/8-months-after-building-my-first-web-app-why-i-regret-using-visual-studio-2019-9392071d982a">错误，以及未来避免这些错误的最佳方法是什么</a>。</p><p id="3489" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">事实上，我不仅使用过于复杂的ide创建了一个简单的Web应用程序，而且在数据存储方面也做了一个糟糕的选择，花了我几天时间才解决。事实上，我选择将我的数据保存到一个MongoDB NoSQL数据库中，不幸的是，它与PowerBI不兼容(用于通过ODBC建立连接的工具除了崩溃什么也不做！).</p><h2 id="ac7b" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">从建筑开始</h2><p id="4876" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">为了遵循DevOps过程，我们需要将整个过程分成两个独立的阶段，每个阶段由不同的软件组成。对这个过程至关重要的是一个软件和下一个软件之间的互联性。如果这种连接不复存在，管道就被破坏了，而且不容易恢复，除非我们确切地知道如何干预。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nl"><img src="../Images/19feb14e86225fb9dcfde5f09f57e5b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_VYRezJ_tOEpNqSa0-5p4w.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">管道的架构</figcaption></figure><h1 id="2f66" class="nq mo it bd mp nr ns nt ms nu nv nw mv ki nx kj my kl ny km nb ko nz kp ne oa bi translated">发展阶段</h1><p id="80f0" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">开发阶段的第一步是选择合适的工具:我们实际上是在构建应用程序的架构之前就已经在构建了。当然，万一有什么变化，我们可以进行改编。这是一个非常好的实践，它将允许任何处理相同代码的人更好地对我们的项目有一个低分辨率的理解。</p><h2 id="b72a" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">Visual Studio 2019与Visual Studio代码</h2><p id="1d11" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">如果你没有经验，这两者之间的选择总是很难。Visual Studio 2019背后的美妙之处在于，它是一个端到端的工具，能够在团队中构建可扩展的项目。它被整个企业所使用，是市场上最好的IDE之一。从编码的角度来看，它提供了虚拟环境的管理工具，这是开发每个应用程序所必需的，它还提供了一个高级的git跟踪系统。作为微软的产品，它也与Azure云高度集成，以保证最有效的管道。</p><p id="c2e7" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">那么，如果这个软件像我刚才描述的那样好，为什么我还要考虑其他选择呢？使用VS2019有一个问题:它不适合非常小的项目。软件本身必须添加许多用于测试的额外组件，如果您希望创建一个自定义管道，而软件甚至不应该一起工作，这将是一场噩梦。这不是不可能的，但你需要对VS2019输出的代码进行的编辑量比其他选择要多得多。</p><h2 id="d366" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">烧瓶框架</h2><p id="1bcd" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">对于这个项目，我一直使用Flask，这是一个非常简单的python框架，用于管理Web应用程序的后端。每次部署代码时，我都必须做额外的工作，这一点也不好玩。我选择的最佳选择是Visual Studio代码。这个IDE比前面提到的选择要简单得多，考虑到我第一个项目的规模，它应该是理想的。后来我做出了改变，明白了为什么这是一个伟大的决定。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/04af5581616e6cddd5a3813365450e16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*qSS78uasZ2DmxyAG.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">烧瓶框架标志</figcaption></figure><p id="2d35" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">VS代码迫使你管理自己的虚拟环境，只有当你知道它们是什么以及如何使用它们时，虚拟环境才是持久的。另一方面，您可以访问由Microsoft社区创建的几个附加组件，这些附加组件允许您以多种方式管理其他几个阶段。</p><p id="c4d2" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">例如，我下载了一个插件，每当我想提供一个接口时，它允许我查看我的PostgreSQL数据库。这比登录到另一个平台(即使是基于网络的平台)更容易管理，每次都要手动检查数据库，如果你可以从一个界面控制一切的话。</p><h2 id="19e3" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">赫罗库</h2><p id="80be" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">Heroku是市场上最好的平台即服务PAAS之一。Heroku的美妙之处在于，它让你可以免费做这么多事情，而且不限于测试，这对任何想尝试部署已经可以使用的应用程序的人来说都是理想的。这是让Visual Studio 2019成为烂配的选择。事实上，对于每一次部署，我都必须手动从代码中删除VS2019强制的一些引用，这种手动干预每次都在破坏管道:将不同阶段连接在一起的过程应该自动化。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi ob"><img src="../Images/491cbb24609a94bcac33b327483217c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OOa4iFcIW5clCpDG9Xztbg.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">Heroku网络界面</figcaption></figure><p id="faf6" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">VS代码还允许我直接从终端部署应用程序。通过使用Heroku CLI，我可以将存储库的内容发送到应用程序所在的个人空间。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi mb"><img src="../Images/b570eec7646817d66e1412cbab19d676.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*udKIT857W7XdKISR.png"/></div></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">Heroku CLI截图</figcaption></figure><h2 id="bd08" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">数据库ˌ资料库</h2><p id="3f6c" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">数据库的选择是一场噩梦。最初，我甚至不知道如何连接数据库，所以我决定将所有东西都存储到一个Google Sheet帐户上。这比预期的问题要大得多，因为这个“解决方案”要求我创建一个Google云平台帐户，以获得一个用于连接我的Google Drive的API，然后使用gspread，一个为Google Sheets API提供简化接口的小部件，来连接文件并添加新列。不仅如此，这种存储方法后来还会与我想用来为应用程序创建监控管道的其他工具不兼容。</p><p id="74e3" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">你第一次接触数据库可能会是一场噩梦，但是一旦处理好了，就正常了。作为一名python程序员，有两个主要障碍使得与数据库管理系统的交互很困难:数据以SQL格式存储，从python执行SQL查询很困难，第二个是理解数据库是如何工作的。</p><p id="62d0" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在Google Sheets之后，我决定使用NoSQL，特别是MongoDB，如果你使用python或javascript，这是小菜一碟。然后我意识到有第二个问题:我无法将我的MongoDB与市场上最好的可视化软件PowerBI连接起来:为什么？ODBC崩溃的驱动程序和我无法执行连接。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/eb9efe5170a075a799219dd80e1fd198.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/0*HgFQywHNpfHJ4-Rn.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">ODBC崩溃接口</figcaption></figure><p id="6f60" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">因为第三次通常会成功，所以我决定使用Oracle Cloud Infrastructure服务器来托管我的数据库。具体来说，我使用了PostgreSQL数据库，连接工作得很好。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi od"><img src="../Images/95ddea2aa5b03fc4c1125d47ca311733.png" data-original-src="https://miro.medium.com/v2/resize:fit:1338/format:webp/0*0Wk7QikqayA0kZkV.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">在Visual Studio代码中看到的数据库屏幕截图</figcaption></figure><h2 id="78b2" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">以前的数据</h2><p id="fe17" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">我要解决的另一个问题是将我在Google Sheets中收集的所有数据迁移到这个存储器中。由于应用程序的基本设置导致数据收集方式不同，我不得不使用机器学习来清理数据集，并将其迁移到Oracle云基础架构上托管的数据库。</p><h2 id="1260" class="mn mo it bd mp mq mr dn ms mt mu dp mv la mw mx my le mz na nb li nc nd ne iz bi translated">PowerBI</h2><p id="fea1" class="pw-post-body-paragraph kr ks it kt b ku nf kd kw kx ng kg kz la nh lc ld le ni lg lh li nj lk ll lm im bi translated">作为完成管道的最后一个软件选择，我决定使用PowerBI，这是市场上最好的可视化软件之一。我已经学习了几个星期的PowerBi，我不想仅仅为了这个项目而转向Tableau，这就是为什么我在选择正确的数据库方面如此固执的原因。管道现在已经完成，由于可视化软件，我不仅可以监控应用程序的运行情况，还可以监控我对应用程序所做的任何更改，因为管道完全连接，所有其他工具都将接受这些更改，而无需任何手动干预。</p><figure class="mc md me mf gt mg gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/a9a7398e350c09fc161e1625da13430f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Yjb-CZHl_-SBT0Y3.png"/></div><figcaption class="mj mk gj gh gi ml mm bd b be z dk translated">PowerBI徽标</figcaption></figure></div></div>    
</body>
</html>