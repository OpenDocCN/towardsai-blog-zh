<html>
<head>
<title>How to Scrape Tweets Without Twitter’s API Using TWINT</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用TWINT在没有Twitter的API的情况下抓取推文</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/how-to-scrape-tweets-without-twitters-api-using-twint-797b196b951c?source=collection_archive---------0-----------------------#2020-10-15">https://pub.towardsai.net/how-to-scrape-tweets-without-twitters-api-using-twint-797b196b951c?source=collection_archive---------0-----------------------#2020-10-15</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="b751" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="676d" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">使用Twitter智能工具TWINT，在没有Twitter API的情况下抓取任何人的推文的实践指南</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/506b7192563dcbecba34f24b411e2a2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fGkgtqBNscQgjkYG"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">来源:<a class="ae li" href="https://unsplash.com/photos/6vw_O9R4zf4" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure></div><div class="ab cl lj lk hy ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="in io ip iq ir"><h1 id="27e0" class="lq lr iu bd ls lt lu lv lw lx ly lz ma kj mb kk mc km md kn me kp mf kq mg mh bi translated">什么是Twint</h1><p id="3032" class="pw-post-body-paragraph mi mj iu mk b ml mm ke mn mo mp kh mq mr ms mt mu mv mw mx my mz na nb nc nd in bi translated">Twint是一个高级的Twitter报废工具。我们可以使用这个工具来收集任何用户的关注者、跟随者、推文等。而不必使用Twitter API。</p><h2 id="4992" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">以下是一些好处</h2><ul class=""><li id="6244" class="np nq iu mk b ml mm mo mp mr nr mv ns mz nt nd nu nv nw nx bi translated">Twitter API限制只能抓取最后3200条推文。但是Twint可以获取几乎所有的推文。</li><li id="8c35" class="np nq iu mk b ml ny mo nz mr oa mv ob mz oc nd nu nv nw nx bi translated">设置真的很快，因为没有设置Twitter API的麻烦。</li><li id="8974" class="np nq iu mk b ml ny mo nz mr oa mv ob mz oc nd nu nv nw nx bi translated">无需Twitter注册即可匿名使用。</li><li id="b37a" class="np nq iu mk b ml ny mo nz mr oa mv ob mz oc nd nu nv nw nx bi translated">免费的！！没有价格限制。</li><li id="c74a" class="np nq iu mk b ml ny mo nz mr oa mv ob mz oc nd nu nv nw nx bi translated">提供易于使用的选项，将抓取的推文存储为不同的格式——CSV、JSON、SQLite和Elasticsearch。</li></ul><h1 id="f316" class="lq lr iu bd ls lt od lv lw lx oe lz ma kj of kk mc km og kn me kp oh kq mg mh bi translated">装置</h1><h2 id="e6e5" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">使用画中画</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="6e43" class="ne lr iu oj b gz on oo l op oq">!pip3 install twint</span></pre><h2 id="55f8" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">直接来自Git</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="ba75" class="ne lr iu oj b gz on oo l op oq">!git clone --depth=1 https://github.com/twintproject/twint.git<br/>%cd twint<br/>!pip3 install . -r requirements.txt</span></pre><h1 id="1b42" class="lq lr iu bd ls lt od lv lw lx oe lz ma kj of kk mc km og kn me kp oh kq mg mh bi translated">建立</h1><p id="2e7d" class="pw-post-body-paragraph mi mj iu mk b ml mm ke mn mo mp kh mq mr ms mt mu mv mw mx my mz na nb nc nd in bi translated">让我们先看看使用Twint工具的最基本语法，然后再讨论更高级的功能。</p><p id="5329" class="pw-post-body-paragraph mi mj iu mk b ml or ke mn mo os kh mq mr ot mt mu mv ou mx my mz ov nb nc nd in bi translated">首先，我们创建一个名为<code class="fe ow ox oy oj b">c</code>的Twitter配置对象，然后将不同的参数传递给该对象。这些参数将定义我们将如何抓取推文。在下面的例子中，我们只传递了两个参数<code class="fe ow ox oy oj b">Username</code>和<code class="fe ow ox oy oj b">Limit</code>。Username是用户的twitter id，Limit是要抓取的tweets的数量。限制以100为增量，因此限制1意味着100条推文。最后，<code class="fe ow ox oy oj b">twint.run.Search</code>会抓取推特，并返回推文。</p><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="1369" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="12cb" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Username = “narendramodi”<br/>c.Limit = 1</span><span id="d86b" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span></pre><p id="edc5" class="pw-post-body-paragraph mi mj iu mk b ml or ke mn mo os kh mq mr ot mt mu mv ou mx my mz ov nb nc nd in bi translated">如果您在笔记本上尝试此操作，您可能会遇到错误<em class="pa">“runtime error:This event loop is has running”</em>。要解决此错误，请按照下列步骤操作:</p><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="40e2" class="ne lr iu oj b gz on oo l op oq">!pip install nest_asyncio<br/>import nest_asyncio<br/>nest_asyncio.apply()</span></pre><p id="bfcb" class="pw-post-body-paragraph mi mj iu mk b ml or ke mn mo os kh mq mr ot mt mu mv ou mx my mz ov nb nc nd in bi translated">让我们看看下面的一些例子。</p><h1 id="c285" class="lq lr iu bd ls lt od lv lw lx oe lz ma kj of kk mc km og kn me kp oh kq mg mh bi translated">例子</h1><h2 id="f9be" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">1.特定日期的推文</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="a2a8" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="d7ce" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Username = "narendramodi"<br/>c.Limit = 1<br/>c.Since = "2020–10–12"</span><span id="1b84" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span></pre><h2 id="152f" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">2.特定搜索字符串的推文</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="fab7" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="a975" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Username = "narendramodi"<br/>c.Limit = 1<br/>c.Search = ["India"]</span><span id="5d1e" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span></pre><h2 id="33c2" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">3.带有图片、视频或媒体的推文(图片或视频)</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="6eba" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="8d9e" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Username = "narendramodi"<br/>c.Limit = 1<br/>#c.Images= True<br/>#c.Vidoes = True<br/>c.Media = True</span><span id="63a9" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span></pre><h2 id="c865" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">4.用户的热门推文</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="bf64" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="3708" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Username = "narendramodi"<br/>c.Limit = 1<br/>c.Popular_tweets = True</span><span id="423a" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span></pre><h2 id="0e47" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">5.基于最低点赞数、最低转发数和最低回复数的推文</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="0006" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="0bb1" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Username = "narendramodi"<br/>c.Limit = 1<br/>c.Min_likes = 50000<br/>#c.Min_replies = 1000<br/>#c.Min_retweets = 1000</span><span id="f410" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span></pre><h2 id="8c5d" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">6.追随者</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="8262" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="7635" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Limit = 1<br/>c.Username = "narendramodi"</span><span id="8807" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Followers(c)</span></pre><h2 id="b764" class="ne lr iu bd ls nf ng dn lw nh ni dp ma mr nj nk mc mv nl nm me mz nn no mg ja bi translated">7.将推文存储为熊猫数据帧</h2><pre class="kt ku kv kw gu oi oj ok ol aw om bi"><span id="6943" class="ne lr iu oj b gz on oo l op oq">import twint</span><span id="d2f1" class="ne lr iu oj b gz oz oo l op oq"># Configure<br/>c = twint.Config()<br/>c.Limit = 1<br/>c.Username = ‘narendramodi’<br/>c.Pandas = True</span><span id="23b2" class="ne lr iu oj b gz oz oo l op oq"># Run<br/>twint.run.Search(c)</span><span id="3036" class="ne lr iu oj b gz oz oo l op oq">Tweets_df = twint.storage.panda.Tweets_df</span></pre><p id="c273" class="pw-post-body-paragraph mi mj iu mk b ml or ke mn mo os kh mq mr ot mt mu mv ou mx my mz ov nb nc nd in bi translated"><strong class="mk je"> Twint </strong>提供了很多这样的配置，所有配置的列表都列在官方页面<a class="ae li" href="https://github.com/twintproject/twint/wiki/Configuration" rel="noopener ugc nofollow" target="_blank">这里</a>。您可以使用这些选项的组合来过滤出您感兴趣的推文，以供进一步分析。</p><h1 id="8032" class="lq lr iu bd ls lt od lv lw lx oe lz ma kj of kk mc km og kn me kp oh kq mg mh bi translated">完整的代码</h1><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="pb pc l"/></div></figure><h1 id="7861" class="lq lr iu bd ls lt od lv lw lx oe lz ma kj of kk mc km og kn me kp oh kq mg mh bi translated">结论</h1><p id="40e3" class="pw-post-body-paragraph mi mj iu mk b ml mm ke mn mo mp kh mq mr ms mt mu mv mw mx my mz na nb nc nd in bi translated">在本文中，我们介绍了Twint为废弃tweets提供的一些功能。它还提供了一些高级功能<a class="ae li" href="https://github.com/twintproject/twint/wiki" rel="noopener ugc nofollow" target="_blank"><strong class="mk je"/></a>，比如将推文存储到数据库、内存(python列表)和弹性搜索。使用这里获得的知识，你可以快速抓取推文，并开始使用它进行进一步的分析。</p><p id="af3d" class="pw-post-body-paragraph mi mj iu mk b ml or ke mn mo os kh mq mr ot mt mu mv ou mx my mz ov nb nc nd in bi translated">【阅读更多关于Python和数据科学的此类有趣文章， <a class="ae li" href="https://pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="mk je"> <em class="pa">订阅</em> </strong> </a> <em class="pa">到我的博客</em><a class="ae li" href="http://www.pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"><strong class="mk je"><em class="pa">www.pythonsimplified.com</em></strong></a><strong class="mk je"><em class="pa">。</em> </strong>你也可以通过<a class="ae li" href="https://www.linkedin.com/in/chetanambi/" rel="noopener ugc nofollow" target="_blank"> <strong class="mk je"> LinkedIn </strong> </a>联系到我。</p></div><div class="ab cl lj lk hy ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="in io ip iq ir"><h1 id="ad0b" class="lq lr iu bd ls lt lu lv lw lx ly lz ma kj mb kk mc km md kn me kp mf kq mg mh bi translated"><strong class="ak">参考文献</strong></h1><div class="pd pe gq gs pf pg"><a href="https://github.com/twintproject/twint" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fp"><div class="pi ab pj cl cj pk"><h2 class="bd je gz z fq pl fs ft pm fv fx jd bi translated">twintproject/twint</h2><div class="pn l"><h3 class="bd b gz z fq pl fs ft pm fv fx dk translated">没有认证。没有API。没有限制。Twint是一个用Python编写的高级Twitter抓取工具，它允许…</h3></div><div class="po l"><p class="bd b dl z fq pl fs ft pm fv fx dk translated">github.com</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu lc pg"/></div></div></a></div></div></div>    
</body>
</html>