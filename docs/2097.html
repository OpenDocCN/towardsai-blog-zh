<html>
<head>
<title>Multi-Objective Optimization Model Solved using R — Part2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用R — Part2求解多目标优化模型</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/multi-objective-optimization-model-solved-using-r-part2-958a9a6f1bf0?source=collection_archive---------1-----------------------#2021-08-14">https://pub.towardsai.net/multi-objective-optimization-model-solved-using-r-part2-958a9a6f1bf0?source=collection_archive---------1-----------------------#2021-08-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="7bce" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/optimization" rel="noopener ugc nofollow" target="_blank">优化</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/e5a39def74faf163793909c81a70757d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*Q5u2oAY6uBtLu6moCNrvUA.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">来源—<a class="ae kh" href="https://musfirsays.wordpress.com/2012/02/22/mathematical-optimization/" rel="noopener ugc nofollow" target="_blank">https://musfirsays . WordPress . com/2012/02/22/mathematical-optimization/</a></figcaption></figure><p id="07de" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">用“R”解决目标规划的多目标优化问题是不是很棒？</p><p id="1e92" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">如果是的话，那么你可以证明一些事情。</p><p id="0998" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">在这篇文章中，我将深入探讨当我们手头已经有了开发的模型时，如何解决多目标优化问题？</p><p id="ede2" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">我将利用“R”语言，在给定开发模型、其目标、约束和偏差变量的情况下，找到最佳解决方案。我将进一步阐述解决方案，使您了解它的每个方面。</p><p id="5f8a" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">在第1部分中，</p><p id="621d" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated"><a class="ae kh" rel="noopener ugc nofollow" target="_blank" href="/multi-objective-optimization-problem-using-goal-programming-7bbfcaa0b3bd"> <strong class="kk ja">多目标优化模型开发采用目标规划</strong> </a></p><p id="43e7" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">我已经从零开始阐述了完整的模型制定过程。</p><p id="83ae" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">让我从重复前面使用的制造案例开始，优化模型就是基于这个案例开发的。</p><p id="0fa7" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">一家受欢迎的照明公司生产两种产品系列，彩色灯罩和LED灯。这两种产品都需要两步生产过程，包括接线和组装。给每个灯罩接线大约需要2个小时，给每个LED灯接线需要3个小时。灯罩和LED灯的最终组装分别需要6个小时和5个小时。生产能力是这样的，只有12小时的布线时间和30小时的组装时间可用。该公司严格要求最大限度地利用布线部门的工作时间，不得有任何浪费，同时也不希望装配部门加班。它从每个灯罩中获利7美元，从每个LED灯中获利6美元。此外，公司有合同义务完成至少7个LED灯的交付。</p><p id="b534" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">但与此同时，该公司正在向一个新的战略位置转移，并认为最初的利润最大化并不是一个现实的目标。管理层设定的利润水平为30美元，在此期间是令人满意的。</p><p id="caf2" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">在生产时间有限的情况下，公司希望找到尽可能接近这一目标的产品组合。</p><p id="55ef" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">基于上述情况，开发的模型如下:</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lg"><img src="../Images/388c0f8a7439f9505422bc1c4ce331b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dRxaZIiR0JM8gP_JTCe9Xg.png"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">来源—按作者</figcaption></figure><p id="1dde" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">其中X1和X2是决策变量。</p><p id="847b" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">现在。让我们解决这个问题，得到我们的最优解。</p><p id="3e3b" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">步骤1 —构建系数矩阵。</p><p id="4d18" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">在这种情况下，我们的系数将从与X1和X2变量相关的数值中导出。</p><p id="a0e9" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">即7×1+6×2、2×1+3×2、6×1+5×2和X2。</p><p id="a3e4" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">这为我们提供了4 x 2矩阵</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi lp"><img src="../Images/4ac6eee6384eeb7b8375f65af5d557b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:464/format:webp/1*_PBYPsW_1FVQUEdn8s9I5w.png"/></div></figure><p id="1af5" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">这里，行数等于目标数，列数等于决策变量数。</p><p id="c290" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">步骤2——构建目标向量</p><p id="af62" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">目标向量是为目标设定的要达到的目标值。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/3007508a58ae151dd3fbf77ec862c267.png" data-original-src="https://miro.medium.com/v2/resize:fit:462/format:webp/1*clHAnIimcRu0uD5bkovI-A.png"/></div></figure><p id="9ade" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">这里元素的数量等于目标的数量。</p><p id="2e37" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">步骤3-构建定义成就目标的成就数据框架。</p><p id="5cf8" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">该数据框将第一列设置为目标，并包含特定目标的索引。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lr"><img src="../Images/c8f50cbebb01657d47fbbc711f6bdbd9.png" data-original-src="https://miro.medium.com/v2/resize:fit:614/format:webp/1*2LCcBaHB_mHopfNLUkkuEA.png"/></div></div></figure><p id="8a70" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">因为我们有4个目标，所以提到了计数1，2…4。</p><p id="bd6a" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">第二列是优先级，它记录了所分配目标的优先级。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi ls"><img src="../Images/2d0dfd90eba0fb38af2ef61e69628904.png" data-original-src="https://miro.medium.com/v2/resize:fit:470/format:webp/1*w6cFjPQY4yEvx_NRO2SbeA.png"/></div></figure><p id="c9d2" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">由于第一个目标具有最高优先级，其次是第四个目标，然后分别是第二个和第三个目标，因此下文对其进行了描述。</p><p id="146c" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">第三列是正偏差变量的表示(超额完成)。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/afcd8f47e076ac9b3c656a5ec4ac5b92.png" data-original-src="https://miro.medium.com/v2/resize:fit:294/format:webp/1*C1b71U2LUoZBCeH7-uFbKg.png"/></div></figure><p id="21c0" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">一般来说，它在“R”视觉中用符号“p”来表示。</p><p id="eaba" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">第4列是负偏差变量的表示(成绩不良)。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/0f2e1648c8bb4ad06aacc4754079f70a.png" data-original-src="https://miro.medium.com/v2/resize:fit:302/format:webp/1*bWwwiB3Bwahbtro0Lu7L7g.png"/></div></figure><p id="362e" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">一般来说，它在“R”视觉中用符号“n”来表示。</p><p id="bfb5" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">步骤4——利用R包和函数，根据偏差变量的最小化，最终计算出最佳结果。</p><p id="371a" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">这里“R”使用一种改进的单纯形法来导出一个最优解。</p><p id="a7bd" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">这里要考虑的更重要的一点是，如果除了优先级之外，还要考虑目标的权重，那么数据框将有五个命名列。前四列与上面已经提到的列相同。第五列称为“w ”,它是与指定优先级相关的权重。</p><p id="7a1c" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">下面是显示计算的完整R代码。</p><pre class="lh li lj lk gt lv lw lx ly aw lz bi"><span id="20fe" class="ma mb iq lw b gy mc md l me mf"># Copy "goalprog" package from the specified path</span><span id="c506" class="ma mb iq lw b gy mg md l me mf">url &lt;- "<a class="ae kh" href="https://cran.r-project.org/src/contrib/Archive/goalprog/goalprog_1.0-2.tar.gz" rel="noopener ugc nofollow" target="_blank">https://cran.r-project.org/src/contrib/Archive/goalprog/goalprog_1.0-2.tar.gz</a>"<br/>pkgFile &lt;- "goalprog_1.0-2.tar.gz"<br/>download.file(url = url, destfile = pkgFile)</span><span id="f6cb" class="ma mb iq lw b gy mg md l me mf"># Install "goalprog" package<br/>install.packages(pkgs=pkgFile, type="source", repos=NULL)</span><span id="8994" class="ma mb iq lw b gy mg md l me mf">library(goalprog)</span><span id="f8fc" class="ma mb iq lw b gy mg md l me mf"># Use function llgp() to solve multi-opjective optimization model</span><span id="2c92" class="ma mb iq lw b gy mg md l me mf"># List coefficients as specified in objective functions<br/># Store as a matrix<br/>coefficients &lt;- matrix( c( 7, 6, 2, 3, 6, 5, 0, 1 ), nrow=4, byrow=TRUE )<br/>coefficients</span><span id="25bc" class="ma mb iq lw b gy mg md l me mf"># List target values as specified in objective functions<br/># Store as a vector<br/>targets &lt;- c( 30, 12, 30, 7 )<br/>targets</span><span id="a428" class="ma mb iq lw b gy mg md l me mf"># List achievement goals as specified in objective functions<br/># Store as a data frame, where 1st column is objective,2nd column is priority,<br/># 3rd column is deviational variable indicating overachievement and is indicated as p,<br/># 4th column is deviational variable indicating underachievement and is indicated as n,  <br/>achievements &lt;- data.frame( matrix( <br/>  c( 1, 1, 0, 1, <br/>     2, 3, 1, 1, <br/>     3, 4, 1, 1, <br/>     4, 2, 0, 1), nrow=4, byrow=TRUE ) )<br/># Functions to get or set the names of an object.<br/>names( achievements ) &lt;- c( "objective", "priority", "p", "n" )<br/>achievements</span><span id="cc52" class="ma mb iq lw b gy mg md l me mf">soln &lt;- llgp( coefficients, targets, achievements )<br/>soln$out<br/>print( soln$out)</span></pre><p id="72d9" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">从执行“R”代码中捕捉到的结果的一瞥，我将详细解释它以得出结论。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/0418f6f813a1d6f74d09cc61f7f0d52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*vci1XJetaz7tACzCYXxhlA.png"/></div></figure><p id="3f67" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">上述结果表明</p><p id="89d1" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">X1为0(在此期间没有生产灯罩)</p><p id="180c" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">X2 as 7(根据合同义务生产7盏LED灯)</p><p id="5f38" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">d1+ = 12(利润超额完成12美元，因为目标是30美元，但实际完成是42美元)。</p><p id="eb7c" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">d2+ = 9(布线部门超负荷工作9小时，目标是12小时，但实际达到21小时)</p><p id="4a95" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">d3+ = 5(装配部门加班5小时，因为目标是30小时，但实际是35小时)</p><p id="3aa9" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">注意-根据最佳结果，在这种情况下，不需要对成绩不佳偏离变量值进行优化，因此“低于”列的所有值都为0。根据手头的问题，最佳解决方案也可以包括成就不良偏差变量。</p><figure class="lh li lj lk gt ka gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/ae5642ba20e5d8a3123ee20913afbf64.png" data-original-src="https://miro.medium.com/v2/resize:fit:980/format:webp/1*JQHtKgoVnxC21sKJ3lFfdw.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">来源:<a class="ae kh" href="https://economictimes.indiatimes.com/jobs/5-ways-to-deal-with-a-colleague-who-takes-all-the-credit/share-credit/slideshow/67636783.cms" rel="noopener ugc nofollow" target="_blank">https://economic times . India times . com/jobs/5-ways-to-deal-with-a-coach-a-colleat-who-take all-the-credit/share-credit/slide show/67636783 . CMS</a></figcaption></figure><p id="8462" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">因此，根据这一结果，我们得出结论，我们的目标利润和无合同违约的高优先级目标已经以较低优先级目标为代价得到了很好的照顾，因为目标规划基于“满意”原则而不是完全最小化或最大化原则。在这种情况下，在给定目标优先级和约束的情况下，实现的解决方案是最优的。</p><p id="7878" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">希望你喜欢这个。</p><p id="5728" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">你可以在LinkedIn上关注我:<a class="ae kh" href="https://www.linkedin.com/in/supriya-ghosh" rel="noopener ugc nofollow" target="_blank"> Supriya Ghosh </a></p><p id="ba16" class="pw-post-body-paragraph ki kj iq kk b kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf ij bi translated">还有推特:<a class="ae kh" href="https://twitter.com/isupriyaghosh" rel="noopener ugc nofollow" target="_blank"> @isupriyaghosh </a></p></div></div>    
</body>
</html>