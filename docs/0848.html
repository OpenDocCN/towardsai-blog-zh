<html>
<head>
<title>Top 10 most used Pandas features in a Data Science Project</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学项目中十大最常用的熊猫功能</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/pandas-for-data-scientist-a2d8a8e81d04?source=collection_archive---------1-----------------------#2020-08-25">https://pub.towardsai.net/pandas-for-data-scientist-a2d8a8e81d04?source=collection_archive---------1-----------------------#2020-08-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="e821" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a>，<a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/9174a2ff065346ca874d86da9255b700.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VJ5Md_Tk1oX5ZyVMrm09wQ.jpeg"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">图片来源:Octávio Deluchi</figcaption></figure><p id="f165" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">网上和书上有很多关于熊猫的教程。熊猫图书馆是数据科学家和数据工程师使用最多的图书馆之一。在本教程中，我将列出我最常用的熊猫功能。</p><p id="7732" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">虽然有许多功能可供选择，但这里是我最常用的十个功能。请在评论区让我知道你的。我很乐意将它们加入我的收藏。我将把重点放在熊猫数据框架而不是系列。</p><p id="f056" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让我们从进口熊猫开始。</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="d662" class="ls lt iq lo b gy lu lv l lw lx">import pandas as pd</span></pre></div><div class="ab cl ly lz hu ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="ij ik il im in"><h2 id="24ab" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">1.文件操作</h2><p id="57b5" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">擅长</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="c754" class="ls lt iq lo b gy lu lv l lw lx">import pandas as pd<br/> data = pd.read_excel(‘path_to_your_excel file’, sep=‘ ’, index_col=‘name’, dtype=dtypes, sheet_name=’’)</span></pre><p id="8e3e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">战斗支援车</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="4d85" class="ls lt iq lo b gy lu lv l lw lx">import pandas as pd<br/> data = pd.read_excel(‘path_to_your_excel file’, sep=‘ ’ , index_col=‘name’, dtype=dtypes)</span></pre><p id="5eef" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">阅读HTML</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="df70" class="ls lt iq lo b gy lu lv l lw lx">import pandas as pd<br/>data = pd.read_html(‘data.html’, index_col=0)</span></pre><p id="7754" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">注意:您可以在导入文件时添加数据类型。也就是说，如果你想忽略标题，设置header=False。</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="0f2b" class="ls lt iq lo b gy lu lv l lw lx">dtypes = {‘colname’: ’datatype’, ‘Weight’: ‘float32’}</span></pre><p id="22b9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">熊猫认为这些是缺失的价值观</p><blockquote class="na nb nc"><p id="1d33" class="kl km nd kn b ko kp kq kr ks kt ku kv ne kx ky kz nf lb lc ld ng lf lg lh li ij bi translated">(' ')，' nan '，'-nan '，' NA '，' N/A '，' nan '，' null '</p></blockquote><p id="2204" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">当读写文件时，你可以像这样替换它们</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="7166" class="ls lt iq lo b gy lu lv l lw lx">df.to_csv('new-data.csv', na_rep='(missing)')</span></pre><h2 id="2fc2" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">2.熊猫数据框中的统计数据</h2><p id="8805" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">总和</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="6222" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].sum()</span></pre><p id="9536" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kn ja">的意思是</strong></p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="045b" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].mean()</span></pre><p id="ebc9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">累积和</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="0c51" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].cumsum()</span></pre><p id="463e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">汇总统计数据</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="ec51" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].describe()</span></pre><p id="e0c3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数数</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="5d20" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].count()</span></pre><p id="1757" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">最小/最大</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="24d5" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].min()<br/>df['colName'].max()</span></pre><p id="609f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">中位数</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="2a2d" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].median()</span></pre><p id="20d6" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">采样离散</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="c02c" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].var()</span></pre><p id="9014" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">标准偏差</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="9bee" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].std()</span></pre><p id="fba9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kn ja">偏斜度</strong></p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="46de" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].skew()</span></pre><p id="cd8e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kn ja">峰度</strong></p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="7b43" class="ls lt iq lo b gy lu lv l lw lx">df['colName'].kurt()</span></pre><p id="b8fd" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated"><strong class="kn ja">值的相关矩阵</strong></p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="2120" class="ls lt iq lo b gy lu lv l lw lx">df.corr()</span></pre><h2 id="6c9d" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">3.加入操作</h2><p id="a199" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">Pandas在大型数据集中提供类似SQL的功能</p><p id="7a45" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">简单连接</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="20ec" class="ls lt iq lo b gy lu lv l lw lx">pd.concat([df_a, df_b], axis=<strong class="lo ja">1</strong>)</span></pre><p id="691d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">用condition_column值合并两个数据框</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="c5ac" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_new, df_n, on=‘join_condition_column_name’)</span></pre><p id="ed60" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">与外部联接合并</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="237e" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_a, df_b, on=‘condition_column', how='outer’)</span></pre><p id="54b8" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">用内部联接合并</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="a414" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_a, df_b, on=‘condition_column', how='inner’)</span></pre><p id="5245" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">用右连接合并</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="209c" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_a, df_b, on=’common_column_id’, how=’right’)</span></pre><p id="e274" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">用左连接合并</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="7040" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_a, df_b, on=‘common_column_id ‘, how=’left’)</span></pre><p id="c1ff" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">向重复的列名添加后缀时进行合并</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="9b55" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_a, df_b, on=’ common_column_id ‘, how=’left’, suffixes=(‘_left’, ‘_right’))</span></pre><p id="4228" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">基于索引合并</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="dd2d" class="ls lt iq lo b gy lu lv l lw lx">pd.merge(df_a, df_b, right_index=True, left_index=True)</span></pre><h2 id="f5e5" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">4.熊猫数据分析</h2><p id="bce6" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">查看前10个条目</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="c3e8" class="ls lt iq lo b gy lu lv l lw lx">dataFrame.head(10)</span></pre><p id="83aa" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">查看最后10个条目</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="b5de" class="ls lt iq lo b gy lu lv l lw lx">dataFrame.tail(10)</span></pre><p id="083e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数据集中的记录总数</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="bdf0" class="ls lt iq lo b gy lu lv l lw lx">dataFrame.shape[0]</span></pre><p id="fdd9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数据集中的列数</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="785f" class="ls lt iq lo b gy lu lv l lw lx">dataframes.columns</span></pre><p id="3139" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">数据集索引详细信息</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="843c" class="ls lt iq lo b gy lu lv l lw lx">data.index</span></pre><p id="9616" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">汇总数据帧</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="ab28" class="ls lt iq lo b gy lu lv l lw lx">data.describe()</span></pre><p id="6ed4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">汇总所有列</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="d461" class="ls lt iq lo b gy lu lv l lw lx">data.describe(include = “all”)</span></pre><p id="a3a7" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">列的平均值</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="0285" class="ls lt iq lo b gy lu lv l lw lx">round(data.columnname.mean())</span></pre><p id="b446" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">列中出现次数最少的值</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="b712" class="ls lt iq lo b gy lu lv l lw lx">data.columnnsme.value_counts().tail()</span></pre><h2 id="a08b" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">5.切片和切块</h2><p id="8e25" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">熊猫中的loc:来自<a class="ae nh" href="https://www.analyticsvidhya.com/blog/2020/02/loc-iloc-pandas/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2020/02/loc-iloc-Pandas/</a></p><blockquote class="na nb nc"><p id="d9ab" class="kl km nd kn b ko kp kq kr ks kt ku kv ne kx ky kz nf lb lc ld ng lf lg lh li ij bi translated"><strong class="kn ja"> <em class="iq"> loc </em> </strong> <em class="iq">是基于标签的，这意味着我们必须指定需要过滤掉的行和列的名称。</em></p></blockquote><p id="e6d0" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">熊猫中的iloc:来自<a class="ae nh" href="https://www.analyticsvidhya.com/blog/2020/02/loc-iloc-pandas/" rel="noopener ugc nofollow" target="_blank">https://www . analyticsvidhya . com/blog/2020/02/loc-iloc-Pandas/</a></p><blockquote class="na nb nc"><p id="6b6e" class="kl km nd kn b ko kp kq kr ks kt ku kv ne kx ky kz nf lb lc ld ng lf lg lh li ij bi translated">另一方面，iloc是基于整数索引的。所以在这里，我们必须通过它们的整数索引来指定行和列。</p></blockquote><p id="ee7b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">例子</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="ae2b" class="ls lt iq lo b gy lu lv l lw lx">import numpy as np # imported numpy to make arrays.<br/>df = pd.DataFrame(np.array([[1, 2, 3], [4, 5, 6]]))<br/>print(df)</span></pre><p id="eb62" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/fff60257f80fa02054f34a5d3280c675.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*E0VNTdUlkDpkqVovq82jHQ.png"/></div></figure><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="6d56" class="ls lt iq lo b gy lu lv l lw lx"># Using `iloc[]`<br/>print(df.iloc[0][0])</span></pre><p id="f987" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:1</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="2b41" class="ls lt iq lo b gy lu lv l lw lx"># Using `loc[]`<br/>print(df.loc[0][2])</span></pre><p id="939f" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:3</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="0246" class="ls lt iq lo b gy lu lv l lw lx"># Using `at[]`<br/>print(df.at[1,2])</span></pre><p id="864e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">产出:6</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="2cfa" class="ls lt iq lo b gy lu lv l lw lx"># Using `iat[]`<br/>print(df.iat[0,2])</span></pre><p id="fb29" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:3</p><h2 id="4502" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">6.将列追加到现有数据帧</h2><p id="0f7d" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">例子</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="1178" class="ls lt iq lo b gy lu lv l lw lx">df = pd.DataFrame(data=np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]]), columns=['A', 'B', 'C'])<br/>print(df)</span><span id="cf37" class="ls lt iq lo b gy nj lv l lw lx"># Append a column to `df`<br/>df.loc[:, 'D'] = pd.Series(['5', '6' ,'7'], index=df.index)<br/>print(df)</span></pre><p id="880d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nk"><img src="../Images/5e5fbf95612d9b55a98a69334bc53d8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SiUEKLGcSMr4i1WW3QjWIQ.png"/></div></div></figure><h2 id="c9ba" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">7.从数据帧中删除重复值</h2><p id="d448" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">例子</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="c85f" class="ls lt iq lo b gy lu lv l lw lx">df = pd.DataFrame({"A":["foo", "foo", "foo", "bar"], "B":[0,1,1,1], "C":["A","A","B","A"]})<br/>print(df)</span><span id="4681" class="ls lt iq lo b gy nj lv l lw lx"># droping duplicate value from A and C<br/>df = df.drop_duplicates(subset=['A', 'C'], keep=False) <br/>print(df)</span><span id="21f6" class="ls lt iq lo b gy nj lv l lw lx"># froping the whole column in index 1, which remove the whole row<br/>df = df.drop(df.index[[1]]) <br/>print(df)</span></pre><p id="daf9" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nl"><img src="../Images/35ca04547bd24558418ff07c746ede68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZV27iUoOMcdycforhjEJ-Q.png"/></div></div></figure><h2 id="375e" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">8.更新值</h2><p id="5e3a" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">例子</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="1d52" class="ls lt iq lo b gy lu lv l lw lx">df = pd.DataFrame({"A":["foo", "foo", "foo", "bar"], "B":[0,1,1,1], "C":["A","A","B","A"]})<br/>print(df)</span><span id="9f50" class="ls lt iq lo b gy nj lv l lw lx"># Replace strings by number (0-4)<br/>df = df.replace(['foo', 'A','B' ], [10,90 , 80]) <br/>print(df)</span><span id="922d" class="ls lt iq lo b gy nj lv l lw lx"># Replace using `regex`<br/>df = df.replace({r'[^0-9]+': 'apple'}, regex=True) <br/>print(df)</span></pre><p id="6948" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/29bc356a70329cca76a9f77f8b8566ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*s2hPv7I3ecNvUxR6tA6WtA.png"/></div></figure><h2 id="3329" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">9.应用功能</h2><p id="1ea5" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">我们可以创建一个自定义函数或使用lambda函数一次性动态地更改数据框中的记录。</p><p id="710e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">例子</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="f3cc" class="ls lt iq lo b gy lu lv l lw lx">df = pd.DataFrame({"A":["foo", "foo", "foo", "bar"], "B":[0,1,1,1], "C":["A","A","B","A"]})<br/>print(df)<br/>print('\n')<br/>doubler = lambda x: x*2<br/>df = df.replace({r'[^0-9]+': 10}, regex=True)<br/>df = df.apply(doubler)<br/>print(df)</span></pre><p id="78a3" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nn"><img src="../Images/c7a68277ab93ba829dffd399d019514d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4AvERWZNzU3-RmiQNeEsLQ.png"/></div></div></figure><p id="6530" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">从现有列创建新列</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="1aae" class="ls lt iq lo b gy lu lv l lw lx">dfa = pd.DataFrame({"A": [1, 2, 3], "B": [4, 5, 6]})<br/>print(dfa)<br/>dfa = dfa.assign(C=lambda x: x['A'] + x['B'],D=lambda x: x['A'] + x['C'])<br/>dfa</span></pre><p id="97bc" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div class="gh gi no"><img src="../Images/47ce1ef89b997690fbe36f3a4992b945.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*EWNbyWaTvUgvw6Gi1VA6Gw.png"/></div></figure><h2 id="308e" class="ls lt iq bd mf mg mh dn mi mj mk dp ml kw mm mn mo la mp mq mr le ms mt mu iw bi translated">10.将字典、序列作为数据框中的输入。</h2><p id="5bc0" class="pw-post-body-paragraph kl km iq kn b ko mv kq kr ks mw ku kv kw mx ky kz la my lc ld le mz lg lh li ij bi translated">把字典作为你的数据框架的输入</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="1732" class="ls lt iq lo b gy lu lv l lw lx">my_dict = {1: [‘1’, ‘3’], 2: [‘1’, ‘2’], 3: [‘2’, ‘4’]}<br/>print(pd.DataFrame(my_dict))</span></pre><p id="5484" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div class="gh gi np"><img src="../Images/199d20b525fe15e4cfd224b90562e05b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1060/format:webp/1*shkT7nOgGGDN9npL9I4z4A.png"/></div></figure><p id="b2cc" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">序列作为数据框的输入</p><pre class="lj lk ll lm gt ln lo lp lq aw lr bi"><span id="a1fe" class="ls lt iq lo b gy lu lv l lw lx">my_series = pd.Series({“England”:”London”, “Nepal”:”kathmandu”, “China”:”Baiging”, “Belgium”:”Brussels”})<br/>print(pd.DataFrame(my_series))<br/>print(len(my_series.shape))</span></pre><p id="927e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">输出:</p><figure class="lj lk ll lm gt ka gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/9b9c467ea17004d5bddbf48922541ae2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1022/format:webp/1*Km9V7K4UXF8YUWqQVocxHg.png"/></div></figure><p id="7871" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这个列表中，我还没有添加很多功能。但是这些是我用得最多的。Panda是一个丰富的库，它有来自官方网站的非常好的文档。你可以通过这个链接阅读。<a class="ae nh" href="https://pandas.pydata.org/" rel="noopener ugc nofollow" target="_blank">https://pandas.pydata.org</a></p></div></div>    
</body>
</html>