<html>
<head>
<title>Tweet Topic Modeling: Visualizing Topic Modeling Results with Plotly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Tweet主题建模:用Plotly可视化主题建模结果</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/tweet-topic-modeling-part-4-visualizing-topic-modeling-results-with-plotly-66d5dbaaf7fb?source=collection_archive---------2-----------------------#2021-01-20">https://pub.towardsai.net/tweet-topic-modeling-part-4-visualizing-topic-modeling-results-with-plotly-66d5dbaaf7fb?source=collection_archive---------2-----------------------#2021-01-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="3966" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-visualization" rel="noopener ugc nofollow" target="_blank">数据可视化</a>，<a class="ae ep" href="https://towardsai.net/p/category/nlp" rel="noopener ugc nofollow" target="_blank">自然语言处理</a>，<a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="c4d8" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">这是一个多部分的系列，展示了如何为任何tweets集合收集、预处理、应用和可视化短文本主题建模</h2></div><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/cdad4fea7cde94f8e16d8d52930efd91.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uiwNL8ReWla6rnergTHucg.jpeg"/></div></figure><p id="ee6a" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb jd"> <em class="lv">免责声明:</em> </strong> <em class="lv">本文仅出于教育目的。我们不鼓励任何人抓取网站，尤其是那些可能有条款和条件反对此类行为的网站。</em></p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="4d16" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">介绍</h1><p id="ec8d" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">主题建模是一种无监督的机器学习方法，目标是找到文本文档集合(语料库)中的“隐藏”主题(或聚类)。它真正的优势在于，你不需要带标签或带注释的数据，而是只接受原始文本数据作为输入，这也是它不受监督的原因。换句话说，模型在看到数据时并不知道主题是什么，而是使用所有文档中单词之间的统计关系来生成它们。</p><p id="35c2" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最流行的主题建模方法之一是<strong class="lb jd">潜在狄利克雷分配(LDA) </strong>，这是一种生成概率模型算法，揭示了管理文档语义的潜在变量，这些变量代表抽象主题。LDA(以及一般的主题建模)的典型应用是将其应用于一组新闻文章，以识别共同的主题或话题，如科学、政治、金融等。然而，LDA的一个缺点是它不能很好地处理较短的文本，如<strong class="lb jd"> tweets。</strong>这是最近的<strong class="lb jd">短文本主题建模(STTM) </strong>的方法，其中一些建立在LDA之上，派上用场并且表现更好！</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="ab gu cl kw"><img src="../Images/cdad4fea7cde94f8e16d8d52930efd91.png" data-original-src="https://miro.medium.com/v2/format:webp/1*uiwNL8ReWla6rnergTHucg.jpeg"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">拥有健康专用Twitter账户的主要新闻来源(<em class="ne">作者图片</em>)</figcaption></figure><p id="595a" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这一系列帖子旨在展示和解释如何使用Python来执行和应用特定的STTM方法(<strong class="lb jd">Gibbs Sampling Dirichlet Mixture Model</strong>或<strong class="lb jd"> GSDMM </strong>)来处理Twitter上的健康推文。它将是数据搜集/清理、编程、数据可视化和机器学习的结合。我将在接下来的4篇文章中依次讨论所有主题:</p><blockquote class="nf ng nh"><p id="a92d" class="kz la lv lb b lc ld kd le lf lg kg lh ni lj lk ll nj ln lo lp nk lr ls lt lu im bi translated"><a class="ae nl" href="https://medium.com/towards-artificial-intelligence/tweet-topic-modeling-using-twint-to-scrape-tweets-part-1-a9274e5199d2" rel="noopener">第1部分:从Twitter上抓取推文</a></p><p id="5ea8" class="kz la lv lb b lc ld kd le lf lg kg lh ni lj lk ll nj ln lo lp nk lr ls lt lu im bi translated"><a class="ae nl" href="https://medium.com/towards-artificial-intelligence/tweet-topic-modeling-part-2-cleaning-and-preprocessing-tweets-e3a08a8b1770" rel="noopener">第二部分:清理和预处理推文</a></p><p id="cce5" class="kz la lv lb b lc ld kd le lf lg kg lh ni lj lk ll nj ln lo lp nk lr ls lt lu im bi translated"><a class="ae nl" href="https://medium.com/towards-artificial-intelligence/tweet-topic-modeling-part-3-using-short-text-topic-modeling-on-tweets-bc969a827fef" rel="noopener">第三部分:应用短文本主题建模</a></p><p id="75a1" class="kz la lv lb b lc ld kd le lf lg kg lh ni lj lk ll nj ln lo lp nk lr ls lt lu im bi translated"><strong class="lb jd"> <em class="it">第四部分:可视化主题建模结果</em> </strong></p></blockquote><p id="6538" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这些文章不会深入到LDA或STTM的细节，而是解释他们的直觉和需要知道的关键概念。鼓励有兴趣对LDA有更透彻的统计理解的读者查看这些伟大的文章和资源<a class="ae nl" href="http://www.cs.columbia.edu/~blei/papers/Blei2012.pdf" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jd">这里</strong> </a>和<a class="ae nl" href="https://ldabook.com/index.html" rel="noopener ugc nofollow" target="_blank"> <strong class="lb jd">这里</strong> </a>。</p><p id="ebb2" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为先决条件，确保你的电脑上安装了<a class="ae nl" href="https://jupyter.readthedocs.io/en/latest/install.html" rel="noopener ugc nofollow" target="_blank"> Jupyter Notebook </a>、<a class="ae nl" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank"> Python </a>、&amp;、<a class="ae nl" href="https://git-scm.com/downloads" rel="noopener ugc nofollow" target="_blank"> Git </a>。</p><p id="057c" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">好吧，我们继续！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="1d25" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">第4部分:可视化主题模型结果(使用Plotly)</h1><p id="675e" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在<a class="ae nl" href="https://medium.com/towards-artificial-intelligence/tweet-topic-modeling-part-3-using-short-text-topic-modeling-on-tweets-bc969a827fef" rel="noopener">之前的文章</a>中，我们已经成功训练了一个STTM模型，并为我们数据集中的所有推文分配了主题。如果您刚刚加入我们的第4部分，此处<a class="ae nl" href="https://github.com/bicachu/short-text-topic-modeling-tutorial/blob/main/data/sttm_10topics_results.csv" rel="noopener ugc nofollow" target="_blank">提供的最终CSV</a>供您参考。</p><p id="5032" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">本文将使用<a class="ae nl" href="https://plotly.com/python/getting-started/" rel="noopener ugc nofollow" target="_blank"> Plotly、</a>构建各种数据可视化，包括热图和气泡图，以分析任何带标签的主题建模结果。本文不会深入讨论Plotly框架(如果你有兴趣学习更多关于Plotly数据可视化的知识，我强烈推荐你查看这些文章<a class="ae nl" href="https://towardsdatascience.com/python-for-data-science-a-guide-to-data-visualization-with-plotly-969a59997d0c" rel="noopener" target="_blank">这里</a>和<a class="ae nl" href="https://towardsdatascience.com/visualization-with-plotly-express-comprehensive-guide-eb5ee4b50b57" rel="noopener" target="_blank">这里</a>)。</p><h2 id="08cd" class="nm me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt iz bi translated">设置</h2><p id="467b" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">首先，让我们确保在我们的环境中安装了Plotly。</p><pre class="kr ks kt ku gt nx ny nz oa aw ob bi"><span id="d703" class="nm me it ny b gy oc od l oe of">pip install plotly</span></pre><p id="8a20" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，让我们加载任何必要的模块，并读取我们的结果数据集。</p><pre class="kr ks kt ku gt nx ny nz oa aw ob bi"><span id="b270" class="nm me it ny b gy oc od l oe of">import numpy as np<br/>import pandas as pd<br/>import plotly.graph_objects as go<br/>import plotly.express as px<br/> <br/>tweets_df = pd.read_csv(r’/data/sttm_10topics_results.csv’)</span></pre><p id="f355" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae nl" href="https://plotly.com/python/graph-objects/" rel="noopener ugc nofollow" target="_blank"> Graph_objects </a>是Plotly最初引入的默认组件，用于绘制各种图形和图表。Express是他们发布的一个较新的框架，它包含的功能可以让你一次轻松快速地创建完整的可视化。它适用于结构化数据框。我们将使用express函数，但是了解graph对象是有好处的，因为根据您要做的事情，使用任何一种都有利弊。</p><p id="e0d5" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">最后一件事——让我们创建一个新的数据框<code class="fe og oh oi ny b">topics_df </code>,它只保存我们定义的集群和主题名称。这将在稍后交互式探索我们的热图时派上用场。</p><pre class="kr ks kt ku gt nx ny nz oa aw ob bi"><span id="79d2" class="nm me it ny b gy oc od l oe of">topics_df = tweets_df[[‘cluster’,‘topic_name’]] <br/>                      .drop_duplicates()<br/>                      .sort_values(by=’cluster’)<br/>topics_df.reset_index(inplace=True, drop=True)<br/>topics_df</span></pre><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/053903cee36055f0c5e1588cdb978b73.png" data-original-src="https://miro.medium.com/v2/resize:fit:788/format:webp/1*Kg3LVBf903HilJUc8u1U4g.jpeg"/></div></figure><h2 id="8c57" class="nm me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt iz bi translated"><strong class="ak">热图可视化用户间的话题密度(新闻来源)</strong></h2><p id="0613" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们想要生成的第一个可视化结果是一个热图，它可视化了新闻源中主题的分布。换句话说，对于每个用户，他们的推文有多少比例是关于主题1和主题2等等。</p><p id="89a3" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">在我们绘制任何东西之前，我们需要进行一些数据辩论，并创建一个新的数据框架，使我们能够按照预期可视化主题计数。幸运的是，我们可以使用一个简洁的pandas pivot table特性来统计每个用户每个主题的tweets数量。</p><figure class="kr ks kt ku gt kv"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="on oo di op bf oq"><div class="gh gi om"><img src="../Images/093c989de3647e79908bb149ccac9b93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0BeCmomRI-GGKjijnrAm3A.jpeg"/></div></div></figure><p id="7f2c" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">接下来，我们要将上面的值转换成百分比，因为我们对每个用户的主题的相对分布组成感兴趣。如果我们只看总计数，对用户进行比较是没有意义的，因为一些用户可能比其他人更频繁地发微博。</p><figure class="kr ks kt ku gt kv"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="on oo di op bf oq"><div class="gh gi or"><img src="../Images/6737ea1e7ca6e4bb8bffad1908188293.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ik5_W3-IVdYodWoRduI2QQ.jpeg"/></div></div></figure><p id="862b" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果不了解Plotly的框架和功能，乍一看下一部分可能很难理解。本质上，我们希望动态地创建一个自定义的字符串列表(包括HTML标记),以表示当我们将鼠标悬停在热图矩阵中的每个值上时，我们希望显示的文本。当我们最终绘制时，该数据将与<code class="fe og oh oi ny b">hoverinfo</code>属性一起使用。</p><figure class="kr ks kt ku gt kv"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="dba9" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在——你期待已久的时刻到了；让我们创建我们的热图！🔥</p><figure class="kr ks kt ku gt kv"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="on oo di op bf oq"><div class="gh gi os"><img src="../Images/e7589914a0e643065bc6e1a11b918eff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mZnEVJVMBygumeNpyTbPMw.gif"/></div></div></figure><p id="aedd" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">瞧啊。我们现在有一个互动热图，显示了主题和用户之间的推文密度。如您所见，我们可以将鼠标悬停在热图中的每个框上，深入了解特定的详细信息，例如我们定义的主题描述。有趣的是，哈佛健康有很多与主题5(饮食和锻炼)相关的主题，这与他们基于Twitter账户的整个哲学和目的相一致。</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/4c1202679a1cd956e905f4bd6379fc07.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*8GmH5XpLrZP6k0cqqRSABw.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">来源:<a class="ae nl" href="https://twitter.com/harvardhealth?lang=en#:~:text=Harvard%20Health%20(%40HarvardHealth)%20%7C%20Twitter" rel="noopener ugc nofollow" target="_blank">推特网址</a></figcaption></figure><h2 id="9fec" class="nm me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt iz bi translated">热图<strong class="ak">显示不同时间(年)的主题密度</strong></h2><p id="4092" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">在完成第一个之后，绘制下一个热图来可视化多年的主题是相当容易的。我们可以使用上面的大部分代码，在相关的地方更改变量名。在生成数据透视表时需要注意的两个关键区别是:</p><ol class=""><li id="da40" class="ou ov it lb b lc ld lf lg li ow lm ox lq oy lu oz pa pb pc bi translated">使用<strong class="lb jd">指标= '年'</strong></li><li id="2b00" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu oz pa pb pc bi translated">不使用比值，而是使用总数，因为每年的推文数量(除了2020年)相当均匀，更容易看到推文的数量以及它们如何随着时间的推移与主题相关而变化。当然，如果需要，我们可以很容易地使用比率。</li></ol><figure class="kr ks kt ku gt kv"><div class="bz fp l di"><div class="ok ol l"/></div></figure><p id="783f" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">我不会再用完整的代码来烦你，但你可以在最后提到的笔记本中找到所有代码。然而，这里是最终的热图可视化。🔥</p><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="on oo di op bf oq"><div class="gh gi os"><img src="../Images/57ce06328ee0e71bee875052bc869290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Or5pgZZxsATYTWzarTRHog.gif"/></div></div></figure><p id="9dd1" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你看到的第一件事是，2020年的推特数量很低👇这是意料之中的，因为我们的数据只涵盖了今年第一季度。然而，主题1(病毒/疫情)<strong class="lb jd"> </strong>仅在该时间段就有超过3000条推文，这充分说明了<strong class="lb jd">新冠肺炎对我们媒体新闻平台的影响。想象一下，如果我们在2020年的剩余时间里继续收集推文；我们的数据集可能会非常不平衡！这张热图显示的其他一些有趣的花絮是:</strong></p><ul class=""><li id="4ec1" class="ou ov it lb b lc ld lf lg li ow lm ox lq oy lu pi pa pb pc bi translated">话题0(医疗保健&amp;政策)在2017年表现最强。这与🇺🇸总统唐纳德·川普当选后恰逢争议性的政策讨论开始出现，因为它与奥巴马医改和重组该国的医疗保健计划有关。</li><li id="5bbe" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu pi pa pb pc bi translated">穗📈主题1的(病毒/疫情)出现在2014年和2016年，这与埃博拉和寨卡病毒疫情的时间表相关。</li></ul><blockquote class="pj"><p id="2ce2" class="pk pl it bd pm pn po pp pq pr ps lu dk translated">你从可视化中看到了哪些有趣的见解？欢迎在下方留言评论！</p></blockquote><h2 id="87d9" class="nm me it bd mf nn pt dn mj np pu dp mn li pv ns mp lm pw nu mr lq px nw mt iz bi translated"><strong class="ak">气泡图可视化各主题热门词汇</strong></h2><p id="6b4f" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们要看的最后一个可视化效果是一个气泡图，它显示了每个主题的热门词汇(如气泡)和一些关于它们的一般统计数据。</p><p id="ca5d" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">作为奖金演练的一部分，我们将在第3部分末尾使用我们创建的数据框来捕获所有主题及其单词/统计数据(参见笔记本<a class="ae nl" href="https://github.com/bicachu/short-text-topic-modeling-tutorial/blob/main/sttm_notebook.ipynb" rel="noopener ugc nofollow" target="_blank">此处</a>)。您可以在这里找到该数据<a class="ae nl" href="https://github.com/bicachu/short-text-topic-modeling-tutorial/blob/main/data/sttm_10topics_words.pkl" rel="noopener ugc nofollow" target="_blank">的<code class="fe og oh oi ny b">.pkl</code>文件，因为您会需要它。</a></p><p id="b85d" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">首先，让我们将pickle文件加载到一个数据框中并查看它。</p><pre class="kr ks kt ku gt nx ny nz oa aw ob bi"><span id="b257" class="nm me it ny b gy oc od l oe of">topic_words_df = pd.read_pickle(‘data/sttm_10topics_words.pkl’)<br/>topic_words_df</span></pre><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="on oo di op bf oq"><div class="gh gi py"><img src="../Images/f74fbb26bcd8709dd4a9ad26c553fa25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xJDugBEwr9H1CtXBnqitDQ.jpeg"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated"><strong class="bd mf">数据框架:</strong>主题_单词_df</figcaption></figure><p id="5e70" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">😮我承认，这是一个看起来很吓人的数据框，但是<strong class="lb jd">它给了我们绘制泡泡图所需的一切。</strong>让我们来分解最后4个关键列:</p><ul class=""><li id="2235" class="ou ov it lb b lc ld lf lg li ow lm ox lq oy lu pi pa pb pc bi translated"><code class="fe og oh oi ny b">top_words</code>=该主题的前10个单词列表</li><li id="5cb4" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu pi pa pb pc bi translated"><code class="fe og oh oi ny b">doc_count</code>=该主题中每个词的tweet计数列表</li><li id="0c77" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu pi pa pb pc bi translated"><code class="fe og oh oi ny b">num_topic_occurrence</code>=所有热门词中每个词的频率计数列表</li><li id="dcfa" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu pi pa pb pc bi translated"><code class="fe og oh oi ny b">word_importance</code>=该主题中每个单词重要性分数列表</li></ul><p id="8fad" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">例如，单词“health”的<code class="fe og oh oi ny b">num_topic_occurrence</code>为7，因为它出现在7/10聚类的顶部单词中。每个列表中的所有值相对于该主题的相应单词以相同的降序排列(顶部单词优先)。这对于绘图非常重要——在本系列的第3部分中，我们做了所有繁重的工作，确保以这种方式操作数据。</p><p id="b009" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在剩下要做的就是策划了！💹我们将只使用每个主题的前5个单词，因为这样更容易阅读。<code class="fe og oh oi ny b">num_topic_occurrence</code>值将用于控制气泡的大小，以便更大的气泡指示在集群中更常见的单词。因此，气泡直径越小的单词越能反映特定主题。</p><figure class="kr ks kt ku gt kv"><div class="bz fp l di"><div class="ok ol l"/></div></figure><figure class="kr ks kt ku gt kv gh gi paragraph-image"><div role="button" tabindex="0" class="on oo di op bf oq"><div class="gh gi pz"><img src="../Images/b5768b49ddb105ad13b4d337d901066b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LCCERv8bED_8c6Z7ZIvruA.gif"/></div></div></figure><p id="6e69" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">现在你知道了——我们的泡沫在图表上时隐时现！🎈😉</p><p id="af70" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">这个交互式图表的一个很大的好处是，它可以让你很容易地通过切换话题来比较热门词汇。此外，它还直观地向您展示了哪些单词可能很常用，但也很常见。例如，我们可以看到单词'<strong class="lb jd"> health' </strong>的气泡较大，代表'<strong class="lb jd"> healthcare &amp; policy' </strong>主题，而气泡单词如<em class="lv"> </em> <strong class="lb jd"> <em class="lv"> {trump，obamacare，plan} </em> </strong>较小，表明这些对于理解集群的潜在主题更有用。也许在这个项目的未来迭代中，我们会希望在我们的停用词中添加“健康”。</p><h2 id="e92d" class="nm me it bd mf nn no dn mj np nq dp mn li nr ns mp lm nt nu mr lq nv nw mt iz bi translated"><a class="ae nl" href="https://github.com/bicachu/short-text-topic-modeling-tutorial/blob/main/sttm_visualization_notebook.ipynb" rel="noopener ugc nofollow" target="_blank">完整的可视化笔记本代码</a></h2></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><h1 id="2d3f" class="md me it bd mf mg mh mi mj mk ml mm mn ki mo kj mp kl mq km mr ko ms kp mt mu bi translated">项目系列摘要</h1><p id="ebaf" class="pw-post-body-paragraph kz la it lb b lc mv kd le lf mw kg lh li mx lk ll lm my lo lp lq mz ls lt lu im bi translated">我们关于健康推文的<strong class="lb jd">短文本主题建模</strong>系列到此结束。希望您喜欢这些内容，并且能够将讨论的过程应用到您自己的文本数据集合中！</p><p id="f748" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">可视化和分析部分的一些真正有趣的用途是，您现在可以构建自己的迭代管道来收集一系列不同超参数值的主题建模结果。然后，您将拥有一个包含所有训练过的主题模型结果的完整合并数据集，并可以将它输入到一个交互式仪表板或web应用程序中(查看我的Plotly-Dash interactive <a class="ae nl" href="https://github.com/bicachu/topic-modeling-health-tweets" rel="noopener ugc nofollow" target="_blank">仪表板项目</a>以了解各种可能性)。</p><p id="51f3" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你喜欢它的内容或者对你有所帮助，欢迎在下面给我留言，告诉我你对什么样的教程或者故事更感兴趣。如果有兴趣——我可能会写几个关于使用<a class="ae nl" href="https://plotly.com/dash/" rel="noopener ugc nofollow" target="_blank"> Plotly-Dash </a>的故事作为这个系列的延续。敬请期待！</p></div><div class="ab cl lw lx hx ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="im in io ip iq"><p id="fec7" class="pw-post-body-paragraph kz la it lb b lc ld kd le lf lg kg lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb jd">参考资料和其他有用资源</strong></p><ul class=""><li id="545b" class="ou ov it lb b lc ld lf lg li ow lm ox lq oy lu pi pa pb pc bi translated">STTM可视化<a class="ae nl" href="https://github.com/bicachu/short-text-topic-modeling-tutorial/blob/main/sttm_visualization_notebook.ipynb" rel="noopener ugc nofollow" target="_blank">笔记本</a></li><li id="bead" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu pi pa pb pc bi translated"><a class="ae nl" href="https://towardsdatascience.com/getting-started-with-plot-ly-3c73706a837c" rel="noopener" target="_blank">剧情入门教程</a></li><li id="7c30" class="ou ov it lb b lc pd lf pe li pf lm pg lq ph lu pi pa pb pc bi translated"><a class="ae nl" href="https://plotly.github.io/plotly.py-docs/generated/plotly.express.html" rel="noopener ugc nofollow" target="_blank"> Plotly Express文档</a></li></ul></div></div>    
</body>
</html>