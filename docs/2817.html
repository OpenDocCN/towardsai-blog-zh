<html>
<head>
<title>Actually, You Need All 3 for 1 Outcome: NLP Sentiment Analysis with VADER, TextBlob, and Flair</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">事实上，你需要所有3对1的结果:NLP情绪分析与VADER，文本和天赋</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/actually-you-need-all-3-for-1-outcome-nlp-sentiment-analysis-with-vader-textblob-and-flair-51226744a05e?source=collection_archive---------1-----------------------#2022-06-04">https://pub.towardsai.net/actually-you-need-all-3-for-1-outcome-nlp-sentiment-analysis-with-vader-textblob-and-flair-51226744a05e?source=collection_archive---------1-----------------------#2022-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/6d50ebb11ebd9308129188ad4a9ae443.png" data-original-src="https://miro.medium.com/v2/resize:fit:938/format:webp/1*W3hY-5dllAoKptSnzu8EcQ.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">来自Unsplash。“我们所观察到的物质实体和力只不过是空间结构的形状和变化。”欧文·薛定谔</figcaption></figure><p id="42e1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">你的NLP用例:</strong> (1)分析自由文本评论；(2)量化他们的情绪(每个自由文本评论),从最负面到最正面，以及(3)发布他们，从而最终用户可以以这种格式阅读他们。</p><p id="8217" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">此外，当最终用户查看评论时，他们希望看到您为每个评论引用的算法/NLP量词的结果。</p><p id="3842" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">对于数据科学家来说，这种分析的一个有趣的实现模型是集成(1)VADER；(2)TextBlob；和(3)天赋。</p><p id="55fd" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从一开始，VADER就很快向你发布输出结果，其中有趣地包含了积极因素、消极因素、中性因素和复合得分。使用TextBlob，您可以交叉引用情感幅度(极性得分和主观性)。使用Flair，您可以将二元正/负与TextBlob相关联，以验证情感方向。</p><p id="bb5d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我从头到尾阐明并实现一个完整的产品。</p><p id="a766" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">因此，基于我的方法(我们将在后面围绕它包装一个框架):</p><ul class=""><li id="95d9" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated">天赋揭示情感方向(积极或消极)；</li><li id="4633" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">TextBlob从最高到最低测量Flair方向的大小，无论它是正的还是负的；和</li><li id="2ca2" class="kz la it kd b ke li ki lj km lk kq ll ku lm ky le lf lg lh bi translated">VADER被用作比较十分分析(0.x)的参考，以交叉检查TextBlob的复合得分:例如，与TextBlob在类似情绪(积极到积极)方向上的0.60和更高的得分相比，VADER的0.60和更高的得分累积起来是多少？</li></ul><p id="220e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我们来编码吧！</p><p id="600a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">驻留在Github上的整个Python JupyterLab文件将包含在本文的末尾。</p><ol class=""><li id="c455" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky ln lf lg lh bi translated">导入VADER、TextBlob和Flair:</li></ol><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/ece1c0e7a855f86d0f5936442e326870.png" data-original-src="https://miro.medium.com/v2/resize:fit:1268/format:webp/1*NH_q34y2shj_yXYx_jReQw.png"/></div></figure><p id="1a26" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">2.找到用于分析的Excel文件。对于我的例子，让我们从这里获取“亚马逊美食评论”CSV文件:<a class="ae lt" href="https://www.kaggle.com/datasets/snap/amazon-fine-food-reviews" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/datasets/snap/Amazon-Fine-Food-Reviews</a></p><p id="3ec9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">3.分离出我们需要的几行，并将数据分割成500，000多行(参考上面的Kaggle文件)中的前10行进行分析:</p><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lu"><img src="../Images/180acf3390e5ef1907a05ae112b66254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jalSGMWmUypS9P8jMqf_eg.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">从500，000多行减少到10行，并删除了一些不必要的行。</figcaption></figure><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi lz"><img src="../Images/23493b2c44de964b51f3a4c54456e595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U7wyiZMJ0XYiJCezpMpZ2Q.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">这是我们将要分析的10行数据。</figcaption></figure><p id="a0e4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">4.对每一行反复运行VADER分析，并将结果打印在两个新列中:(1)一列用于分离“复合”分数，以及(2)一列用于所有分数。我们没有明确地打印正面或负面的分数。</p><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi ma"><img src="../Images/f7c7074e3a6b1d083ded12f9cca69ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S5N5aryI4ZJtQGOpbE6DAQ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">激活VADER的Python代码</figcaption></figure><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mb"><img src="../Images/233d2e3c2484bad2ada0538cfbc2470d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C0952JQW9nFS6np1VvneJw.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">输出，在一列中打印VADER的复合分数，在另一列中打印所有VADER的分数。</figcaption></figure><p id="96eb" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">将复合分数从VADER中分离出来非常重要，因为我们将使用它来针对其他算法进行分析。</p><p id="6f91" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">5.放到TextBlob上。对每行迭代运行TextBlob分析，并在新列中打印结果:</p><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mc"><img src="../Images/9c37243d558c9a0514a2c8c1e9821766.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dhyqIzyQizfH9XHB1IW3hg.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">我为您创建了两个单独的循环，以便在您通过Github审查它时，使它适应您的用例管理</figcaption></figure><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi md"><img src="../Images/fd81b224d5a214604ee6664e95c67470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lFtCKRsD9GZ02XlLQTRaEw.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">添加了两个新列。</figcaption></figure><p id="efde" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你对进行进一步研究的理解和/或个人兴趣，关于TextBlob的极性分数如何能够或不能够，或者可能或可能不符合VADER的复合分数，不是我正在探索的潜在观点。让我们继续前进。</p><p id="243a" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu"> Polarity </strong>是TextBlob对于情感分数的输出；这是VADER使用的<strong class="kd iu">复合词</strong>(基于其正面/负面/中性的总体评价)。</p><p id="5816" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">6.最后，进入天赋。让我们实现它:同样，我们将在新的列中打印它的结果。我对此有不同的看法，因为我喜欢将“正面”和“负面”作为一个列输出，将Flair的“信心”分数作为另一个列输出，并将所有分析作为另一个列输出(正面/负面和信心分数)，从而产生3个新列:</p><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi me"><img src="../Images/63d983c802a9d818a38a2e9a46fbe6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qx8Veyyyy-ktIskYOCeaJQ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">三种不同的功能——有意让您为您的用例选择您想要的功能</figcaption></figure><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mf"><img src="../Images/36a51087252e17778ffa7f7ffbc30fb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nTAFZgJ1YS0Am_O0NY3QGQ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">Flair分析的三个新列现在打印在各自的列中</figcaption></figure><p id="cf9f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">7.让我们在删除了本练习中不再需要的列(列越来越多，越来越忙)之后，再来查看一下现有的列:</p><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mg"><img src="../Images/86e730e1e9f1dee4f3328d6b8ad210b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-7_nYtA6NvSUrnyCpkQyIQ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">删除了审核结果时不需要的列</figcaption></figure><figure class="lp lq lr ls gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="gh gi mh"><img src="../Images/0781db27c14b391bd32f2630bf374954.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2z0TO3wk_ft8UfE63LfyVQ.png"/></div></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">我们有了:VADER的复合得分；TextBlob的极性得分；和天赋的情绪</figcaption></figure><p id="fe72" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">8.在这一点上，你有许多选择，以至于你更喜欢采取的总体方向。自由文本类型的上下文对于您如何评估结果至关重要。我发现的一种为用例工作的方法是这个序列(在这个时序中):(1)首先通过Flair预测过滤(选择一个情感并通过所有评论中的情感过滤)；(2)通过TextBlob极性从低到高(反之亦然)排序next以及(3)参考VADER的观点来评估输出。这就是它变得有趣的地方，因为Flair和TextBlob可以在相反的两端相遇:当Flair说它是负面的，Textblob可能会发现它是正面的。根据自由文本的类型，Vader在准确性上可能会超过TextBlob，反之亦然。</p><p id="312d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">同样，在某些用例中，VADER比TextBlob更好，因为每个用例都是独特的。在另一篇文章中，我将演示何时选择VADER而不是文本块，反之亦然。</p><p id="330e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">我在这里写了更多关于TextBlob的细节:</p><div class="mi mj gp gr mk ml"><a href="https://medium.com/mlearning-ai/how-to-quantify-sentiment-to-measure-magnitude-nlp-with-textblob-27861559f7a5" rel="noopener follow" target="_blank"><div class="mm ab fo"><div class="mn ab mo cl cj mp"><h2 class="bd iu gy z fp mq fr fs mr fu fw is bi translated">如何量化情感以测量量级:使用TextBlob的NLP</h2><div class="ms l"><h3 class="bd b gy z fp mq fr fs mr fu fw dk translated">作为确定某事是积极还是消极的一部分，构建一个分析实现可能会很方便…</h3></div><div class="mt l"><p class="bd b dl z fp mq fr fs mr fu fw dk translated">medium.com</p></div></div><div class="mu l"><div class="mv l mw mx my mu mz jv ml"/></div></div></a></div><p id="6145" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你可以在Github上找到Python编译的完整代码:【https://bit.ly/3zdpsKI<a class="ae lt" href="https://bit.ly/3zdpsKI" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="34d1" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你觉得这很有用，请不要忘记订阅我的时事通讯。</p></div></div>    
</body>
</html>