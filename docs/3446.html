<html>
<head>
<title>All About Git Branches... And Git pull vs. fetch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Git分支的所有内容...和Git拉与取</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/all-about-git-branches-and-git-pull-vs-fetch-5b961c13ead?source=collection_archive---------3-----------------------#2022-12-24">https://pub.towardsai.net/all-about-git-branches-and-git-pull-vs-fetch-5b961c13ead?source=collection_archive---------3-----------------------#2022-12-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="854e" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">使用Git中的分支，我们可以创建我们想要处理的文件的副本，而不会弄乱原始文件。稍后我们可以将它们合并到原始副本中。</p></blockquote><p id="a24d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这是Git系列文章的第二篇——完整的Git初学者教程，并附有示例。下面有链接—</p><div class="ks kt gp gr ku kv"><a href="https://muttinenisairohith.medium.com/complete-git-tutorial-for-beginners-with-examples-4ebd90e76bfc" rel="noopener follow" target="_blank"><div class="kw ab fo"><div class="kx ab ky cl cj kz"><h2 class="bd ir gy z fp la fr fs lb fu fw ip bi translated">完整的Git初学者教程，带示例</h2><div class="lc l"><h3 class="bd b gy z fp la fr fs lb fu fw dk translated">Git是一个版本控制系统，它可以让我们跟踪随着时间的推移我们对文件所做的更改。</h3></div><div class="ld l"><p class="bd b dl z fp la fr fs lb fu fw dk translated">muttinenisairohith.medium.com</p></div></div><div class="le l"><div class="lf l lg lh li le lj lk kv"/></div></div></a></div><p id="2329" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">到目前为止，我们已经创建了主分支，将第一次提交推送到分支，然后是第二次提交。我们的回购看起来像这样—</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi ll"><img src="../Images/c5709a84f2d7f1bac48512e96ac66df4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1034/0*laD55Z94fBJw445m"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">支流</figcaption></figure><p id="28c0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">要克隆一个特定的分支，在git bash中使用这个命令</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="87f3" class="mb mc iq lx b be md me l mf mg">git clone -b &lt;branchname&gt; &lt;remote-repo-url&gt;</span></pre><p id="d31f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们创建一个测试分支，并将我们的新变更推送到该分支。我们可以使用下面的命令创建一个名为“test”的新分支-</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="2147" class="mb mc iq lx b be md me l mf mg">git checkout -b test</span></pre><p id="ef43" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">在上面的命令中，checkout让我们切换到一个分支，而-b帮助我们创建分支。</p><p id="379a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们添加一些更改，然后将它们添加到我们的本地repo commit中，并通过测试分支将它们推送到远程repo。</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="74d2" class="mb mc iq lx b be md me l mf mg">def add(a, b):<br/>    return a+b+10</span></pre><p id="d63b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我们可以使用以下命令向远程回购添加、提交和推送更改—</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="82e6" class="mb mc iq lx b be md me l mf mg">git add .<br/>git commit -m “Updating the add function with offset 10”<br/>git push origin test</span></pre><p id="a5fe" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">而不是git add。和git commit -m "message "我们可以使用下面的命令—</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="39d6" class="mb mc iq lx b be md me l mf mg">git commit -am "Updating the add function with offset 10"<br/>git push origin test</span></pre><p id="cf23" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在我们的回购看起来像这样-</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/ef6008811d6355219a3f5376e270a51b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/0*tjQ-SeEUwWdkGQ1n"/></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">支流</figcaption></figure><p id="df55" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在，让我们通过将偏移量更改为20来进行另一个更改，并再次提交和推送到测试分支。</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="16c3" class="mb mc iq lx b be md me l mf mg">def add(a, b):<br/>    return a+b+20</span></pre><p id="f6d8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们添加、提交并推入远程回购</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="d08e" class="mb mc iq lx b be md me l mf mg">git commit -a -m "changing the offset to 20"<br/>git push origin test</span></pre><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mi"><img src="../Images/c8a7d51d79e43d97a1379a1b99909073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*S3v1zjWsaN2O472e"/></div></div><figcaption class="ls lt gj gh gi lu lv bd b be z dk translated">输出</figcaption></figure><p id="cfcc" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在，由于我们在测试分支中修改了一些代码，我觉得我的代码已经准备好了，让我们将代码与主分支合并。</p><p id="cc75" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这可以使用以下命令来完成-</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="1916" class="mb mc iq lx b be md me l mf mg">git checkout main<br/>git merge test</span></pre><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/16f1eb9bf7fa3a6005506a629eafeb9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s3j5yL_SmQq8tTv1"/></div></figure><p id="2326" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这里我们使用checkout来切换分支，我们不使用-b，因为它用于创建新的。然后使用git merge命令合并代码。</p><p id="beb1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">下面是我们回购的样子-</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mo"><img src="../Images/8e0a91a925c34a4bc8e1140f4622b8c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JJiDfxRU1T-6YNdT"/></div></div></figure><p id="c4c0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在我们已经对主分支做了很多更改，让我们使用命令来查看提交历史记录</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="5779" class="mb mc iq lx b be md me l mf mg">git log</span></pre><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mp"><img src="../Images/3177d93820571dad9217878e97a3e701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*u_B64KAaCjGTMXC3"/></div></div></figure><p id="27bf" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我们可以按“q”来退出日志。</p><p id="b3f7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">为了让我们的测试分支跟踪主分支，我们可以使用下面的命令-</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="53cd" class="mb mc iq lx b be md me l mf mg">git branch - set-upstream-to=origin/main test</span></pre><p id="ec58" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated"><strong class="jt ir">拉git回购分支</strong></p><p id="9940" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在，让我们在主分支中进行一些更改并提交它。</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="978e" class="mb mc iq lx b be md me l mf mg">def add(a, b):<br/>    return a+b<br/>def sub(a, b):<br/>    return a-b<br/>def mul(a, b):<br/>    return a * b<br/>a = int(input())<br/>b = int(input())<br/>print(add(a, b))<br/>print(sub(a, b))<br/>print(mul(a, b))</span></pre><p id="b7f7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们提交这个并将它推送到主分支。</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="aae8" class="mb mc iq lx b be md me l mf mg">git add .<br/>git commit -m "adding multiplication code"<br/>git push origin main</span></pre><p id="7536" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在在主分支中，我们已经进行了更改。</p><p id="357e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们假设我们需要在主分支中添加另一个变更，但是由于它是在生产中，我们必须确保测试不会导致任何问题。因此，让我们在测试分支中实现这个变更，然后创建一个pull请求来合并主分支中的变更。</p><p id="1c87" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">但在此之前，我们先检查一下测试分支中的代码。因此，让我们使用命令切换回测试分支-</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="72c0" class="mb mc iq lx b be md me l mf mg">git checkout test</span></pre><p id="ada7" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这里我们可以看到代码没有更新。我们的测试分支比主分支落后一个提交。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mq"><img src="../Images/3f360ce31134252f79b35a435f2862f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*E7tDXC_RJXVcpENe"/></div></div></figure><p id="f7a6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">要从主分支更新代码，我们需要发出以下命令-</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="24fa" class="mb mc iq lx b be md me l mf mg">git pull origin main</span></pre><p id="909a" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">或者</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="0c2d" class="mb mc iq lx b be md me l mf mg">git pull</span></pre><p id="08c6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">Pull命令有助于从我们自己的分支或远程分支获取最新的变更。</p><p id="e086" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">每当我们在分支中工作时，定期提取我们的变更是一个很好的实践。</p><p id="1075" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated"><strong class="jt ir">获取Git与获取Git</strong></p><p id="9010" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">Git pull将检查任何滞后的代码提交，如果我们的本地repo滞后于任何提交，那么使用Git pull，我们可以检索更新的更改并将其合并。同时，git fetch将只在滞后的提交中检索更新的更改。然后，我们应该使用git merge将它们合并到我们的repo中。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="mj mk di ml bf mm"><div class="gh gi mr"><img src="../Images/7a27d2d36d108dcc9210082384c96861.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9Znqkws0GmONg3PU"/></div></div></figure><p id="64d0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">正如我们所看到的，提交后，使用git状态的本地repo中没有更新，但是当我们使用git fetch时，我们得到的信息是本地repo比主repo落后1个提交。因此，我们应该使用git merge命令来合并更改。</p><p id="9988" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">但是所有这些都可以用一个命令来实现-</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="39f1" class="mb mc iq lx b be md me l mf mg">git pull</span></pre><p id="3f88" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">它将获取更改，然后从远程/原始回购中合并本地回购中的更改。</p><pre class="lm ln lo lp gt lw lx ly bn lz ma bi"><span id="9e43" class="mb mc iq lx b be md me l mf mg">git pull = git fetch + git merge</span></pre><p id="d985" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这就是本文中关于git分支的全部内容...但是Git rebase、Stash、revert和reset还有更多的内容要介绍。这些将在下一篇文章中讨论——</p><div class="ks kt gp gr ku kv"><a href="https://muttinenisairohith.medium.com/git-rebase-merge-and-stash-763fcf3ec060" rel="noopener follow" target="_blank"><div class="kw ab fo"><div class="kx ab ky cl cj kz"><h2 class="bd ir gy z fp la fr fs lb fu fw ip bi translated">Git Rebase、Merge和Stash</h2><div class="lc l"><h3 class="bd b gy z fp la fr fs lb fu fw dk translated">Git rebase是Git中的一个高级特性，当我们处理多个分支时，它可以帮助我们。</h3></div><div class="ld l"><p class="bd b dl z fp la fr fs lb fu fw dk translated">muttinenisairohith.medium.com</p></div></div><div class="le l"><div class="ms l lg lh li le lj lk kv"/></div></div></a></div><p id="6918" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">快乐学习…敬请期待…</p></div></div>    
</body>
</html>