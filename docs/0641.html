<html>
<head>
<title>Assumptions of Linear Regression — What Fellow Data Scientists Should Know</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归的假设—数据科学家同事应该知道什么</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/assumptions-of-linear-regression-what-fellow-data-scientists-should-know-fe0288c70b00?source=collection_archive---------0-----------------------#2020-07-01">https://pub.towardsai.net/assumptions-of-linear-regression-what-fellow-data-scientists-should-know-fe0288c70b00?source=collection_archive---------0-----------------------#2020-07-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="45ac" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/1a09b074afe626e92e9d9475517d6e26.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*absNraZJmpJIL8cl"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">照片由<a class="ae ko" href="https://unsplash.com/@marius?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马里乌斯·马萨拉尔</a>在<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0740" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">线性回归</strong>是一种<strong class="kr jd">线性方法</strong>，用于模拟目标变量与一个或多个自变量之间的<strong class="kr jd">关系。这个模型化的关系然后被用于预测分析。<strong class="kr jd">研究线性回归算法只是工作的一半。</strong>另一半在于理解这项技术所依赖的以下假设:</strong></p><h1 id="ff48" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">1.残差正态性</h1><p id="6570" class="pw-post-body-paragraph kp kq it kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">对于给定数据的线性回归，假设<strong class="kr jd">误差(残差)遵循正态分布</strong>。尽管当样本量非常大时这不是必需的。可以使用<strong class="kr jd"> Q-Q图(数据分位数与正态分位数)</strong>来验证正态性，其中我们绘制了来自数据集的分位数和来自假设正态分布的分位数，在这里我们期望看到一条几乎为直线的线来验证残差的正态性。</p><p id="304b" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">检验:</strong> Jarque Bera检验、Shapiro检验、残差图</p><p id="ff37" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">例子:</strong>下面我们可以看到残差的直方图，有核密度估计，它向我们显示，在这种情况下，残差是相当正常的。</p><figure class="mr ms mt mu gt kd gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/a5056e7c13e0657c81a2330f1933a869.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*Ue5j9GeonMiBvDsZ75cf3Q.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图1: KDE残差图</figcaption></figure><h1 id="c496" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">2.同质性</h1><p id="783f" class="pw-post-body-paragraph kp kq it kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">同质性描述了独立特征和目标变量之间的关系(方差强度)中的<strong class="kr jd">噪声/干扰在独立值</strong>的所有值中都相同的情况。因此，我们可以使用<strong class="kr jd">残差与预测值散点图</strong>来检查这一点。我们不应该在这个散点图上看到一个模式，所有的数据都应该是随机分布的。这验证了同质性。</p><p id="efb2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">检验:</strong>戈德菲尔德检验，残差与拟合图</p><p id="fa29" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">示例:</strong>下面我们可以看到残差与拟合图，以及另一个带有比例残差值的图(为了显示比例可以显示随机性的变化，但是<strong class="kr jd">随机性将出现在同分布数据</strong>中，这在图中非常明显)。</p><figure class="mr ms mt mu gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mv"><img src="../Images/722cd6401ff8e59a9054d6dbcaba6983.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SPFzQqr8w5FBmPfbs10KCA.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图2:残差与拟合图</figcaption></figure><h1 id="d1d1" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">3.残差的线性</h1><p id="0463" class="pw-post-body-paragraph kp kq it kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">残差是在计算预测目标值和观察目标值之间的差异时获得的误差项。<strong class="kr jd">当预测变量与目标变量呈直线关系时，可以观察到线性。如果残差是正态分布和同质的，一般不用担心这个问题。</strong></p><p id="cee3" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">测试:</strong>彩虹测试，概率图</p><p id="83cf" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">注:</strong>在查看等式时，线性度不是从数据集的特征/变量的功效来判断，而是从β参数的<strong class="kr jd">功效来判断。</strong></p><p id="a96d" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">举例:</strong><em class="mw">Y</em>=<em class="mw">a</em>+(<em class="mw">β</em>1 *<em class="mw">X</em>1)+(<em class="mw">β</em>2 *<em class="mw">X</em>2)</p><p id="a86f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在上面的例子中，X2的幂是2，这意味着我们的数据集中的一个变量的幂是2，但是beta参数(执行回归得到的系数)的幂都不是1。这里显示了残差的线性度。</p><p id="51e6" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">下面我们可以看到<strong class="kr jd">概率图，即正态分布</strong>的观察分位数与理论分位数，以检查线性度(这非常适用于下面数据中较低的数据点)。请记住，你的数据不会是完美的线性，但它必须趋于线性。</p><figure class="mr ms mt mu gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mx"><img src="../Images/363b4d8e258e253f514f0ab6a11542be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*02zhb2s2gYYELDQjcWV7Wg.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图3:观察分位数与理论分位数</figcaption></figure><h1 id="203f" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">4.无多重共线性</h1><p id="0c53" class="pw-post-body-paragraph kp kq it kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">多重共线性是独立变量之间<strong class="kr jd">非常高的相互相关性或相互关联性的一种状态</strong>。这种干扰<strong class="kr jd">削弱了回归模型</strong>的统计能力，这就是为什么低或没有多重共线性是可取的。</p><p id="fd29" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">测试:</strong>方差膨胀因子(VIF)，相关矩阵/热图</p><p id="2bbd" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">示例:</strong>下面的相关性热图显示了独立变量之间的<strong class="kr jd">相关性以及这些独立变量与目标(在下面的情况下是价格)的相关性。所以，为了检查多重共线性，我们不必检查自变量如何与目标相关，所以我们可以忽略价格。为了清楚起见，让我们检查一些关系:</strong></p><ol class=""><li id="9edc" class="my mz it kr b ks kt kw kx la na le nb li nc lm nd ne nf ng bi translated">印度河流域与DIS高度负相关(印度河流域增加，DIS减少)</li><li id="0fc4" class="my mz it kr b ks nh kw ni la nj le nk li nl lm nd ne nf ng bi translated">印度河与税收呈高度正相关(印度河增加，税收增加)</li></ol><p id="ddf5" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">因此，当变量高度相关时，可能需要移除这些变量中的一些，否则，会构建过度拟合的模型，因为这些变量本质上为模型提供了相同的数据。</p><figure class="mr ms mt mu gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi nm"><img src="../Images/3a641158b7278643655e766447bb9a22.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m0aw9MWTCjzT5VzNO7DnaQ.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图4:关联热图</figcaption></figure><h1 id="8904" class="ln lo it bd lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk bi translated">5.无自相关</h1><p id="1727" class="pw-post-body-paragraph kp kq it kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">当<strong class="kr jd">残差相互依赖</strong>时，会出现自相关，这最终会降低模型的准确性。<strong class="kr jd">相关图(也称为自相关函数ACF图或自相关图)</strong>是显示随时间变化的数据中的<a class="ae ko" href="https://www.statisticshowto.com/serial-correlation-autocorrelation/" rel="noopener ugc nofollow" target="_blank"><strong class="kr jd"/></a><strong class="kr jd">线性相关性的直观方式</strong>。这种<strong class="kr jd">通常出现在时间序列模型</strong>中，其中下一个时刻依赖于前一个时刻。所以，简单来说，<strong class="kr jd">自相关是一个时间点的误差，传播到后续的时间点。</strong>例如，你可能会高估第一个月获得客户的成本，从而高估接下来几个月的成本。</p><p id="9855" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">试验:</strong>杜宾沃森试验</p><p id="c847" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">示例:</strong>下图显示了Y轴上的相关系数和X轴上的相关时滞。我们看到，相关值仅在时间上的某些情况下是高的，并且在穿过X轴时没有向上或向下的模式，因此可以消除串行相关的可能性。</p><figure class="mr ms mt mu gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi nn"><img src="../Images/26feb6824c952d01a5eeb618ababa87a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*xYCm2zOpLOv8drjV8javow.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图5:自相关函数(ACF)图</figcaption></figure></div><div class="ab cl no np hx nq" role="separator"><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt nu"/><span class="nr bw bk ns nt"/></div><div class="im in io ip iq"><h1 id="91d4" class="ln lo it bd lp lq nv ls lt lu nw lw lx ly nx ma mb mc ny me mf mg nz mi mj mk bi translated">摘要</h1><p id="29c6" class="pw-post-body-paragraph kp kq it kr b ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm im bi translated">在进行任何线性回归问题之前，必须满足上述假设，但是，<strong class="kr jd">有时可能会有某些例外，例如“残差的线性度”</strong>中所述的例外。对于其他假设，我们不要求完美，但结果不应该与我们假设的有很大不同。因此，如果我们说自相关变小，或者残差的线性趋于线性，那么在某种程度上这是可以接受的。图表帮助我们可视化数据如何维持我们计划坚持的假设，并且测试证明了这一点。</p><p id="dadb" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">彻底检查了以上所有内容？现在，我们可以继续寻找最佳拟合回归线！</p></div></div>    
</body>
</html>