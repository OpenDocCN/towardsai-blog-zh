<html>
<head>
<title>Bag-of-Words(BOW)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">单词袋(蝴蝶结)</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/bag-of-words-bow-c6522cd3a6e9?source=collection_archive---------0-----------------------#2022-01-12">https://pub.towardsai.net/bag-of-words-bow-c6522cd3a6e9?source=collection_archive---------0-----------------------#2022-01-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="7611" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/nlp" rel="noopener ugc nofollow" target="_blank">自然语言处理</a></h2><div class=""/><p id="8a39" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在之前的博客中，我们已经广泛讨论了将文本转换为矢量以执行机器学习算法的必要性，以便可以从文本数据中获得有意义的见解。文本数据是当前世界上许多行业(如医疗保健、旅游、电子商务等)可用的主要数据形式</p><p id="3fa0" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">因此，非常需要处理和分析来自文本数据的见解，这可能有助于在医疗保健行业中更快地做出决策/辅助做出决策，在来自旅行行业中的乘客评论的帮助下使旅程舒适。</p><p id="9084" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">单词袋是一种非常简单的策略，它将文本转换为数字向量，这有助于机器学习算法对文本数据执行操作。</p><p id="e6b3" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> <em class="ku">将文本转换为数字向量的主要目的是语义相似(SS)文本必须更接近(closer vector)。</em> </strong></p><p id="084d" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在进入博客之前，让我们先来看看NLP中使用的基本术语</p><p id="aeea" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> Corpus — </strong>它是一个包含所有文档的文件。</p><p id="786f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">文档— </strong>文档通常是用户对特定产品或服务的评论。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="d0a7" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">鞠躬:</strong></p><p id="f39c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">让我们用一个例子来讨论这个概念，一个出版商要求读者在书完成后发表评论。因此，读者张贴他们的评论，这有助于在下一版中进行必要的修改。以下是包含读者发布的大约n篇文档(评论)的语料库。让我们看看语料库中的一些文档。这被认为是第一步。</p><p id="d797" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">R1:这本书信息量很大，而且很贵。T15】</p><p id="0c03" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">R2:这本书内容不丰富，而且很贵。T19】</p><p id="c278" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> <em class="ku"> R3:这本书信息量大，成本高。</em> </strong></p><p id="adbc" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> <em class="ku"> R4:书是翔实的，书是昂贵的。</em> </strong></p><p id="e68c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">单词袋的第二步是设计一个所有独特单词的列表(字典)或构建一个所有独特单词的集合。</p><p id="a092" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">从上述文件(评论)的所有独特的词的集合如下:</p><p id="9ffd" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> <em class="ku">这本书，是，非常，翔实，而且，昂贵，不，奢华。</em> </strong></p><p id="fb8c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">让我们假设我们有<strong class="jy ja"><em class="ku">d</em></strong>——跨所有文档的唯一单词。</p><p id="57a6" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在构建了所有独特单词的集合之后，第三步是在语料库中存在的独特单词的帮助下构建向量。</p><p id="c219" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">V1、V2、V3、V4分别是评论R1、R2、R3和R4的向量。</p><p id="3751" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">为评论R1构建向量V1。</p><p id="ef8f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">R1:这本书信息量很大，而且很贵。</p><p id="253a" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">现在我们需要构造一个大小为<strong class="jy ja"> <em class="ku"> d </em> </strong>的向量，使得所有唯一的单词对应一个不同的维度V1属于R^ <strong class="jy ja"> <em class="ku"> d </em> </strong>(真实坐标空间的<strong class="jy ja"> <em class="ku"> d </em> </strong> <em class="ku">维度)</em>因为是<strong class="jy ja"><em class="ku"/></strong>维度，每个单词对应字典中的一个索引。</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lc"><img src="../Images/5fc7571f93254633e190b72303166ef6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fLB4wwQF-yY20pa5Sf_svw.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">图1用<strong class="bd ls"> d </strong>唯一字表示的矢量V1</figcaption></figure><p id="265b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">向量V1是一个<strong class="jy ja"><em class="ku"/>【d】</strong>-维向量即它包含了所有<strong class="jy ja"><em class="ku"/></strong>-维向量中唯一来自语料库的单词。计算一个单词在R1出现的次数，并填入相应的V1单元格中。在上图中，<strong class="jy ja"> <em class="ku">这个</em> </strong>只出现了一次，所以计数(单词出现的次数)是<em class="ku"> 1 </em>，单词<strong class="jy ja"><em class="ku"/></strong>在R1不存在，所以对应的单元格用<em class="ku"> 0填充。</em>这样整个矢量V1就被填满了。</p><p id="5d91" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">由于V1是<strong class="jy ja">维<em class="ku">维</em>维</strong>维即<em class="ku">维非常大</em>大部分单元格都填充了零，这种情况导致了<em class="ku">稀疏向量</em>。稀疏向量是其中向量的大部分单元/元素为零的向量。</p><p id="721d" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这种将文本数据转换成数字向量的策略被称为单词包。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="4a32" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">文字袋工作:</strong></p><p id="e576" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">让我们以R1和R2为例，</p><p id="5400" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">R1:这本书信息量很大，而且很贵。T53】</p><p id="3f96" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">R2:这本书内容不丰富，而且很贵。T57】</p><figure class="ld le lf lg gt lh gh gi paragraph-image"><div role="button" tabindex="0" class="li lj di lk bf ll"><div class="gh gi lt"><img src="../Images/bccb029fac88008a8d9142c67e7efd01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k_lwPd7qSY-syfe6GMwc5A.jpeg"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk translated">图2用独特的词语描绘V1和V2</figcaption></figure><p id="c3ac" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">长度(V1-V2) = ||V1-V2||</p><p id="0a66" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">||V1-V2||是范式</p><p id="8cdb" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">因此，从上面的图2中，</p><p id="308e" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这里只有两个不同的词，一个是<strong class="jy ja"> <em class="ku"> Very </em> </strong>另一个是<strong class="jy ja"> <em class="ku"> not </em> </strong>在这些向量上，我们得到的这两个向量的差是| 1–0 | = 1。</p><p id="23ca" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">| | v1-v2 | | = sqrt(1^2+1^2)=<strong class="jy ja"><em class="ku">sqrt(2)</em></strong>。</p><p id="9970" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">从上面可以看出，sqrt(2)是两个向量之间的距离，非常小。</p><p id="89b7" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">但是我们可以看到两个评论是完全相反的，除了他们都在说这本书很贵，但是一个说它很有知识性，另一个说它没有知识性。</p><p id="b55f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">所以，我们可以说，当文档中使用的单词有很小的变化时，单词包的性能不好。</p></div><div class="ab cl kv kw hu kx" role="separator"><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la lb"/><span class="ky bw bk kz la"/></div><div class="ij ik il im in"><p id="8d1a" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">二进制词袋</strong></p><p id="456b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">还有另一种略有不同的策略，叫做二进制单词袋。它的工作原理如下，与单词包的唯一区别是，如果单词出现，它标记一个而不是计数单词出现的次数，如果单词没有出现，它在向量中标记<em class="ku">零</em>。这是单词袋和二进制BoW之间唯一的区别。它又叫<strong class="jy ja"> <em class="ku">布尔包</em> </strong>。所以，二进制弓只不过是向量中不同单词的数量(上面的例子是V1和V2)。</p><p id="e62e" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">||V1-V2|| = <strong class="jy ja"> <em class="ku"> sqrt(2)。</em>T11】</strong></p><p id="69f5" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">文字袋的限制:</strong></p><p id="612c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">BoW模型很容易掌握，并且在阅读文档时非常成功，但是它有自己的局限性。</p><p id="5c25" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">1)词典的构建需要仔细关注，因为在真实世界场景中可获得大量的语料库。</p><p id="a938" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">2)稀疏性非常普遍，因为向量的大小为<strong class="jy ja"><em class="ku">【d】</em></strong>-维度(非常大)在大的稀疏向量中呈现这种小的信息是一种挑战，原因如计算期间的空间和时间复杂性。</p><p id="9115" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">3)该模型仅基于单词，忽略了单词的词序和上下文，这消除了在另一个上下文中解释相同单词的含义的灵活性。</p><p id="21b3" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> <em class="ku">谢谢你，快乐学习的人。</em> </strong></p></div></div>    
</body>
</html>