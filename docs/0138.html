<html>
<head>
<title>Several Ways for Machine Learning Model Serving (Model as a Service)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器学习模型服务(模型即服务)的几种方式</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/several-ways-for-machine-learning-model-serving-model-as-a-service-c2687d0db26b?source=collection_archive---------1-----------------------#2019-08-19">https://pub.towardsai.net/several-ways-for-machine-learning-model-serving-model-as-a-service-c2687d0db26b?source=collection_archive---------1-----------------------#2019-08-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2168" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><div class=""><h2 id="d469" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">在云平台上使用模型即服务(MaaS)</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/a6e51cd142a99678fd1cc2e22ef7ce8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N6Izb_t_L8qujlKX"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@makcedward?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马志威</a>在<a class="ae lh" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="7b53" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你不能发布一个模型，那么无论你做得多好，没有人会知道。然而，许多数据科学家希望专注于模型构建，而跳过数据摄取和模型服务等其他工作。DevOps对于数据科学家来说非常重要。有许多方法可以将您的模型作为API提供给下游的产品团队。</p><h1 id="bde9" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">将二进制文件传递给你的队友</h1><p id="e8e3" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">不时听说数据科学家不知道如何做软件工程的东西。所以他们只会专注于模型的建立，而忽略了数据提取，模型服务部分。没有对错之分。然而，如果没有专门的团队进行数据提取和模型服务，你最好还是吃你自己的狗粮。</p><h1 id="f359" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">把它当作一个正常的应用程序</h1><p id="f132" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">如果一个模型是用Java的Python构建的，你可以考虑用尽可能简单的框架把你的模型包装成API服务。</p><h2 id="2a81" class="nb mf it bd mg nc nd dn mk ne nf dp mo lr ng nh mq lv ni nj ms lz nk nl mu iz bi translated">长期的</h2><p id="b05a" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">对于Python来说，<a class="ae lh" href="http://flask.pocoo.org/" rel="noopener ugc nofollow" target="_blank"> flask </a>是一个简单的web框架，如果你熟悉它，你可以在10分钟内构建一个API。Django是另一个强大的web框架。它还有其他很棒的特性，但是如果你只想建立一个简单的网络服务器，你可能不会喜欢它。</p><p id="40b8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://spring.io/" rel="noopener ugc nofollow" target="_blank"> Spring </a>和<a class="ae lh" href="http://tomcat.apache.org/" rel="noopener ugc nofollow" target="_blank"> Tomcat </a>是Java的选项。这两种编程语言中有很多web框架，只需选择你熟悉的一种。</p><h2 id="dddc" class="nb mf it bd mg nc nd dn mk ne nf dp mo lr ng nh mq lv ni nj ms lz nk nl mu iz bi translated">暂时的</h2><p id="1fca" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">如果你只是想建立一个临时API，你可以把它部署到<a class="ae lh" href="https://jupyter.org/" rel="noopener ugc nofollow" target="_blank"> Jupyter笔记本</a>上。你可以使用<a class="ae lh" href="https://www.flaskapi.org/#example" rel="noopener ugc nofollow" target="_blank"> flask </a>、<a class="ae lh" href="https://www.tornadoweb.org/en/stable/" rel="noopener ugc nofollow" target="_blank"> tornado </a>或者REST框架来构建API。</p><h1 id="8f9f" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">把它当作一个机器学习应用</h1><p id="9b05" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">您可以利用<a class="ae lh" href="https://kubernetes.io/" rel="noopener ugc nofollow" target="_blank"> kubernetes </a>进行部署，而不是将其视为普通的应用程序。Azure和GCP (Google云平台)也都提供kubernetes服务进行部署。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/00832b12755a53c576f37ce67cbcf111.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*1mEQ7xo62V8U2gIv.png"/></div></figure><p id="c330" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在kubernetes之上，Azure提供了一种简单的模型服务方式。API(应用编程接口)认证、REST API等工程任务由Azure处理，而数据科学家只需专注于数据输入处理和模型预测部分。</p><p id="e81e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://azure.microsoft.com/en-in/services/machine-learning-service/" rel="noopener ugc nofollow" target="_blank">机器学习服务</a>和<a class="ae lh" href="https://azure.microsoft.com/en-us/services/kubernetes-service/?&amp;OCID=AID2000586_SEM_UInoS0XO&amp;lnkd=Google_Kubernetes_Brand&amp;MarinID=sUInoS0XO_366906494820_azure%20kubernetes%20service_e_c__78855468680_kwd-486572907816_" rel="noopener ugc nofollow" target="_blank"> Azure Kubernetes服务(AKS) </a>有助于减少部署的工作量。</p><ul class=""><li id="7c7e" class="nn no it lk b ll lm lo lp lr np lv nq lz nr md ns nt nu nv bi translated">机器学习服务:处理预部署任务，包括模型存储、docker图像存储。</li><li id="d0ec" class="nn no it lk b ll nw lo nx lr ny lv nz lz oa md ns nt nu nv bi translated">Azure Kubernetes服务:提供API认证、部署和监控服务。</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/335874409c8b8718dd2dd37e14353e99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4FSly0lxhsIRJHQ_0skbDw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">Azure中的部署工作流</figcaption></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/1b0efff6a1814c9ea143661de3e67968.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-fY04xfC7IhpBJfz.png"/></div></div></figure><p id="4512" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">另一方面，GCP提供了两种部署方式。ML引擎提供了一种简单的方法来部署像API这样的机器学习模型。但是，缺点是资源限制，如CPU大小和型号大小。您可以访问此<a class="ae lh" href="https://cloud.google.com/ml-engine/docs/quotas#requesting_a_quota_increase" rel="noopener ugc nofollow" target="_blank">页面</a>了解更多信息。第二种方法是在你获得更多控制权的同时，渴望更多的工程技能。</p><p id="87f1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://cloud.google.com/storage/" rel="noopener ugc nofollow" target="_blank">云存储</a>、<a class="ae lh" href="https://cloud.google.com/container-registry/" rel="noopener ugc nofollow" target="_blank">容器注册</a>和<a class="ae lh" href="https://cloud.google.com/kubernetes-engine/" rel="noopener ugc nofollow" target="_blank"> Kubernetes引擎</a>可以用来完成模型服务部分。</p><ul class=""><li id="df0d" class="nn no it lk b ll lm lo lp lr np lv nq lz nr md ns nt nu nv bi translated">云存储:存储您的模型文件</li><li id="c309" class="nn no it lk b ll nw lo nx lr ny lv nz lz oa md ns nt nu nv bi translated">容器注册表:存储docker映像，其中包括源代码(用于数据处理和模型预测)和模型文件。</li><li id="02f8" class="nn no it lk b ll nw lo nx lr ny lv nz lz oa md ns nt nu nv bi translated">Kubernetes引擎:处理部署和监控</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/1a9afd8af703388eeec15f6ac8711556.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DaAb7_yPnzgGGhpW3igC4A.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">GCP的部署工作流程</figcaption></figure><h1 id="94ec" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">喜欢学习？</h1><p id="49f6" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">我是湾区的数据科学家。专注于数据科学、人工智能，尤其是NLP和平台相关领域的最新发展。在<a class="ae lh" href="https://www.linkedin.com/in/edwardma1026" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或<a class="ae lh" href="https://github.com/makcedward" rel="noopener ugc nofollow" target="_blank"> Github </a>上随时联系<a class="ae lh" href="https://makcedward.github.io/" rel="noopener ugc nofollow" target="_blank"> me </a>。</p><h1 id="492d" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">延伸阅读</h1><ul class=""><li id="7214" class="nn no it lk b ll mw lo mx lr oe lv of lz og md ns nt nu nv bi translated"><a class="ae lh" href="https://towardsdatascience.com/manage-your-data-science-project-structure-in-early-stage-95f91d4d0600" rel="noopener" target="_blank">在早期管理您的数据科学项目结构</a></li></ul><h1 id="1470" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">参考</h1><ul class=""><li id="1991" class="nn no it lk b ll mw lo mx lr oe lv of lz og md ns nt nu nv bi translated"><a class="ae lh" href="https://azure.microsoft.com" rel="noopener ugc nofollow" target="_blank">微软Azure平台</a></li><li id="a58e" class="nn no it lk b ll nw lo nx lr ny lv nz lz oa md ns nt nu nv bi translated"><a class="ae lh" href="https://cloud.google.com" rel="noopener ugc nofollow" target="_blank">谷歌云平台</a></li></ul></div></div>    
</body>
</html>