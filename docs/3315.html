<html>
<head>
<title>15 Steps to Getting Started with Pandas — Complete Beginner’s Guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫入门的15个步骤——完全入门指南</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/15-steps-to-getting-started-with-pandas-complete-beginners-guide-445a71fdd1e?source=collection_archive---------4-----------------------#2022-11-16">https://pub.towardsai.net/15-steps-to-getting-started-with-pandas-complete-beginners-guide-445a71fdd1e?source=collection_archive---------4-----------------------#2022-11-16</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="c700" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用于处理数据的基本Pandas功能——读取、写入和操作数据</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/18ffb54c3d27041e0b1dba12f631b2cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*QyHGA6yRvqj-mHx-"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">由<a class="ae kv" href="https://unsplash.com/@karishea?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">卡里·谢伊</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><p id="4869" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pandas是一个快速、强大、灵活且易于使用的开源数据分析和操作工具，构建于Python编程语言之上。掌握Pandas将使您的分析技能更上一层楼，了解最佳实践将为您节省大量时间和精力。</p><p id="fa19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在本文中，我们将探索Pandas库以及如何使用它来处理您在分析过程中可能会遇到的不同类型的数据。在本教程结束时，您将会更加熟练地使用Pandas的功能。</p><h2 id="2339" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">本文中使用的数据链接:</h2><p id="a8d6" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">要读取数据，您只需粘贴到<code class="fe mq mr ms mt b">pd.read_csv()</code>函数中:</p><ul class=""><li id="fc0a" class="mu mv iq ky b kz la lc ld lf mw lj mx ln my lr mz na nb nc bi translated"><a class="ae kv" href="https://raw.githubusercontent.com/fares-ds/data_analysis_in_python_with_pandas/master/pandas_basics/data/chiporders.csv" rel="noopener ugc nofollow" target="_blank"> chiporders.csv </a></li><li id="4769" class="mu mv iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="https://raw.githubusercontent.com/fares-ds/data_analysis_in_python_with_pandas/master/pandas_basics/data/uforeports.csv" rel="noopener ugc nofollow" target="_blank"> uforeports.csv </a></li><li id="636a" class="mu mv iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="https://raw.githubusercontent.com/fares-ds/data_analysis_in_python_with_pandas/master/pandas_basics/data/imdbratings.csv" rel="noopener ugc nofollow" target="_blank"> imdbratings.csv </a></li><li id="397c" class="mu mv iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated"><a class="ae kv" href="https://raw.githubusercontent.com/fares-ds/data_analysis_in_python_with_pandas/master/pandas_basics/data/movieuser.csv" rel="noopener ugc nofollow" target="_blank">movie user . CSV</a></li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><h1 id="6f3a" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">目录</h1><p id="604a" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated"><a class="ae kv" href="#0192" rel="noopener ugc nofollow"> 1。如何使用熊猫读写表格数据文件？</a> <br/> <a class="ae kv" href="#cc76" rel="noopener ugc nofollow"> 2。如何从数据框中选择熊猫系列？</a> <br/> <a class="ae kv" href="#c512" rel="noopener ugc nofollow"> 3。如何重命名熊猫数据框架中的列？</a> <br/> <a class="ae kv" href="#23f1" rel="noopener ugc nofollow"> 4。如何从Pandas数据框架中删除列？</a> <br/> <a class="ae kv" href="#eaa9" rel="noopener ugc nofollow"> 5。如何对熊猫数据帧或系列进行排序？</a> <br/> <a class="ae kv" href="#3c9e" rel="noopener ugc nofollow"> 6。如何通过列值过滤熊猫数据帧的行？</a> <br/> <a class="ae kv" href="#93fa" rel="noopener ugc nofollow"> 7。我如何在熊猫中使用字符串方法？</a> <br/> <a class="ae kv" href="#212f" rel="noopener ugc nofollow"> 8。如何更改熊猫系列的数据类型？</a> <br/> <a class="ae kv" href="#6b72" rel="noopener ugc nofollow"> 9。熊猫什么时候该用“groupby”？</a> <br/> <a class="ae kv" href="#93a5" rel="noopener ugc nofollow"> 10。我如何处理熊猫中缺失的值？</a> <br/> <a class="ae kv" href="#82c5" rel="noopener ugc nofollow"> 11。关于熊猫指数我需要知道什么？</a> <br/> <a class="ae kv" href="#0a4d" rel="noopener ugc nofollow"> 12。我如何从熊猫数据框中选择多行和多列？</a> <br/> <a class="ae kv" href="#0b3a" rel="noopener ugc nofollow"> 13。我如何在熊猫中处理日期和时间？</a> <br/> <a class="ae kv" href="#f48b" rel="noopener ugc nofollow"> 14。如何在pandas中找到并删除重复行？</a> <br/> <a class="ae kv" href="#0bb2" rel="noopener ugc nofollow"> 15。如何对熊猫系列或数据帧应用函数？</a></p><h1 id="0192" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">1.如何使用熊猫读写表格数据文件？</h1><p id="c281" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated"><code class="fe mq mr ms mt b">pandas.read_csv()</code>是读取<code class="fe mq mr ms mt b">csv</code>文件的最好和最简单的方法。它有很多参数可以满足大多数情况。为了只读我们需要的列，传递一个列名列表给<code class="fe mq mr ms mt b">usecols</code>。我们还可以通过向<code class="fe mq mr ms mt b">nrows</code>传递一个数字来指定行数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/4cd7481c41eba119e84a8b8c3c9490b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hFCRHjU13ofO5DgYXEz4Cw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图1:用熊猫读/写数据</figcaption></figure><h1 id="cc76" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">2.如何从数据框中选择熊猫系列？</h1><p id="2ff0" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们可以通过直接访问列来选择熊猫系列，例如:<code class="fe mq mr ms mt b">df[‘City’]</code>另一种方式是将列作为属性来访问，但是在这种情况下，列的名称必须遵守变量命名的条件(没有空格，以字母开头，…)。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="772f" class="ls lt iq mt b gy oa ob l oc od">City Shape Reported State<br/>0                Ithaca       TRIANGLE    NY<br/>1           Willingboro          OTHER    NJ<br/>2               Holyoke           OVAL    CO<br/>3               Abilene           DISK    KS<br/>4  New York Worlds Fair          LIGHT    NY</span><span id="b321" class="ls lt iq mt b gy oe ob l oc od">0                  Ithaca<br/>1             Willingboro<br/>2                 Holyoke<br/>3                 Abilene<br/>4    New York Worlds Fair<br/>Name: City, dtype: object</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/b09e329d8e3c5cc5b76283426c4634b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*92U2_Dv8A7oUBx3wNVBJ2w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图2:从数据帧中选择一个系列</figcaption></figure><h1 id="c512" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">3.如何重命名熊猫数据框架中的列？</h1><p id="9cc5" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">重命名Pandas <code class="fe mq mr ms mt b">DataFrame </code>中的列的一种方法是使用<code class="fe mq mr ms mt b">rename()</code>函数。当我们需要重命名一些选定的列时，这种方法非常有用，因为我们只需要为要重命名的列指定信息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="bfa5" class="ls lt iq mt b gy oa ob l oc od">Index(['City', 'Colors Reported', 'Shape Reported', 'State', 'Time',<br/>       'Location'],<br/>      dtype='object')</span><span id="e74e" class="ls lt iq mt b gy oe ob l oc od">Index(['City', 'Colors_Reported', 'Shape_Reported', 'State', 'Time',<br/>       'Location'],<br/>      dtype='object')</span><span id="8a26" class="ls lt iq mt b gy oe ob l oc od">Index(['city', 'colors reported', 'shape reported', 'state', 'time',<br/>       'location'],<br/>      dtype='object')</span><span id="73cb" class="ls lt iq mt b gy oe ob l oc od">Index(['city', 'colors_reported', 'shape_reported', 'state', 'time',<br/>       'location'],<br/>      dtype='object')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/9351ab663bae06aaac30f7edd06e4cf4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lcdYJUtvb7QaVGIw8RaU8w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图3:用熊猫重命名列—第1部分</figcaption></figure><p id="5731" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">也可以通过将包含新名称的列表直接分配给我们想要重命名列的对象<code class="fe mq mr ms mt b">DataFrame</code>的<code class="fe mq mr ms mt b">columns</code>属性来重命名列。这种方法的缺点是，我们需要为所有的列提供新的名称，即使我们只想重命名一些列。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/c0b5621dceb225829dc4bdccce78f1b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P9wg934IiHlkW1EKpX-dzw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图4:用熊猫重命名列—第2部分</figcaption></figure><h1 id="23f1" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">4.如何从Pandas数据框架中删除列？</h1><p id="5369" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">从<code class="fe mq mr ms mt b">DataFrame</code>中删除一列或多列可以通过多种方式实现。<code class="fe mq mr ms mt b">.drop()</code>法中最常见的一种。使用它，我们可以删除多列或多行。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="808f" class="ls lt iq mt b gy oa ob l oc od">Index(['City', 'Colors Reported', 'Shape Reported', 'State', 'Time',<br/>       'Location'],<br/>      dtype='object')</span><span id="6fa7" class="ls lt iq mt b gy oe ob l oc od">Index(['City', 'Shape Reported', 'State', 'Time', 'Location'], dtype='object')</span><span id="e873" class="ls lt iq mt b gy oe ob l oc od">Index(['Shape Reported', 'State', 'Time'], dtype='object')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/56502b420f210d5fbc424faee4c08ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VeRt4V1J-NtbPRaYebZ0uw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图5:从Pandas数据框架中删除列</figcaption></figure><h1 id="eaa9" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">5.如何对熊猫数据帧或系列进行排序？</h1><p id="c3b4" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">为了对熊猫数据帧进行排序，我们使用了<code class="fe mq mr ms mt b">.sort_values()</code>方法。它可以按升序或降序对值进行排序。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="e6a5" class="ls lt iq mt b gy oa ob l oc od">star_rating                     title  duration<br/>0          9.3  The Shawshank Redemption       142<br/>1          9.2             The Godfather       175<br/>2          9.1    The Godfather: Part II       200<br/>3          9.0           The Dark Knight       152<br/>4          8.9              Pulp Fiction       154</span><span id="1d6d" class="ls lt iq mt b gy oe ob l oc od">star_rating                        title  duration<br/>941          7.4             A Bridge Too Far       175<br/>938          7.4          Alice in Wonderland        75<br/>975          7.4  Back to the Future Part III       118<br/>933          7.4                  Beetlejuice        92<br/>972          7.4               Blue Valentine       112</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/fa600ff56873e50115bf20b0fe34d472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_duF4IkAR88FWbLSx13Lsw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图6:对熊猫数据帧进行排序—第1部分</figcaption></figure><p id="dc1e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以通过传递您想要排序的列的列表来按多个标准排序。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ok"><img src="../Images/f5bccf0489ed73face4a48da243324b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FPHotyoDfhuVDbCkGOYj7Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图7:对熊猫数据帧进行排序—第2部分</figcaption></figure><h1 id="3c9e" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">6.如何通过列值过滤熊猫数据帧的行？</h1><p id="613b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">过滤是数据分析中的一种常见操作，Pandas提供了多种方式来过滤数据点。这里我们使用了:逻辑操作符和多个逻辑操作符。还有很多其他的过滤技术，比如:<code class="fe mq mr ms mt b">.isin()</code>、<code class="fe mq mr ms mt b">.query()</code> …</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ol"><img src="../Images/1b274b76b516d1a7b8c6f70020e55065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x6UcSjf-Fp5O-bu1p0l2Ow.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图8:通过列值过滤熊猫数据帧的行—第1部分</figcaption></figure><p id="92ea" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要按多个标准应用过滤，请使用'<code class="fe mq mr ms mt b"><strong class="ky ir">&amp;</strong></code>'、' T10 '(而不是'<code class="fe mq mr ms mt b"><strong class="ky ir">and</strong></code>'、' T12 ')。如果我们有一个像这样的更长的条件，我们可以使用'<code class="fe mq mr ms mt b"><strong class="ky ir">isin</strong></code>'方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi om"><img src="../Images/96c440af23aa5db3cb33dfdb1214d114.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FmxdFwV4PLRMgDJX-WDSBA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图9:通过列值过滤熊猫数据帧的行—第2部分</figcaption></figure><h1 id="93fa" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">7.我如何在熊猫中使用字符串方法？</h1><p id="dd6b" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">Index上的<strong class="ky ir"> string </strong>方法对于清理或转换<strong class="ky ir"> DataFrame </strong>列特别有用。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="7bf1" class="ls lt iq mt b gy oa ob l oc od">0             CHIPS AND FRESH TOMATO SALSA<br/>1                                     IZZE<br/>2                         NANTUCKET NECTAR<br/>3    CHIPS AND TOMATILLO-GREEN CHILI SALSA<br/>4                             CHICKEN BOWL<br/>Name: item_name, dtype: object</span><span id="5720" class="ls lt iq mt b gy oe ob l oc od">0             chips and fresh tomato salsa<br/>1                                     izze<br/>2                         nantucket nectar<br/>3    chips and tomatillo-green chili salsa<br/>4                             chicken bowl<br/>Name: item_name, dtype: object</span><span id="2a20" class="ls lt iq mt b gy oe ob l oc od">0    False<br/>1    False<br/>2    False<br/>3    False<br/>4    False<br/>Name: item_name, dtype: bool</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi on"><img src="../Images/88d63d71415214b92d120ad59816177d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AwEOaV994-a3ARj9ZX380Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图10:对数据帧中的文本应用字符串方法</figcaption></figure><h1 id="212f" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">8.如何更改熊猫系列的数据类型？</h1><p id="ff18" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">要检查数据的类型，您可以使用<code class="fe mq mr ms mt b">.dtypes</code>，它将返回一系列与<code class="fe mq mr ms mt b">dtype</code>相关的列。将pandas列数据转换为不同类型的最简单方法是使用<code class="fe mq mr ms mt b">astype()</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="811a" class="ls lt iq mt b gy oa ob l oc od">order_id               int64<br/>quantity               int64<br/>item_name             object<br/>choice_description    object<br/>item_price            object<br/>dtype: object</span><span id="508e" class="ls lt iq mt b gy oe ob l oc od">dtype('float64')</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/a1f7634915c166945278ea36c5b254f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4MStBLnvW7Xk91KpvnxfaQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图11:更改熊猫系列的数据类型</figcaption></figure><h1 id="6b72" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">9.熊猫什么时候该用“groupby”？</h1><p id="ad33" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated"><code class="fe mq mr ms mt b">groupby()</code>':使用映射器或通过<code class="fe mq mr ms mt b">Series</code>列将<code class="fe mq mr ms mt b">DataFrame</code>或<code class="fe mq mr ms mt b">Series</code>分组。一个<code class="fe mq mr ms mt b">groupby</code>操作包括分割对象、应用函数和组合结果的某种组合。这可用于对大量数据进行分组，并对这些组进行计算操作。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="dd43" class="ls lt iq mt b gy oa ob l oc od">genre<br/>Action       126.485294<br/>Adventure    134.840000<br/>Animation     96.596774<br/>Biography    131.844156<br/>Comedy       107.602564<br/>Crime        122.298387<br/>Drama        126.539568<br/>Family       107.500000<br/>Fantasy      112.000000<br/>Film-Noir     97.333333<br/>History       66.000000<br/>Horror       102.517241<br/>Mystery      115.625000<br/>Sci-Fi       109.000000<br/>Thriller     114.200000<br/>Western      136.666667<br/>Name: duration, dtype: float64</span><span id="6af1" class="ls lt iq mt b gy oe ob l oc od">count        mean  max  min<br/>genre                                 <br/>Action       136  126.485294  205   80<br/>Adventure     75  134.840000  224   89<br/>Animation     62   96.596774  134   75<br/>Biography     77  131.844156  202   85<br/>Comedy       156  107.602564  187   68<br/>Crime        124  122.298387  229   67<br/>Drama        278  126.539568  242   64<br/>Family         2  107.500000  115  100<br/>Fantasy        1  112.000000  112  112<br/>Film-Noir      3   97.333333  111   88<br/>History        1   66.000000   66   66<br/>Horror        29  102.517241  146   70<br/>Mystery       16  115.625000  160   69<br/>Sci-Fi         5  109.000000  132   91<br/>Thriller       5  114.200000  120  107<br/>Western        9  136.666667  175   85</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oo"><img src="../Images/a7d4e43c972e5249e0855e4d8f1af41d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2mLsm4tj_mktIB_br32r4g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图12:熊猫的群聚——第一部分</figcaption></figure><p id="1f1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">可以同时应用多个聚合函数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/4d04ea8bbdf6ec294587aa30c8305cc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vi67s9rSmpFfPn-M6Dkqew.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图12:熊猫的群聚——第二部分</figcaption></figure><h1 id="93a5" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">10.我如何处理熊猫中缺失的值？</h1><p id="9366" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在现实生活中，丢失数据是一个非常大的问题。在Pandas中，缺失数据由两个值表示:<code class="fe mq mr ms mt b">NaN</code>或<code class="fe mq mr ms mt b">None</code>。帕纳斯有几个有用的函数来检测、删除和替换Pandas数据帧中的空值:<code class="fe mq mr ms mt b">.isna()</code>用于查找<code class="fe mq mr ms mt b">NaN</code> , <code class="fe mq mr ms mt b">.dropna()</code>用于删除<code class="fe mq mr ms mt b">NaN</code>,<code class="fe mq mr ms mt b">.fillna()</code>用特定值填充<code class="fe mq mr ms mt b">NaN</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="2314" class="ls lt iq mt b gy oa ob l oc od">(18241, 6)</span><span id="90d0" class="ls lt iq mt b gy oe ob l oc od">City                  25<br/>Colors Reported    15359<br/>Shape Reported      2644<br/>State                  0<br/>Time                   0<br/>Location              25<br/>dtype: int64</span><span id="0721" class="ls lt iq mt b gy oe ob l oc od">(2486, 6)<br/>(2486, 6)<br/>(18237, 6)<br/>2644<br/>0</span><span id="c07d" class="ls lt iq mt b gy oe ob l oc od">VARIOUS      2977<br/>LIGHT        2803<br/>DISK         2122<br/>TRIANGLE     1889<br/>OTHER        1402<br/>Name: Shape Reported, dtype: int64</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/58e71a3bcf5d6fd8c4c594551dc9d49d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VOU0_HeehNgPORxvXznluw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图13:处理熊猫丢失的值—第1部分</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oq"><img src="../Images/0bc6c7a8d3b2e07b37976f15aa3d8d7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l5YMPoDoLps3XVvYK6LJeg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图14:处理熊猫丢失的值—第2部分</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi or"><img src="../Images/13c615f58d3c34d975095ac608c2a758.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j5_VpH_ZCVwTjRG6jnX0Rw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图15:处理熊猫丢失的值—第3部分</figcaption></figure><h1 id="82c5" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">11.关于熊猫指数我需要知道什么？</h1><p id="6681" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">在表格数据中，通常使用在<code class="fe mq mr ms mt b">0</code>到<code class="fe mq mr ms mt b">len(data)</code>范围内的索引。对于特定的情况(如时间序列数据)，我们需要将索引改为更有意义的内容。要设置索引，我们只需将列传递给<code class="fe mq mr ms mt b">.set_index()</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="7dde" class="ls lt iq mt b gy oa ob l oc od">Int64Index([    0,     1,     2,     3,     4,     5,     6,     7,     8,<br/>                9,<br/>            ...<br/>            18231, 18232, 18233, 18234, 18235, 18236, 18237, 18238, 18239,<br/>            18240],<br/>           dtype='int64', length=18241)</span><span id="0c0b" class="ls lt iq mt b gy oe ob l oc od">Index([              'Ithaca , NY',          'Willingboro , NJ',<br/>                    'Holyoke , CO',              'Abilene , KS',<br/>       'New York Worlds Fair , NY',          'Valley City , ND',<br/>                'Crater Lake , CA',                 'Alma , MI',<br/>                    'Eklutna , AK',              'Hubbard , OR',<br/>       ...<br/>                'Pismo Beach , CA',                 'Lodi , WI',<br/>                  'Anchorage , AK',             'Capitola , CA',<br/>             'Fountain Hills , AZ',           'Grant Park , IL',<br/>                'Spirit Lake , IA',          'Eagle River , WI',<br/>                'Eagle River , WI',                 'Ybor , FL'],<br/>      dtype='object', name='Location', length=18241)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi os"><img src="../Images/2d5ad21bca3e6161e7fe1ab3587779ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rSo2ENf0PsfiiwQU6AhqVQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图16:更改数据帧索引</figcaption></figure><h1 id="0a4d" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">12.我如何从熊猫数据框中选择多行和多列？</h1><p id="3375" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">熊猫是建立在NumPy之上的，所以它试图遵循他关于切片的惯例。虽然'<code class="fe mq mr ms mt b">iloc</code>'与numerics一起工作，但它的构建类似于NumPy数组。这不是在其他类型上切片的'<code class="fe mq mr ms mt b">loc</code>'的情况。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="7dd7" class="ls lt iq mt b gy oa ob l oc od">City              Holyoke<br/>Shape Reported       OVAL<br/>State                  CO<br/>Name: 2, dtype: object</span><span id="85da" class="ls lt iq mt b gy oe ob l oc od">City Shape Reported State<br/>0       Ithaca       TRIANGLE    NY<br/>1  Willingboro          OTHER    NJ<br/>2      Holyoke           OVAL    CO</span><span id="bb83" class="ls lt iq mt b gy oe ob l oc od">City State<br/>0       Ithaca    NY<br/>1  Willingboro    NJ<br/>2      Holyoke    CO</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ot"><img src="../Images/697efe49e91af2a0f55b4d13633c0284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NA1ITO6FElAQzxtzJwAJhw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图17:选择多行和多列</figcaption></figure><h1 id="0b3a" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">13.我如何在熊猫中处理日期和时间？</h1><p id="7a93" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated"><code class="fe mq mr ms mt b">DateTime</code>是日期和时间的集合，格式为<code class="fe mq mr ms mt b">yyyy-mm-dd HH:MM:SS</code>，其中<code class="fe mq mr ms mt b"> yyyy-mm-dd</code>是指日期，<code class="fe mq mr ms mt b">HH:MM:SS</code>是指时间。将我们的日期作为<code class="fe mq mr ms mt b">datetime64</code>对象将允许我们通过<code class="fe mq mr ms mt b">.dt </code> API访问大量的日期和时间信息。</p><p id="e518" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe mq mr ms mt b">.to_datetime()</code>将表示我们数据的字符串转换成<code class="fe mq mr ms mt b">datetime64[ns]</code>对象。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="c907" class="ls lt iq mt b gy oa ob l oc od">0   1930-06-01 22:00:00<br/>1   1930-06-30 20:00:00<br/>2   1931-02-15 14:00:00<br/>3   1931-06-01 13:00:00<br/>4   1933-04-18 19:00:00<br/>Name: Time, dtype: datetime64[ns]</span><span id="de20" class="ls lt iq mt b gy oe ob l oc od">0    22<br/>1    20<br/>2    14<br/>3    13<br/>4    19<br/>Name: Time, dtype: int64</span><span id="d59f" class="ls lt iq mt b gy oe ob l oc od">0     Sunday<br/>1     Monday<br/>2     Sunday<br/>3     Monday<br/>4    Tuesday<br/>Name: Time, dtype: object</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oi"><img src="../Images/cbd4c7c7cac265058aa16fc596272aee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36680R5ZxaR164FqPre24Q.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图18:在Pandas中使用日期时间对象</figcaption></figure><h1 id="f48b" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">14.如何在pandas中找到并删除重复行？</h1><p id="4765" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">数据分析的一个重要部分是分析<em class="ou">重复值</em>并移除它们。Pandas <code class="fe mq mr ms mt b">duplicated()</code>方法仅帮助分析重复值。它返回一个布尔序列，该序列仅对于唯一元素是<code class="fe mq mr ms mt b">True</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="bfc7" class="ls lt iq mt b gy oa ob l oc od">(943, 4)<br/>148<br/>7<br/>(936, 4)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/12321fcfe5e1263967249e182531658f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3TQDi7q_cp3-r9FtdsocxQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图19:处理重复行</figcaption></figure><h1 id="0bb2" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">15.如何对熊猫系列或数据帧应用函数？</h1><p id="6c34" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated"><code class="fe mq mr ms mt b">Pandas.apply</code>允许用户传递一个函数，并将其应用于熊猫系列的每个值。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ni nj l"/></div></figure><pre class="kg kh ki kj gt nw mt nx ny aw nz bi"><span id="ed32" class="ls lt iq mt b gy oa ob l oc od">age gender  occupation zip_code<br/>user_id                                 <br/>1         24      M  technician    85711<br/>2         53      F       other    94043<br/>3         23      M      writer    32067<br/>4         24      M  technician    43537<br/>5         33      F       other    15213</span><span id="0f5f" class="ls lt iq mt b gy oe ob l oc od">user_id<br/>1    1<br/>2    0<br/>3    1<br/>4    1<br/>5    0<br/>Name: gender, dtype: int64</span><span id="40c6" class="ls lt iq mt b gy oe ob l oc od">Man      889<br/>Child     54<br/>Name: age, dtype: int64</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/37612b5c1ad4cfb6abfb7ff8f6aa4a68.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vvq61qtK_mXUQ0MapPkc_A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">图20:对熊猫系列应用一个函数</figcaption></figure><h1 id="9bca" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">结论</h1><p id="e3c8" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">掌握Pandas将使您的分析技能更上一层楼，了解最佳实践将为您节省大量时间和精力。在本文中，我们讨论了:</p><ul class=""><li id="5b8c" class="mu mv iq ky b kz la lc ld lf mw lj mx ln my lr mz na nb nc bi translated">快速开始使用熊猫的15个实用食谱。所有这些都很有用，在特殊情况下会派上用场。</li><li id="3f06" class="mu mv iq ky b kz nd lc ne lf nf lj ng ln nh lr mz na nb nc bi translated">Pandas是一个强大的数据分析和操作库。它提供了许多函数和方法来处理表格形式的数据。和其他工具一样，学习熊猫的最好方法是通过练习。</li></ul><p id="f030" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢您的阅读。如果您有任何反馈或建议，请告诉我。</p><h1 id="8bb2" class="nk lt iq bd lu nl nm nn lx no np nq ma jw nr jx md jz ns ka mg kc nt kd mj nu bi translated">参考</h1><ul class=""><li id="ded5" class="mu mv iq ky b kz ml lc mm lf ox lj oy ln oz lr mz na nb nc bi translated"><a class="ae kv" href="https://github.com/fares-ds/data_analysis_in_python_with_pandas/tree/master/pandas_basics/data" rel="noopener ugc nofollow" target="_blank">本教程中使用的数据</a></li></ul></div></div>    
</body>
</html>