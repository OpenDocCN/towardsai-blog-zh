<html>
<head>
<title>SweetViz for Quicker In-depth Exploratory Data Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SweetViz用于更快速的深度探索性数据分析</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/sweetviz-for-quicker-in-depth-exploratory-data-analysis-aaf8791e7f9c?source=collection_archive---------2-----------------------#2021-01-11">https://pub.towardsai.net/sweetviz-for-quicker-in-depth-exploratory-data-analysis-aaf8791e7f9c?source=collection_archive---------2-----------------------#2021-01-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2c59" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-analysis" rel="noopener ugc nofollow" target="_blank">数据分析</a></h2><div class=""/><div class=""><h2 id="0ea8" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">目标分析，特征分析，关联，都在几行代码里——我有截图。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/581fbf9f4ee509363deda97a3936c1f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Jzn8LrRjj9-sCel7myS4g.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">来自<a class="ae lh" href="https://www.pexels.com/photo/rabbit-chocolate-2072158/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank"> Pexels </a>的【Giftpundits.com】T2的照片</figcaption></figure><p id="c0fa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我猜猜:作为一名数据科学家，你喜欢探索性的数据分析。你喜欢从数据中展现洞察力。你喜欢报告这些见解，看到你不太懂技术的经理敬畏你。我也喜欢。</p><p id="795a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">无论我们多么喜欢做这件事，我们能花在探索性数据分析(EDA)上的时间都是有限的。除了EDA，我们在数据科学生命周期中还有功能工程、模型开发、部署等工作要做。</p><p id="54a5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果我告诉你有一个工具可以帮助你做你喜欢的事情，你会怎么样？快速跟踪EDA阶段，但仍然让您享受这个过程？那不是很甜蜜吗？作为对我之前一篇关于熊猫概况的文章的反馈，我被指引到这个方向去尝试一个名为SweetViz的库。在我最近的一个项目中使用过它之后，我喜欢它所提供的东西。</p><p id="7950" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">本文将首先介绍一个名为SweetViz的python库，涵盖从安装、特性到如何在日常项目和分析中使用它们的所有内容，并使用一个真实的例子。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="549c" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">SweetViz有什么特别之处？</h1><p id="5e55" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">我是Pandas-Profiling的忠实用户，它用几行代码帮助我在几分钟内检查和理解数据。所以当我被告知试用SweetViz时，我很不情愿。但事实证明，熊猫概况激发了SweetViz 的作者，他们甚至重用了一些代码来构建它。</p><p id="1df5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">SweetViz基本上扩展了熊猫的特征分析功能。</p><blockquote class="ni"><p id="909e" class="nj nk it bd nl nm nn no np nq nr md dk translated">"使用最好的工具来解决手边的问题."—高效的数据科学家</p></blockquote><p id="17f3" class="pw-post-body-paragraph li lj it lk b ll ns kd ln lo nt kg lq lr nu lt lu lv nv lx ly lz nw mb mc md im bi translated">一个高效的数据科学家做得很好:<strong class="lk jd">使用解决手头问题的最佳工具。</strong>只要在短时间内需要深入的EDA，SweetViz就是您的选择。了解它的功能以有效地使用它是至关重要的，所以你知道什么时候使用它。它们有很多功能，但主要的是，</p><ul class=""><li id="d385" class="nx ny it lk b ll lm lo lp lr nz lv oa lz ob md oc od oe of bi translated">检查和探索数据</li><li id="c474" class="nx ny it lk b ll og lo oh lr oi lv oj lz ok md oc od oe of bi translated">比较两个数据集和特征/目标分析。</li></ul><p id="9a9c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在让我们来看一下例子中的每一个特性，这样你就会对这个库感到舒适，并在你的下一个项目中使用它！</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="cdb7" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">现实世界的例子:糖尿病预测</h1><p id="af10" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">早期治疗糖尿病可以在很大程度上避免严重的并发症，如肾衰竭、失明、截肢和心脏病<a class="ae lh" href="https://aspe.hhs.gov/report/diabetes-national-plan-action/importance-early-diabetes-detection#:~:text=Early%20detection%20and%20treatment%20of,limb%20amputations%2C%20and%20kidney%20failure." rel="noopener ugc nofollow" target="_blank">。了解因素、症状和预测糖尿病的发病对医疗保健有着持久的影响。</a></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ol"><img src="../Images/55e03d0ee5b6e8805dd795221e624a5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OijEA2Wo9gSb_uyJa_m21A.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">你应该对自己为医疗保健做出的每一个(最小的)贡献感到满意。一直都是。(照片由<a class="ae lh" href="https://www.pexels.com/@natasha-spencer-1249036?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">娜塔莎·斯潘塞</a>从<a class="ae lh" href="https://www.pexels.com/photo/healthcare-text-screenshot-near-green-fern-leaf-2383010/?utm_content=attributionCopyText&amp;utm_medium=referral&amp;utm_source=pexels" rel="noopener ugc nofollow" target="_blank">派克斯</a>拍摄)</figcaption></figure><p id="d6cc" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">以下示例的数据最初来自美国国家糖尿病、消化和肾脏疾病研究所，可在Kaggle上获得<a class="ae lh" href="https://www.kaggle.com/uciml/pima-indians-diabetes-database" rel="noopener ugc nofollow" target="_blank">。</a>该数据包含至少21岁的皮马印第安族女性的信息。</p><p id="5ab9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当我们定义和理解了手头的问题，我们的下一步是理解和探索数据。为了快速跟踪这一过程，让我们尝试一下SweetViz。首先，我们必须安装库，这非常简单。启动您的终端并运行以下命令。</p><pre class="ks kt ku kv gt om on oo op aw oq bi"><span id="864c" class="or mm it on b gy os ot l ou ov">pip install sweetviz</span></pre><p id="75f4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">确保您的脚本都不被命名为sweetviz.py，因为这会干扰库本身。现在我们已经准备好了环境，让我们快速检查和研究数据。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="bd70" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">检查和探索数据</h1><p id="c29e" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">只需几行代码，我们就可以生成数据的SweetViz报告，并使用它来检查和研究这些数据。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="be68" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">使用上面的代码片段生成的报告非常有用。这一部分与熊猫轮廓相同，但设计更好。你们自己看吧。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oy"><img src="../Images/c3bb709366fb5952e4e603053b3b51d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yMy9UtQpYQbNN42p38nWtQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">作者提供的SweetViz EDA报告截图</figcaption></figure><p id="f8ad" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们来看看一些有用的功能。</p><h2 id="7055" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">1.数据概述</h2><p id="5c5f" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">报告顶部的这一部分在几分钟内为您提供了数据的完整概述。您可以浏览并挑选各种重要信息，如大小、功能和数据类型，汇总到一个小表中，这在时间不够时非常有用。</p><h2 id="cbbe" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">2.描述统计学</h2><p id="44c5" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">在概述部分下面，我们有数据中每个变量的描述性统计。这些变量可用的一些统计数据有最大值、最小值、四分位间距、总和、峰度系数、偏度系数等。</p><p id="2cd0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在python中，我们通常使用一些类似<code class="fe pj pk pl on b">statsmodels</code>的统计包或者使用pandas的<code class="fe pj pk pl on b">pd.describe()</code>来生成这个。但是，当这些都在报告中现成可用时，为什么不加以利用呢？</p><h2 id="e1bc" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">3.缺少值</h2><p id="8f42" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">这是一个重要的特性，尤其是因为我们往往会忘记进行缺失值检查。在进入建模阶段之前，需要处理<em class="pm">缺失值。如果处理不当，缺失值可能会极大地改变我们在建模后获得的结果。</em></p><p id="592c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于每个变量，SweetViz都会列出缺失值的百分比/计数。</p><h2 id="c350" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">4.直方图分布</h2><p id="cdd4" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">生成的报告有数值变量的直方图和分类的条形图。当您需要检查异常值和整个分布时，这非常有用，而SweetViz做得很好。</p><h2 id="3469" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">5.关联/相关性</h2><p id="3c05" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">在我看来，这是所有功能中最有用的。我不断地回到关联，有时甚至直接从报告中分析它们。</p><p id="f62a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为什么？机器学习是关于相关性和关联性的。记得吗？如果没有相关性，你不可能做出比随机猜测更好的预测。</p><p id="7357" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">分析相关性有助于我们在数据科学生命周期的后期进行功能工程和功能选择。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0633" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">比较训练和测试数据</h1><p id="d16a" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">一旦我们探索了数据，我们需要将数据分成训练和测试。我们还需要决定哪个是我们的目标变量。目标变量可以从问题定义本身导出。</p><p id="441b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们试图预测什么？无论患者是否患有糖尿病。</p><p id="191d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">哪个变量给了我们这些信息？在我们的数据中，它是<code class="fe pj pk pl on b">outcome</code>变量。</p><p id="665d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这就是我们的目标变量。</p><p id="e9a4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这个想法是从训练数据中建立一个模型来预测目标变量，并根据测试数据对其进行评估。</p><p id="5eaf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">重要的是:训练和测试的分布应该是相似的。有时随机分割可以改变分布。当您的数据不平衡时，这通常是一个问题。为了更好地分析这一点，我们可以使用SweetViz的比较数据功能。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="ow ox l"/></div></figure><p id="4390" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在上面的代码中，我们使用Sklearn的<code class="fe pj pk pl on b">train_test_split()</code>函数将数据分成80–20%进行训练和测试。然后我们将这两个数据帧传递给Sweetviz的<code class="fe pj pk pl on b">compare()</code>函数。</p><p id="881b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这会等着你。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pn"><img src="../Images/3fca68f6e66116820e945e96acc53603.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QZelzjptkSd6ZOSUJsYOSQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">作者提供的比较SweetViz报告的扩展屏幕截图</figcaption></figure><p id="e644" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您仍然可以获得我们之前讨论过的所有功能。但是还有更多。</p><h2 id="373d" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">6.特征分析</h2><p id="5f0c" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">有了训练和测试数据的这种比较，我们可以容易地分析训练和测试分裂之间的所有特征的分布。为了模型的最佳性能，在分割中分布应该是相似的。</p><p id="9152" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">快速浏览一下可以发现，我们的拆分就是这种情况。通过将光标悬停在任何特征上，可以看到每个特征的相关性/关联性。</p><h2 id="d3eb" class="or mm it bd mn oz pa dn mr pb pc dp mv lr pd pe mx lv pf pg mz lz ph pi nb iz bi translated">7.目标分析</h2><p id="cfeb" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">因为我们在生成时指定了目标变量，所以在报告的顶部有一个目标分析部分(黑色阴影)。我们注意到没有任何丢失的值，并且在分割之间分布保持不变。在特征直方图的顶部，目标的变化被画成线。</p><p id="4e00" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们大多数人都忘记了在传统的工作流程中进行这种分析。即使我们做到了，也需要更多的代码行。既然你已经拿到了这份报告，为什么还要费事呢？</p><p id="c053" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在分析相关性时，我们注意到血糖水平、身体质量指数和年龄是三个最重要的相关特征。<em class="pm">功能工程阶段的有用见解</em>。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="3a22" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">最后的想法</h1><p id="0eb2" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">本文介绍了一个名为SweetViz的新库，它帮助我们快速跟踪探索性数据分析阶段。我们浏览了一个真实世界的糖尿病预测示例，使用该库进行了彻底的数据理解，并在将数据分成训练和测试后继续进行了深入的分析。</p><p id="1701" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">虽然我们在文章中使用这个工具发现了许多真知灼见，但还有更多。如果没有，那你这个数据科学家还有什么意义？</p><p id="1574" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你是个聪明人。你是个高效的数据科学家。你尝试使用最好的工具来补充你的工作。你总是知道还有更多。您付出了额外的努力来发掘更多见解，并努力成为世界级的数据科学家。</p><p id="a6c0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可能还没有到达那里，我也没有。我们都在互相帮助的学习旅程中。这才是最重要的。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><p id="92aa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><em class="pm">我希望你喜欢阅读，就像我喜欢为你写这篇文章一样。我在这里的</em> <a class="ae lh" href="https://arunnthevapalan.medium.com/" rel="noopener"> <em class="pm"> Medium </em> </a> <em class="pm">中广泛地写了我在数据科学方面的学习经历。欢迎在</em><a class="ae lh" href="https://www.linkedin.com/in/arunn-thevapalan/" rel="noopener ugc nofollow" target="_blank"><em class="pm">LinkedIn</em></a><em class="pm">上与我联系，我很乐意听到各种反馈。</em></p></div></div>    
</body>
</html>