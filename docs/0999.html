<html>
<head>
<title>The Three MUST KNOW concepts in Time Series Analysis- with example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列分析中三个必须知道的概念——举例说明</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/the-three-must-know-concepts-in-time-series-analysis-with-example-20bf40acc522?source=collection_archive---------2-----------------------#2020-10-03">https://pub.towardsai.net/the-three-must-know-concepts-in-time-series-analysis-with-example-20bf40acc522?source=collection_archive---------2-----------------------#2020-10-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0c48" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="e92e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">时间序列数据是增长最快的数据之一，这就是为什么必须对它有很好的理解</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/446839fac98215304902d33086356351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Y6KTpvRCGX47oqWG"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a>在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="c773" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">自从我在一家数据科学初创公司获得第一份实习工作以来，学习曲线一直很长，我面临的一系列问题也很多样化。从预处理零售数据到理解预测，这是一个漫长的旅程，而且才刚刚开始。<br/>最近，我有机会研究“时间序列”,简单地说，这是一种捕捉趋势并研究一段时间内数据行为的分析，我想分享一些学到的重要概念和术语。在这篇文章中，我将使用一个虚拟的两年销售信息数据集。我们开始吧</p><h1 id="ceb7" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated"><strong class="ak">滚动平均</strong></h1><p id="b497" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">当我们有这样的趋势时:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nb"><img src="../Images/425b1451576cd8ea896e7ceaabecfe73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Wk4eyznJ612Yp5A1gONyw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">21个月期间的销售信息</figcaption></figure><p id="61d1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">很容易注意到，在这两年中，销售额的总和具有不稳定和可变的行为，高点和低点分散在图表中。</p><p id="c8fd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果必须做出任何类型的预测，这种类型的行为必须被“消除”,这就是<strong class="lk jd">滚动平均值</strong>出现的原因。</p><p id="ecd0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">滚动平均的作用是取前两个数字的平均值，然后<strong class="lk jd">用它来求下一个数字的平均值。</strong>我来举例说明一下。下面的列是该公司过去21个月的汇总销售信息。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/0790d9cc06442f003e6570a2cd2ee43a.png" data-original-src="https://miro.medium.com/v2/resize:fit:426/format:webp/1*T4zFxRYuVdsWfqRlQHsD5w.png"/></div></figure><p id="f31a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我将使用前两个值来找到我的“第一平均值”，看起来像这样:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nd"><img src="../Images/f2b6c09aff77f7d006c9637c6018adab.png" data-original-src="https://miro.medium.com/v2/resize:fit:846/format:webp/1*Qs2BipRyStzW32zxWXjiLg.png"/></div></div></figure><p id="de5f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">然后，我将使用我的<strong class="lk jd">下两个销售值</strong>来计算我的下一个滚动平均值，即:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ne"><img src="../Images/a68f35b520e5149847e0fe45585b2e46.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*eg87W3xVr212VuPDZWQPCQ.png"/></div></div></figure><p id="5a46" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">诸如此类。注意，您可以根据自己的喜好更改<strong class="lk jd">移动窗口</strong>(用于第一次平均的数字数量，本例中为2)<strong class="lk jd"/>。</p><p id="4f3f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在让我们来看看移动平均和销售的图表，看看移动平均的表现。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nf"><img src="../Images/48d7997cf5c361aa13c43e2926975e9b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m40LVUOkjgb1sI2-V0_SUg.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">真实数据与滚动平均值</figcaption></figure><p id="2f6b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">“噪音”已经减少了很多，但我们可以做得更好。</p><p id="6e76" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看看另一种方法，它与“滚动平均”非常相似，可以用来使数据更加平滑。</p><h1 id="7139" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">指数平滑法</h1><p id="d362" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">指数平滑法类似于滚动平均法，但它也将“权重”应用于最近的观察结果，从而更好地捕捉趋势。我这么说是什么意思？让我们来看一个画面。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ng"><img src="../Images/034e1f7ad4523000f480de1457c83a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SPpKbMSpi9JRxt-z.jpg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片来自<a class="ae lh" href="https://www.youtube.com/watch?v=k_HN0wOKDd0" rel="noopener ugc nofollow" target="_blank">https://www.youtube.com/watch?v=k_HN0wOKDd0</a></figcaption></figure><p id="267b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，从上图中可以看出，<strong class="lk jd">的权重0.2被分配给我们的“实际”</strong>，而<strong class="lk jd">的权重0.8被分配给“预测”值</strong>。让我们在Excel中看看这个:</p><p id="57db" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Exp平滑的第一个值将与销售信息列中的第一个值相同。我们将使用这两个值在我们的Exp平滑列中找到<strong class="lk jd">的下一个值，它将是<strong class="lk jd"> : </strong></strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nh"><img src="../Images/7e1ef990b90c219d028d7532fcea9f56.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*cMl3oL8d1dXYR0vHzLV3Nw.png"/></div></div></figure><p id="d63f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">请注意，我对预测值赋予了0.8的权重。为什么？因为我希望“之前的预测值”对之后的值更有意义</p><p id="8230" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">最后，我们将这个公式复制到整个列，并找出值。注意:重量可以根据你的感觉而改变。</p><p id="4f85" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看一下销售与出口平滑图:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ni"><img src="../Images/88544f6291600bb0e9db46c1522b8514.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3akmg_SmimuPJr5MVPSohQ.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">真实销售价值与预期平滑</figcaption></figure><p id="0adf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">指数平滑在平滑数据方面表现更好。</p><p id="a1b4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">图表趋势确实很好地衡量了哪种方法表现得好，但一个数值会更好，这就是MAPE的用武之地。</p><h1 id="d948" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated"><strong class="ak">平均绝对百分比误差(MAPE) </strong></h1><p id="8dbd" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated"><strong class="lk jd">平均绝对百分比误差或MAPE </strong>是一种用于检查滚动平均值或指数平滑值与数据集真实值的吻合程度的方法。MAPE越低，计算值越接近真实值。让我们来看看</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/6cb7135b091a08f50a7a5bb2066ebfb4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*zsWzdVCTgaDacagvATnbIQ.png"/></div></figure><p id="f739" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为了解释我在上面的视觉效果中所做的事情，我首先取原始销售值和之前计算的相应“Exp smoothing”值之间的差值。然后，我将该值的绝对值除以原始销售值，然后将结果乘以100，得到<strong class="lk jd">绝对百分比误差(APE)。</strong></p><p id="f662" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我将对列中出现的所有值重复这个过程，并找到所有值的“APE”。</p><p id="d63b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">“APE”的平均值将被称为<strong class="lk jd">平均绝对百分比误差或MAPE。我们来看看。</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8de69794b76cbe9deb42dccd1b3de186.png" data-original-src="https://miro.medium.com/v2/resize:fit:834/format:webp/1*A2Tczd7TzyFuNWM01jAADg.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">用于指数平滑的MAPE</figcaption></figure><p id="3796" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">MAPE出来是9.86，这可以说<strong class="lk jd">我们的模型接近91%的准确性。</strong></p><p id="9c4f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们看看移动平均的MAPE。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/735a0c0c04a7c997cfe44cb7db1f9073.png" data-original-src="https://miro.medium.com/v2/resize:fit:1376/format:webp/1*S2WsVCanFbVnUmoqcV2KhQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">指数平滑与滚动平均MAPE</figcaption></figure><p id="dcd2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这种情况下，滚动平均给出的MAPE比指数平滑法稍好，但这是可以理解的，因为滚动平均比指数平滑法更好地遵循真实的销售值。但同时，Exp平滑曲线更好地“平滑”了销售数据。</p><h1 id="0aef" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated"><strong class="ak">结论</strong></h1><p id="6633" class="pw-post-body-paragraph li lj it lk b ll mw kd ln lo mx kg lq lr my lt lu lv mz lx ly lz na mb mc md im bi translated">在本文中，我们回顾了一些与时间序列相关的基本概念和术语。时间序列是一个非常深入和详细的主题，不可能在一篇文章中涵盖。我计划接下来写一篇关于ARIMA、萨里玛和平稳与非平稳时间序列数据的概念的文章。如果你喜欢这篇文章，请鼓掌并与你的同事分享。谢谢你</p></div></div>    
</body>
</html>