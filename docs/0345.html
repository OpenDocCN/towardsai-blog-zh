<html>
<head>
<title>Features in Image [Part -2]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图像中的特征[第二部分]</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/features-in-image-part-2-70fc46dd316a?source=collection_archive---------0-----------------------#2020-03-06">https://pub.towardsai.net/features-in-image-part-2-70fc46dd316a?source=collection_archive---------0-----------------------#2020-03-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="80f0" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Monk，低代码深度学习工具和计算机视觉的统一包装器，使计算机视觉变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/a495860c9cbad7be7812b9ea47b408df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*ELEtgIoW6AbMuQgGSSyIQA.gif"/></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="e788" class="ku kv iq bd kw kx ky kz la lb lc ld le jw lf jx lg jz lh ka li kc lj kd lk ll bi translated">基于OpenCV和PIL的特征提取和可视化</h1><p id="90bd" class="pw-post-body-paragraph lm ln iq lo b lp lq jr lr ls lt ju lu lv lw lx ly lz ma mb mc md me mf mg mh ij bi translated"><strong class="lo ir">A级特征</strong></p><blockquote class="mi"><p id="82c6" class="mj mk iq bd ml mm mn mo mp mq mr mh dk translated">猪的特征</p></blockquote><ul class=""><li id="e96c" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">梯度直方图。</li><li id="82c2" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">用于对象检测。</li></ul><blockquote class="ni nj nk"><p id="e7bd" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">步伐</p></blockquote><ul class=""><li id="8692" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">查找x和y方向的渐变</li><li id="6d09" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">使用渐变幅度和方向将渐变绑定到直方图中。</li></ul><p id="665e" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">Hog特征对图像中对象的旋转很敏感。</p><blockquote class="ni nj nk"><p id="e20f" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用Skimage实现Hog功能</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="ffe3" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">输出</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="b2ae" class="oe kv iq oa b gy of og l oh oi">(322218,)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi gj"><img src="../Images/56c8531c602ee6f59dcbc5b7c6e2ea37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sPKAw_KsV4rNpK-qFtWjzg.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/7cbd8eb82c781ee27f8bf70e4637be2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*TNwidvr15KT3-CFv8CP3zA.png"/></div></figure><blockquote class="mi"><p id="856b" class="mj mk iq bd ml mm oo op oq or os mh dk translated">雏菊特征</p></blockquote><ul class=""><li id="5651" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">升级的HOG功能</li><li id="c754" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">创建不适合可视化的密集特征向量。</li></ul><blockquote class="ni nj nk"><p id="907e" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">过程</p></blockquote><ul class=""><li id="c533" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">测试块-&gt;计算梯度或梯度直方图</li><li id="f138" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">s块-&gt;使用高斯加权加法组合T块特征(轮廓)</li><li id="e52a" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">N Block -&gt;规范化添加的功能(使所有内容介于0-1之间)</li><li id="6103" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">d块-&gt;减少特征的维数(PCA算法)</li><li id="0ed6" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">Q Block -&gt;出于存储目的压缩要素</li></ul><blockquote class="ni nj nk"><p id="ef8d" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用Sklearn实现Daisy功能</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><p id="04cf" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">输出</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="c9b8" class="oe kv iq oa b gy of og l oh oi">(2, 3, 153)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/82dfb6c07e932ea2d517e3093a118887.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*PXr3uWaaHrICWb7clxZ3qg.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ou"><img src="../Images/6049080abe1a6977fa2dfc3ed22c1ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*afuIObfLWnJrtOwQ0e_y8Q.png"/></div></div></figure><blockquote class="mi"><p id="5a47" class="mj mk iq bd ml mm oo op oq or os mh dk translated">GLCM功能</p></blockquote><ul class=""><li id="819c" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">灰度协方差矩阵。</li><li id="0135" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">计算不同方面(在同质性、均匀性方面)的像素对之间的相关度的总体平均值</li><li id="9d13" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">灰度级共生矩阵(GLCM ),通过计算具有强度(灰度级)值I的像素在与具有值j的像素的特定空间关系中出现的频率</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/1e99af7c6c2ac7df07f344b901b6b853.png" data-original-src="https://miro.medium.com/v2/resize:fit:988/format:webp/1*868RW5OSwW3-EiAH81h87w.png"/></div></figure><blockquote class="ni nj nk"><p id="fe08" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用Skimage实施GLCM功能</p></blockquote><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi ow"><img src="../Images/95d9a3d31b52ef4c3d322548152e6818.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4IFpFGYlljBpYKXU_8PRKQ.png"/></div></div></figure><blockquote class="mi"><p id="2392" class="mj mk iq bd ml mm oo op oq or os mh dk translated">哈尔特征</p></blockquote><ul class=""><li id="f84d" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">用于物体识别。</li></ul><blockquote class="ni nj nk"><p id="9dd6" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">矩形类哈尔特征</p></blockquote><ul class=""><li id="20f8" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">矩形内部区域像素总和的差值。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/86fe311c7e929208fc60a96642c751c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*6yqvkRA9yxRYWkBvn_dB6Q.png"/></div></figure><ul class=""><li id="4d60" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">每个特征是通过从黑色矩形下的像素总和减去白色矩形下的像素总和而获得的单个值。</li></ul><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="230d" class="oe kv iq oa b gy of og l oh oi"><em class="nl">'''<br/>Source: <br/>https://scikitimage.org/docs/dev/auto_examples/features_detection/plot_haar.html</em> <br/>''' </span><span id="5d7a" class="oe kv iq oa b gy oy og l oh oi"><em class="nl"># Haar like feature Descriptors</em> <br/><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong> <br/><strong class="oa ir">import</strong> <strong class="oa ir">matplotlib.pyplot</strong> <strong class="oa ir">as</strong> <strong class="oa ir">plt</strong> <br/><strong class="oa ir">import</strong> <strong class="oa ir">skimage.feature</strong> <br/><strong class="oa ir">from</strong> <strong class="oa ir">skimage.feature</strong> <strong class="oa ir">import</strong> haar_like_feature_coord, draw_haar_like_feature  <br/>images = [np.zeros((2, 2)), np.zeros((2, 2)),np.zeros((3, 3)), np.zeros((3, 3)),np.zeros((2, 2))]  <br/>feature_types = ['type-2-x', 'type-2-y','type-3-x', 'type-3-y',                  'type-4']  <br/>fig, axs = plt.subplots(3, 2) <br/><strong class="oa ir">for</strong> ax, img, feat_t <strong class="oa ir">in</strong> zip(np.ravel(axs), images, feature_types): <br/>    coord, _ = haar_like_feature_coord(img.shape[0], <br/>                                       img.shape[1], <br/>                                       feat_t)     <br/>    haar_feature = draw_haar_like_feature(img, 0, 0,       img.shape[0],img.shape[1],coord,max_n_features=1,                       random_state=0)     <br/>    ax.imshow(haar_feature)     <br/>    ax.set_title(feat_t)     <br/>    ax.set_xticks([])     <br/>    ax.set_yticks([])  </span><span id="6124" class="oe kv iq oa b gy oy og l oh oi">fig.suptitle('The different Haar-like feature descriptors') plt.axis('off') <br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/1fd25e5d5a922978152ddfdd04ce3bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:768/format:webp/1*ivEk7Qbz8Wam5ckg9B-drQ.png"/></div></figure><blockquote class="mi"><p id="b67b" class="mj mk iq bd ml mm oo op oq or os mh dk translated">LBP特征</p></blockquote><ul class=""><li id="b71b" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">局部二元模式</li></ul><blockquote class="ni nj nk"><p id="acba" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">元素</p></blockquote><ul class=""><li id="1f66" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">LBP阈值</li><li id="841f" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">特征求和</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/e0b9498e52790caf88f11677dfff7520.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*NqWEyM_EJCg1VZsHFSrzzg.png"/></div></figure><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="1261" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">skimage</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">skimage.feature</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/plant.jpg", 0);<br/><em class="nl">#img = cv2.resize(img, (img.shape[0]//4,img.shape[1]//4));</em><br/><br/>output = skimage.feature.local_binary_pattern(img, 3, 8, method='default')<br/>print(features.shape);<br/><br/><em class="nl"># Rescale histogram for better display</em><br/><em class="nl">#output = skimage.exposure.rescale_intensity(output, in_range=(0, 10))</em><br/><br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(2, 1, 1).set_title('Original Image');<br/>plt.imshow(img, cmap="gray")<br/>f.add_subplot(2, 1, 2).set_title('Features');<br/>plt.imshow(output);<br/>plt.show()</span></pre><p id="570f" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">输出</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="3aa5" class="oe kv iq oa b gy of og l oh oi">(2, 3, 153)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi pb"><img src="../Images/33937ada973afbd45efca25fc189e9f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0Nyo_UxegOY0LeGCXRNSQ.png"/></div></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/7568a60b78c281c636871df64fcc5451.png" data-original-src="https://miro.medium.com/v2/resize:fit:1330/format:webp/1*UX9N4z44wUgiTYcb1vy2jw.png"/></div></figure><blockquote class="mi"><p id="bc28" class="mj mk iq bd ml mm oo op oq or os mh dk translated">作为特征的斑点</p></blockquote><ul class=""><li id="8855" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">斑点检测方法旨在检测数字图像中与周围区域相比在诸如亮度或颜色等属性上不同的区域。</li><li id="a4e8" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">非正式地，斑点是图像的一个区域，其中一些属性是恒定的或近似恒定的，斑点中的所有点在某种意义上可以被认为是彼此相似的。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi pd"><img src="../Images/1b8e32be1343e452bf24b0f1c533f212.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBQXyL4Yp9s-hyUZWZlDUQ.png"/></div></div></figure><blockquote class="ni nj nk"><p id="9917" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用Skimage的Blobs</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="f66d" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">skimage</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">skimage.feature</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">math</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/><br/>img = cv2.imread("imgs/chapter9/shape.jpg", 0)<br/><em class="nl">#img = skimage.data.hubble_deep_field()[0:500, 0:500]</em><br/><em class="nl">#image_gray = skimage.color.rgb2gray(image)</em><br/><br/>blobs = skimage.feature.blob_dog(img, max_sigma=5, threshold=0.05)<br/><br/>blobs[:, 2] = blobs[:, 2]<br/>print(blobs.shape)<br/><br/><strong class="oa ir">for</strong> y , x, r <strong class="oa ir">in</strong> blobs:<br/>    cv2.circle(img,(int(x), int(y)), int(r), (0,255,0), 1)<br/><br/><br/>f = plt.figure(figsize=(15,15))<br/>f.add_subplot(2, 1, 1).set_title('Original Image');<br/>plt.imshow(img, cmap="gray")<br/>plt.show()</span></pre><p id="c044" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">输出</p><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="6e28" class="oe kv iq oa b gy of og l oh oi">(91, 3)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/19e5ce4d1cb731cbf82beda6e63ea052.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*iWdx3ka_w74Wn5OxyxDrHw.png"/></div></figure><blockquote class="ni nj nk"><p id="c805" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">利用斑点探测深空星系</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="72ea" class="oe kv iq oa b gy of og l oh oi"><em class="nl">'''<br/>Source: <br/>https://scikitimage.org/docs/dev/auto_examples/features_detection/plot_blob.html</em></span><span id="e9bd" class="oe kv iq oa b gy oy og l oh oi">'''</span><span id="d885" class="oe kv iq oa b gy oy og l oh oi"><strong class="oa ir">from</strong> <strong class="oa ir">math</strong> <strong class="oa ir">import</strong> sqrt<br/><strong class="oa ir">from</strong> <strong class="oa ir">skimage</strong> <strong class="oa ir">import</strong> data<br/><strong class="oa ir">from</strong> <strong class="oa ir">skimage.feature</strong> <strong class="oa ir">import</strong> blob_dog, blob_log, blob_doh<br/><strong class="oa ir">from</strong> <strong class="oa ir">skimage.color</strong> <strong class="oa ir">import</strong> rgb2gray<br/><br/><strong class="oa ir">import</strong> <strong class="oa ir">matplotlib.pyplot</strong> <strong class="oa ir">as</strong> <strong class="oa ir">plt</strong><br/><br/><br/>image = data.hubble_deep_field()[0:500, 0:500]<br/>image_gray = rgb2gray(image)<br/><br/>blobs_log = blob_log(image_gray, max_sigma=30, num_sigma=10, threshold=.1)<br/><br/><em class="nl"># Compute radii in the 3rd column.</em><br/>blobs_log[:, 2] = blobs_log[:, 2] * sqrt(2)<br/><br/>blobs_dog = blob_dog(image_gray, max_sigma=30, threshold=.1)<br/>blobs_dog[:, 2] = blobs_dog[:, 2] * sqrt(2)<br/><br/>blobs_doh = blob_doh(image_gray, max_sigma=30, threshold=.01)<br/><br/>blobs_list = [blobs_log, blobs_dog, blobs_doh]<br/>colors = ['yellow', 'lime', 'red']<br/>titles = ['Laplacian of Gaussian', 'Difference of Gaussian',<br/>          'Determinant of Hessian']<br/>sequence = zip(blobs_list, colors, titles)<br/><br/>fig, axes = plt.subplots(3, 1, figsize=(15, 15), sharex=<strong class="oa ir">True</strong>, sharey=<strong class="oa ir">True</strong>)<br/>ax = axes.ravel()<br/><strong class="oa ir">for</strong> idx, (blobs, color, title) <strong class="oa ir">in</strong> enumerate(sequence):<br/>    ax[idx].set_title(title)<br/>    ax[idx].imshow(image, interpolation='nearest')<br/>    <strong class="oa ir">for</strong> blob <strong class="oa ir">in</strong> blobs:<br/>        y, x, r = blob<br/>        c = plt.Circle((x, y), r, color=color, linewidth=2, fill=<strong class="oa ir">False</strong>)<br/>        ax[idx].add_patch(c)<br/>    ax[idx].set_axis_off()<br/><br/>plt.tight_layout()<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/d478c9d63758b3cfe716ac6fc746473c.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*SR-Y3bQaAiGfytqeGUt0Jg.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/bdb75778b7a8857e1dcc5ba92927a10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/format:webp/1*4z0J4h0ZoFFzFm8j2OipPQ.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/fca723238506e4ed8149dee3b81aa1f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:764/format:webp/1*JNYmbMY7-jwNm6XS4NT1pQ.png"/></div></figure><p id="391a" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated"><strong class="lo ir">B级特色</strong></p><blockquote class="mi"><p id="3669" class="mj mk iq bd ml mm mn mo mp mq mr mh dk translated">筛选特征</p></blockquote><ul class=""><li id="2f1e" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">尺度不变特征变换。</li><li id="02c3" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">由加拿大不列颠哥伦比亚大学申请专利。</li></ul><blockquote class="ni nj nk"><p id="175f" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">这些功能是:</p></blockquote><ul class=""><li id="d036" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">比例不变</li><li id="9784" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">旋转不变量</li><li id="37a9" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">光照不变量</li><li id="744f" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">视点不变量</li></ul><blockquote class="ni nj nk"><p id="9ecf" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">筛选步骤</p></blockquote><ul class=""><li id="56f2" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">建构一个尺度空间——金字塔世代</li><li id="22d6" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">对数近似-高斯特征和梯度的拉普拉斯算子。</li><li id="0f95" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">在高斯图像的差异中寻找关键点-最大值和最小值。</li><li id="4bb6" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">消除不好的关键点。</li><li id="20bc" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">为关键点指定方向。</li><li id="86c2" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">生成最终SIFT特征-为比例和旋转不变性生成另一种表示。</li></ul><blockquote class="ni nj nk"><p id="f4d3" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用OpenCV实现SIFT特性</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="f209" class="oe kv iq oa b gy of og l oh oi"><em class="nl">'''<br/>NOTE: Patented work. Cannot be used for commercial purposes</em></span><span id="95f0" class="oe kv iq oa b gy oy og l oh oi"><em class="nl">1.pip install opencv-contrib-python==3.4.2.16</em><br/><em class="nl">2.pip install opencv-python==3.4.2.16</em><br/>'''<br/><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/>print(cv2.__version__)<br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>sift = cv2.xfeatures2d.SIFT_create()<br/>keypoints, descriptors = sift.detectAndCompute(gray, <strong class="oa ir">None</strong>)<br/><br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/57137bed1161d1bf2c2037934042b001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*4HOse8f9BfgskSai-SNTzg.png"/></div></figure><blockquote class="mi"><p id="6278" class="mj mk iq bd ml mm oo op oq or os mh dk translated">责难特征</p></blockquote><ul class=""><li id="0ec1" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">中央环绕极端实时特征检测。</li><li id="46cd" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">优于许多其他关键点检测器和特征提取器。</li></ul><blockquote class="ni nj nk"><p id="578c" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">这些功能是</p></blockquote><ul class=""><li id="46c3" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">比例不变</li><li id="7b5a" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">旋转不变量</li><li id="5619" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">光照不变量</li><li id="675c" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">视点不变量</li></ul><blockquote class="ni nj nk"><p id="acbf" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用Skimage实现责难功能</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="2f11" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">skimage.feature</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>detector = skimage.feature.CENSURE(min_scale=1, max_scale=7, mode='Star', <br/>                                          non_max_threshold=0.05, line_threshold=10)<br/><br/>detector.detect(gray)<br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> detector.keypoints:<br/>    x,y = int(i[1]), int(i[0])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/a9061af46a0012e5846f26688c9c3c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1082/format:webp/1*6Lzo4C2niUhJxVVAI4EV6w.png"/></div></figure><blockquote class="mi"><p id="4f95" class="mj mk iq bd ml mm oo op oq or os mh dk translated">冲浪特征</p></blockquote><ul class=""><li id="3b5b" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">加速强大的功能。</li><li id="3ab7" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">获得专利的局部特征检测器和描述符。</li><li id="5343" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">SURF的标准版比SIFT快好几倍。</li></ul><blockquote class="ni nj nk"><p id="b8a3" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">SURF使用这些算法</p></blockquote><ul class=""><li id="2cb6" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">Hessian blob检测器行列式的整数近似。</li><li id="d7ac" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">哈尔小波响应之和</li><li id="5116" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">多分辨率金字塔技术。</li></ul><blockquote class="ni nj nk"><p id="9ebc" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">这些功能是</p></blockquote><ul class=""><li id="855a" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">比例不变</li><li id="53ac" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">旋转不变量</li><li id="fb53" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">视点不变。</li></ul><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="b058" class="oe kv iq oa b gy of og l oh oi"><em class="nl">'''<br/>NOTE: Patented work. Cannot be used for commercial purposes</em><br/><em class="nl"><br/>1.pip install opencv-contrib-python==3.4.2.16</em><br/><em class="nl">2.pip install opencv-python==3.4.2.16</em><br/>'''</span><span id="e031" class="oe kv iq oa b gy oy og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>surf = cv2.xfeatures2d.SURF_create(1000)<br/>keypoints, descriptors = surf.detectAndCompute(gray, <strong class="oa ir">None</strong>)<br/><br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/e557ae87cf977fd47c7c48b8c15983ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/1*giTu0MAWy8gW9-fyp-W0CA.png"/></div></figure><blockquote class="mi"><p id="fbac" class="mj mk iq bd ml mm oo op oq or os mh dk translated">简要特征</p></blockquote><ul class=""><li id="f0b5" class="ms mt iq lo b lp mu ls mv lv mw lz mx md my mh mz na nb nc bi translated">二元鲁棒独立基本特征。</li><li id="964f" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">在许多情况下，在速度和识别率方面优于SURF和SIFT等其他快速描述符。</li></ul><blockquote class="ni nj nk"><p id="df60" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">步伐</p></blockquote><ul class=""><li id="6a36" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">使用高斯核的图像平滑。</li><li id="7c28" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">转换成二进制特征向量。</li></ul><blockquote class="ni nj nk"><p id="7eab" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用OpenCV实现简短特性</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="9b56" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/><em class="nl"># Initiate FAST detector</em><br/>star = cv2.xfeatures2d.StarDetector_create()<br/>kp = star.detect(gray,<strong class="oa ir">None</strong>)<br/><br/>brief = cv2.xfeatures2d.BriefDescriptorExtractor_create()<br/>keypoints, descriptors = brief.compute(gray, kp)<br/><br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/7c5336588e7ca2e110ec9d0efe589291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1056/format:webp/1*CY8OHqKbaF1JfZ4N-28ybQ.png"/></div></figure><blockquote class="mi"><p id="2281" class="mj mk iq bd ml mm oo op oq or os mh dk translated">活泼的特征</p></blockquote><p id="437d" class="pw-post-body-paragraph lm ln iq lo b lp mu jr lr ls mv ju lu lv pm lx ly lz pn mb mc md po mf mg mh ij bi translated">二元鲁棒独立基本特征。</p><blockquote class="ni nj nk"><p id="97d7" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">由三部分组成</p></blockquote><ul class=""><li id="c11a" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">采样模式:描述符周围的采样点</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/3d578e02631fc27b894f70209e80c626.png" data-original-src="https://miro.medium.com/v2/resize:fit:612/format:webp/1*WzgQVJjkBxzZxsCKF3lm2Q.png"/></div></figure><ul class=""><li id="b62a" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">方向补偿:一些关键点和旋转方向的机制。</li><li id="3831" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">采样对:构建最终描述符时要比较哪些对。</li></ul><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="7d23" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>brisk = cv2.BRISK_create()<br/>keypoints, descriptors = brisk.detectAndCompute(gray, <strong class="oa ir">None</strong>)<br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/afade48bae754177221d95ceb14b5064.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Mc0dKkdxZ52_4_nGPY2uLg.png"/></div></figure><blockquote class="mi"><p id="47a6" class="mj mk iq bd ml mm oo op oq or os mh dk translated">卡兹和加速-卡兹功能</p></blockquote><blockquote class="ni nj nk"><p id="a69c" class="lm ln nl lo b lp mu jr lr ls mv ju lu no pm lx ly nq pn mb mc ns po mf mg mh ij bi translated">使用OpenCV的KAZE特性</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="ab4f" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>kaze = cv2.KAZE_create()<br/>keypoints, descriptors = kaze.detectAndCompute(gray, <strong class="oa ir">None</strong>)<br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/b8264ea9079c378b50274cd66a68e3ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:994/format:webp/1*IaJz_3iB32BOyrzCqP5ZJg.png"/></div></figure><blockquote class="mi"><p id="6234" class="mj mk iq bd ml mm oo op oq or os mh dk translated">阿卡泽特征</p></blockquote><blockquote class="ni nj nk"><p id="958c" class="lm ln nl lo b lp mu jr lr ls mv ju lu no pm lx ly nq pn mb mc ns po mf mg mh ij bi translated">使用OpenCV的AKAZE特性</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="feb8" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>akaze = cv2.AKAZE_create()<br/>keypoints, descriptors = akaze.detectAndCompute(gray, <strong class="oa ir">None</strong>)<br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1]);<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/7ab908814c7b15d5e6fdaf29889cf44c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1130/format:webp/1*HjO-3x7i8H6sMhPSH_H-2w.png"/></div></figure><blockquote class="mi"><p id="ea3e" class="mj mk iq bd ml mm oo op oq or os mh dk translated">ORB功能</p></blockquote><p id="75ef" class="pw-post-body-paragraph lm ln iq lo b lp mu jr lr ls mv ju lu lv pm lx ly lz pn mb mc md po mf mg mh ij bi translated">面向快速和健壮的简要特征</p><blockquote class="ni nj nk"><p id="2cb0" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用OpenCV的Orb特性</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="5eb7" class="oe kv iq oa b gy of og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/>img = cv2.imread("imgs/chapter9/indoor.jpg", 1)<br/><br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/><br/>orb = cv2.ORB_create(500)<br/>keypoints, descriptors = orb.detectAndCompute(gray, <strong class="oa ir">None</strong>)<br/><br/><strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> keypoints:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img,(x,y), 5,(0, 125, 125),-1)<br/><br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/34ebe1e6a1a68b0bdf349e700989b567.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*B_Op62C8RnyOYr0A-ZO2vw.png"/></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="1e4b" class="ku kv iq bd kw kx ky kz la lb lc ld le jw lf jx lg jz lh ka li kc lj kd lk ll bi translated">特征匹配</h1><ul class=""><li id="9bcd" class="ms mt iq lo b lp lq ls lt lv pt lz pu md pv mh mz na nb nc bi translated">这样做是为了识别多幅图像中的相似特征。</li><li id="7b42" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">用于对象检测。</li></ul><blockquote class="ni nj nk"><p id="a43d" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">方法</p></blockquote><ol class=""><li id="cf1b" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh pw na nb nc bi translated"><strong class="lo ir">蛮力</strong></li></ol><p id="e9f5" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">将图像1中的每个特征与图像2中的每个特征进行匹配</p><p id="cb2c" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">2.<strong class="lo ir">弗兰恩基础匹配</strong></p><ul class=""><li id="4e8c" class="ms mt iq lo b lp nm ls nn lv nu lz nv md nw mh mz na nb nc bi translated">近似最近邻的快速库。</li><li id="08ee" class="ms mt iq lo b lp nd ls ne lv nf lz ng md nh mh mz na nb nc bi translated">它包含一组针对大型数据集中的快速最近邻搜索和高维特征优化的算法。</li></ul><blockquote class="ni nj nk"><p id="b6f9" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用OpenCV进行特征匹配</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="d759" class="oe kv iq oa b gy of og l oh oi"><em class="nl">'''<br/>Using Brute-Force matching</em><br/>'''<br/><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/><br/>orb = cv2.ORB_create(500)<br/><br/>img1 = cv2.imread("imgs/chapter9/indoor_lamp.jpg", 1);<br/>img1 = cv2.resize(img1, (256, 256));<br/>gray1 = cv2.cvtColor(img1,cv2.COLOR_BGR2GRAY);<br/><br/>img2 = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/>img2 = cv2.resize(img2, (640, 480));<br/>gray2 = cv2.cvtColor(img2,cv2.COLOR_BGR2GRAY);<br/><br/><em class="nl"># find the keypoints and descriptors with SIFT</em><br/>kp1, des1 = orb.detectAndCompute(img1,<strong class="oa ir">None</strong>)<br/>kp2, des2 = orb.detectAndCompute(img2,<strong class="oa ir">None</strong>)<br/><br/><em class="nl"># BFMatcher with default params</em><br/>bf = cv2.BFMatcher()<br/>matches = bf.knnMatch(des1,des2,k=2)<br/><br/><em class="nl"># Apply ratio test</em><br/>good = []<br/><strong class="oa ir">for</strong> m,n <strong class="oa ir">in</strong> matches:<br/>    <strong class="oa ir">if</strong> m.distance &lt; 0.75*n.distance:<br/>        good.append([m])<br/><br/>        <em class="nl"># cv.drawMatchesKnn expects list of lists as matches.</em><br/>img3 = cv2.drawMatchesKnn(img1,kp1,img2,kp2,good,<strong class="oa ir">None</strong>,flags=cv2.DrawMatchesFlags_NOT_DRAW_SINGLE_POINTS)<br/><br/>plt.figure(figsize=(15, 15))<br/>plt.imshow(img3[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi px"><img src="../Images/e67358034e5bef191ed5ce48ef515b4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*temPrnrzmgw8VdngkmOuvA.png"/></div></div></figure><blockquote class="ni nj nk"><p id="11a9" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated">使用OpenCV的FLann匹配器</p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="ca9a" class="oe kv iq oa b gy of og l oh oi"><em class="nl">'''<br/>Using Flann-based matching on ORB features</em><br/>'''</span><span id="c0aa" class="oe kv iq oa b gy oy og l oh oi"><strong class="oa ir">import</strong> <strong class="oa ir">numpy</strong> <strong class="oa ir">as</strong> <strong class="oa ir">np</strong><br/><strong class="oa ir">import</strong> <strong class="oa ir">cv2</strong><br/><strong class="oa ir">from</strong> <strong class="oa ir">matplotlib</strong> <strong class="oa ir">import</strong> pyplot <strong class="oa ir">as</strong> plt<br/><strong class="oa ir">import</strong> <strong class="oa ir">imutils</strong><br/><br/>orb = cv2.ORB_create(500)<br/><br/>img1 = cv2.imread("imgs/chapter9/indoor_lamp.jpg", 1);<br/>img1 = cv2.resize(img1, (256, 256));<br/>gray1 = cv2.cvtColor(img1,cv2.COLOR_BGR2GRAY);<br/><br/>img2 = cv2.imread("imgs/chapter9/indoor.jpg", 1);<br/>img2 = cv2.resize(img2, (640, 480));<br/>gray2 = cv2.cvtColor(img2,cv2.COLOR_BGR2GRAY);<br/><br/><em class="nl"># find the keypoints and descriptors with SIFT</em><br/>kp1, des1 = orb.detectAndCompute(img1,<strong class="oa ir">None</strong>)<br/>kp2, des2 = orb.detectAndCompute(img2,<strong class="oa ir">None</strong>)<br/><br/><em class="nl"># FLANN parameters</em><br/>FLANN_INDEX_LSH = 6<br/>index_params= dict(algorithm = FLANN_INDEX_LSH,<br/>                   table_number = 6, <em class="nl"># 12</em><br/>                   key_size = 12,     <em class="nl"># 20</em><br/>                   multi_probe_level = 1) <em class="nl">#2</em><br/>search_params = dict(checks=50)   <em class="nl"># or pass empty dictionary</em><br/>flann = cv2.FlannBasedMatcher(index_params,search_params)<br/>matches = flann.knnMatch(des1,des2,k=2)<br/><em class="nl"># Need to draw only good matches, so create a mask</em><br/>matchesMask = [[0,0] <strong class="oa ir">for</strong> i <strong class="oa ir">in</strong> range(len(matches))]<br/><em class="nl"># ratio test as per Lowe's paper<br/></em><strong class="oa ir">for</strong> i,(m,n) <strong class="oa ir">in</strong> enumerate(matches):<br/>    <strong class="oa ir">if</strong> m.distance &lt; 0.7*n.distance:<br/>        matchesMask[i]=[1,0]<br/>draw_params = dict(matchColor = (0,255,0),<br/>                   singlePointColor = (255,0,0),<br/>                   matchesMask = matchesMask,<br/>                   flags = cv2.DrawMatchesFlags_DEFAULT)<br/>img3 = cv2.drawMatchesKnn(img1,kp1,img2,kp2,matches,<strong class="oa ir">None</strong>,**draw_params)<br/><br/>plt.figure(figsize=(15, 15))<br/>plt.imshow(img3[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi py"><img src="../Images/adb05daf12df2c776a87f9c12edf6826.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UUfnB_jmfgQzNzXTOl2PzQ.png"/></div></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="ef1d" class="ku kv iq bd kw kx ky kz la lb lc ld le jw lf jx lg jz lh ka li kc lj kd lk ll bi translated">图像拼接</h1><ul class=""><li id="16b1" class="ms mt iq lo b lp lq ls lt lv pt lz pu md pv mh mz na nb nc bi translated">图像拼接或照片拼接是将多个具有重叠视野的照片图像组合起来以产生分段全景或高分辨率图像的过程。</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi pz"><img src="../Images/3c7011b3600ae65791b26d9f530702b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ap8sEt7BYqciHYtT-nuRLA.png"/></div></div></figure><blockquote class="ni nj nk"><p id="541d" class="lm ln nl lo b lp nm jr lr ls nn ju lu no np lx ly nq nr mb mc ns nt mf mg mh ij bi translated"><strong class="lo ir">使用OpenCV的图像拼接</strong></p></blockquote><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="506f" class="oe kv iq oa b gy of og l oh oi">from matplotlib import pyplot as plt<br/>%matplotlib inline<br/>import cv2<br/>import numpy as np<br/>import argparse<br/>import sys<br/>modes = (cv2.Stitcher_PANORAMA, cv2.Stitcher_SCANS)</span><span id="2601" class="oe kv iq oa b gy oy og l oh oi"># read input images</span><span id="529d" class="oe kv iq oa b gy oy og l oh oi">imgs = [cv2.imread("imgs/chapter9/left.jpeg", 1),cv2.imread("imgs/chapter9/right.jpeg", 1)]</span><span id="c5f7" class="oe kv iq oa b gy oy og l oh oi">stitcher = cv2.Stitcher.create(cv2.Stitcher_PANORAMA)<br/>status, pano = stitcher.stitch(imgs)</span><span id="cba3" class="oe kv iq oa b gy oy og l oh oi">f = plt.figure(figsize=(15,15))<br/>f.add_subplot(1, 2, 1).set_title('Left Image')<br/>plt.imshow(imgs[0][:,:,::-1])<br/>f.add_subplot(1, 2, 2).set_title('Right Image')<br/>plt.imshow(imgs[1][:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi qa"><img src="../Images/98e18c8d9daec677ccdad8e543c115a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W6nRYKCKbzl5Sd7amlKm0w.png"/></div></div></figure><pre class="kg kh ki kj gt nz oa ob oc aw od bi"><span id="ac44" class="oe kv iq oa b gy of og l oh oi">plt.figure(figsize=(15, 15))<br/>plt.imshow(pano[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi qb"><img src="../Images/ebb697867544d533bb32ec6ac5313d35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e7wrMCDncWzSI3UYJinDLw.png"/></div></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="bb7a" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">你可以在<a class="ae qc" href="https://github.com/Tessellate-Imaging/monk_v1/blob/master/study_roadmaps/3_image_processing_deep_learning_roadmap/1_image_processing_basics/9)%20Features%20in%20Images.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到完整的jupyter笔记本。</p><p id="4825" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">有问题可以联系<a class="ae qc" href="https://www.linkedin.com/in/abhishek-kumar-annamraju/" rel="noopener ugc nofollow" target="_blank"> Abhishek </a>和<a class="ae qc" href="https://www.linkedin.com/in/akashdeepsingh01/" rel="noopener ugc nofollow" target="_blank"> Akash </a>。请随意联系他们。</p><p id="4da9" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">我对计算机视觉和深度学习充满热情。我是<a class="ae qc" href="https://github.com/Tessellate-Imaging/Monk_Object_Detection" rel="noopener ugc nofollow" target="_blank"> Monk </a>库的开源贡献者。</p><p id="fb83" class="pw-post-body-paragraph lm ln iq lo b lp nm jr lr ls nn ju lu lv np lx ly lz nr mb mc md nt mf mg mh ij bi translated">你也可以在以下网址看到我的其他作品:</p><div class="qd qe gp gr qf qg"><a href="https://medium.com/@akulahemanth" rel="noopener follow" target="_blank"><div class="qh ab fo"><div class="qi ab qj cl cj qk"><h2 class="bd ir gy z fp ql fr fs qm fu fw ip bi translated">阿库拉·赫曼思·库马尔培养基</h2><div class="qn l"><h3 class="bd b gy z fp ql fr fs qm fu fw dk translated">阅读阿库拉·赫曼思·库马尔在媒介上的作品。计算机视觉爱好者。每天，阿库拉·赫曼思·库马尔和…</h3></div><div class="qo l"><p class="bd b dl z fp ql fr fs qm fu fw dk translated">medium.com</p></div></div><div class="qp l"><div class="qq l qr qs qt qp qu kl qg"/></div></div></a></div></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oj ok di ol bf om"><div class="gh gi qv"><img src="../Images/4db0c65b45ec31de19c3758ea7ebb17a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2afEaBVVkMul7QYOApnAxQ.jpeg"/></div></div><figcaption class="qw qx gj gh gi qy qz bd b be z dk translated">照片由<a class="ae qc" href="https://www.instagram.com/_fernwehd_._/" rel="noopener ugc nofollow" target="_blank"> Srilekha </a>拍摄</figcaption></figure></div></div>    
</body>
</html>