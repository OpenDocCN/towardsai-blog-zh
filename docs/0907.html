<html>
<head>
<title>Automating Data Science with dabl</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用dabl实现数据科学自动化</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/automating-data-science-with-dabl-76acb7344727?source=collection_archive---------0-----------------------#2020-09-09">https://pub.towardsai.net/automating-data-science-with-dabl-76acb7344727?source=collection_archive---------0-----------------------#2020-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="621f" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="66cd" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">人类数据科学家真的需要吗？</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/80b286d9102e379b0471e00eb50e33bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3_aYlzSU0e22ACbOsLhl-w.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">来源:<a class="ae le" href="https://www.forbesindia.com/blog/technology/five-steps-to-building-a-successful-automation-roadmap/" rel="noopener ugc nofollow" target="_blank">福布斯</a></figcaption></figure><p id="2e52" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" href="https://amueller.github.io/dabl/dev/" rel="noopener ugc nofollow" target="_blank"> dabl </a>代表数据分析基线库。dabl背后的想法是让监督学习自动化，以减少常见任务的样板文件。这意味着，在建立任何预测模型时，必须清理、分析数据，并通过许多具有不同参数调整的模型来运行数据，以获得最佳准确率，这需要几行代码和人工时间，所有这些任务都将由dabl处理，只需很少的几行代码，从而节省了每天处理大量数据的人员的时间和金钱。</p><p id="43e5" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">开发该库的主要想法是让数据科学家花更多的时间思考问题陈述，并创建更多的自定义分析，而不是每次都重复相同的传统步骤。dabl从scikit-learn和auto-sklearn获得灵感。让我们开始吧。</p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="695d" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">安装和导入</h2><p id="540f" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">我们只需要导入一个库，它可以完成所有必要的任务。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="800c" class="mi mj iq ng b gy nk nl l nm nn">!pip install dabl<br/>import dabl</span></pre><h2 id="3ada" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">获取数据</h2><p id="1b02" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">dabl中几乎没有可以直接加载和使用的数据帧。我们还可以使用常规的Pandas风格来读取任何外部数据。我们将处理包含成人人口普查数据集的数据框架。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="1253" class="mi mj iq ng b gy nk nl l nm nn">df = dabl.datasets.load_adult()<br/>df.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi no"><img src="../Images/0de736c518754e9bc2d37705a56e8d6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v6MAN3ReaIjDuV6aMhfXuA.png"/></div></div></figure><h2 id="444f" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">数据清理</h2><p id="b258" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">我们都知道第一步是数据清理。dabl尝试检测数据集中的数据类型，并应用适当的转换。dabl的目标是为数据可视化和模型清理足够多的数据。如果需要，我们还可以进行定制清洗。</p><blockquote class="np"><p id="eccf" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated"><code class="fe nz oa ob ng b"><strong class="ak">dabl.clean</strong></code> <strong class="ak"> ( <em class="oc"> X </em>，<em class="oc"> type_hints=None </em>，<em class="oc"> return_types=False </em>，<em class="oc"> target_col=None </em>，<em class="oc"> verbose=0 </em> ) </strong></p><p id="c788" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated">x:数据帧</p><p id="1e53" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated">type_hinta:如果语义类型(连续、分类、顺序、文本等)检测失败</p><p id="a99a" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated">return_type:是否返回推断的类型</p><p id="c56d" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated"><strong class="ak"> target_colstring: </strong>从不删除目标列</p></blockquote><pre class="od oe of og oh nf ng nh ni aw nj bi"><span id="6f97" class="mi mj iq ng b gy nk nl l nm nn">data_clean = dabl.clean(df, type_hints={"capital-gain": "continuous"})<br/>data_clean</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oi"><img src="../Images/5fbc60090d6e88e6ce34acf576aa4a9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KbHlsstbG7W2GSB7Xvlg0Q.png"/></div></div></figure><h2 id="ef27" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">描述数据集</h2><p id="d2be" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">传统上我们申请。info()来获得初步的见解，此外，我们可以使用dabl.data_types()来预测每一列的数据类型。</p><blockquote class="np"><p id="6a2c" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated"><code class="fe nz oa ob ng b"><strong class="ak">dabl.detect_types</strong></code> <strong class="ak"> ( <em class="oc"> X </em>，<em class="oc"> type_hints=None </em>，<em class="oc">max _ int _ cardinality = ' auto '</em>，<em class="oc">dirty _ float _ threshold = 0.9</em>，<em class="oc">near _ constant _ threshold = 0.95</em>，<em class="oc"> target_col=None </em>，<em class="oc"> verbose=0 </em> ) </strong></p></blockquote><blockquote class="oj ok ol"><p id="e32d" class="lf lg om lh b li on ka lk ll oo kd ln op oq lq lr or os lu lv ot ou ly lz ma ij bi translated">更多细节请看<a class="ae le" href="https://amueller.github.io/dabl/dev/generated/dabl.detect_types.html#dabl.detect_types" rel="noopener ugc nofollow" target="_blank">文档</a>。</p></blockquote><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="c841" class="mi mj iq ng b gy nk nl l nm nn">dabl.detect_types(df)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ov"><img src="../Images/2c0572be2df1b7ffdd8277668faeeadc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MDf4eAMK0WAmufIMiUrPmw.png"/></div></div></figure><h2 id="0f5d" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">探索性数据分析</h2><p id="6b4a" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated"><a class="ae le" href="https://amueller.github.io/dabl/dev/generated/dabl.plot.html#dabl.plot" rel="noopener ugc nofollow" target="_blank"> dabl.plot() </a>会让你快速洞察数据。然而，dabl并不保证提供数据的所有有趣方面。它提供了非常高层次的见解，比如重要的特性、它们之间的交互以及问题的难度。人们不得不再次执行传统的定制绘图来进行特定的分析。</p><blockquote class="np"><p id="db4a" class="nq nr iq bd ns nt nu nv nw nx ny ma dk translated"><code class="fe nz oa ob ng b"><strong class="ak">dabl.plot</strong></code> <strong class="ak"> ( <em class="oc"> X </em>，<em class="oc"> y=None </em>，<em class="oc"> target_col=None </em>，<em class="oc"> type_hints=None </em>，<em class="oc"> scatter_alpha='auto' </em>，<em class="oc"> scatter_size='auto' </em>，<em class="oc"> verbose=10 </em>，<em class="oc"> plot_pairwise=True </em>，<em class="oc"> **kwargs </em>)</strong></p></blockquote><pre class="od oe of og oh nf ng nh ni aw nj bi"><span id="d08a" class="mi mj iq ng b gy nk nl l nm nn">dabl.plot(df, target_col="income")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/c262521176f3ad712e3fcf5bfddf5287.png" data-original-src="https://miro.medium.com/v2/resize:fit:1182/format:webp/1*vyKxoT7ESjdMmtVPUnAgsg.png"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/dcd56e805f8707418003246655a8984e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*GnclgL1T5vmCp80CoFdb8A.png"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oy"><img src="../Images/b25247ca80cb6f5275e41fd85f06c219.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Amb5dDm3NCl_ZLfL_PwZsw.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/bc5a406b4a93ebeb955797ee3f436bec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*iU6paA3RGFCA-5tY_11i8Q.png"/></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pa"><img src="../Images/8a9d015c55e5a00729a6d4d48abd866b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pCafzVgOsNXKfaJLpL4eSw.png"/></div></div></figure><p id="f125" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">很神奇吧，我们只用了半行代码就获得了很好的洞察力。</p><h2 id="96bb" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">模型结构</h2><p id="81db" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">SimpleClassifier试图找到最适合的模型。它对二次抽样数据应用了几条基线。由于dabl受到scikit-learn的启发，它允许我们指定符合scikit-learn风格的数据。做这件事有两种方法。</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="7b06" class="mi mj iq ng b gy nk nl l nm nn">model = dabl.SimpleClassifier(random_state=0)<br/>X = data_clean.drop("income", axis=1)<br/>y = data_clean.income<br/>model.fit(X, y)</span></pre><p id="9204" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">或者</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="95bd" class="mi mj iq ng b gy nk nl l nm nn">model = dabl.SimpleClassifier(random_state=0).fit(data_clean, target_col="income")</span></pre><p id="c2d3" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">输出:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/4d26101bc1faae9ffc2e00cad998d41f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*zlzSN93iHM7tU7NNXl-KJQ.png"/></div></figure><p id="4956" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">正如我们所看到的，它应用了几个具有不同参数调整的模型，以找到最佳拟合模型和精确度分数。SimpleClassifier还执行预处理，如缺失值插补和一键编码。我们可以使用dabl.explain()来检查模型</p><pre class="kp kq kr ks gt nf ng nh ni aw nj bi"><span id="0dfd" class="mi mj iq ng b gy nk nl l nm nn">dabl.explain(model)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oy"><img src="../Images/264d854a6e6e78c9b90245c0c4e8d9cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2jLDC_JWhWa8c_XLdAE-BQ.png"/></div></div></figure></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h2 id="7626" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">人类数据科学家真的需要吗？</h2><p id="8c51" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">dabl确实很有趣，而且是自动化的，但是它仍然处于开发阶段，只有非常少的特性和功能。建议你去看看dabl提供的API 的<a class="ae le" href="https://amueller.github.io/dabl/dev/api.html" rel="noopener ugc nofollow" target="_blank">清单。我个人认为，部署一个功能齐全、功能丰富的版本仍然需要很多时间，而且当它完成时，业界必须信任并接受它。数据科学就是这样一个领域，每天都有一个独特的数据集和问题陈述/需求在行业中产生，因此在某些时候人工干预是必要的。我想说的是，自动化数据科学将是未来，但不是很快，所以你可以专注于提高技能或学习数据科学。请记住，总是提升自己的技能，每当你认为自己已经掌握了足够的知识，可以停止学习新技能时，就把这篇文章当作一个警钟。</a></p></div><div class="ab cl mb mc hu md" role="separator"><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg mh"/><span class="me bw bk mf mg"/></div><div class="ij ik il im in"><h1 id="e078" class="pc mj iq bd mk pd pe pf mn pg ph pi mq kf pj kg mt ki pk kj mw kl pl km mz pm bi translated">dabl的局限性</h1><p id="0f46" class="pw-post-body-paragraph lf lg iq lh b li na ka lk ll nb kd ln lo nc lq lr ls nd lu lv lw ne ly lz ma ij bi translated">目前(在撰写本文时), dabl不处理文本数据、时间序列数据和神经网络模型。图像、音频和视频数据完全不在讨论范围内。</p><h2 id="a07d" class="mi mj iq bd mk ml mm dn mn mo mp dp mq lo mr ms mt ls mu mv mw lw mx my mz iw bi translated">未来目标(在撰写本文时)</h2><ul class=""><li id="1c0b" class="pn po iq lh b li na ll nb lo pp ls pq lw pr ma ps pt pu pv bi translated">现成的可视化</li><li id="b19c" class="pn po iq lh b li pw ll px lo py ls pz lw qa ma ps pt pu pv bi translated">模型诊断</li><li id="4b23" class="pn po iq lh b li pw ll px lo py ls pz lw qa ma ps pt pu pv bi translated">高效模型搜索</li><li id="327d" class="pn po iq lh b li pw ll px lo py ls pz lw qa ma ps pt pu pv bi translated">类型检测</li><li id="a168" class="pn po iq lh b li pw ll px lo py ls pz lw qa ma ps pt pu pv bi translated">自动预处理</li><li id="3cd2" class="pn po iq lh b li pw ll px lo py ls pz lw qa ma ps pt pu pv bi translated">表现良好的渠道组合</li></ul><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qb"><img src="../Images/79afc6811c99706086335235d0b9df34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ULKYnzEMY7tjbK7s"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">凯利·西克玛在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure></div></div>    
</body>
</html>