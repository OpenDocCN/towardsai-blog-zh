<html>
<head>
<title>Descriptive Statistics with Pandas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫的描述性统计</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/descriptive-statistics-with-pandas-a1e206287199?source=collection_archive---------2-----------------------#2020-10-14">https://pub.towardsai.net/descriptive-statistics-with-pandas-a1e206287199?source=collection_archive---------2-----------------------#2020-10-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="83b2" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a>，<a class="ae ep" href="https://towardsai.net/p/category/statistics" rel="noopener ugc nofollow" target="_blank">统计</a></h2><div class=""/><div class=""><h2 id="e2e6" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">带有示例、公式和python代码的统计概念</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/995e8d7e28689cd1dc865e0e8bf707c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wE08zmLWKQWk-KfBBXVfmg.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">来源:<a class="ae le" href="https://www.flexjobs.com/blog/post/big-work-and-flexibility-stats-from-2018-predictions-2019/" rel="noopener ugc nofollow" target="_blank"> flexjobs </a></figcaption></figure><h1 id="18ee" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated">内容</h1><ol class=""><li id="09e8" class="lx ly iq lz b ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated"><strong class="lz ja">位置估计</strong></li></ol><ul class=""><li id="b7ae" class="lx ly iq lz b ma mp mc mq me mr mg ms mi mt mk mu mm mn mo bi translated">平均</li><li id="627d" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">修整平均值</li><li id="a65b" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">加权平均数</li><li id="7882" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">中位数</li><li id="bcfa" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">方式</li></ul><p id="d60f" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">2.<strong class="lz ja">可变性的估计</strong></p><ul class=""><li id="345f" class="lx ly iq lz b ma mp mc mq me mr mg ms mi mt mk mu mm mn mo bi translated">偏差</li><li id="e812" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">平均绝对偏差</li><li id="cb87" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">中位数绝对偏差</li><li id="976d" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">差异</li><li id="21d3" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">标准偏差</li><li id="9099" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">四分位间距</li></ul><p id="4e54" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">3.<strong class="lz ja">相关性</strong></p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="1ec5" class="lf lg iq bd lh li nu lk ll lm nv lo lp kf nw kg lr ki nx kj lt kl ny km lv lw bi translated">了解数据集</h1><p id="cda9" class="pw-post-body-paragraph na nb iq lz b ma mb ka nc mc md kd nd me nz nf ng mg oa ni nj mi ob nl nm mk ij bi translated">我们将使用包含产品ID、成本价和售价的简单产品详情数据集来演示各种统计方法。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/3ff3a5ffa93d1af1b4c1b40c9f998c78.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*s4y8FHKHnY-JLa8l7u5Uxg.png"/></div></figure><h2 id="49a9" class="od lg iq bd lh oe of dn ll og oh dp lp me oi oj lr mg ok ol lt mi om on lv iw bi translated">导入和读取数据</h2><p id="b6ba" class="pw-post-body-paragraph na nb iq lz b ma mb ka nc mc md kd nd me nz nf ng mg oa ni nj mi ob nl nm mk ij bi translated">大多数的统计方法都可以用熊猫来做，除了修剪平均数(scipy)和加权平均数(numpy)。将产品数据读入名为“<em class="oo">产品</em>”的数据帧。Seaborn是一个图形绘图库。</p><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="3d8b" class="od lg iq oq b gy ou ov l ow ox">import numpy as np<br/>import pandas as pd<br/>from scipy import stats<br/>import seaborn as sns</span><span id="08de" class="od lg iq oq b gy oy ov l ow ox">products = pd.read_csv('products.csv')</span></pre></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><h1 id="c6d2" class="lf lg iq bd lh li nu lk ll lm nv lo lp kf nw kg lr ki nx kj lt kl ny km lv lw bi translated"><strong class="ak">位置估计</strong></h1><p id="ff0e" class="pw-post-body-paragraph na nb iq lz b ma mb ka nc mc md kd nd me nz nf ng mg oa ni nj mi ob nl nm mk ij bi translated">当有几个不同的值时，查看数据所在位置或中心的估计值通常非常有帮助。它也被称为<strong class="lz ja">集中趋势的度量</strong>。让我们看看不同的测量方法。</p><ol class=""><li id="6635" class="lx ly iq lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated"><strong class="lz ja">的意思是</strong></li></ol><p id="aed9" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">最基本的位置估计是数据的平均值，简单地说就是数值的平均T21。这是所有值的总和除以值的总数。</p><blockquote class="oz"><p id="32cf" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="dbd0" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">值:10，11，1，20，13</p><p id="4ada" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">平均值= (10+11+1+20+13)/5 = 11</p></blockquote><figure class="pk pl pm pn po kt gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/31c55f2ba082ac9455ccd80662e9321c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*4-YsTarC13x1aze1F6WXqQ.png"/></div></figure><blockquote class="pp pq pr"><p id="47ce" class="na nb oo lz b ma mp ka nc mc mq kd nd ps ne nf ng pt nh ni nj pu nk nl nm mk ij bi translated">平均值用“<em class="iq"> x-bar </em>”表示，<em class="iq"> n </em>是数值的总数。</p></blockquote><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="ec1e" class="od lg iq oq b gy ou ov l ow ox">products['Cost Price'].mean()</span><span id="f296" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output</strong>: 94.2</span></pre><p id="9e42" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">2.<strong class="lz ja">修剪后的平均值</strong></p><p id="5b29" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">平均值的另一个变体是修整平均值。修剪平均值只不过是从需要测量平均值的排序数据的极端值中排除一定百分比的值。</p><p id="1c35" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">例如，在跳水比赛中，五名裁判的最高分和最低分被去掉，最后得分是其余三名裁判的平均值。这使得单个裁判很难操纵比分。</p><blockquote class="oz"><p id="0ef4" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="9cc6" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">值:10，11，1，20，13</p><p id="cb6f" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">排序:1，10，11，13，20</p><p id="c37c" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">修整后:10、11、13</p><p id="0a1a" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">平均值= (10+11+13)/= 11.33</p></blockquote><blockquote class="pp pq pr"><p id="3d29" class="na nb oo lz b ma pv ka nc mc pw kd nd ps px nf ng pt py ni nj pu pz nl nm mk ij bi translated"><strong class="lz ja">注</strong>:由于示例中的值很小，因此平均值和修整平均值之间没有太大差异。当我们处理真实世界的数据时，修剪均值会产生影响。</p></blockquote><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qa"><img src="../Images/06a03b007fc99636935c1a8f3acfc83f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GOytZ6gdPe75yMjBwTbJYA.png"/></div></div></figure><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="5e59" class="od lg iq oq b gy ou ov l ow ox">#using stats from scipy<br/>#trimming 10%(0.1) of values from both end od sorted data<br/>#trim_mean() sorts the values internally<br/>stats.trim_mean(products[’Cost Price’], 0.1)</span><span id="d0ae" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output</strong>: 93.625</span></pre><p id="42b2" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">3.<strong class="lz ja">加权平均值</strong></p><p id="a6bb" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">加权平均值是另一种类型的平均值，我们将该值乘以用户指定的权重，并将它们的总和除以给定的总权重。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qb"><img src="../Images/56ce4a0a974d6913e6e939478d9d81dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJYvp_6fZBQ8tusdHYVjNA.png"/></div></div></figure><p id="8f17" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">其中<em class="oo"> w </em>是对应于值<em class="oo"> x </em>的重量。</p><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="e8dd" class="od lg iq oq b gy ou ov l ow ox">#generating random weights<br/>weights = [i for i in range(10,20)]</span><span id="89fe" class="od lg iq oq b gy oy ov l ow ox">#calculating weighted average<br/>np.average(products['Cost Price'], weights=weights)</span><span id="ca17" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output</strong>: 99.6896551724138</span></pre><p id="27e1" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated"><strong class="lz ja">什么时候使用加权平均值？</strong></p><ul class=""><li id="4f48" class="lx ly iq lz b ma mp mc mq me mr mg ms mi mt mk mu mm mn mo bi translated">假设我们取多个传感器读数的平均值，并且其中两个传感器不太准确，那么可能可行的是给该传感器分配较小的权重，而不是丢弃该读数。</li><li id="e0f9" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">假设我们可能没有代表数据集中所有组的数据。为了纠正这种情况，我们可以对预测不足的一组值赋予更高的权重。</li></ul><p id="b176" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">4.<strong class="lz ja">中间值</strong></p><p id="a868" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">Median不过是排序数据的<strong class="lz ja">中间值</strong>。如果有偶数个值，那么中值将是两个值的平均值，这两个值将把排序后的数据分成相等的下半部分和上半部分。</p><blockquote class="oz"><p id="eb4b" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">示例1</p><p id="78cc" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">值:10，11，1，20，13</p><p id="1c18" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">排序:1，10，11，13，20</p><p id="9178" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">中位数:11</p><p id="cd21" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">示例2</p><p id="7091" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">值:10，11，1，20，13，5</p><p id="a31e" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">排序:1，5，10，11，13，20</p><p id="40a9" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">中位数:(10+11)/2=10.5</p></blockquote><pre class="pk pl pm pn po op oq or os aw ot bi"><span id="d0d0" class="od lg iq oq b gy ou ov l ow ox">products['Cost Price'].median()</span><span id="6272" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output</strong>: 93.5</span></pre><p id="91d9" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated"><strong class="lz ja">为什么中位数高于平均数？</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi qc"><img src="../Images/e417a1b82516920152cbd68f7e8de851.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*qXvkLbY-k2SirNrU9YoEdw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">来源:<a class="ae le" href="https://www.mathsisfun.com/definitions/outlier.html#:~:text=A%20value%20that%20" rel="noopener ugc nofollow" target="_blank">数学趣味</a></figcaption></figure><p id="b4ce" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">均值对异常值非常敏感，异常值可能会操纵位置的估计。例如，我们对计算COVID19爆发前开始的初创公司的平均收入感兴趣，我们可以看到，有一家初创公司的收入与剩余公司相比非常高，因为该初创公司对现代面料感兴趣，并且一旦对口罩的需求被夸大，他们就开始生产口罩，从而获得高收入。这被认为是异常值，会导致不准确的数据汇总。在这种情况下，中值是首选。</p><p id="d083" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">5.<strong class="lz ja">模式</strong></p><p id="24f0" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">众数是最简单的，数据中<strong class="lz ja">出现次数最高的值</strong>就是众数。虽然下面的例子有数字，但模式是分类数据的汇总统计，通常不用于数字。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qd"><img src="../Images/8675c468fd7560749e7b2f7e33e1f18a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TYAgTD4pMxlZmZZ5TkVzKA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">资料来源:mathisfun</figcaption></figure><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="3d56" class="od lg iq oq b gy ou ov l ow ox">#value_counts() given number of occurances<br/>#of each unique values in Cost Price column<br/>products['Cost Price'].value_counts()</span></pre><h1 id="8894" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated"><strong class="ak">可变性的估计</strong></h1><p id="a0c2" class="pw-post-body-paragraph na nb iq lz b ma mb ka nc mc md kd nd me nz nf ng mg oa ni nj mi ob nl nm mk ij bi translated">统计学的核心在于可变性。可变性是<strong class="lz ja">总结一个特征的另一个维度</strong>。也称为<strong class="lz ja">分散</strong>，衡量一个值是紧密聚集还是分散。统计学家已经定义了许多测量离差的方法，让我们来看看每一种方法。</p><ol class=""><li id="a107" class="lx ly iq lz b ma mp mc mq me mr mg ms mi mt mk ml mm mn mo bi translated"><strong class="lz ja">偏差</strong></li></ol><p id="4c5a" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">偏差是最广泛使用的变异估计。它测量给定数据点偏离位置估计值的程度。</p><blockquote class="oz"><p id="51a2" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="bacc" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">值:10，11，1，20，13</p><p id="3cf1" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">平均值(位置估计值):11</p><p id="e24c" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">每个值与平均值的偏差</p><p id="52b3" class="pa pb iq bd pc pd pe pf pg ph pi mk dk">=10–11, 11–11, 1–11, 20–11, 13–11</p><p id="d272" class="pa pb iq bd pc pd pe pf pg ph pi mk dk">= -1, 0, -10, 9, 2</p></blockquote><p id="959d" class="pw-post-body-paragraph na nb iq lz b ma pv ka nc mc pw kd nd me px nf ng mg py ni nj mi pz nl nm mk ij bi translated">在上面的示例中，显示了每个值与位置估计值的离散程度。</p><p id="58d0" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">2.<strong class="lz ja">平均绝对偏差</strong></p><p id="c083" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">仅仅是偏差值没有多大意义，我们需要对它进行总结以得出一些推论，这可以通过计算这些偏差的平均值来完成。</p><blockquote class="oz"><p id="0c72" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="8971" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">偏差值:-1，0，-10，9，2</p><p id="a3dc" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">Avegare: (-1 + 0 + -10 + 9 + 2)/5 = 0</p></blockquote><p id="006b" class="pw-post-body-paragraph na nb iq lz b ma pv ka nc mc pw kd nd me px nf ng mg py ni nj mi pz nl nm mk ij bi translated">惊讶吗？不要这样。偏差的平均值始终为零，负值抵消了正值。为了克服这一点，我们采用偏差的绝对值。</p><blockquote class="oz"><p id="7ddb" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">绝对偏差值:1，0，10，9，2</p><p id="59b1" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">平均值:(1+0+10+9+2)/5=4.4</p></blockquote><figure class="pk pl pm pn po kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qe"><img src="../Images/ef7567958e0ab2ea148e82c79eb9d19b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LAyvst3qSVlOGs19Q2Y6nA.png"/></div></div></figure><p id="2dec" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated"><em class="oo"> x-bar </em>为平均值，<em class="oo"> x </em>为单个数值，<em class="oo"> n </em>为数值总数</p><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="2953" class="od lg iq oq b gy ou ov l ow ox">#np is alias for numpy<br/>mean = np.mean(products['Cost Price'])<br/>np.mean(np.absolute(products['Cost Price'] - mean))</span><span id="f893" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output</strong>: 35.0</span></pre><p id="ca77" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">3.<strong class="lz ja">中位数绝对偏差</strong></p><p id="f622" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">你猜对了。使用中间值<strong class="lz ja">代替平均值</strong>获得中间值绝对偏差。使用的理由是一样的，中位数绝对偏差对异常值不敏感。</p><p id="6edc" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">4.<strong class="lz ja">差异</strong></p><p id="b2a4" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">方差是离差平方的平均值。许多统计学家倾向于使用平均绝对偏差，因为它更准确。</p><blockquote class="oz"><p id="08f4" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="7f3e" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">每个值与平均值的平方偏差</p><p id="e94c" class="pa pb iq bd pc pd pe pf pg ph pi mk dk">=(10–11)², (11–11)², (1–11)², (20–11)², (13–11)²</p><p id="aa85" class="pa pb iq bd pc pd pe pf pg ph pi mk dk">= 1, 0, 100, 81, 4</p><p id="b75c" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">方差=(1+0+100+81+4)/(5–1)</p><p id="0c4e" class="pa pb iq bd pc pd pe pf pg ph pi mk dk">=37.2</p></blockquote><figure class="pk pl pm pn po kt gh gi paragraph-image"><div class="gh gi qf"><img src="../Images/b252f98878092e2cc5c4400f11a9f78f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*OMUO3TaHP9fvtMqgu5aNKw.png"/></div></figure><p id="7442" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">5.<strong class="lz ja">标准偏差</strong></p><p id="254b" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">我们发现上面例子中的方差是37.2，但是37.2有多好或多坏呢？37.2的方差实际上意味着什么？为了从方差中提取信息，我们计算标准差。方差的平方根就是标准差。标准差是查找数据分布情况的最佳方法，因为结果值与原始数据的比例相同。</p><blockquote class="oz"><p id="a289" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="7c3d" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">方差=37.2</p><p id="0a30" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">标准偏差= 6.09</p></blockquote><p id="c0d2" class="pw-post-body-paragraph na nb iq lz b ma pv ka nc mc pw kd nd me px nf ng mg py ni nj mi pz nl nm mk ij bi translated">这个值看起来不错。更有道理。现在我们可以知道哪个值在平均值的一个标准偏差(6.09)内。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qg"><img src="../Images/00a4d96e9d71527fa698123d359b3a30.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xg1FHtqUIQEJO_1q5X6X7w.png"/></div></div></figure><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="6e96" class="od lg iq oq b gy ou ov l ow ox">products['Cost Price'].std()</span><span id="1e82" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output</strong>: 39.33276835752432</span></pre><p id="54fc" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">6.<strong class="lz ja">四分位间距</strong></p><p id="3dc9" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">另一种估计离差的不同方法是查看分类数据的<strong class="lz ja">分布</strong>。这可以通过计算第25个百分位数和第75个百分位数之间的差值(IQR)来实现。</p><p id="0c76" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated"><strong class="lz ja">什么是百分位数？</strong></p><p id="ada8" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">假设你在一个20人的班级中排名第四，这意味着80%的人得分比你低。换句话说，你是班级群体的第80个百分位数。</p><p id="78eb" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">反过来，为了找到第80个百分位数，对数据进行排序，从最小值开始，向最大值前进80%，得到第80个百分位数。</p><blockquote class="oz"><p id="8282" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">例子</p><p id="f19b" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">值:3，1，5，3，6，7，2，9</p><p id="f529" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">排序:1，2，3，3，5，6，7，9</p><p id="b248" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">第25百分位:2.5</p><p id="8815" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">第75百分位:6.5</p><p id="4397" class="pa pb iq bd pc pd pe pf pg ph pi mk dk translated">四分位距:6.5–2.5 = 4</p></blockquote><pre class="pk pl pm pn po op oq or os aw ot bi"><span id="bf1f" class="od lg iq oq b gy ou ov l ow ox">percentile_75th = products['Cost Price'].quantile(0.75)<br/>percentile_25th = products['Cost Price'].quantile(0.25)<br/>IQR = percentile_75th - percentile_25th</span><span id="25f0" class="od lg iq oq b gy oy ov l ow ox"><strong class="oq ja">Output: </strong>68.0</span></pre><h1 id="63ea" class="lf lg iq bd lh li lj lk ll lm ln lo lp kf lq kg lr ki ls kj lt kl lu km lv lw bi translated"><strong class="ak">相关性</strong></h1><p id="8f62" class="pw-post-body-paragraph na nb iq lz b ma mb ka nc mc md kd nd me nz nf ng mg oa ni nj mi ob nl nm mk ij bi translated">相关性是对两个变量的联合可变性的度量。测量通常在预测值之间或预测值变量和目标变量之间进行。相关值始终介于-1和1之间。</p><ul class=""><li id="d53c" class="lx ly iq lz b ma mp mc mq me mr mg ms mi mt mk mu mm mn mo bi translated">如果<em class="oo"> Y </em>值随着<em class="oo"> X </em>值的增加而增加，或者<em class="oo"> Y </em>值随着<em class="oo"> X </em>值的减少而减少，则变量<em class="oo"> X </em>和<em class="oo"> Y </em>被称为正相关(值1)。</li><li id="bd9b" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">相关值为0意味着这两个变量是独立的。</li><li id="8fa0" class="lx ly iq lz b ma mv mc mw me mx mg my mi mz mk mu mm mn mo bi translated">如果<em class="oo"> Y </em>值随着<em class="oo"> X </em>值的增加而减少，或者反之亦然，那么这两个变量<em class="oo"> X </em>和<em class="oo"> Y </em>被称为负相关。</li></ul><p id="cded" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">让我们看看<em class="oo">成本价</em>和<em class="oo">售价</em>在我们的<em class="oo">产品</em>数据集中是如何关联的。同样，Pandas有一个非常简单的函数corr()，它从数据集中选取数字列，并给出相关的表格形式。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qh"><img src="../Images/237e4ec09160fa1f97fbe19e41340dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5QsmfgdCkzt1hZrE0LDmsg.jpeg"/></div></div></figure><p id="1dbe" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated"><em class="oo"> x </em>是变量<em class="oo"> X </em>的单个值，<em class="oo"> y </em>是变量<em class="oo"> Y的单个值，x-bar </em>是变量<em class="oo"> X的平均值，y-bar </em>是变量<em class="oo"> Y的平均值，N </em>代表值的总数，<em class="oo"> S(x) </em>是<em class="oo"> X </em>的标准差，并且</p><blockquote class="pp pq pr"><p id="7a7f" class="na nb oo lz b ma mp ka nc mc mq kd nd ps ne nf ng pt nh ni nj pu nk nl nm mk ij bi translated"><strong class="lz ja">注</strong>:</p><p id="cba6" class="na nb oo lz b ma mp ka nc mc mq kd nd ps ne nf ng pt nh ni nj pu nk nl nm mk ij bi translated">相同变量之间的相关性始终为1。</p></blockquote><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="d423" class="od lg iq oq b gy ou ov l ow ox">products.corr()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi qi"><img src="../Images/fbec92d0686fe2e8d32b805030dcbd36.png" data-original-src="https://miro.medium.com/v2/resize:fit:620/format:webp/1*WKBOWBEMUY_IMjjsPuuCuA.png"/></div></figure><p id="51ad" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">它表示成本价和售价与0.75的值相关。任何大于0.5的值都可以被认为是正相关。这意味着，如果任何产品的成本价上升，销售价格也很有可能上升，反之亦然。当我们有较少的列时，表格形式是好的，当我们有许多列时，表格形式是难以阅读的。Seaborn是一个可视化的库，它可以绘制相关性以便快速理解。</p><pre class="kp kq kr ks gt op oq or os aw ot bi"><span id="8b58" class="od lg iq oq b gy ou ov l ow ox">#sns is alias to seaborn<br/>#heatmap to plot correlation<br/>sns.heatmap(products.corr(),annot=True)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi qj"><img src="../Images/0d41476e74142bc7965e268dd1c74552.png" data-original-src="https://miro.medium.com/v2/resize:fit:896/format:webp/1*6k8-wcaiBARw_Ani3k06BQ.png"/></div></figure><p id="449f" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">现在，这更容易解释了。</p></div><div class="ab cl nn no hu np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="ij ik il im in"><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi qk"><img src="../Images/baab4a70b84b9bf3afafda8ae7f5aa0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AZfiAH8kGSskWXxx"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">乔恩·泰森在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="cbab" class="pw-post-body-paragraph na nb iq lz b ma mp ka nc mc mq kd nd me ne nf ng mg nh ni nj mi nk nl nm mk ij bi translated">让我们连接</p><div class="ql qm gp gr qn qo"><a href="https://www.linkedin.com/in/sujan-shirol/" rel="noopener  ugc nofollow" target="_blank"><div class="qp ab fo"><div class="qq ab qr cl cj qs"><h2 class="bd ja gy z fp qt fr fs qu fu fw iz bi translated">Sujan Shirol - Python开发人员- 2x Kaggle专家| LinkedIn</h2><div class="qv l"><h3 class="bd b gy z fp qt fr fs qu fu fw dk translated">我相信教学是最好的学习方式。技术作家在媒体的最大出版物的启动，走向人工智能&amp;…</h3></div><div class="qw l"><p class="bd b dl z fp qt fr fs qu fu fw dk translated">www.linkedin.com</p></div></div><div class="qx l"><div class="qy l qz ra rb qx rc ky qo"/></div></div></a></div></div></div>    
</body>
</html>