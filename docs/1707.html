<html>
<head>
<title>Building a Data Lake with AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用AWS构建数据湖</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/building-a-data-lake-with-aws-c22556356700?source=collection_archive---------1-----------------------#2021-03-26">https://pub.towardsai.net/building-a-data-lake-with-aws-c22556356700?source=collection_archive---------1-----------------------#2021-03-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="bcff" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/cloud-computing" rel="noopener ugc nofollow" target="_blank">云计算</a></h2><div class=""/><div class=""><h2 id="f799" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">了解数据湖的优势以及如何通过AWS Lake Formation快速设置数据湖</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/ea81672889af0690fe87f499300c3867.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FYaUQXg2izCD4bKO"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片由来自Pixabay的<a class="ae lh" href="https://pixabay.com/users/walkerssk-1409366/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1899264" rel="noopener ugc nofollow" target="_blank">沃克斯克</a>拍摄</figcaption></figure><h1 id="66c6" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">介绍</h1><p id="9de6" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">每天，大大小小的公司都在收集越来越多的数据。企业通常收集有关公司运营、客户、竞争、产品等的数据。他们需要高效地存储、处理和分析所有这些信息。</p><p id="11dd" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">建立仓库和数据库的传统解决方案根本无法满足公司处理大量数据的需求。这些解决方案也没有促进近年来非常流行的分析或机器学习技术的使用。</p><p id="a017" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">传统仓库的问题最初导致了云存储和云计算技术的发展。这进一步导致了数据湖概念的发展。</p><p id="a1c4" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">在本教程中，您将学习什么是数据湖，以及如何用AWS建立一个数据湖。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="f4a0" class="li lj it bd lk ll ni ln lo lp nj lr ls ki nk kj lu kl nl km lw ko nm kp ly lz bi translated">什么是数据湖？</h1><p id="c2d6" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">詹姆斯·迪克森在2010年首次使用了术语<a class="ae lh" href="https://lakefs.io/data-lakes/" rel="noopener ugc nofollow" target="_blank">数据湖</a>，他用这些词来描述它。</p><p id="1df6" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">如果你把数据集市想象成一个桶装水的商店，经过净化、包装和构造，以方便饮用，那么数据湖就是一个更自然状态的大水体。“数据湖的内容从一个源头流入湖中，湖的各种用户可以来检查、潜水或采集样本。”</p><p id="9104" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">就存储和分析数据而言，这意味着什么？</p><p id="7eca" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">数据湖本质上是存储各种数据的仓库:结构化的(行和列)、半结构化的(XML、JSON等)和非结构化的(文本文档等)。它们还包括所有类型的文件:照片、视频和音频文件。这意味着可以在一个集中的位置访问、查看和分析所有公司数据。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi no"><img src="../Images/4b4cf6fd7c97986f4f206a9c59916974.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JxScDsTn2Ta6dqCu"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://www.tenfold.com/what-is/leveraging-data-lakes" rel="noopener ugc nofollow" target="_blank"> <em class="np">图像来源</em> </a></figcaption></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="1457" class="li lj it bd lk ll ni ln lo lp nj lr ls ki nk kj lu kl nl km lw ko nm kp ly lz bi translated">用AWS构建数据湖的好处</h1><p id="79b8" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">现在有许多工具可以用来为公司建立数据湖。最明显的选择之一是AWS服务。AWS是市场上的领导者，以合理的价格提供云对象存储和云计算解决方案。</p><p id="7d95" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">用AWS构建数据湖有很多好处。首先，AWS对象存储S3允许快速、经济高效且简单的数据检索。AWS还提供可扩展且易于实施的分析和机器学习云计算解决方案。</p><p id="a352" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">上述特征使AWS成为建立数据湖的理想平台。此外，他们还推出了一个名为AWS Lake Formation的新工具，可以简化整个过程，使事情更加顺利。</p><p id="d1ea" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">接下来，您将学习如何使用该服务创建您的第一个数据湖。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="57be" class="li lj it bd lk ll ni ln lo lp nj lr ls ki nk kj lu kl nl km lw ko nm kp ly lz bi translated">AWS湖泊形成入门</h1><p id="f474" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">为了开始使用AWS Lake Formation，您需要已经设置了一个AWS帐户，并且已经用将要使用的数据创建了一个s3存储桶。</p><p id="9c8b" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">出于本教程的目的，您可以使用这个<a class="ae lh" href="https://www.kaggle.com/shivamb/netflix-shows" rel="noopener ugc nofollow" target="_blank">网飞数据集</a>作为您的数据。创建一个名为“你的名字-数据湖”的S3存储桶，并将网飞_头衔. csv上传到此存储桶。</p><p id="e341" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">一旦您将数据安全地存储在S3桶中，您就可以开始设置AWS Lake Formation了。前往他们的<a class="ae lh" href="https://aws.amazon.com/lake-formation/?whats-new-cards.sort-by=item.additionalFields.postDateTime&amp;whats-new-cards.sort-order=desc" rel="noopener ugc nofollow" target="_blank">网站</a>，点击“AWS湖泊形成入门”。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/fd458f96eb60974d09ba8eecb5518399.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ANIM3825ExQg256n"/></div></div></figure><p id="9c24" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">作为根用户登录，你会看到一个“欢迎来到湖泊形成”的信息。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi nr"><img src="../Images/1da0efe3680d996978b74c2fe716da6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/0*_0vwUXJHGVlTzQfM"/></div></figure><p id="a901" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">询问时将自己添加为管理员。一旦你这样做，你应该看到自动气象站湖形成控制台。它将类似于下面的截图。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/dee4de1d29dda51a728b152e8e02e3f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*533glrRXYDjU0wj1"/></div></div></figure><p id="a966" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">AWS湖形成控制台将允许您创建您的第一个数据湖。我将带你完成本文中的步骤，但是AWS会给你一个非常详细的总结，告诉你在Lake Formation控制台的Dashboard选项卡上必须做什么。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/8e8966839565fd786faccec0e6ecf91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nJtbGSkqE6-VwQuf"/></div></div></figure><p id="25c8" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">如您所见，第一步是注册S3存储桶。单击步骤1中的“注册位置”,并填写您已上传数据集的存储桶的名称。您可以将其余设置保留为默认设置。因此，您应该将注册位置列在您的数据湖位置中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/c002649dd51c71e1b09005d75a3063cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VjJKYAO_lD_kJpOG"/></div></div></figure><p id="e354" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">现在，您可以导航回仪表板并完成该过程的第二步，即创建数据库。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/e02901b07e2135087c3f71662bd4e30f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uARY3x5LCHpSRsj8"/></div></div></figure><p id="66a3" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">你可以复制我用过的设置。我将我的数据库命名为“网飞数据库”,并将其定向到名为konki-datalake的存储桶(我在那里有我的netfllix_titles.csv文件)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/ce399130ae8525bc454c416c27605aa8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_rF778MNcW4yPTGn"/></div></div></figure><p id="c49d" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">如果您已经遵循了这些步骤，那么您应该已经创建了您的数据库，并且应该可以在控制台中看到它。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/0e585f9c9ac417158848f7491d0ad6b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sFwXIYPvCPlqnLsM"/></div></div></figure><p id="4a69" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">下一步是创建一个爬虫。前往AWS Lake Formation控制台中的crawler选项卡。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/4c32a3289133f4ccd982f8b8f484f15d.png" data-original-src="https://miro.medium.com/v2/resize:fit:596/0*9tZS6Sj98eARQsf5"/></div></figure><p id="c7bb" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">这将打开一个带有AWS Glue控制台的新窗口。点击“创建爬虫”按钮，并通过给它一个名字开始这个过程:例如网飞-标题-爬虫。这个过程包括几个子步骤。您可以将大多数设置保留为默认设置，并模仿下面截图中的结构。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/3a83c569d23d4e399326902e27e6c197.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*kZft9848ZN8iod-_"/></div></div></figure><p id="0325" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">您需要在爬虫信息中填入您之前设置的数据信息(S3存储桶路径，数据库名称等。).唯一需要注意的是，在第4个检查点，您需要为此服务创建一个IAM角色。我将我的命名为AWSGlueServiceRole-DataLake，如下图所示。</p><p id="1026" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">完成设置后，您应该会看到爬行器出现在AWS Glue控制台中。您现在可以运行爬虫了。一旦对数据进行了爬网，就会在AWS粘合数据目录中创建数据和元数据表的模式。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/faad451bc4cf9b9892119b07513a13cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4_xLOE1m7C5xFTZ1"/></div></div></figure><p id="692d" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">等到crawler停止运行，然后转到AWS Lake Formation控制台中的Tables选项卡。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/3bdd9bb3564e6d9e5c8a19cacfa7931a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hONZ8KdNvtS-amlz"/></div></div></figure><p id="37d4" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">您可以看到，该表现在已填充了来自网飞_titles.csv文件的数据。现在，您可以让其他Amazon服务(如Athena或Redshift)使用您的数据库。</p><p id="46ee" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">您刚刚创建了您的第一个小型数据湖！</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><h1 id="850f" class="li lj it bd lk ll ni ln lo lp nj lr ls ki nk kj lu kl nl km lw ko nm kp ly lz bi translated">摘要</h1><p id="dd83" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在本文中，您了解了什么是数据湖，并了解了当前企业为什么需要它们。</p><p id="40ce" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">还指导您如何使用AWS Lake Formation建立第一个数据湖。</p><p id="37b2" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">尽管这是一个非常基础的教程，但我希望它能说明使用新的Amazon工具创建数据湖是多么容易，并鼓励您开始创建第一个数据湖。如果你是一名有抱负的数据科学家，理解和使用数据湖是成功职业生涯的第一步。确保您还学习了更多关于使用数据湖进行数据存储和处理的知识。</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="35d2" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated"><em class="nn"> PS:我正在Medium和</em><a class="ae lh" href="https://www.aboutdatablog.com/" rel="noopener ugc nofollow" target="_blank"><strong class="mc jd"><em class="nn"/></strong></a><em class="nn">上撰写深入浅出地解释基本数据科学概念的文章。你可以订阅我的</em> <a class="ae lh" href="https://medium.com/subscribe/@konkiewicz.m" rel="noopener"> <strong class="mc jd"> <em class="nn">邮件列表</em> </strong> </a> <em class="nn">每次我写新文章都会收到通知。如果你还不是中等会员，你可以在这里加入</em><em class="nn"/><a class="ae lh" href="https://medium.com/@konkiewicz.m/membership" rel="noopener"><strong class="mc jd"><em class="nn">。</em></strong></a></p><p id="e435" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">下面还有一些你可能喜欢的帖子</p></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><div class="ks kt ku kv gt nt"><a href="https://towardsdatascience.com/9-things-you-did-not-know-about-jupyter-notebook-d0d995a8efb3" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">关于jupyter笔记本你不知道的9件事</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">用这些建议提高你的工作效率</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="od l oe of og oc oh lb nt"/></div></div></a></div><div class="oi oj gp gr ok nt"><a href="https://towardsdatascience.com/top-9-jupyter-notebook-extensions-7a5d30269bc8" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">9大Jupyter笔记本扩展</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">改进笔记本电脑功能，提高您的工作效率</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="ol l oe of og oc oh lb nt"/></div></div></a></div><div class="oi oj gp gr ok nt"><a href="https://towardsdatascience.com/introduction-to-f-strings-3822ed8683cc" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">python f字符串简介</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">以及为什么您应该开始使用它们…</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="om l oe of og oc oh lb nt"/></div></div></a></div><div class="oi oj gp gr ok nt"><a href="https://towardsdatascience.com/top-8-magic-commands-in-jupyter-notebook-c1582e813560" rel="noopener follow" target="_blank"><div class="nu ab fo"><div class="nv ab nw cl cj nx"><h2 class="bd jd gy z fp ny fr fs nz fu fw jc bi translated">Jupyter笔记本中的8大魔法命令</h2><div class="oa l"><h3 class="bd b gy z fp ny fr fs nz fu fw dk translated">通过学习最有用的命令来提高您的生产力</h3></div><div class="ob l"><p class="bd b dl z fp ny fr fs nz fu fw dk translated">towardsdatascience.com</p></div></div><div class="oc l"><div class="on l oe of og oc oh lb nt"/></div></div></a></div></div></div>    
</body>
</html>