<html>
<head>
<title>Setup Your Raspberry Pi Quickly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速设置您的树莓Pi</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/setup-your-raspberry-pi-quickly-a0198fc837d3?source=collection_archive---------2-----------------------#2021-01-08">https://pub.towardsai.net/setup-your-raspberry-pi-quickly-a0198fc837d3?source=collection_archive---------2-----------------------#2021-01-08</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9d7f" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/technology" rel="noopener ugc nofollow" target="_blank">技术</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/f6f45d371d5c8eed9c4460b6311c21d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*WZxT-6QfSQ7Jy22EOrutww.jpeg"/></div></figure><p id="f2c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ja"> Raspberry Pi </strong>是一款简单易用的单板计算机，专为教授计算机科学基础知识而开发。这是一个很好的工具，可以开始尝试小项目，如物联网、家庭自动化、网站、游戏等等。你可以在这里找到<a class="ae lb" href="https://www.raspberrypi.org/documentation/" rel="noopener ugc nofollow" target="_blank">树莓派基金会</a> <a class="ae lb" href="https://projects.raspberrypi.org/en/projects" rel="noopener ugc nofollow" target="_blank">展示的很多项目。最后发布的型号是</a><a class="ae lb" href="https://www.raspberrypi.org/products/raspberry-pi-4-model-b/?resellerType=home" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi 4 Model B </a>，这是一个相当便宜但功能强大的选择。</p><figure class="ld le lf lg gt ka gh gi paragraph-image"><div class="gh gi lc"><img src="../Images/3f794a4e696d8e1d308eba246f919ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/0*PNibr_HWoIl6uwLQ.png"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">来源:<a class="ae lb" href="https://www.raspberrypi.org/products/raspberry-pi-4-model-b/?resellerType=home" rel="noopener ugc nofollow" target="_blank">https://www . raspberry pi . org/products/raspberry-pi-4-model-b/？resellerType=home </a></figcaption></figure><p id="a162" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，你只买硬件。软件由你决定。所以你要做的第一件事就是设置设备。你必须安装操作系统，设置你的用户，连接任何外部设备，当你准备好了。然而，事实是Pi是一个非常容易使用的设备，也是最好的起点。</p><p id="5bb2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当我开始使用我的Pi时，树莓Pi基金会有一些非常好的文档确实帮助了我。它们写得很好，有据可查。然而，没有一个完整的指南。设置的每一步都在不同的页面上，我不得不一直来回或在互联网上搜索。</p><p id="7a4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这篇文章中，我将尝试总结所有你应该做的正确的事情来让你的Pi运行起来。</p><p id="b133" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，你需要:</p><ul class=""><li id="2846" class="ll lm iq kf b kg kh kk kl ko ln ks lo kw lp la lq lr ls lt bi translated">你的Pi(当然)</li><li id="e33b" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated">一个最小容量为16 GB的微型SD卡(你可以买一个更小的，使用不同的操作系统版本)，<a class="ae lb" href="https://shop.pimoroni.com/products/noobs-32gb-microsd-card-3-1?variant=31703694245971" rel="noopener ugc nofollow" target="_blank">这个</a>非常划算</li><li id="c540" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated">用于电源的微型USB电缆</li><li id="057a" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated">带有SD端口的笔记本电脑</li><li id="aec1" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated">键盘和鼠标</li><li id="6233" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated">一根HDMI电缆将其连接到显示器</li><li id="175d" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated">可选扬声器和麦克风(这取决于您如何使用它)</li></ul><h2 id="4791" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">装置</h2><p id="6d42" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">Raspberry Pi Foundation已经开发了<a class="ae lb" href="https://www.raspberrypi.org/downloads/" rel="noopener ugc nofollow" target="_blank"> Raspberry Pi Imager </a>，这是一个很好的工具，可以轻松地为每个Pi模型安装Raspberry Pi操作系统(以前的Raspbian)。Imager适用于Windows、macOS和Ubuntu。它可以从前面的链接下载并安装到您的笔记本电脑上。当您执行应用程序时，会出现这个窗口。</p><div class="ld le lf lg gt ab cb"><figure class="mw ka mx my mz na nb paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><img src="../Images/254e540e81a3ed77e28fcb782b671394.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*9tnEfdiKtgryxvS5wJedLg.png"/></div></figure><figure class="mw ka mx my mz na nb paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><img src="../Images/2c8557cd7e528d18580a3f8cce334c77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*D470Wi6Cu2ZCl-HxNjrfQw.png"/></div></figure></div><p id="b148" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">选择你喜欢的操作系统(大多数情况下我会推荐第一个)。将SD卡插入您的笔记本电脑，从成像仪界面中选择它，然后单击写入。这个过程需要几分钟，所以请放松。</p><p id="53b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">RPi成像仪是一个很好的工具，因为它简化了整个过程。它会下载最新版本，确保您始终处于最新状态。它将操作系统直接安装在SD卡中，无需任何其他操作。它还会在您的计算机上保存下载版本的本地副本，以便您可以将其用于不同的SD卡并跳过下载部分。如果您使用其他工具，您将不得不手动下载操作系统映像，然后将其写入您的SD卡。</p><p id="9122" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完成后，将microSD插入您的Raspberry Pi并通电。</p><p id="cc3b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您的设备已经准备就绪。如果你连接一个显示器，一个鼠标，一个键盘，你就有了一个完整的系统。当然，您可以远程使用它，从您的笔记本电脑访问它。但是对于无头的情况，您需要多做几个步骤。</p><h2 id="b552" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">Pi用户</h2><p id="2651" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">首先，默认用户是<code class="fe ng nh ni nj b">pi</code>和密码<code class="fe ng nh ni nj b">raspberry</code>，建议您在开始使用最安全的设备时更改它们。一个简单的方法是打开bash并点击<code class="fe ng nh ni nj b">sudo raspy-config</code>。你会看到和我一样的窗户。</p><figure class="ld le lf lg gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi nk"><img src="../Images/2d634422f05907843b51b966c366c3ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vrAo8XDio3L4uanKpm8buA.png"/></div></div></figure><p id="3d2a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">它会打开RPi配置工具，您可以在其中更改您的Pi设置，如密码、网络或接口选项等。</p><p id="7493" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你也可以查看<a class="ae lb" href="https://projects.raspberrypi.org/en/projects/raspberry-pi-setting-up" rel="noopener ugc nofollow" target="_blank">这篇文章</a>了解更多细节，特别是如果你想使用你安装的操作系统的Linux桌面。</p><h2 id="c2fd" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">远程存取</h2><p id="0885" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">大多数情况下，您将通过wi-fi从笔记本电脑远程使用您的Pi。如果你有一个无密码的wi-fi网络，你就可以开始了，否则，你就必须插上显示器和键盘并登录到你的网络。然后，您可以通过它的IP地址访问您的Pi。</p><p id="9e0a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你只有一个Raspberry连接到网络，并且你的设备支持mDNS(它可能支持)，你可以用它的主机名，在这个例子中是<code class="fe ng nh ni nj b">raspberrypi</code>和<code class="fe ng nh ni nj b">.local</code>后缀来访问你的Raspberry。您可以使用以下命令检查连接:</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="f387" class="lz ma iq nj b gy np nq l nr ns">$ ping raspberrypi.local</span></pre><p id="15ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果可以到达Raspberry Pi，<code class="fe ng nh ni nj b">ping</code>将显示其IP地址:</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="bda8" class="lz ma iq nj b gy np nq l nr ns">$ PING raspberrypi.local (192.168.1.0): 56 data bytes<br/>64 bytes from 192.168.1.9: icmp_seq=0 ttl=255 time=2.151 ms</span></pre><h2 id="bf56" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">获取本地IP地址</h2><p id="bfaf" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">IP(互联网协议)地址是分配给网络中每个设备的唯一编号，就像设备的网络ID一样。有一些方法可以找到你的IP。如果您ping您的设备，您已经有了它的IP，您可以跳过这一部分。但是知道第二种方法是好的。</p><p id="7b98" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在<strong class="kf ja">无头</strong>情况下，您可以:</p><ul class=""><li id="bbb0" class="ll lm iq kf b kg kh kk kl ko ln ks lo kw lp la lq lr ls lt bi translated"><strong class="kf ja">连接路由器:</strong>远程查找Pi的IP的一种方法是登录你的wi-fi路由器。从你的浏览器中，在地址栏中输入<code class="fe ng nh ni nj b">http://192.168.1.1</code>,然后按回车键。填写你的路由器的管理员和密码(它们印在你的路由器上)，你就进入了。您可以找到您的网络当前托管的所有IP。</li><li id="35f8" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><strong class="kf ja">使用nmap命令:</strong> nmap是一个开源的免费网络搜索工具。它扫描您的网络，并返回所有连接的设备及其地址。您必须从<a class="ae lb" href="https://nmap.org/download.html" rel="noopener ugc nofollow" target="_blank">的官方页面</a>下载该工具，然后您可以在整个子网范围内使用带有<code class="fe ng nh ni nj b">-sn</code>标志的工具(ping scan ),如下所示:</li></ul><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="8c90" class="lz ma iq nj b gy np nq l nr ns">$ nmap -sn 192.168.1.0/24</span></pre><p id="28c3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您的设备pings您网络的所有IP地址，并查看它们是否有响应。它返回它们的IP和主机名。这是一个非常好的工具，但是你不必为了找到你的圆周率而陷入这么多的麻烦。当您的网络中有许多连接的设备时，或者您是更高级的开发人员时，我会推荐您使用它。</p><p id="c7a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您也可以使用已经插入的<strong class="kf ja">显示器</strong>。打开终端并键入:</p><ul class=""><li id="86ef" class="ll lm iq kf b kg kh kk kl ko ln ks lo kw lp la lq lr ls lt bi translated"><code class="fe ng nh ni nj b">ifconfig</code>系统将在<code class="fe ng nh ni nj b">inet</code>后返回其IP地址，或者</li><li id="d4cc" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><code class="fe ng nh ni nj b">hostname -I</code></li></ul><h2 id="7424" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">启用远程命令行</h2><p id="d775" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">从Pi获得远程访问的最后一步是通过<strong class="kf ja"> ssh </strong>(安全shell)启用远程命令行访问。在所有最新的Raspberry Pi版本中，ssh是默认禁用的。您可以使用<code class="fe ng nh ni nj b">raspi-config</code>工具将其启用。您必须选择接口选项，然后选择SSH并选择Yes。</p><p id="1eef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当您无法将Pi连接到显示器时，另一种方法是将一个名为<code class="fe ng nh ni nj b">ssh</code>的空文件(没有任何扩展名)从您的计算机放入启动的SD卡中。当操作系统启动时，它会寻找<code class="fe ng nh ni nj b">ssh</code>文件，如果找到了，它会自动启用SSH，然后文件被删除。准确地说，你可以在这个文件里放任何你想要的东西。操作系统不关心上下文，只关心文件名。<em class="nt">注意，如果你已经将Raspberry Pi操作系统加载到一张空白SD卡上，你将有两个分区。第一个，也是较小的一个，是引导分区。把文件放在这里。</em></p><h2 id="ea40" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">ssh和scp</h2><p id="e7e3" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">SSH (secure shell)和SCP (secure copy)是完全远程连接所需的两个命令。它们内置于Linux发行版和Mac OS中，是Windows 10中的一个可选功能。如果你有Windows，我会建议你下载<a class="ae lb" href="https://ubuntu.com/wsl" rel="noopener ugc nofollow" target="_blank">WSL</a>(Linux的Windows子系统)，不要陷入Windows需要的额外软件，如<a class="ae lb" href="https://www.putty.org/" rel="noopener ugc nofollow" target="_blank"> PuTTY </a>。</p><p id="6140" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要使用这两个命令，您必须知道您的设备的IP和您的Pi。</p><p id="e4d0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ja"> SSH </strong>是一个从同一网络中的另一台计算机远程访问设备命令行的工具。格式非常简单。</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="d624" class="lz ma iq nj b gy np nq l nr ns">$ ssh user@ipaddress</span></pre><p id="53ce" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我们的案例中:</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="93cf" class="lz ma iq nj b gy np nq l nr ns">$ ssh pi@raspberrypi.local</span></pre><p id="d005" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您不键入用户名，默认情况下，ssh将使用您设备的用户名。之后，远程设备会询问密码，然后您就可以登录了。</p><p id="4a48" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">SCP是一个通过ssh在不同主机之间交换文件的命令。您可以在一行中轻松地将文件从您的Pi中复制出来或复制到Pi中。我将讲述最常见的情况，但你需要更多的细节，你可以在这里看到<a class="ae lb" href="https://www.raspberrypi.org/documentation/remote-access/ssh/scp.md" rel="noopener ugc nofollow" target="_blank"/>和<a class="ae lb" href="https://linuxize.com/post/how-to-use-scp-command-to-securely-transfer-files/" rel="noopener ugc nofollow" target="_blank"/>。</p><ul class=""><li id="9f2c" class="ll lm iq kf b kg kh kk kl ko ln ks lo kw lp la lq lr ls lt bi translated">将文件从远程Pi复制到本地主机:</li></ul><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="37cb" class="lz ma iq nj b gy np nq l nr ns">$ scp pi@raspberrypi.local:file.txt /my/local/directory/</span></pre><ul class=""><li id="a483" class="ll lm iq kf b kg kh kk kl ko ln ks lo kw lp la lq lr ls lt bi translated">将file.txt从本地主机复制到远程Pi:</li></ul><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="0a20" class="lz ma iq nj b gy np nq l nr ns">$ scp file.txt pi@raspberrypi.local:/remote/directory/</span></pre><ul class=""><li id="c828" class="ll lm iq kf b kg kh kk kl ko ln ks lo kw lp la lq lr ls lt bi translated">在两台远程主机之间复制文件:</li></ul><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="2e2b" class="lz ma iq nj b gy np nq l nr ns">$ scp user@fromhostip:/from/dir/file.txt user@tohostip:/to/dir/</span></pre><h2 id="531a" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">设置音频输入/输出</h2><p id="d3f5" class="pw-post-body-paragraph kd ke iq kf b kg mr ki kj kk ms km kn ko mt kq kr ks mu ku kv kw mv ky kz la ij bi translated">在最后一部分，我将通过音频设置。Raspberry Pi处理音频设备的方式与众不同，一开始真的让我很困惑。我花了很多时间试图弄清楚它是如何在引擎盖下工作的，因为我在一个项目中使用了Pi之上的语音界面，所以音频流对我来说是必不可少的。</p><blockquote class="nu nv nw"><p id="fdb4" class="kd ke nt kf b kg kh ki kj kk kl km kn nx kp kq kr ny kt ku kv nz kx ky kz la ij bi translated">Raspberry Pi创建了<strong class="kf ja">虚拟卡</strong>来处理数据输入和输出设备。</p></blockquote><p id="83e9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">操作系统在每个虚拟卡中分配不同类型的多个设备。这意味着您最多可以有一个输入设备(麦克风)和一个输出设备(扬声器)。这意味着如果您有两个输出连接，如HDMI和扬声器，它们将被分配到不同的虚拟卡中。</p><p id="486c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你可以说，<em class="nt">好吧，太好了，我为什么要这么麻烦呢？</em></p><p id="41ea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">重要的是只能有一张虚拟卡作为默认。这意味着在我们之前的例子中，声音来自HDMI扬声器<strong class="kf ja">或</strong>，而不是两者。操作系统将选择设置为默认卡的卡。我还面临另一个问题。有时系统会将我的扬声器和麦克风分配到不同的卡上，默认情况下我不能同时使用这两个卡。</p><p id="d0cd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以我必须通过不同的虚拟卡明确地设置我的可用设备。</p><p id="9012" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ja"> <em class="nt">免责声明</em> </strong> <em class="nt">:有可能你不会面临这些问题中的任何一个，你的系统会工作得很好。我建议你检查一下你的虚拟卡，确保你以后不会有任何问题。</em></p><p id="3a4a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我发现<a class="ae lb" href="https://iotbytes.wordpress.com/connect-configure-and-test-usb-microphone-and-speaker-with-raspberry-pi/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>对如何设置我的可玩设备非常有帮助，我会解释这个过程。</p><p id="be41" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，您必须连接任何外部设备并打开您的Pi终端。<code class="fe ng nh ni nj b">lsusb</code>命令显示任何连接的设备和USB总线的信息，如下所示:</p><figure class="ld le lf lg gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi oa"><img src="../Images/a9430c662e7d6e276e72a9758557a5c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*x_6jfCsjfcF6nIwTgm-66w.png"/></div></div></figure><p id="a50a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以用<code class="fe ng nh ni nj b">aplay -l</code>列出所有可用的播放设备，用<code class="fe ng nh ni nj b">arecord -l</code>列出所有的录制设备。您将看到所有虚拟卡及其分配的设备。如果您的设备在同一个虚拟卡中，您只需将适当的卡设置为默认卡，但是如果您将设备分配给不同的卡，就像我下面的情况一样，您可能需要重新调整一些东西。</p><figure class="ld le lf lg gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi ob"><img src="../Images/0cc4e567ec52ef11a37c36fc1103853c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qFuVOdaI9TxFzS3hV3dhvQ.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">所有连接的可播放设备的列表</figcaption></figure><figure class="ld le lf lg gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="nc nd di ne bf nf"><div class="gh gi oc"><img src="../Images/346359707b9afa75c09213c80107dcbb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qUDvrKAadb9EkwzdP_hbTQ.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">所有连接的捕获设备的列表</figcaption></figure><p id="f5e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以使用下一个模板配置文件将您的设备设置为默认设备。</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="be69" class="lz ma iq nj b gy np nq l nr ns">pcm.!default {<br/>  type asym<br/>  capture.pcm "mic"<br/>  playback.pcm "speaker"<br/>}<br/>pcm.mic {<br/>  type plug<br/>  slave {<br/>    pcm "hw:&lt;card number&gt;,&lt;device number&gt;"<br/>  }<br/>}<br/>pcm.speaker {<br/>  type plug<br/>  slave {<br/>    pcm "hw:&lt;card number&gt;,&lt;device number&gt;"<br/>  }<br/>}</span></pre><p id="8821" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您必须将<em class="nt">卡号</em>和<em class="nt">设备号</em>替换为您的麦克风和扬声器号。比方说，要使用卡1的USB扬声器和卡2的麦克风，我必须将<code class="fe ng nh ni nj b">"hw:1,0"</code>和<code class="fe ng nh ni nj b">"hw:2,0"</code>分别设置在它们的PCM线上。完成这些更改后，您将把该文件保存为<strong class="kf ja"> <em class="nt">。您的Pi主目录下的asoundrc </em> </strong>。</p><p id="5c04" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，您可以通过录制一小段3秒钟的音频并将其保存到<em class="nt"> out.raw </em>文件中，用下一个命令检查您的麦克风。</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="7efb" class="lz ma iq nj b gy np nq l nr ns">arecord --format=S16_LE --duration=3 --rate=16000 --file-type=raw out.raw</span></pre><p id="ce89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，您可以通过播放录制的视频来检查您的扬声器:</p><pre class="ld le lf lg gt nl nj nm nn aw no bi"><span id="64e2" class="lz ma iq nj b gy np nq l nr ns">aplay --format=S16_LE --rate=16000 out.raw</span></pre><p id="a076" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想进一步定制和改变你的设备名称或声卡索引，你可以阅读<a class="ae lb" href="https://www.instructables.com/Change-the-Name-and-Index-of-the-Sound-Card-in-Ras/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>。</p><p id="a9c0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><em class="nt">希望对你有帮助！</em> <strong class="kf ja"> <em class="nt">谢谢！</em> </strong></p><h2 id="7f16" class="lz ma iq bd mb mc md dn me mf mg dp mh ko mi mj mk ks ml mm mn kw mo mp mq iw bi translated">参考资料:</h2><ul class=""><li id="2d95" class="ll lm iq kf b kg mr kk ms ko od ks oe kw of la lq lr ls lt bi translated"><a class="ae lb" href="https://www.raspberrypi.org/documentation/" rel="noopener ugc nofollow" target="_blank">https://www.raspberrypi.org/documentation/</a></li><li id="3b9f" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><a class="ae lb" href="https://www.raspberrypi.org/blog/raspberry-pi-imager-imaging-utility/" rel="noopener ugc nofollow" target="_blank">https://www . raspberry . org/blog/raspberry-pi-imager-imaging-utility/</a></li><li id="755d" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><a class="ae lb" href="https://www.ssh.com/ssh/command/" rel="noopener ugc nofollow" target="_blank">https://www.ssh.com/ssh/command/</a></li><li id="31c8" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><a class="ae lb" href="https://linuxize.com/post/how-to-use-scp-command-to-securely-transfer-files/" rel="noopener ugc nofollow" target="_blank">https://linuxize . com/post/how-to-use-scp-command-to-securely-transfer-files/</a></li><li id="5b24" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><a class="ae lb" href="https://iotbytes.wordpress.com/connect-configure-and-test-usb-microphone-and-speaker-with-raspberry-pi/" rel="noopener ugc nofollow" target="_blank">https://IOT bytes . WordPress . com/connect-configure-and-test-USB-microphone-and-speaker-with-raspberry-pi/</a></li><li id="969a" class="ll lm iq kf b kg lu kk lv ko lw ks lx kw ly la lq lr ls lt bi translated"><a class="ae lb" href="https://www.instructables.com/Change-the-Name-and-Index-of-the-Sound-Card-in-Ras/" rel="noopener ugc nofollow" target="_blank">https://www . instructables . com/Change-the-Name-and-Index-of-the-Sound-Card-in-Ras/</a>快速设置您的树莓派</li></ul></div></div>    
</body>
</html>