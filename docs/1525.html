<html>
<head>
<title>Algorithmic Trading with Python and Machine Learning Part-1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python和机器学习进行算法交易第1部分</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/algorithmic-trading-with-python-and-machine-learning-part-1-47c56706c182?source=collection_archive---------1-----------------------#2021-02-12">https://pub.towardsai.net/algorithmic-trading-with-python-and-machine-learning-part-1-47c56706c182?source=collection_archive---------1-----------------------#2021-02-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="e2d7" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a>，<a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="fb9e" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">什么是算法交易，如何获取交易数据</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/0ea0d8334311ca8440fcfa8749dde6a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LWWB2JmAmtDQH3D8xwilIA.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">资料来源:unsplash.com</figcaption></figure></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><p id="7d78" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><strong class="lq jd"> * <em class="mk">注</em> </strong> <em class="mk">:本文是系列的第一篇，以后还会有很多。开始这个系列背后的动机是将机器学习的知识与算法交易相结合，并为投资组合管理和交易构建健壮的应用程序。整个系列中提到的任何方法或策略都可能有不同的基本假设。作者不会对应用上述策略造成的财务损失承担任何责任，因为本系列的唯一目的是提供算法交易。此外，作者不属于任何提到的资源。</em> *</p></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><p id="e191" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">从柜台上的叫卖到移动应用，交易在过去的几十年里有了显著的进步。这一进步使得交易<a class="ae ml" href="https://www.investopedia.com/terms/e/equity.asp" rel="noopener ugc nofollow" target="_blank">股票</a>、<a class="ae ml" href="https://www.investopedia.com/terms/b/bond.asp" rel="noopener ugc nofollow" target="_blank">债券</a>、<a class="ae ml" href="https://www.investopedia.com/terms/e/etf.asp" rel="noopener ugc nofollow" target="_blank">ETF</a>、<a class="ae ml" href="https://www.investopedia.com/terms/c/contractfordifferences.asp#:~:text=A%20contract%20for%20differences%20(CFD)%20is%20an%20arrangement%20made%20in,goods%20or%20securities%20with%20CFDs." rel="noopener ugc nofollow" target="_blank">CFD</a>等成为可能。，适用于所有人(取决于您居住的国家)。虽然经纪人提供的图形用户界面很容易使用，但在管理大型投资组合、参与日间交易、分析或跟踪大量金融工具等时，它会变得非常痛苦。这就是算法交易拯救我们的地方。</p><p id="b0fe" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">在这篇文章中，我们将讨论算法交易的基础知识和获取金融数据的不同方法。</p><p id="304a" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><strong class="lq jd">下面是我们要讲的内容:</strong></p><ul class=""><li id="c112" class="mm mn it lq b lr ls lu lv lx mo mb mp mf mq mj mr ms mt mu bi translated">什么是算法交易</li><li id="2d3c" class="mm mn it lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">如何使用Python库和API获取金融数据</li></ul></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><h1 id="e8ce" class="na nb it bd nc nd ne nf ng nh ni nj nk ki nl kj nm kl nn km no ko np kp nq nr bi translated">1.什么是算法交易</h1><p id="ea7d" class="pw-post-body-paragraph lo lp it lq b lr ns kd lt lu nt kg lw lx nu lz ma mb nv md me mf nw mh mi mj im bi translated">根据Dorn等人的观点，</p><blockquote class="nx ny nz"><p id="92c3" class="lo lp mk lq b lr ls kd lt lu lv kg lw oa ly lz ma ob mc md me oc mg mh mi mj im bi translated">金融市场交易是一项重要的经济活动。交易对于进出市场是必要的，把不需要的现金<br/>投入市场，当需要钱的时候再兑换回现金。他们还需要在市场内转移资金，用一种资产交换另一种资产，管理风险，利用未来价格变动的信息。</p></blockquote><p id="93da" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">算法交易没有统一的定义。尽管如此，它仍然可以被定义为不同金融工具的交易，如<a class="ae ml" href="https://www.investopedia.com/terms/e/equity.asp" rel="noopener ugc nofollow" target="_blank">股票</a>、<a class="ae ml" href="https://www.investopedia.com/terms/b/bond.asp" rel="noopener ugc nofollow" target="_blank">债券</a>、<a class="ae ml" href="https://www.investopedia.com/terms/e/etf.asp" rel="noopener ugc nofollow" target="_blank">ETF</a>、<a class="ae ml" href="https://www.investopedia.com/terms/c/contractfordifferences.asp#:~:text=A%20contract%20for%20differences%20(CFD)%20is%20an%20arrangement%20made%20in,goods%20or%20securities%20with%20CFDs." rel="noopener ugc nofollow" target="_blank">差价合约</a>等。，用一些算法。在这种情况下，算法由数理逻辑和指令组成，用于分析金融数据并做出适当的交易决策。</p><p id="7c2c" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">算法交易背后的动机是在没有任何人工干预的情况下实现交易自动化。尽管算法交易需要持续的开发和回溯测试，但它可以大大减少人类交易的工作量。算法交易可以帮助管理任何数量的金融工具的投资组合，这对人类来说可能真的很难。它也没有人类的情感。尽管有这些优势，算法交易也有一些重要的风险，可能会导致真正的财务损失，我们将在本系列中详细探讨。</p><h1 id="c242" class="na nb it bd nc nd od nf ng nh oe nj nk ki of kj nm kl og km no ko oh kp nq nr bi translated">2.如何使用Python库和API获取金融数据</h1><p id="d031" class="pw-post-body-paragraph lo lp it lq b lr ns kd lt lu nt kg lw lx nu lz ma mb nv md me mf nw mh mi mj im bi translated">在这一节中，我们将探索许多获取分析和决策所需的财务数据的方法，这将在本系列文章中用到。</p><h2 id="58b6" class="oi nb it bd nc oj ok dn ng ol om dp nk lx on oo nm mb op oq no mf or os nq iz bi translated">使用<code class="fe ot ou ov ow b"><a class="ae ml" href="https://github.com/ranaroussi/yfinance" rel="noopener ugc nofollow" target="_blank">yfinance</a></code>获取财务数据</h2><p id="c1c6" class="pw-post-body-paragraph lo lp it lq b lr ns kd lt lu nt kg lw lx nu lz ma mb nv md me mf nw mh mi mj im bi translated">安装<code class="fe ot ou ov ow b">yfinance</code>库</p><pre class="ks kt ku kv gt ox ow oy oz aw pa bi"><span id="21f5" class="oi nb it ow b gy pb pc l pd pe">pip install yfinance</span></pre><p id="7457" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">让我们以30分钟为间隔获取AAPL(苹果公司)过去一个月的数据</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ph"><img src="../Images/77d648d58fb98482621839693b8e3f39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*c_FgzH7qD4oRsdzSB4a1nA.png"/></div></div></figure><p id="ddac" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">获取多只股票的调整后收盘价</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/92bd87a6186f19123d69bb8e7ec5172a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*OWsqkwxpOe---qlCcvm2Mg.png"/></div></figure><h2 id="544b" class="oi nb it bd nc oj ok dn ng ol om dp nk lx on oo nm mb op oq no mf or os nq iz bi translated">使用<a class="ae ml" href="https://github.com/JECSand/yahoofinancials" rel="noopener ugc nofollow" target="_blank"> yahoofinancials </a>获取财务数据</h2><p id="ef66" class="pw-post-body-paragraph lo lp it lq b lr ns kd lt lu nt kg lw lx nu lz ma mb nv md me mf nw mh mi mj im bi translated">安装<code class="fe ot ou ov ow b">yahoofinancials</code>库</p><pre class="ks kt ku kv gt ox ow oy oz aw pa bi"><span id="7136" class="oi nb it ow b gy pb pc l pd pe">pip install yahoofinancials</span></pre><p id="f212" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">获取TSLA (Tesla Inc .)的每日数据</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/3526ad9445e59c4f49dd3ac231e53860.png" data-original-src="https://miro.medium.com/v2/resize:fit:1282/format:webp/1*IoKzFB2sm6rG9iPVVZv3DA.png"/></div></figure><p id="5eb3" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">获取多只股票的调整后收盘价</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pk"><img src="../Images/98d4565cfe21c2c7e94e44a22c9f17d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:830/format:webp/1*ZDOUks3CKmgeC97o8PcFJw.png"/></div></figure><p id="e264" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">*注:以上两种获取数据的方法是免费的，足以获得<a class="ae ml" href="https://www.investopedia.com/terms/b/backtesting.asp" rel="noopener ugc nofollow" target="_blank">回溯测试</a>所需的基本财务数据。然而，算法交易依赖于实时数据来进行交易，这些库无法提供所需粒度级别的数据。此外，这些库由少数个人维护，就实时交易而言并不太可靠。因此，下一节将提到付费数据提供商。*</p><h2 id="4cae" class="oi nb it bd nc oj ok dn ng ol om dp nk lx on oo nm mb op oq no mf or os nq iz bi translated">使用<a class="ae ml" href="https://iexcloud.io/" rel="noopener ugc nofollow" target="_blank"> IEX云</a>获取财务数据</h2><p id="4b87" class="pw-post-body-paragraph lo lp it lq b lr ns kd lt lu nt kg lw lx nu lz ma mb nv md me mf nw mh mi mj im bi translated">IEX云提供了获取各种财务数据的API。关于他们API的详细文档可以在<a class="ae ml" href="https://iexcloud.io/docs/api/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="f258" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">要开始使用IEX云，请在此<a class="ae ml" href="https://iexcloud.io/pricing/" rel="noopener ugc nofollow" target="_blank">页面</a>的“开始”包下注册(免费开始)。注册后，按照此<a class="ae ml" href="https://intercom.help/iexcloud/en/articles/2915433-testing-with-the-iex-cloud-sandbox" rel="noopener ugc nofollow" target="_blank">页面</a>中提到的步骤设置沙盒环境，并获取API令牌以访问IEX云API获取数据。沙盒环境对于初始测试非常有用。它不提供实际数据，但是可以方便地测试我们获取数据的代码是否工作。此外，对于沙盒环境，API调用的数量没有限制。</p><p id="3b29" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">一旦你成功地设置了你的沙盒环境，如下所述将你的公共API令牌保存在<code class="fe ot ou ov ow b">secret.cfg</code>文件中(记住，永远不要共享或发布你的<code class="fe ot ou ov ow b">secret.cfg</code>文件。如果你将你的代码发布到GitHub，那么将<code class="fe ot ou ov ow b">secret.cfg</code>放在<code class="fe ot ou ov ow b">.gitignore</code>中</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div></figure><p id="2e35" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">建立<code class="fe ot ou ov ow b">secret.cfg</code>文件后，按照下面的代码访问TSLA(特斯拉公司)的数据(假的)</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pf pg l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pl"><img src="../Images/1b8096968c03f4c6b8ae072887fb446b.png" data-original-src="https://miro.medium.com/v2/resize:fit:978/format:webp/1*IIepTpxxDmazna_edOHtTg.png"/></div></figure><p id="a017" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">要访问真实数据，将<code class="fe ot ou ov ow b">secret.cfg</code>文件中的令牌改为真实令牌，并使用上面代码片段中提到的基本URL</p><pre class="ks kt ku kv gt ox ow oy oz aw pa bi"><span id="0398" class="oi nb it ow b gy pb pc l pd pe">https://cloud.iexapis.com/v1/</span></pre><p id="4a32" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">这就把我们带到了本文的结尾。你可以通过<a class="ae ml" href="https://github.com/mayank311996/blog_code/tree/main/algo_trading_with_python_and_ml/part1" rel="noopener ugc nofollow" target="_blank">这里</a>访问一个Jupyter笔记本中的所有代码片段。</p><p id="3cc7" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">总之，我们讨论了算法交易的定义和优势，并提供了不同的方法来获得金融数据。</p><p id="6c64" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated"><strong class="lq jd">参考文献:</strong></p><ul class=""><li id="1235" class="mm mn it lq b lr ls lu lv lx mo mb mp mf mq mj mr ms mt mu bi translated">多恩、安妮、丹尼尔·多恩和保罗·桑缪勒。2008."人们为什么要交易？"应用金融杂志(秋季/冬季):37–50。</li></ul></div><div class="ab cl lh li hx lj" role="separator"><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm ln"/><span class="lk bw bk ll lm"/></div><div class="im in io ip iq"><p id="272e" class="pw-post-body-paragraph lo lp it lq b lr ls kd lt lu lv kg lw lx ly lz ma mb mc md me mf mg mh mi mj im bi translated">更多文章关注我。请随时通过LinkedIn 联系我。谢谢大家！</p></div></div>    
</body>
</html>