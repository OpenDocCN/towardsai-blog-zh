<html>
<head>
<title>Automation Using Google-Assistant</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用谷歌助手实现自动化</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/automation-using-google-assistant-fe903d25a17d?source=collection_archive---------0-----------------------#2020-07-29">https://pub.towardsai.net/automation-using-google-assistant-fe903d25a17d?source=collection_archive---------0-----------------------#2020-07-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="0ffd" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/technology" rel="noopener ugc nofollow" target="_blank">技术</a></h2><div class=""/><div class=""><h2 id="cc6a" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">让我们的家用电器自动化有点意思。因此，让我们看看如何使用谷歌助手实现自动化。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/8d384d646cde7ec00eb73cab8d2f9ec5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N5qiYHJU7pk6ef9Hhsr3Lg.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">来自shutterstock.com</figcaption></figure><p id="62b4" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果你是一个兴奋的极客，想让你的家自动化，这里有一个有趣的应用程序给你。在本模块中，我们将构建一个简单的自动化系统，让您可以从任何地方控制家用电器。我们将Blynk和IFTTT用于软件目的。硬件部分采用了esp8266(节点MCU)。我们自己安装模块会很有趣。</p><h2 id="4f98" class="ma mb iq bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iw bi translated">布林克:</h2><p id="13ba" class="pw-post-body-paragraph le lf iq lg b lh ms ka lj lk mt kd lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">Blynk是一个开源平台，允许我们快速构建界面，从手机上监控我们的硬件项目。它支持Android和iOS手机。它提供了一个吸引人的界面。下载后，您可以创建项目仪表板，并在屏幕上排列按钮、图形、滑块、计时器和其他小部件。</p><h2 id="5501" class="ma mb iq bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iw bi translated"><strong class="ak">节点MCU: </strong></h2><p id="5b9d" class="pw-post-body-paragraph le lf iq lg b lh ms ka lj lk mt kd lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">NodeMCU是一个开源固件。它是一个微控制器。这是一款专门针对物联网应用的开发板。它包括由片上esp8266 WiFi插座(SoC)组成的固件。</p><p id="1410" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">它由17个GPIO引脚和一个2.4GHz天线组成。它有128 KB的内存和4MB的闪存来存储程序和数据。它可以使用微型USB插孔供电。它支持UART、SPI和I2C接口。它支持3.3V的电压。</p><h2 id="b711" class="ma mb iq bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iw bi translated">IFTTT:</h2><p id="edab" class="pw-post-body-paragraph le lf iq lg b lh ms ka lj lk mt kd lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">IFTTT的缩写是(If This Then That)帮助我们连接所有不同的应用程序和设备。这是一个免费的基于网络的服务。它创建了简单条件语句的连接，称为小程序，有助于通过互联网将应用程序连接在一起。在这里，它正在帮助将谷歌助手连接到Blynk应用程序。</p><h1 id="183b" class="mx mb iq bd mc my mz na mf nb nc nd mi kf ne kg ml ki nf kj mo kl ng km mr nh bi translated">实施:</h1><p id="b3c0" class="pw-post-body-paragraph le lf iq lg b lh ms ka lj lk mt kd lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">我们需要使用互联网来控制我们的家用电器。所以，我们需要一个合适的网络连接。为此，你需要Nodemcu和Wi-Fi。最初，在你的电脑上安装Arduino-Uno。并确保安装esp驱动程序。如果没有，请安装它们。并通过在首选项中添加以下内容来包含这些包。在IDE中单击(CTRL+逗号)可以找到此对话框。</p><pre class="kp kq kr ks gt ni nj nk nl aw nm bi"><span id="b895" class="ma mb iq nj b gy nn no l np nq"><a class="ae nr" href="https://dl.espressif.com/dl/package_esp32_index.json" rel="noopener ugc nofollow" target="_blank">https://dl.espressif.com/dl/package_esp32_index.json</a>, <a class="ae nr" href="http://arduino.esp8266.com/stable/package_esp8266com_index.json" rel="noopener ugc nofollow" target="_blank">http://arduino.esp8266.com/stable/package_esp8266com_index.json</a></span></pre><p id="b7f3" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">在您的手机上安装Blynk应用程序，并用有效的电子邮件地址注册。创建您的项目并命名。选择NodeMCU(esp8266)作为设备，并通过添加按钮制作您的仪表板。确保你的按钮是数字的。注册后，您将收到来自blynk的带有代码和认证令牌的邮件。每个项目的身份验证令牌都是唯一的。将应用程序连接到设备时，此身份验证令牌非常有用。在将应用程序连接到IFTTT服务时，这也很有用。</p><p id="af97" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja">倾销代码:</strong></p><p id="b138" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">一旦您创建了一个项目，您就会收到带有代码的邮件。在IDE(Arduino)中打开代码，并将该代码转储到微控制器(NodeMCU)中。之前，填写你的无线网络的SSID和密码。并用您在邮件中收到的身份验证令牌填充auth[]。</p><p id="cede" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">连接之前，将代码转储到微控制器中。连接时要小心，因为我们处理的是230伏的电压。转储时，确保板管理器和波特率与微控制器相关，我们使用nodemcu(esp8266)。代码转储可能需要几分钟时间。</p><h2 id="e890" class="ma mb iq bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iw bi translated">使用的模块:</h2><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ns"><img src="../Images/ce9ba3575cd2ba0f795f021e9bb7eced.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SJTwDrevAswhCis1vpDhCQ.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">作者提供的照片</figcaption></figure><blockquote class="nt nu nv"><p id="23c3" class="le lf nw lg b lh li ka lj lk ll kd lm nx lo lp lq ny ls lt lu nz lw lx ly lz ij bi translated">在连接电路之前，请转储代码。确保连接正确。这里我们使用继电器和灯泡。我们可以用手机控制灯泡</p><p id="8727" class="le lf nw lg b lh li ka lj lk ll kd lm nx lo lp lq ny ls lt lu nz lw lx ly lz ij bi translated">这样，我们就完成了使用移动设备的建筑自动化，现在，我们可以使用移动设备控制我们的电器。</p></blockquote><h2 id="b32d" class="ma mb iq bd mc md me dn mf mg mh dp mi ln mj mk ml lr mm mn mo lv mp mq mr iw bi translated">使用谷歌助手:</h2><p id="f1b6" class="pw-post-body-paragraph le lf iq lg b lh ms ka lj lk mt kd lm ln mu lp lq lr mv lt lu lv mw lx ly lz ij bi translated">到目前为止，我们可以使用移动设备(即Blynk应用程序)访问我们的设备。现在，我们将如何使用谷歌助手访问它们。为此，我们需要使用IFTTT。由于这是一个基于网络的服务，我们需要在网上编码。在浏览器上打开IFTTT。在IFTTT中有两个阶段。按照以下步骤进行设置。</p><p id="a250" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">第一阶段:</p><pre class="kp kq kr ks gt ni nj nk nl aw nm bi"><span id="d76d" class="ma mb iq nj b gy nn no l np nq">1)Open IFTTT(If this then that) and click on new applet.<br/>2)Click on '+' before 'this' and choose your service as Google Assitant.<br/>3)Fill the phrases in dialog box that appears on screen.<br/>4)Make sure you have to remember the commands you given in trigger dialog box.<br/>5)And fill those details.<br/>6)Click on the trigger button.</span></pre><p id="afef" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">第二阶段:</p><pre class="kp kq kr ks gt ni nj nk nl aw nm bi"><span id="509d" class="ma mb iq nj b gy nn no l np nq">7)Now you will see the GOOGLE ASSISTANT Logo at the THIS position in the window. (Click on the + symbol before THAT)<br/>8)Search for WEBHOOKS and choose it. Then click on “ Make a WEB REQUEST”. On the next page complete the fields.<br/>9)In URL, provide the IP address of blynk-cloud.com where we found in cmd.<br/>(URL Format is <a class="ae nr" href="http://ip/" rel="noopener ugc nofollow" target="_blank">http://</a>ip address of blynk-cloud/authid/update/pin no.)<br/>10)And choose method tobe PUT and the content type has to json. Then click on the finish.</span></pre><p id="b263" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">确保在设置时，您给出的命令是正确的。这些是设置IFTTT时必须遵循的步骤。拿起你的手机，给谷歌助手下命令。现在你会看到我们的家用电器将根据我们的命令运行。命令必须与您在IFTTT设置中选择的指令相匹配。这是完整的设置。</p><p id="30ba" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们必须对电路中使用的每个器件重复这一过程。所以，对于每一个设备，你都要重复上述过程。将我们所有的设备连接到IFTTT后，我们就可以用我们的谷歌助手控制所有的设备了。</p><blockquote class="nt nu nv"><p id="1fcc" class="le lf nw lg b lh li ka lj lk ll kd lm nx lo lp lq ny ls lt lu nz lw lx ly lz ij bi translated">最后，您已经构建了您的自动化系统。</p></blockquote><p id="723e" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">你可以在<a class="ae nr" href="https://github.com/santhoshbandaru/Automation" rel="noopener ugc nofollow" target="_blank"> <strong class="lg ja"> Github </strong> </a>上查看整个项目。</p><p id="bedd" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated"><strong class="lg ja">结论:</strong></p><p id="d77b" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">我们学会了如何使用互联网和谷歌助手来自动化我们的家用电器。在这里，我们可以使用Blynk应用程序(手动)和谷歌助手(使用语音命令)来访问它们。你也可以用Alexa来控制它们，但是IFTTT需要做一些微小的改变。我希望你喜欢这个过程，现在明白如何开始。如果你发现有改进的地方，请随时提出修改意见。我很快会再赶上你的。在那之前，呆在家里，注意安全！</p><p id="dae6" class="pw-post-body-paragraph le lf iq lg b lh li ka lj lk ll kd lm ln lo lp lq lr ls lt lu lv lw lx ly lz ij bi translated">如果你想联系，请在LinkedIn上联系我。 </p></div></div>    
</body>
</html>