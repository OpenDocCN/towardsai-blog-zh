<html>
<head>
<title>Automate Machine Learning using Databricks AutoML — A Glass Box Approach and MLFLow</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Databricks AutoML(玻璃盒方法和MLFLow)实现机器学习自动化</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/automate-machine-learning-using-databricks-automl-a-glass-box-approach-and-mlflow-2543a8143687?source=collection_archive---------1-----------------------#2021-06-11">https://pub.towardsai.net/automate-machine-learning-using-databricks-automl-a-glass-box-approach-and-mlflow-2543a8143687?source=collection_archive---------1-----------------------#2021-06-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9a0f" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/automl" rel="noopener ugc nofollow" target="_blank">自动化机器学习</a></h2><div class=""/><div class=""><h2 id="0223" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">Databricks AutoML允许您快速生成基线模型和笔记本</h2></div><p id="1fa7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Databricks最近在2021年<a class="ae lk" href="https://databricks.com/dataaisummit/north-america-2021" rel="noopener ugc nofollow" target="_blank">数据+人工智能峰会</a>期间宣布了他们的Databricks AutoML平台。在本文中，我们将讨论如何使用Databricks AutoML平台自动将机器学习应用于数据集，并使用REST API将模型部署到生产中。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ll"><img src="../Images/08446b7510f57ad25a11903b63f734d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hlAEt1qelPF1rcEV"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">照片由<a class="ae lk" href="https://unsplash.com/@benwhitephotography?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">本·怀特</a>在<a class="ae lk" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="d782" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><strong class="kq ja">目录</strong> : <br/> 1。Databricks AutoML概述。<br/> 2。设置Azure Databricks环境。<br/> 3。在Azure数据块中配置AutoML。<br/> 4。探索由AutoML生成的笔记本。<br/> 5。将模型注册到MLflow模型注册表。<br/> 6。使用REST API部署模型。</p><h1 id="ec14" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">Databricks汽车</h1><p id="00b8" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">AutoML是指在构建机器学习或深度学习模型时，对重复性任务的自动化。AutoML试图自动化ML管道中的任务，如数据清理、特征工程、分类特征处理、超参数调整，尽可能减少人工干预。</p><p id="5bef" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">AutoML的主要目标是将机器学习工具带给非机器学习或非技术专家。</p><p id="9750" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Databricks AutoML允许我们通过自动化数据预处理、特征工程、超参数调整和最佳模型选择等任务来快速构建机器学习模型。Databricks AutoML与<a class="ae lk" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank"> MLflow </a>集成，将性能最佳的模型注册到模型注册表中，用于模型部署(通过REST API提供模型服务)。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi my"><img src="../Images/5a392b6f1b2d98fad4b363fef978f8a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YjC7SbQvK7nrQ1Nn.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">AutoML工作流程(图像来源:<a class="ae lk" href="https://databricks.com/product/automl" rel="noopener ugc nofollow" target="_blank">数据块</a></figcaption></figure><h1 id="58a8" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">设置Azure Databricks环境</h1><p id="6670" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">为了继续本教程的实践部分，您需要一个Microsoft Azure帐户。如果您没有帐户，请不要担心，我们可以免费创建。</p><p id="ddc2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">去微软Azure门户网站<a class="ae lk" href="https://azure.microsoft.com/en-in/free/" rel="noopener ugc nofollow" target="_blank">注册</a>获得一个免费账户。一旦你创建了你的帐户，你将获得大约200美元的积分，用于探索azure服务30天。</p><h2 id="27fc" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">正在创建Azure Databricks服务</h2><p id="783e" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">在我们可以打开databricks之前，我们需要创建一个azure databricks服务。</p><ul class=""><li id="99bc" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">转到Azure门户主页，在搜索栏中搜索<code class="fe nt nu nv nw b">azure databricks</code>,然后选择Databricks。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi nx"><img src="../Images/1dbc1ac82579b50146800da65dc111cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o38hrBtCp4mOIfq7cMOR-w.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">选择数据块(作者创建)</figcaption></figure><ul class=""><li id="cbb2" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">一旦你进入Azure Databricks默认目录，我们需要通过点击创建按钮来创建一个Azure Databricks工作区。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ny"><img src="../Images/84c84582be938d3310371bcb194d0e03.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9v6qSWhuru9Yg7mqGpIM9w.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">创建Azure Databricks工作区(作者已创建)</figcaption></figure><ul class=""><li id="d2aa" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">选择订阅服务并创建资源组(资源组是共享相同生命周期、权限和策略的资源的集合)。</li><li id="bafc" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">为选定的资源组输入唯一的工作区名称。</li><li id="60ab" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">定价层:选择试用版或高级层。点击<a class="ae lk" href="https://azure.microsoft.com/en-us/pricing/details/databricks/" rel="noopener ugc nofollow" target="_blank">此处</a>了解Azure Databricks定价详情。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oe"><img src="../Images/a6b30abec7d69299964f10dd31e40874.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*weJJN5VFNaGcmzTDMs0atg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">数据块定价层(作者创建)</figcaption></figure><ul class=""><li id="0430" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">接下来，我们不会修改azure提供的任何网络或高级设置。我们将使用默认设置。</li><li id="e95e" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">最后，单击review+create按钮创建资源。一旦部署成功，您将看到在默认目录中创建了一个Azure Databricks服务。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi of"><img src="../Images/5c329fafdf5e23db9c1a370f5a53e6ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BwVQXwtXIPAjw9UMDE0kHQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">Azure服务(作者创建)</figcaption></figure><h2 id="5265" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">正在启动Azure Databricks服务</h2><p id="f383" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">要启动Azure Databricks服务，请单击服务的名称(TrainingDB)。它将打开服务的主页。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi og"><img src="../Images/e062eeebf7dab1a5b190521da958fd27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JcnGxjKw1iVnBtAU_y1nAw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">Azure Databricks服务主页(作者创建)</figcaption></figure><p id="0ee3" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">打开服务主页后，选择overview选项卡，您会看到一个按钮“<strong class="kq ja"> Launch Workspace </strong>”。点击那个按钮，Azure Databricks就会启动。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oh"><img src="../Images/52b6d345db89298c20507e12ca2afedd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4p_BTLZPkbq1u1RVfTvbJA.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">Azure Databricks主页(作者创建)</figcaption></figure><h1 id="9223" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">在Azure数据块中配置AutoML</h1><p id="93bc" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">我希望你能够流动的教程到这一点。接下来，我们将在Azure Databricks中建立一个AutoML实验。</p><ul class=""><li id="3feb" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">要在databricks中打开机器学习页面，请将鼠标悬停在Databricks工作区的左侧栏上。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oi"><img src="../Images/1952f4bbfbcbdfcadbd7210e07c17b89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eJCrUOrN0lEYa9tZNgxP-g.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">选择机器学习(作者创建)</figcaption></figure><ul class=""><li id="3f48" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">从侧边栏顶部的角色切换器中，选择机器学习。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oj"><img src="../Images/3cfc889ef60764a91abfc2efbd6ff916.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bycur_dw5VLw-DP_Dh1KaQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">机器学习页面(作者创建)</figcaption></figure><p id="b05d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">对于这个AutoML实验，我使用Kaggle的<a class="ae lk" href="https://www.kaggle.com/uciml/red-wine-quality-cortez-et-al-2009/" rel="noopener ugc nofollow" target="_blank">红酒质量</a>数据集来预测一款酒的质量好坏。为了将这转换成一个分类问题，我已经基于质量分数将<code class="fe nt nu nv nw b">quality</code>特征转换成布尔<code class="fe nt nu nv nw b">good_quality</code>。如果质量分数大于或等于7，则该特性将被设置为<code class="fe nt nu nv nw b">True</code>否则<code class="fe nt nu nv nw b">False</code></p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ok"><img src="../Images/477ae83ba9a4dca74581cec45e6a3348.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*w-mzFtKqEyHD3Q3FGdXegg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">转换数据集(作者创建)</figcaption></figure><h2 id="8b8f" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">在数据块中创建集群</h2><p id="6f1b" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">为了首先配置AutoML实验，我们需要在databricks中创建一个集群。要创建集群，请将鼠标悬停在Databricks工作区的左侧栏上，然后选择集群。它将打开群集主页，如果有任何活动群集，您可以在此处看到它们。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ol"><img src="../Images/241cd7db8b5590f3a5008001a1e43779.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*60GNxf2hWhtO-Qq_NqHkgQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">集群主页(作者创建)</figcaption></figure><ul class=""><li id="0012" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">单击左上角的“create cluster”按钮创建一个新的集群。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi om"><img src="../Images/ef500b5373f03a86f6165bb4b8f19c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HR5_GgvD9h64NXKwxGpXWA.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">创建新集群(作者已创建)</figcaption></figure><ul class=""><li id="fa6d" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated"><strong class="kq ja">集群详情</strong> : <br/> -集群名称:输入任意集群名称<br/> -集群模式:单节点(由于我们只是在小数据上做实验。<br/> -池:名称<br/> -运行时版本:8.3 ML Beta或以上<br/> -节点类型:标准_DS3_v2(默认)</li></ul><h2 id="c05b" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">将数据载入数据块</h2><ul class=""><li id="a441" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj np nq nr ns bi translated">点击左侧菜单栏中的数据图标。它将打开一个面板来创建一个新表。</li><li id="bf08" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">将CSV文件上传到DBFS目标目录</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oq"><img src="../Images/2b7bb63ce9d7a4a7a08b32c1ade47493.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U4wxigBwPytsNfh8v2tC9g.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">上传数据文件(作者创建)</figcaption></figure><ul class=""><li id="6bc9" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">上传文件后，点击“Create Table with UI”并选择我们创建的集群。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi or"><img src="../Images/f771a82c66dbfaab9e1cbad52d2756d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TBDJskn0VMvdnOewxeVrMA.png"/></div></div></figure><ul class=""><li id="13b2" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">选择第一行作为header &amp; infer schema选项并创建表。</li></ul><h2 id="aee6" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">设置自动实验</h2><ul class=""><li id="a887" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj np nq nr ns bi translated">现在我们已经完成了先决条件—设置集群并创建了数据表。我们将继续设置AutoML实验。</li><li id="5167" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">AutoML配置:<br/> - Cluster: MLCluster。<br/> - ML题型:分类。<br/> -数据集:浏览我们创建的表。<br/> -预测目标:good_quality(由平台自动选择)<br/> -实验名称:自动填充或输入自定义名称。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi os"><img src="../Images/cd4b0e5479a3a8f668f58167357efcff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gCFsSIqMCP5fmU3YB7Cj9w.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">AutoML配置(作者创建)</figcaption></figure><ul class=""><li id="bd66" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">接下来，我们需要选择评估指标— F1得分(因为数据不平衡)。</li><li id="2767" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">我们甚至可以在高级配置设置中配置停止标准—超时和一些试运行。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/de455686143d5e0f34a6c3a271bae58b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1234/format:webp/1*Kugp5stE2C6NhHN7o35kIw.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">高级配置(作者创建)</figcaption></figure><ul class=""><li id="a2e7" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">设置所有配置后，单击“Start AutoML”来训练分类算法的不同迭代。</li></ul><h1 id="3822" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">探索由AutoML生成的笔记本</h1><p id="887c" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">现在一个小时已经过去了，AutoML已经完成了模型迭代的不同组合的执行。</p><ul class=""><li id="8513" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">如果您仔细查看这些指标，验证<code class="fe nt nu nv nw b">f1_score</code>会自动按降序对它们进行排序，因此最佳模型位于表的顶部。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ou"><img src="../Images/2458ecce38b5c6c94d0361b7547ccd89.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CEEB78-HPt5UZgKDBQtvgg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">AutoML笔记本(作者创建)</figcaption></figure><p id="a167" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">AutoML与<a class="ae lk" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank"> MLflow </a>集成，以跟踪与每次运行相关的所有模型参数和评估指标。MLflow是一个管理ML生命周期的开源平台，包括实验、再现性、部署和中央模型注册[1]。</p><p id="6293" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">MLflow使得比较两个或多个模型运行并从中选择最佳模型运行以进行进一步迭代或将模型推向生产变得容易。</p><h2 id="6cba" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">AutoML中的数据探索</h2><p id="27e6" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">在我们深入研究模型执行运行之前，Databricks AutoML创建了一个基本的数据探索笔记本，以提供数据的高级摘要。单击查看数据探索笔记本以打开笔记本。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ov"><img src="../Images/3755bd3b8b7d86ff01ef521857008685.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PG6mWYQDxoQo212xidkFzw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">数据探索笔记本(作者创建)</figcaption></figure><p id="2316" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果没有正确理解数据，我们对数据使用多少高级算法来建立模型，也可能不会给出适当的结果。因此，数据探索是机器学习中一个非常重要的阶段，但这是一个耗时的过程，大多数时候数据科学家会跳过这一阶段。</p><p id="8519" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Databricks AutoML通过创建基线数据探索笔记本来节省时间，数据科学家可以编辑该笔记本来扩展数据分析技术。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ow"><img src="../Images/9d96b897b3f5649c5b4fce43a25edb87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uj6wXsVd4PO65rUWNSlhKg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">相关图(作者创建)</figcaption></figure><p id="d749" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">AutoML内部使用<a class="ae lk" href="https://github.com/pandas-profiling/pandas-profiling" rel="noopener ugc nofollow" target="_blank"> pandas profiling </a>来给出关于相关性、缺失值和数据描述性统计的信息。</p><h2 id="54e1" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">探索自动运行笔记本</h2><p id="6989" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">现在，在浏览了数据探索笔记本之后，您对数据有了很好的理解，并且您想要查看AutoML模型构建代码。</p><p id="8a98" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Databricks AutoML显示模型结果，并提供一个可编辑的python笔记本，其中包含每次试运行的源代码，以便我们可以查看或修改(例如:创建一个新功能并将其包含在模型构建中)代码。在实验主页的source栏下，你会看到每次试运行的可复制笔记本——这就是为什么它被称为<strong class="kq ja">玻璃盒子方法</strong>(允许你查看引擎盖下)。</p><p id="f08c" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">要打开运行的源代码，请单击该运行的source列下的笔记本图标。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ox"><img src="../Images/b683a42639c1eeacbf2c4a856d3f619f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iV6ktodW58pYv4rrkntDZQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">XGBoost培训笔记本(作者创作)</figcaption></figure><p id="4614" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">AutoML运行中的每个模型都是由开源组件构建的，比如scikit-learn和XGBoost。它们可以很容易地被编辑并集成到机器学习管道中。</p><p id="7970" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">数据科学家或分析师可以利用这些样板代码来启动模型开发过程。此外，他们可以根据问题陈述，使用他们的领域知识来编辑或修改这些笔记本。</p><h1 id="5daa" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">将模型注册到模型注册中心</h1><p id="bbc8" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">在部署我们的服务模型之前，我们需要在MLflow模型注册中心注册模型。</p><p id="74b3" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">Model Registry是一个协作中心，团队可以在这里共享ML模型，从实验到在线测试和生产一起工作，与批准和治理工作流集成，并监控ML部署及其性能[2]。</p><p id="da54" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">要在模型注册表中注册模型，请单击您选择的运行(我的选择是最佳运行，即..顶部运行)并向下滚动到工件部分&amp;单击模型文件夹。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi oy"><img src="../Images/040c5d9e4ee0b79facf1443dc5a684ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qz17dnKm5Y70IN1QH_cDlQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">工件(作者创建)</figcaption></figure><ul class=""><li id="54cb" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">单击注册模型，选择创建新模型并输入模型名称。</li><li id="047f" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">您可以将所有相关的模型(预测红酒质量的模型)注册在同一个名称下，以便进行协作(在不同的团队之间共享模型)</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/d235dfe6f0ac25a87c403ed32fbd84bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*uKYcfWRFoh-K_0OgMRHRew.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">注册模型(作者创建)</figcaption></figure><p id="2a28" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">既然我们已经将模型注册到了模型注册中心，那么点击位于工件部分右上角的弹出图标来打开模型注册中心用户界面。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pa"><img src="../Images/c02bfbca25b9bb8b21dab8ae428a838c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xaUMFRtPcSBL_HM671XZ4g.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">注册模型(作者创建)</figcaption></figure><h2 id="dccd" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">探索模型注册表</h2><p id="0200" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">模型注册表提供了关于模型的信息，包括其作者、创建时间、当前阶段和源代码运行链接。</p><p id="1fc2" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">使用source链接，您可以打开用于创建模型的MLflow运行。从MLflow run UI中，您可以访问source notebook链接来查看创建模型的后端代码[3]。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pb"><img src="../Images/2be9f1e39245c259d9510408ef2ba6a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pIf13oJxaSwRQ7zHYnQSZg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">模型注册表(用户界面)</figcaption></figure><ul class=""><li id="3714" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">您甚至可以编辑/添加模型的模型描述。请记住，型号描述取决于型号版本。</li><li id="ce3d" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">阶段:Model Registry定义了几个模型阶段:None、Staging、Production和<code class="fe nt nu nv nw b">Archived</code>。下一节将详细介绍这一点。</li></ul><h1 id="1179" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">使用REST API部署模型</h1><p id="ad79" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">我们在本教程的最后一部分。在本节中，我们将讨论如何将模型推入生产环境，并使用REST API为模型提供服务。</p><h2 id="42f9" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">改变模型阶段</h2><ul class=""><li id="b26e" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj np nq nr ns bi translated">正如我们在上一节中看到的关于模型注册的不同阶段。每个阶段都有不同的意义。</li><li id="d915" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">例如，阶段化意味着模型测试，而生产则是针对已经完成测试或审查过程并被部署到应用程序中的模型。</li><li id="f45f" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">要更改模型的阶段，请单击“阶段”按钮以显示可用模型阶段的列表以及可用的阶段转换选项。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/603d73b65fce55cbf3a32c2e19471f88.png" data-original-src="https://miro.medium.com/v2/resize:fit:940/format:webp/1*Nw30I_DnQpvw1c4BEhIKVg.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">模型暂存(作者创建)</figcaption></figure><p id="f7c0" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在企业环境中，当您与多个团队(如数据科学团队和MLOps团队)合作时。数据科学团队的一名成员请求将模型转移到试运行阶段，在那里进行所有的模型测试。</p><ul class=""><li id="7c0c" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">所有测试完成后，模型将被转移到生产环境中进行服务。</li></ul><p id="dd47" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在本教程中，为了简单起见，我将直接将模型推向生产。要将模型推向生产，请选择过渡到-&gt;生产，输入您的注释，并在阶段过渡确认窗口中按OK以将模型过渡到生产。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/960e0fe6e189a343f4fb83a8babe02be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*7kr5yBeQPT7HiY4tod1ycg.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">舞台过渡(作者创作)</figcaption></figure><ul class=""><li id="4696" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">在模型版本转换到生产版本之后，当前阶段显示在UI中，并且一个条目被添加到活动日志中以反映转换。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pe"><img src="../Images/5e36e96ad1c622ac046d6d646530879b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7LG504ArYbotI_t95A2qMg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">日志(作者创建)</figcaption></figure><ul class=""><li id="0726" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">要导航回MLflow模型注册主页，请单击左侧边栏上的模型图标。</li><li id="783f" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">MLflow模型注册主页显示Azure Databricks工作区中所有已注册模型的列表，包括它们的版本和阶段。</li><li id="91b0" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">点击<strong class="kq ja"> redwine_qualitymodel </strong>链接打开注册模型页面，该页面显示预测模型的所有版本。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pf"><img src="../Images/49fd11e3339ed9679344ecd4afbad159.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YC0Mm3Lje0t7dhaRzbf30A.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">葡萄酒模型注册表(作者创建)</figcaption></figure><ul class=""><li id="19f1" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">从上图可以看到，有一个模型“版本1”正处于生产阶段。</li></ul><h2 id="9aaf" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">模型服务</h2><p id="b31a" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">数据块中的模型服务是使用MLflow模型服务功能执行的。MLflow使用REST API端点执行实时模型服务，这些端点根据模型版本及其阶段的可用性自动更新。</p><ul class=""><li id="7e6a" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">要启用服务，请单击出现在<strong class="kq ja"> redwine_qualitymodel </strong>模型注册页面中的serving选项卡。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pg"><img src="../Images/21f794c7349a70b7f87dbee931a8490c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DyoxvosCLTdY97w3bUSZmQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">上菜(作者创作)</figcaption></figure><ul class=""><li id="c73a" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">如果模型尚未启用服务，则会出现“启用服务”按钮。</li><li id="c383" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">当您为给定的注册模型启用模型服务时，Azure Databricks会自动为该模型创建一个唯一的集群，并在该集群上部署该模型的所有非归档版本[4]。</li></ul><h2 id="2e7a" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">使用服务模型的预测</h2><ul class=""><li id="9912" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj np nq nr ns bi translated">启用服务后，需要几分钟时间来启用服务群集。启用后，您将看到“就绪”状态。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi ph"><img src="../Images/a2b464b3efc206140fed90a233d4da65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pX5qgGQuqIWPmQRFaImCnQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">服务集群状态(作者创建)</figcaption></figure><h2 id="67ce" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">测试模型服务</h2><ul class=""><li id="da39" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj np nq nr ns bi translated">在服务集群准备好之后，我们可以通过在request选项卡中发出请求并查看响应来验证模型响应。</li><li id="b9b9" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">为了发送请求，我们需要一些样本数据点。单击显示示例选项卡，它将自动填充5个数据点，然后单击-&gt;发送请求查看响应。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pi"><img src="../Images/95f54627365769d15ad44f2c8eecaddc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-27GUBp1GvImiXWl4iiZDw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">模型响应(作者创建)</figcaption></figure><p id="7e06" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><strong class="kq ja">车型网址</strong></p><ul class=""><li id="c0b1" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">在服务页面上，您将看到模型URL端点，使用这些端点通过API令牌身份验证来查询您的模型。<br/>关于使用REST API提供服务的更多信息(代码片段),请查看服务文档。</li></ul><div class="pj pk gp gr pl pm"><a href="https://docs.microsoft.com/en-us/azure/databricks/applications/mlflow/model-serving#score-deployed-model-versions" rel="noopener  ugc nofollow" target="_blank"><div class="pn ab fo"><div class="po ab pp cl cj pq"><h2 class="bd ja gy z fp pr fr fs ps fu fw iz bi translated">在Azure数据块上服务的MLflow模型- Azure数据块-工作区</h2><div class="pt l"><h3 class="bd b gy z fp pr fr fs ps fu fw dk translated">MLflow模型服务允许您将来自模型注册表的机器学习模型作为更新的REST端点…</h3></div><div class="pu l"><p class="bd b dl z fp pr fr fs ps fu fw dk translated">docs.microsoft.com</p></div></div><div class="pv l"><div class="pw l px py pz pv qa lv pm"/></div></div></a></div><h2 id="1256" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">集群设置</h2><ul class=""><li id="114c" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj np nq nr ns bi translated">默认情况下，databricks将为服务集群分配一个基本实例类型。但是，如果您正在处理一个非常大的数据集，您可能需要一个更强大的集群来实时处理大量的预测(响应)。</li><li id="5b6f" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">要更改群集设置，请转到群集设置，根据您的使用情况更改实例类型，然后单击保存。</li></ul><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi pe"><img src="../Images/13c12ecd09dab5f6205c0931458ef184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IewthUGXwCSTKRoNAxBSVA.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">群集设置(作者创建)</figcaption></figure><ul class=""><li id="875d" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">重要的是，不要将这个集群与我们在设置AutoML实验时创建的集群相混淆。<br/> - <strong class="kq ja">服务集群</strong>:与服务端点关联的集群。<br/> - <strong class="kq ja">数据块集群</strong>:与执行AutoML/Spark关联的集群。</li></ul><p id="530f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><strong class="kq ja">注</strong>:</p><ul class=""><li id="83b1" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">只要启用了服务，就会维护服务群集，即使不存在活动的模型版本。</li><li id="0067" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">只要维护服务集群，就会按照您选择服务的实例的配置向您收费。</li></ul><p id="b02f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><strong class="kq ja">记得在从azure帐户注销之前停止这两个群集。</strong></p><ul class=""><li id="4d93" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">要停止服务集群，请单击服务页面上状态旁边的停止按钮。</li><li id="9f6f" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">要停止databricks集群，请将鼠标悬停在左侧栏上，转到“clusters”页面，选择集群并单击“terminate”。</li></ul></div><div class="ab cl qb qc hu qd" role="separator"><span class="qe bw bk qf qg qh"/><span class="qe bw bk qf qg qh"/><span class="qe bw bk qf qg"/></div><div class="ij ik il im in"><p id="cd5b" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在你知道了，我们已经成功地配置了AutoML实验，并把最好的产品投入到实时服务中。</p><figure class="lm ln lo lp gt lq gh gi paragraph-image"><div role="button" tabindex="0" class="lr ls di lt bf lu"><div class="gh gi qi"><img src="../Images/5a74f82c2cc95aa6baac80cd19465c92.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z8lnPAUf06R4WSAA"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">阿拉斯代尔·埃尔默斯在<a class="ae lk" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h1 id="ed24" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">下一步是什么？</h1><blockquote class="qj"><p id="6720" class="qk ql iq bd qm qn qo qp qq qr qs lj dk translated">练习练习</p></blockquote><p id="bf62" class="pw-post-body-paragraph ko kp iq kq b kr qt ka kt ku qu kd kw kx qv kz la lb qw ld le lf qx lh li lj ij bi translated">在本教程中，我们只讨论了分类问题，但是您也可以使用AutoML尝试回归问题，并完全理解模型自动化和将模型转换到生产环境。</p><ul class=""><li id="627d" class="nk nl iq kq b kr ks ku kv kx nm lb nn lf no lj np nq nr ns bi translated">除了从UI配置AutoML，您甚至可以使用AutoML的Python API在代码中包含AutoML功能。</li><li id="2405" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj np nq nr ns bi translated">查看databricks <a class="ae lk" href="https://docs.databricks.com/applications/machine-learning/automl.html#automl-python-api" rel="noopener ugc nofollow" target="_blank"> AutoML文档</a>，了解如何配置Python API和相关代码片段。</li></ul><h1 id="5f6a" class="mb mc iq bd md me mf mg mh mi mj mk ml kf mm kg mn ki mo kj mp kl mq km mr ms bi translated">结论</h1><p id="abe3" class="pw-post-body-paragraph ko kp iq kq b kr mt ka kt ku mu kd kw kx mv kz la lb mw ld le lf mx lh li lj ij bi translated">在本文中，我们首先讨论了databricks AutoML的概述。之后，我们讨论了如何在azure门户中设置和启动azure databricks服务。然后，我们看到了如何使用红酒质量数据集配置AutoML实验。最后，我们学习了如何在模型注册中心转换模型阶段，并使用REST API启用模型服务。</p><p id="ed85" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果您在完成本教程的过程中有任何问题，请随时通过LinkedIn或Twitter联系我。我希望这篇文章能帮助你开始使用AutoML并理解它是如何工作的。</p><p id="6b36" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在我的下一篇博客中，我们将讨论如何在您的本地计算机上设置PySpark，并动手使用PySpark。所以确保你在媒体上跟随着我，以便在它下跌时得到通知。</p><p id="1af1" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">直到下次和平:)</p><p id="6b07" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">NK。</p><h2 id="f1d2" class="mz mc iq bd md na nb dn mh nc nd dp ml kx ne nf mn lb ng nh mp lf ni nj mr iw bi translated">参考资料:</h2><ol class=""><li id="d8c7" class="nk nl iq kq b kr mt ku mu kx on lb oo lf op lj qy nq nr ns bi translated"><a class="ae lk" href="https://mlflow.org/" rel="noopener ugc nofollow" target="_blank">https://mlflow.org/</a></li><li id="5b37" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj qy nq nr ns bi translated"><a class="ae lk" href="https://databricks.com/product/mlflow-model-registry" rel="noopener ugc nofollow" target="_blank">https://databricks.com/product/mlflow-model-registry</a></li><li id="c1ea" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj qy nq nr ns bi translated"><a class="ae lk" href="https://docs.microsoft.com/en-us/azure/databricks/applications/mlflow/model-registry-example" rel="noopener ugc nofollow" target="_blank"> MLflow模型注册示例</a></li><li id="850a" class="nk nl iq kq b kr nz ku oa kx ob lb oc lf od lj qy nq nr ns bi translated"><a class="ae lk" href="https://docs.microsoft.com/en-us/azure/databricks/applications/mlflow/model-serving" rel="noopener ugc nofollow" target="_blank">服务于Azure数据块的MLflow模型</a></li></ol></div></div>    
</body>
</html>