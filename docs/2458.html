<html>
<head>
<title>Population Pyramid — Interesting Visualization of Population Statistics using R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">人口金字塔——使用R</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/population-pyramid-interesting-visualization-of-population-statistics-using-r-a16d60b0da15?source=collection_archive---------2-----------------------#2022-01-03">https://pub.towardsai.net/population-pyramid-interesting-visualization-of-population-statistics-using-r-a16d60b0da15?source=collection_archive---------2-----------------------#2022-01-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9840" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-visualization" rel="noopener ugc nofollow" target="_blank">数据可视化</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/62dfc4bc83edc3efa4e0862dc3e2eabe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*fuyaoIN1Tt7QdY16k6PnEA.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">尤金·特卡琴科拍摄的Unsplash照片</figcaption></figure><p id="a351" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi lf translated"><span class="l lg lh li bm lj lk ll lm ln di"> T </span>当我们试图通过视觉来解决和交流技术复杂性时,“一张图片胜过千言万语”这句谚语总是受到考验。这些视觉效果总是倾向于增加对挑战的理解和感知，并奖励我们以前从未想过的洞察力。开发这种可视化背后的驱动力是从数据中挤出最大的价值和信息，以供进一步分析。事实上，这是所有专家在各自领域的最高目标。</p><p id="10b8" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">“人口金字塔”就是这样一种形象。</p><p id="d609" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">但是</p><p id="d47d" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这些人口金字塔是什么？</p><p id="5a24" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">和</p><p id="4e1e" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">它们带来了什么好处？</p><p id="e43c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">让我们详细了解一下。</p><p id="baf6" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">人口统计学家广泛使用人口金字塔作为了解特定区域内人口组成或结构的工具。区域可以代表一个城市、一个国家、一个地区或一个全球。生态学家、社会学家和经济学家也在他们的学科/领域广泛使用它们来研究和比较人口。</p><p id="5198" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">定义:人口金字塔</strong></p><blockquote class="lo lp lq"><p id="b09a" class="kh ki lr kj b kk kl km kn ko kp kq kr ls kt ku kv lt kx ky kz lu lb lc ld le ij bi translated">人口金字塔是给定时间段内选定人口的年龄和性别构成/分布的解释性图形表示。</p><p id="389b" class="kh ki lr kj b kk kl km kn ko kp kq kr ls kt ku kv lt kx ky kz lu lb lc ld le ij bi translated">它们通常也被称为年龄-性别金字塔或年龄-性别图，因为它们具体代表了选定空间内人口的年龄和性别结构。金字塔的名字来源于它们通常的形状，大部分是三角形。然而，根据人口的年龄和性别构成，形状会有所不同。</p></blockquote><p id="7796" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">人口金字塔的特征</strong></p><p id="a50c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">1.人口金字塔显示了划分为不同年龄组的总人口，这些年龄组又进一步细分为男性和女性。</p><p id="ca42" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">2.金字塔代表了人口构成的不同组成组群。</p><p id="e0fc" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">3.一般来说，可以根据年龄-性别分布创建三种类型的人口金字塔——扩张型、收缩型和稳定型。</p><p id="6f44" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">4.膨胀代表人口的较大数量或百分比</p><p id="e931" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在较年轻的年龄组，紧缩显示较低的数字或</p><p id="5eb0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">年轻年龄组和固定年龄组的人口百分比</p><p id="2bda" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">接近平稳表示以下各项的数量或百分比大致相等</p><p id="2cc0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">几乎所有年龄段。</p><p id="7baf" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">5.该图从底部(金字塔的底部)最年轻的年龄组开始，到顶部(金字塔的顶点)最年长的年龄组。</p><p id="b1e2" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">6.人口生育率是影响金字塔形状的最重要参数，因为每位父母生育的子女数量越多，金字塔的基数就越大，人口的中位年龄就越年轻。</p><p id="8e3c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">7.死亡率也会对形状产生影响，但影响比生育率小得多，但也更复杂。</p><p id="3262" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">8.底部较宽的金字塔意味着较年轻的年龄组在人口中占相当大的比例，而顶部较窄或较尖意味着较老的年龄组在人口中占相当小的比例。</p><p id="1020" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">人口金字塔的好处</strong></p><p id="91b0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">1.人口金字塔提供了大量关于生育率、死亡率、移民、男女比例、受抚养人人数(儿童、老人等)的信息。)，以及所选区域范围内的其他人口动态。</p><p id="3c3a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">2.它们揭示了人口在一段时间内的增长或下降，并为跟踪和填充因重大事件(如疾病、灾难和其他危机)引起的重大人口变化奠定了基础。这反过来又使研究人员能够根据模式预测经济需求，表明该地区的发展水平状况，并能够方便地比较未来和历史趋势。</p><p id="8483" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">3.人口金字塔对于检查历史和当前人口趋势以及预测未来趋势以规划未来发展非常有用。反过来，这有助于政府和私营部门根据人口需求规划特定地区的服务分配。</p><p id="e5f4" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">4.多个人口金字塔可用于比较不同国家或选定人口群体的模式。</p><p id="e6e5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">5.人口金字塔是非常方便的工具，并提供非常有效的图形表示。他们最大的优势在于几乎每个人都容易理解，不管他们的统计和数学技能如何。</p><p id="1a9a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">解读人口金字塔</strong></p><p id="9a75" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">人口金字塔包含相互堆叠的成对背靠背条形图，以显示每个年龄组中男性和女性的数量或百分比。代表遵循一个惯例，男性显示在左侧，女性显示在右侧。横轴表示人口的数量或百分比，纵轴表示年龄组。有一条垂直线位于中央(即图的中间)，将男性代表与女性代表分开。年龄通常分为5岁左右。最下面的条形代表最年轻的年龄组，最上面的条形代表最年长的年龄组。水平条的长度描述了所选人群中特定年龄组中男性或女性的数量或百分比。如果女性较多，中轴右侧的条形比右侧的条形长，反之亦然。</p><p id="f97f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">如果人口金字塔用于比较，那么按照相同的比例绘制人口金字塔是很重要的，并且还应该描绘相同的年龄类别。</p><p id="f86f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">更进一步，让我们现在讨论如何使用“R”语言创建这样的金字塔？</p></div><div class="ab cl lv lw hu lx" role="separator"><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma mb"/><span class="ly bw bk lz ma"/></div><div class="ij ik il im in"><p id="ec35" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">方法1(使用‘R’中的‘金字塔’包)</strong></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="83fc" class="ml mm iq mh b gy mn mo l mp mq"><em class="lr">#Building Population pyramid</em><br/><em class="lr">#install.packages("pyramid")</em><br/>library(pyramid)<br/>library(utils)</span><span id="5fb3" class="ml mm iq mh b gy mr mo l mp mq"><em class="lr"># Read Population pyramid data frame</em><br/>Pyramid_DF &lt;- read_xlsx("Pyramid_data_frame.xlsx" )</span><span id="acae" class="ml mm iq mh b gy mr mo l mp mq">View(Pyramid_DF)</span><span id="0e1f" class="ml mm iq mh b gy mr mo l mp mq"><em class="lr"># Building pyramid based on Number of Males and Females</em><br/>Pyramid_DF1 &lt;- data.frame(Pyramid_DF$Number_of_Males,Pyramid_DF$Number_of_Females,Pyramid_DF$Age_Category)</span><span id="905c" class="ml mm iq mh b gy mr mo l mp mq">pyramid(Pyramid_DF1, Rcol="#FF9999", Lcol = "#009999",main = "Population Pyramid <br/>        using total number of population",<br/>        Llab="No. of Males", Rlab="No. of Females", Clab="Age_Group")</span><span id="a1a1" class="ml mm iq mh b gy mr mo l mp mq"><em class="lr"># Building pyramid based on Percentage of Males and Females</em><br/>Pyramid_DF2 &lt;- data.frame(Pyramid_DF$Percentage_of_Males,Pyramid_DF$Percentage_of_Females,Pyramid_DF$Age_Category)</span><span id="883d" class="ml mm iq mh b gy mr mo l mp mq">pyramid(Pyramid_DF2, Rcol="green", Lcol = "yellow",main = "Population Pyramid using total <br/>        percentage of population",<br/>        Llab="Percentage of Males", Rlab="Percentage of Females", Clab="Age_Group")</span></pre><p id="5991" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">表格形式的数据框表示</p><figure class="mc md me mf gt ka gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/728b6e1b79e1ca978fd55e18245b8629.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*epX-BL4ujViWSa6lI8t9tw.png"/></div></figure><p id="0d96" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">人口金字塔截图</p><figure class="mc md me mf gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi mt"><img src="../Images/b9331b6118881643c0ee196a079dd9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dycnDDZCShPjvGRWZCpwKA.png"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图像描绘了总人口的人口金字塔(男性+女性的数量)</figcaption></figure><figure class="mc md me mf gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="gh gi my"><img src="../Images/52e115b47e4a3ff981c0d1d8c36e8d04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*thm84zyY0HZLpKVqbaFYUQ.png"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图像描绘了总人口的人口金字塔(男性+女性的百分比)</figcaption></figure><p id="1346" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">方法2(使用‘R’中的‘plotrix’包)</strong></p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="4124" class="ml mm iq mh b gy mn mo l mp mq">library(plotrix)<br/>Male.pop&lt;-c(3.2,3.5,3.6,3.6,3.5,3.5,3.9,3.7,3.9,3.5,3.2,2.8,2.2,1.8,<br/>            1.5,1.3,0.7,0.4)<br/>Female.pop&lt;-c(3.2,3.4,3.5,3.5,3.5,3.7,4,3.8,3.9,3.6,3.2,2.5,2,1.7,1.5,<br/>              1.3,1,0.8)<br/>agelabels&lt;-c("0-4","5-9","10-14","15-19","20-24","25-29","30-34",<br/>             "35-39","40-44","45-49","50-54","55-59","60-64","65-69","70-74",<br/>             "75-79","80-44","85+")<br/>mcol&lt;-color.gradient(c(0,0,0.5,1),c(0,0,0.5,1),c(1,1,0.5,1),18)<br/>fcol&lt;-color.gradient(c(1,1,0.5,1),c(0.5,0.5,0.5,1),c(0.5,0.5,0.5,1),18)<br/>par(mar=pyramid.plot(Male.pop,Female.pop,labels=agelabels,<br/>                     main="Population pyramid",lxcol=mcol,rxcol=fcol,<br/>                     gap=0.5,show.values=TRUE))<br/># three column matrices (Expanding pyramid beyond male-female numbers )<br/>avtemp&lt;-c(seq(11,2,by=-1),rep(2:6,each=2),seq(11,2,by=-1))<br/>malechef&lt;-matrix(avtemp+sample(-2:2,30,TRUE),ncol=3)<br/>femalechef&lt;-matrix(avtemp+sample(-2:2,30,TRUE),ncol=3)<br/># group by age<br/>agegrps&lt;-c("0-10","11-20","21-30","31-40","41-50","51-60",<br/>           "61-70","71-80","81-90","91+")<br/>oldmar&lt;-pyramid.plot(malechef,femalechef,labels=agegrps,<br/>                     unit="Bowls per month",lxcol=c("#ff99ff","#66ff66","#00ffff"),<br/>                     rxcol=c("#ff99ff","#66ff66","#00ffff"),laxlab=c(0,10,20,30),<br/>                     raxlab=c(0,10,20,30),top.labels=c("Males","Age","Females"),gap=4,<br/>                     do.first="plot_bg(\"#eedd55\")")<br/># put a box around it<br/>box()</span><span id="4b2d" class="ml mm iq mh b gy mr mo l mp mq"># giving  a title<br/>mtext("Recipe temperature bearable by age and sex of consumer",3,2,cex=1.5)<br/># Putting a legend<br/>legend(par("usr")[1],11,c("Very hot","Optimal","Too Cold"),<br/>       fill=c("#ff99ff","#66ff66","#00ffff"), bty = 'n',cex = 0.7)<br/># Restore the margins and background<br/>par(mar=oldmar,bg="transparent")</span></pre><p id="c8a8" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">人口金字塔截图</p><figure class="mc md me mf gt ka gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/65375acfd54c610e9567f0aeec9c1dad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*G4ymUzb2W4ckSLCUh2ybJg.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图像描绘了根据人口承受的配方温度进一步扩展的总人口的人口金字塔</figcaption></figure><p id="9ee8" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我希望通过上面的代码和视觉效果，这个概念是清晰的。</p><p id="51a4" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">最后的想法</strong></p><p id="3245" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">在处理年龄性别分布时，人口金字塔是非常方便的工具，经常被人口学家、研究人员、生态学家、社会学家等使用。它们提供了非常有效的图形演示。也许他们最大的优点是，不管统计和数学技能如何，他们很容易被几乎每个人理解。</p><p id="2ddc" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">感谢阅读！！！</p><p id="b41e" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">你可以在媒体上跟踪我</p><p id="968f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">LinkedIn: <a class="ae na" href="https://www.linkedin.com/in/supriya-ghosh" rel="noopener ugc nofollow" target="_blank"> Supriya Ghosh </a></p><p id="5c8b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">还有推特:<a class="ae na" href="https://twitter.com/isupriyaghosh" rel="noopener ugc nofollow" target="_blank"> @isupriyaghosh </a></p></div></div>    
</body>
</html>