<html>
<head>
<title>Hand Cricket Simulation Using CNN and OpenCV</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用CNN和OpenCV的手板球仿真</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/achand-cricket-simulation-using-cnn-and-opencv-102f3d87142?source=collection_archive---------1-----------------------#2022-05-29">https://pub.towardsai.net/achand-cricket-simulation-using-cnn-and-opencv-102f3d87142?source=collection_archive---------1-----------------------#2022-05-29</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="f894" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我一直想在这方面努力很久了。从小到大，板球是我最喜欢的游戏之一，我觉得这是我回忆那些时刻的方式。对于那些不知道它如何工作的人，这里有一个游戏的简要描述:</p><ul class=""><li id="f514" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">手板球和石头剪刀布的游戏很相似。几分钟后你就会明白了。为了简单起见，我将尽量把规则限制在玩这个游戏所必需的范围内。</li><li id="ba78" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">你需要两名球员来玩这个游戏——一名击球手和一名投球手。</li><li id="8678" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">在这里，击球手和投球手同时选择一个符号，就像石头剪刀布一样。每个符号都与特定的跑步/点数相关联。</li><li id="ac58" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">这个游戏一共涉及到7个手势/符号<br/> <strong class="jp ir"> <em class="kz"> -食指向上= 1跑/1分<br/> -食指和中指向上= 2跑/2分<br/> -食指、中指&amp;无名指向上= 3跑/3分<br/> -食指、中指、无名指&amp;小指向上= 4跑/4分<br/> -食指、中指、无名指、小指&amp;拇指向上= 5跑/5分<br/> -只有拇指向上= 6跑/6分</em></strong></li><li id="e6e0" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">击球手和投球手可以自由选择他们想要的任何符号。<br/> <strong class="jp ir"> -投球手的目标:尝试选择与击球手相同的符号<br/> -击球手的目标:尝试选择与投球手不同的符号</strong> <strong class="jp ir">并得分/得分</strong></li></ul><p id="02f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在这里是击球手如何得分和投球手如何试图阻止他。</p><ol class=""><li id="5264" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk la kr ks kt bi translated">击球手每移动一次，选择一个不同于投球手的数字，他就得到他选择的数字所指示的分数。</li><li id="80a7" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk la kr ks kt bi translated">上述规则的一个例外是闭合的拳头(防御)符号。这一步将使击球手得到由投球手选择的符号所指示的分数。</li><li id="600e" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk la kr ks kt bi translated">如果击球手和投球手选择相同的手符号，游戏结束！</li></ol><p id="5e03" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里有一个简单的场景来说明这一点:</p><p id="2f9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> -第一轮:</strong> <br/>击球手符号= 4 ( <em class="kz">指数，中， 环&amp;小拇指向上</em> ) <br/>投球手符号= 2 ( <em class="kz">食指和中指向上</em> ) <br/>击球手得分= 4分<br/> <strong class="jp ir"> -第2轮:</strong> <br/>击球手符号= 5 <br/>投球手符号= 3 <br/>击球手得分= 9分(4+5) <br/> <strong class="jp ir"> -第3轮:</strong> <br/>击球手符号 <br/> <strong class="jp ir"> -第4轮:</strong> <br/>击球手符号= 0(防守)<br/>投球手符号= 6 <br/>击球手得分= 16分(4+5+1+6) <br/> <strong class="jp ir"> -第5轮:</strong> <br/>击球手符号= 3 <br/>投球手符号= 3 <br/> <strong class="jp ir"> <em class="kz">游戏结束！ 击球手的最终得分= 16分</em></strong></p><p id="2ad5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kz">叹息</em>。这是令人筋疲力尽和相当复杂的，没有感谢我。为了你好，我希望你事先熟悉这个游戏。</p><p id="8fbc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">现在我们知道了这个游戏是如何工作的，我们可以开始尝试复制这个游戏了。(我将使用Python编写代码片段)</p><p id="3fcf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一段很长的代码，请多包涵。该过程可分为以下步骤:</p><ul class=""><li id="3166" class="kl km iq jp b jq jr ju jv jy kn kc ko kg kp kk kq kr ks kt bi translated">步骤1:数据收集和格式化</li><li id="668f" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">步骤2:加载数据并处理它</li><li id="14f4" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">步骤3:设计CNN模型架构</li><li id="8610" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">步骤4:训练CNN模型计算手指数</li><li id="d1cb" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">步骤5:实时测试模型以计算手指数</li><li id="15dc" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">第六步:修改手板球的规则</li><li id="595c" class="kl km iq jp b jq ku ju kv jy kw kc kx kg ky kk kq kr ks kt bi translated">步骤7:实时实现训练好的CNN模型来模拟手板球</li></ul><p id="adc5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面几节中的代码要求对python、OpenCV和CNN的熟练程度达到中等水平。我建议在继续阅读本节之前，先熟悉与上述主题相对应的更简单的代码。</p><p id="c28a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们开始吧！</p><h1 id="562d" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak"> <em class="lz">第一步:数据采集和格式化</em> </strong></h1><p id="9d16" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">这个项目所需的数据必须是代表数字0-6(包括0和6)的图像。我已经收集好资料上传到Kaggle: <a class="ae mf" href="https://www.kaggle.com/datasets/abhinowww/hand-cricket-symbols" rel="noopener ugc nofollow" target="_blank">手形符号</a>。我使用python的OpenCV库收集了这些数据。下面快速阅读一下我是如何做到的:<a class="ae mf" href="https://medium.com/@abhi1achiever/data-collection-using-opencv-cc5aa7f27255" rel="noopener">数据收集</a>。</p><p id="c868" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我总共收集了28800张尺寸为240x240像素的jpg图片。在这28000幅图像中，20000幅存储在“train”文件夹中，其余8800幅存储在“test”文件夹中。为什么是28000张照片？为什么一列火车要考20000:8800的比例？为什么是240x240大小的图片？没有特别的原因！我只是不断收集越来越多的数据，同时测试模型如何实时工作。这些数字产生了一个足够好的模型，所以我坚持使用它们。不管怎样，继续前进！</p><p id="aeb3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">训练和测试文件夹都包含另外8个名为“0”、“1”、“2”、“3”、“4”、“5”、“6”、“无”的文件夹。训练文件夹中的每个文件夹包含2500幅图像，测试文件夹中的文件夹包含1100幅图像。迷茫？我也会的。这里有一个更好的表示，使它更容易。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/b3a1d928e89ec84189a4f07f6a91c107.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*YWHeHJbpRX4RKMQtpzxJRw.png"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">目录结构</figcaption></figure><p id="420a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我已经建立了这个结构，希望根据train文件夹中的数据训练模型，并根据test文件夹中的数据测试它。然而，我最终使用了所有的数据来训练模型，因为，我的最终目标是实时实现它，而不是报告模型所达到的精度。如果你们中的任何人对找出准确性感兴趣，类似于上面的结构可能会被证明是有用的。</p><p id="7ca7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有些人可能会注意到名为“无”的文件夹。此文件夹包含没有手形符号的图像。该文件夹中的图像用于建立用户不显示符号时的状态。它本质上包含了带有随机背景的图像。在机器学习方面，这是一个多类分类问题，其中每个符号都是一个特定的类。当用户没有选择手形符号时，有必要包括一个指示用户没有显示手形符号的状态的类来实时识别图像。</p><h1 id="9ed0" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak"> <em class="lz">第二步:加载数据并处理</em> </strong></h1><p id="52f5" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">上一步会让我们将数据存储在工作目录中。我们现在必须将它引入环境中(以所需的格式将其存储在变量中)。</p><p id="0dc3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设数据存储在名为“dataset”的文件夹中。我们使用python操作系统库中的函数遍历这个文件夹和其中的文件。每个文件夹中的每个图像都被转换成一个NumPy数组，并存储在一个名为‘images _ as _ numpyarr’的列表中。另一个称为“标签”的列表被维护，它存储由图像表示的数字，与存储在images_as_numpyarr列表中的图像在相同的索引处。</p><p id="2de1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于那些熟悉监督机器学习的人来说，标签列表用于通过标记数据来提供监督。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="766b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，images_as_numpyarr[0]将包含作为NumPy数组的图像像素数据，labels[0]将包含图像中显示的数字。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/d4b1415f77a25eb42c3e7e48a8694552.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*usjM18xoe2JYqfbnPy8hTw.jpeg"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">标签为类别3的样本图像</figcaption></figure><p id="105d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，如果这是第一张图像，images_as_numpyarr[0]会将此图像存储为NumPy数组，labels[0]会存储数字3。</p><p id="4d0c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">标签0到6表示正在显示的数字，而标签7表示没有数字正在显示(前面提到的“无”状态)。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/383793da7cfc3df2842536d96f84d796.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*NPzu0yUaucKwoekpa76VNA.jpeg"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">标记为类别7的“无”状态的样本图像</figcaption></figure><p id="83e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">标签列表会将上面的图像标记为数字7(表示图像的类别),并将其存储在列表中。</p><p id="4dbd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果找到以下图像，标签列表将为:</p><h2 id="a084" class="mv lc iq bd ld mw mx dn lh my mz dp ll jy na nb lp kc nc nd lt kg ne nf lx ng bi translated">标签= [5，4，6，7]</h2><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/407e9ceef2400096fe91a39491674c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*auYCdPjXhrY30A1PvkdWRA.png"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">样本图像</figcaption></figure><p id="5300" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后在第21行使用一个热编码技术对这些标签进行编码。</p><h1 id="f3d9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤3:设计CNN模型架构</h1><p id="9b72" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">现在我们已经有了现成的数据，我们需要设计一个CNN模型并将数据输入其中。我没有从头开始构建一个架构，而是使用迁移学习来更容易地构建一个有效的模型。下面有一篇文章详细讲解:<a class="ae mf" href="https://medium.com/@silvershine1st/transfer-learning-for-cnn-7eed1d8a5305" rel="noopener">迁移学习</a>。简单来说，就是使用一个预先训练好的模型(带权重)，修改最后几层来适应我们需求的过程。这种技术有助于减少构建和编译复杂架构的时间。</p><p id="05e9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里，我使用了一个叫做MobileNet的轻量级架构。这是建筑。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/2ba972b11db0eeea5583f6d405a54944.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*1vKanjoicSk3p8OrJMnQpg.png"/></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">学分:<a class="ae mf" href="https://medium.com/analytics-vidhya/image-classification-with-mobilenet-cc6fbb2cd470" rel="noopener">中等</a></figcaption></figure><p id="efc8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">复杂？我理解你。目前，只需要理解MobileNet是预先构建和预先训练的(这意味着通过训练产生一些适当的权重)。我们将导入这个架构，修改最后几层(通常通过添加新层)并根据我们的数据训练模型。</p><p id="b221" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是代码。我已经在第8行中导入了MobileNet架构，并在最后添加了一些层(第9–13行)。然后我用Adam optimizer编译了它，学习率为0.0001。我尝试用不同的参数进行训练，下面代码中的参数被证明足够好。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="ms mt l"/></div></figure><h1 id="fe02" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤4:训练CNN模型计算手指数</h1><p id="d778" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">现在我们已经准备好了架构，我们把图像和标签作为NumPy数组传入(第4行)。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="976f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">images_as_numpyarr[0]的形状是240x240x3 (240x240是图像大小，3表示通道数(RGB))，而labels[0]的形状是28800x8 (28800是图像数，8是分类中可能的不同类别数(0，1，2，3，4，5，6，7) (7表示无类别))。</p><p id="83c8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该模型被训练2个时期。这个过程在我的机器上花费了大约50-60分钟。根据您可用的处理能力，这个时间可能会有所不同。</p><p id="01d3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，保存模型以检查所取得的进展，我们可以在下次处理时加载模型，而不是再次训练模型。</p><h1 id="55bc" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤5:实时测试模型以计数手指</h1><p id="12e7" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们的模型终于可以实时计算手指的数量了。使用OpenCV，我们可以使用我们的网络摄像头，让我们的模型检测显示的手指数量。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="c6fd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们在屏幕的右边画一个正方形。在每一帧中，我们将提取这个方块并将其传递给我们的模型。然后，我们的模型返回一组概率。由于有8个可能的类别(0，1，2，3，4，5，6，7)，数组中的每个值代表图像在索引x处有一只手代表数字x的概率(除了索引7处的概率值代表图像中没有手的概率的7)。数组中具有最大概率的值是模型预测将在图像中显示的值。我在屏幕的左上角显示了这个值。</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi nj"><img src="../Images/b1158c9ab7f60a8d4f6cf595dc2788d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UT5Xu6HjxfE4BK8q9e6bgg.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">手指计数模型:学分:<a class="ae mf" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a></figcaption></figure><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi no"><img src="../Images/85a3fc02d26a5527b03e6284bc9a1026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KrcQUDv3FNqhcg0gJxrnPw.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">手指计数模型:学分:<a class="ae mf" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a></figcaption></figure><h1 id="d5c9" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">第六步:我对板球的适应</h1><p id="e89c" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们现在有了一个能够数手指的模型。现在我们继续游戏的技术细节。这个项目是为了让一个人和一个机器人玩游戏而创建的。如果两个人想玩板球，他们可以亲自去，或者通过视频电话。所以下面的程序只能用来对付机器人。为了进一步简化，人类将永远扮演击球手，而机器人将永远扮演投球手。投球手将每秒从0-6中随机选择一个数字。击球手选择一个数字的那一刻(在指定区域用手示意一个数字)，这个数字就被加到他的得分上。由于计算机每一帧都会选择一个新的数字，因此很难跟上机器人的步伐。我们只需随机选择一个数字，甚至不规则，并希望它与机器人(投球手)选择的数字不匹配。</p><h1 id="f3fa" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">步骤7:实时实现训练好的CNN模型来模拟手板球</h1><p id="5af1" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">如果你做到了这一步，拍拍自己的背，因为你有一些认真的奉献精神要学习。(我累坏了)</p><p id="607a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是最后一段代码，它将计算手指的模型(第44–49行)与介绍部分(第56–64行)中描述的游戏规则结合起来。</p><p id="1129" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们再次使用OpenCV来访问网络摄像头，因为我们需要实时实现这一点。在屏幕的右半部分有一个供用户(击球手)使用的专用空间。用户的当前得分和最高得分显示在屏幕上(第67-80行)。</p><figure class="mh mi mj mk gt ml"><div class="bz fp l di"><div class="ms mt l"/></div></figure><p id="c66f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">游戏开始了！(忽略当前和高分。因为每秒钟模型检测到一个由我(击球手)选择的数字，比如说5，5分被加到我的分数(击球手的分数)上。因此，每隔一秒钟，我的分数就会增加5分，直到机器人随机选择5分，这意味着击球手(我)的比赛结束。当这种情况发生时，我的当前分数被带回0，我的游戏重新开始)</p><figure class="mh mi mj mk gt ml gh gi paragraph-image"><div role="button" tabindex="0" class="nk nl di nm bf nn"><div class="gh gi np"><img src="../Images/f0d458fcee06ce88893be13577459190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RpabAchM6-zgKGOi20qyPQ.png"/></div></div><figcaption class="mo mp gj gh gi mq mr bd b be z dk translated">板球手办:演职员表:<a class="ae mf" href="https://www.canva.com/" rel="noopener ugc nofollow" target="_blank"> Canva </a></figcaption></figure><p id="c234" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">谢谢你坚持到最后。我在这个项目上投入了很多努力，我希望这对你来说也是一次学习经历。</p><p id="682e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下次见！再见。</p></div></div>    
</body>
</html>