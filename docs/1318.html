<html>
<head>
<title>Error Formulas Data Science Evaluation Metrics — Unravel Algorithms for Regression [Part 2]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">误差公式数据科学评估指标—揭示回归算法[第2部分]</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/data-science-evaluation-metrics-unravel-algorithms-for-regression-part-2-85201ab14ae0?source=collection_archive---------2-----------------------#2020-12-30">https://pub.towardsai.net/data-science-evaluation-metrics-unravel-algorithms-for-regression-part-2-85201ab14ae0?source=collection_archive---------2-----------------------#2020-12-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="0777" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="096d" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">关于分类任务评估指标的经验教训。</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/b3dc1186e304399b86f96377040bf0f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qxxQAIPkAN3VEgpC"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">照片由<a class="ae le" href="https://unsplash.com/@mbaumi?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">米卡·鲍梅斯特</a>在<a class="ae le" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄</figcaption></figure><p id="0d56" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi mb translated">在我们开始之前:这篇文章专门讨论回归的评估指标！我已经写了另一个帖子(第一部分)关于确定分类问题质量的方法。那篇文章可以在这里打开 <a class="ae le" href="https://medium.com/towards-artificial-intelligence/data-science-evaluation-metrics-unravel-algorithms-267c55f09fa2" rel="noopener"> <strong class="lh ja">。</strong>T13】</a></p><p id="17f9" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">现在这一点已经清楚了，让我们转向监督学习应用领域的第二个也是剩余的方法。因此，我们将再次使用带标签的数据集，在不同算法的帮助下预测连续的目标变量(<em class="mk"> y </em>)。<br/>简而言之，回归模型的目标是建立一个数学方程，将<em class="mk"> y </em>定义为<em class="mk"> x </em>变量的函数。接下来，该等式可用于基于预测变量的新值(<em class="mk"> x </em>)来预测结果(<em class="mk"> y </em>)。最简单同时也是最著名的回归形式是线性回归。每个学生在上学期间都用过这个公式。下图显示了多元回归的公式:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ml"><img src="../Images/2ac2cded2ec33b73f5be627239b04865.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V7uqWXtRkvnQyJtxoLe42Q.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">线性回归公式— <a class="ae le" href="https://towardsdatascience.com/multiple-linear-regression-for-manufacturing-analysis-c057d4af718b" rel="noopener" target="_blank">来源</a></figcaption></figure><p id="f731" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">然而，正如在本系列文章的第1部分中，我们将不会关注各种回归算法或它们的优缺点，而是关注如何评估一个回归结果。<br/>这里最常用的度量就是所谓的<strong class="lh ja"> <em class="mk">误差</em> </strong>。这个错误很容易实现，甚至更容易理解。基本上，您只需将预测值与真实值进行比较，并计算差异。所有这些差异就是所谓的<strong class="lh ja"> <em class="mk">残差</em> </strong>！因此，统计或机器学习模型中的残差是数据的观测值和预测值之间的差异。它们是评估模型质量时使用的诊断方法。</p><p id="80d0" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">残差——我为什么要关心？</strong></p><p id="4125" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">一般来说，人们应该总是看一看残差图，因为在正确解释的情况下，所用算法的许多缺陷和问题都在那里得到了说明。这里是一个概述:(残差重要性的详细描述可以在<a class="ae le" href="https://www.displayr.com/learn-what-are-residuals/" rel="noopener ugc nofollow" target="_blank">这里</a>阅读)</p><p id="a580" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">-可以通过查看残差的大小和残差的任何模式来评估模型的质量。<br/> —对于一个完美的模型，所有的残差都是0。残差离0越远，模型越不精确。在线性回归的情况下，残差平方和(<strong class="lh ja"> <em class="mk">均方误差</em> </strong> —稍后解释)越大，R平方统计量越小，其他条件相同。<br/> —如果平均残差不为0，则意味着模型存在系统性偏差(即持续高估或低估)。<br/> —如果残差包含模式，则意味着模型在质量上是不正确的，因为它无法解释数据的属性。模式的存在使大多数统计检验无效。</p><p id="21b6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" href="https://github.com/maxistaebler/towardsdatascience/tree/main/evaluation-metrics" rel="noopener ugc nofollow" target="_blank"> <em class="mk">和第一部一样，在我的Github账号上可以克隆相应的笔记本。所有使用的数据集也包括在内。</em>T25】</a></p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">有黄砖的残留剧情(牛逼！)</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/6aa81baa1331110ecd54bc775680e3cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1152/format:webp/1*o_lTfJ9vhNFvKfwoBADyRA.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">残差图-波士顿住房数据的线性模型</figcaption></figure><p id="27e6" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我们看残差图之前，我想提醒你，残差不是别的，就是真实值和我们的模型预测的模型之间的差异！考虑到这一点，现在让我们看看已知数据集(波士顿住房数据)的线性回归残差图。<br/>这里的目标是根据某项资产的特征来预测其平均值。虽然我们有一个非优化的模型，但我们可以看到残差的近似随机分布。一般来说，是个好兆头！应该让我们思考的是残差的平均值略微向上移动，这也可以在右侧的直方图中看到。看不到任何模式。因此，我们可以说，我们的模型并不差，但肯定需要一些微调，以修复房地产价值的不断高估。</p><p id="69b2" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">好的，我明白了残差是如何工作的——还能使用什么？</strong></p><p id="8035" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">非常好的问题，这个问题的答案会让一些读者高兴，也会让一些读者失望:<br/>在回归中评估模型的方法和途径不像在分类中那么多。在那里，人们可以用混淆矩阵或多种不同的ROC图为每个模型找到一个单独的分析方法。<br/>另一方面，在回归任务中，大多数度量标准都是基于所呈现的残差，只是以不同的方式对它们进行聚合。为什么会这样是回归的本质:<br/>你预测一组特定协变量的值，并将其与真实值进行比较。这里没有分类变量，只有计算预测错误程度的能力。</p><p id="a97c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">因此，不想记住无数不同方法的人在这里可能会很高兴，而喜欢手头有不同评估方法的人在这一点上可能会有点失望。然而，对于后者，下面的内容始终适用:这里介绍的方法并不构成评估回归的所有度量的完整概述！仅显示最常见的指标。</p><p id="72cc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">残差的变化例如是<strong class="lh ja"> <em class="mk">绝对误差</em> </strong>(偏差的绝对值)<strong class="lh ja"> <em class="mk">平均绝对误差</em> </strong>(绝对误差值的平均值)<strong class="lh ja"> <em class="mk">均方误差</em> </strong>(平方误差)<strong class="lh ja"> <em class="mk">均方根误差</em> </strong>(均方误差的平方根)和<strong class="lh ja"><em class="mk">R-平方。</em>T25】</strong></p><p id="4ada" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我们在一个例子中实现这些之前，有必要看一下各个公式。您可以看到，这些指标是相互建立的，残差构成了每个指标的计算基础。</p><p id="a99b" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">对于符号:</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/6d91d674b9230feb37fedc76edfad809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EuX2NHk8Pqh8HcNm4H2E0g.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">误差公式</figcaption></figure><p id="938d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">在我看来，单个指标的公式非常容易理解——我希望你也这么看。这些指标中的每一个在某些应用中都是最合适的。但是，必须明确说明的是，<strong class="lh ja"> <em class="mk"> MSE、</em> </strong>和<strong class="lh ja"> <em class="mk"> R平方</em> </strong>是最广为人知和最常用的度量。出于这个原因，我想更详细地解释这三个，并说他们可以提供什么优势。</p><h2 id="7173" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">均方误差(mean square error)</h2><p id="541d" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">MSE通过平方来确保负值不会抵消正值。MSE越小，模型就越符合数据。MSE的单位是垂直轴上绘制的任何值的平方。如您所见，平方的结果是，误差越大，权重越大。然后，算法继续将它们相加并求平均值。如果你担心离群值，这是值得一看的数字。请记住，它和我们的从属值不是一个单位。</p><h2 id="89a1" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">均方根误差</h2><p id="6771" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">均方根误差(RMSE)就是均方误差的平方根。这可能是最容易解释的统计数据，因为它与纵轴上绘制的数量具有相同的单位。RMSE可根据测量单位直接解释，因此是比相关系数更好的拟合优度测量方法。人们可以将RMSE与典型点的测量中观察到的变化进行比较。两者应该是相似的，这样才合理。</p><h2 id="1969" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">r平方</h2><p id="9567" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">回归R平方的决定系数，也称为经验决定系数，是一个无量纲的测量值，表示因变量测量值中的可变性部分，这由线性模型“解释”。给定平方和分解，回归的决定系数定义为回归解释的平方和与总平方和的比率。<br/> R-squared具有有用的属性，即其标度是直观的:它的范围从0到1，0表示所提出的模型没有改进对平均模型的预测，1表示完美的预测。回归模型的改进导致R平方成比例增加。R平方的一个缺陷是，它只能随着回归模型中预测因子的增加而增加。当预测者实际上没有提高模型的拟合度时，这种增加是人为的。</p><h2 id="58d8" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">行动中的指标</h2><p id="d65b" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">为了比较指标，我们将比较支持向量回归和线性回归，并根据值决定哪种方法给出更好的结果。<br/>重要提示:不强调单个方法的优化。只需使用默认设置。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="mm mn l"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">线性回归和支持向量回归的比较代码</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nn"><img src="../Images/f7920638d4c6d3e58046655c03d0a228.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4pF5A8baa2sogKzbxVqVhA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk translated">三种不同指标的结果</figcaption></figure><p id="9c5d" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我们可以看到，我们的线性回归模型在每个指标上都优于SVR。因此，决定在后续步骤中使用哪个模型并不困难。</p><h2 id="97f5" class="mq mr iq bd ms mt mu dn mv mw mx dp my lo mz na nb ls nc nd ne lw nf ng nh iw bi translated">摘要</h2><p id="33cb" class="pw-post-body-paragraph lf lg iq lh b li ni ka lk ll nj kd ln lo nk lq lr ls nl lu lv lw nm ly lz ma ij bi translated">在这篇文章的结尾，我想再次总结最重要的几点:</p><p id="57bc" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">与分类任务相反，回归并没有那么多不同的度量标准可以用来评估不同的模型。最常见的指标是MSE、RMSE和R2。<br/>我个人最喜欢的是R2，原因很简单，因为它的解释很直观，可以很容易地比较不同的型号。</p><p id="8e90" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">我希望通过这两篇文章，我可以对分类和回归任务的评估标准有更深入的了解。</p><p id="06bf" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><strong class="lh ja">非常感谢您的关注！</strong></p><p id="278c" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated">以下是一些更有用、更深入的信息:</p><p id="c333" class="pw-post-body-paragraph lf lg iq lh b li lj ka lk ll lm kd ln lo lp lq lr ls lt lu lv lw lx ly lz ma ij bi translated"><a class="ae le" href="http://www.sthda.com/english/wiki/regression-analysis-essentials-for-machine-learning" rel="noopener ugc nofollow" target="_blank">回归要领</a> <br/> <a class="ae le" href="https://www.theanalysisfactor.com/assessing-the-fit-of-regression-models/" rel="noopener ugc nofollow" target="_blank"> R的平方解释</a> <br/> <a class="ae le" href="https://www.vernier.com/til/1014" rel="noopener ugc nofollow" target="_blank"> MSE和RMSE </a></p></div></div>    
</body>
</html>