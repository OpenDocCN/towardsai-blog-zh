<html>
<head>
<title>Read a CSV File from the Internet Directly Into Your Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从互联网上直接读取CSV文件到您的代码中</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/read-a-csv-file-from-the-internet-directly-into-your-code-3607191742e7?source=collection_archive---------2-----------------------#2020-10-26">https://pub.towardsai.net/read-a-csv-file-from-the-internet-directly-into-your-code-3607191742e7?source=collection_archive---------2-----------------------#2020-10-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4868" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="ef56" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用download.file()、read.csv()和pd.read_csv()等函数将csv文件从互联网直接读入R或Python代码</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/c63d48ff72cbc137c43ea1ae17059dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tqC_UzJf2Ig9lV4xEhTQ7w.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">Benjamin O. Tayo的图片</figcaption></figure><h1 id="88ad" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated">介绍</h1><p id="3a54" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">在进行任何数据分析之前，我们首先需要有一个可靠的数据来源。一个可靠的数据来源是互联网数据。有很多网站可以获取数据集进行分析或建模。数据有不同的格式，如数字数据、文本数据、语音数据、图像数据或视频数据。在本文中，我们将重点关注以逗号分隔值(CSV)文件格式存储的数字数据。</p><p id="b76b" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">存储在CSV文件中的免费数据集的一些示例可下载用于分析，包括:</p><h2 id="3fb1" class="na li it bd lj nb nc dn ln nd ne dp lr mi nf ng lt mm nh ni lv mq nj nk lx iz bi translated">a)加州大学欧文分校(UCI)机器学习知识库</h2><p id="fa6f" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">UCI目前维护着487个<a class="ae nl" href="https://archive.ics.uci.edu/ml/datasets.php" rel="noopener ugc nofollow" target="_blank">数据集</a>作为对机器学习社区的服务，可用于数据科学课程和研讨会中的数据分析实践、家庭作业和项目。</p><h2 id="93eb" class="na li it bd lj nb nc dn ln nd ne dp lr mi nf ng lt mm nh ni lv mq nj nk lx iz bi translated">b) Kaggle数据集</h2><p id="c6fb" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated"><a class="ae nl" href="https://www.kaggle.com/datasets" rel="noopener ugc nofollow" target="_blank"> Kaggle datasets </a>也包含了大量非常具有挑战性的数据科学和机器学习项目的数据集。</p><h2 id="0a54" class="na li it bd lj nb nc dn ln nd ne dp lr mi nf ng lt mm nh ni lv mq nj nk lx iz bi translated">c) GitHub</h2><p id="f425" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">GitHub包含数以千计的存储库，其中有现成的数据集，可以随时下载。</p><p id="b1ca" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">在本教程中，我们将展示如何从以下GitHub资源库下载文件:"<em class="nm">introduction _ to _ physics _ grades . CSV</em>:<a class="ae nl" href="https://github.com/bot13956/datasets" rel="noopener ugc nofollow" target="_blank">https://github.com/bot13956/datasets</a>。</p><h1 id="5a2c" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated">方法1:在R中使用download.file()函数</h1><p id="0ca6" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">使用函数<strong class="mb jd"> <em class="nm"> setwd() </em> </strong>选择保存文件的目录:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="046b" class="na li it no b gy ns nt l nu nv">setwd(“C:\\Users\\btayo\\Desktop\\grade_classifier”)</span></pre><p id="82a3" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">然后使用<strong class="mb jd"> <em class="nm">函数download.file(URL，filename) </em> </strong>下载文件。这里，<strong class="mb jd"> URL </strong>(统一资源定位符)是包含源文件的URL的字符串，<strong class="mb jd"> <em class="nm"> filename </em> </strong>是目标文件的文件名。</p><h1 id="63bd" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated">关于提供正确URL的注意事项</h1><p id="0963" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">如果你导航到GitHub库<a class="ae nl" href="https://github.com/bot13956/datasets" rel="noopener ugc nofollow" target="_blank">https://github.com/bot13956/datasets</a>并点击文件:“我<em class="nm">ntroduction _ to _ physics _ grades . CSV</em>，它会带你到以下网址:<a class="ae nl" href="https://github.com/bot13956/datasets/blob/master/introduction_to_physics_grades.csv" rel="noopener ugc nofollow" target="_blank">https://GitHub . com/bot 13956/datasets/blob/master/introduction _ to _ physics _ grades . CSV</a></p><p id="d2f0" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">如果您将此URL输入到您的<strong class="mb jd"> <em class="nm"> download.file() </em> </strong>函数中，例如使用命令:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="d003" class="na li it no b gy ns nt l nu nv">URL = “<a class="ae nl" href="https://github.com/bot13956/datasets/blob/master/introduction_to_physics_grades.csv" rel="noopener ugc nofollow" target="_blank">https://github.com/bot13956/datasets/blob/master/introduction_to_physics_grades.csv</a>"</span><span id="7ff6" class="na li it no b gy nw nt l nu nv">download.file(URL, “grades.csv”)</span></pre><p id="7e8a" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">您会收到以下消息:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="1f6e" class="na li it no b gy ns nt l nu nv"><strong class="no jd">trying URL ‘</strong><a class="ae nl" href="https://github.com/bot13956/datasets/blob/master/introduction_to_physics_grades.csv'" rel="noopener ugc nofollow" target="_blank"><strong class="no jd">https://github.com/bot13956/datasets/blob/master/introduction_to_physics_grades.csv'</strong></a></span><span id="7a0f" class="na li it no b gy nw nt l nu nv"><strong class="no jd">Content type ‘text/html; charset=utf-8’ length unknown</strong></span><span id="c1ca" class="na li it no b gy nw nt l nu nv"><strong class="no jd">downloaded 195 KB</strong></span></pre><p id="026b" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">文件下载不正确，因为内容类型设置为<em class="nm"> text/html </em>。如果您导航到您的工作目录(在本例中是"<em class="nm">C:/Users/btayo/Desktop/grade _ classifier</em>"目录)并单击本地目录中下载的"<em class="nm"> grades.csv </em>"文件，您将注意到该文件已经以html格式下载。这肯定不是正确的格式。因为我们正在下载一个csv文件，所以我们希望将内容类型设置为<em class="nm">文本/纯文本</em>，而不是<em class="nm">文本/html </em>。</p><p id="73c9" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">要下载t <em class="nm"> ext/plain </em>格式的csv文件，请遵循以下步骤:</p><ul class=""><li id="b7f7" class="nx ny it mb b mc mv mf mw mi nz mm oa mq ob mu oc od oe of bi translated">导航到GitHub库:<a class="ae nl" href="https://github.com/bot13956/datasets" rel="noopener ugc nofollow" target="_blank">https://github.com/bot13956/datasets</a></li><li id="ad20" class="nx ny it mb b mc og mf oh mi oi mm oj mq ok mu oc od oe of bi translated">然后点击csv文件:“<em class="nm">简介_到_物理_成绩. csv </em>”</li><li id="d376" class="nx ny it mb b mc og mf oh mi oi mm oj mq ok mu oc od oe of bi translated">然后点击右上方的<strong class="mb jd"> Raw </strong>按钮。这将打开一个csv格式的文件。</li><li id="d35a" class="nx ny it mb b mc og mf oh mi oi mm oj mq ok mu oc od oe of bi translated">现在复制这个页面的网址:<a class="ae nl" href="https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv" rel="noopener ugc nofollow" target="_blank">https://raw . githubusercontent . com/bot 13956/datasets/master/introduction _ to _ physics _ grades . CSV</a></li></ul><p id="22f7" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">这是您应该在<strong class="mb jd"><em class="nm">download . file()</em></strong>函数中用作参数的URL。因此，正确的代码是:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="6284" class="na li it no b gy ns nt l nu nv">URL = “<a class="ae nl" href="https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv</a>"</span><span id="e87f" class="na li it no b gy nw nt l nu nv">download.file(URL, “grades.csv”)</span></pre><p id="6dfd" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">请注意，发出该命令后，将生成以下消息:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="92cb" class="na li it no b gy ns nt l nu nv"><strong class="no jd">trying URL ‘</strong><a class="ae nl" href="https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv'" rel="noopener ugc nofollow" target="_blank"><strong class="no jd">https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv'</strong></a></span><span id="5c2e" class="na li it no b gy nw nt l nu nv"><strong class="no jd">Content type ‘text/plain; charset=utf-8’ length 9562 bytes</strong></span><span id="510b" class="na li it no b gy nw nt l nu nv"><strong class="no jd">downloaded 9562 bytes</strong></span></pre><p id="acd6" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">这表明文件已经以正确的格式下载，内容类型设置为<em class="nm">文本/普通</em>。</p><p id="20c9" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated">要查看和分析下载的“<em class="nm"> grades.csv </em>”文件中包含的数据，您可以使用以下命令:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="fbe3" class="na li it no b gy ns nt l nu nv">library(readr)</span><span id="7f34" class="na li it no b gy nw nt l nu nv">df&lt;-read.csv(“grades.csv”)</span><span id="2501" class="na li it no b gy nw nt l nu nv">head(df)</span></pre><h1 id="f2ed" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated">方法2:在R中使用read.csv()函数</h1><p id="5df5" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">我们可以使用<strong class="mb jd"> <em class="nm"> read.csv() </em> </strong>函数将数据直接读入我们的工作区，并使用以下命令将其分配给一个新的dataframe对象:</p><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="29bd" class="na li it no b gy ns nt l nu nv">library(readr)</span><span id="3701" class="na li it no b gy nw nt l nu nv">URL = “<a class="ae nl" href="https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv" rel="noopener ugc nofollow" target="_blank">https://raw.githubusercontent.com/bot13956/datasets/master/introduction_to_physics_grades.csv</a>"</span><span id="d1e1" class="na li it no b gy nw nt l nu nv">df&lt;-read.csv(URL)</span><span id="5301" class="na li it no b gy nw nt l nu nv">head(df)</span></pre><h1 id="66c5" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated"><strong class="ak">方法三:在Python中使用pd.read_csv()函数</strong></h1><pre class="ks kt ku kv gt nn no np nq aw nr bi"><span id="a930" class="na li it no b gy ns nt l nu nv">import pandas as pd</span><span id="0f80" class="na li it no b gy nw nt l nu nv">URL = 'https://archive.ics.uci.edu/ml/machinelearning-databases/breast-cancer-wisconsin/wdbc.data'</span><span id="1cc1" class="na li it no b gy nw nt l nu nv">df = pd.read_csv(URL,header = None)</span><span id="2f95" class="na li it no b gy nw nt l nu nv">df.head()</span></pre><h1 id="475d" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated">摘要</h1><p id="774f" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated">从互联网上下载数据集有很多不同的方式。在本教程中，我们展示了如何使用函数<strong class="mb jd"> d <em class="nm"> ownload.file() </em>、<em class="nm"> read.csv() </em>、</strong>和<strong class="mb jd"> <em class="nm"> pd.read_csv() </em> </strong>使用源文件的正确URL将csv数据集直接读入代码。</p><h1 id="5799" class="lh li it bd lj lk ll lm ln lo lp lq lr ki ls kj lt kl lu km lv ko lw kp lx ly bi translated">其他数据科学/机器学习资源</h1><p id="80f0" class="pw-post-body-paragraph lz ma it mb b mc md kd me mf mg kg mh mi mj mk ml mm mn mo mp mq mr ms mt mu im bi translated"><a class="ae nl" href="https://medium.com/towards-artificial-intelligence/how-much-math-do-i-need-in-data-science-d05d83f8cb19" rel="noopener">数据科学需要多少数学？</a></p><p id="af7a" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://medium.com/towards-artificial-intelligence/data-science-curriculum-bf3bb6805576" rel="noopener">数据科学课程</a></p><p id="cbee" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://towardsdatascience.com/5-best-degrees-for-getting-into-data-science-c3eb067883b1" rel="noopener" target="_blank">进入数据科学的5个最佳学位</a></p><p id="3740" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://towardsdatascience.com/theoretical-foundations-of-data-science-should-i-care-or-simply-focus-on-hands-on-skills-c53fb0caba66" rel="noopener" target="_blank">数据科学的理论基础——我应该关心还是仅仅关注实践技能？</a></p><p id="0c61" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://towardsdatascience.com/machine-learning-project-planning-71bdb3a44349" rel="noopener" target="_blank">机器学习项目规划</a></p><p id="2468" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://towardsdatascience.com/how-to-organize-your-data-science-project-dd6599cf000a" rel="noopener" target="_blank">如何组织你的数据科学项目</a></p><p id="e9d9" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://medium.com/towards-artificial-intelligence/productivity-tools-for-large-scale-data-science-projects-64810dfbb971" rel="noopener">大型数据科学项目的生产力工具</a></p><p id="0c12" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><a class="ae nl" href="https://towardsdatascience.com/a-data-science-portfolio-is-more-valuable-than-a-resume-2d031d6ce518" rel="noopener" target="_blank">数据科学作品集比简历更有价值</a></p><p id="1954" class="pw-post-body-paragraph lz ma it mb b mc mv kd me mf mw kg mh mi mx mk ml mm my mo mp mq mz ms mt mu im bi translated"><strong class="mb jd"> <em class="nm">如有疑问，请发邮件给我</em></strong>:benjaminobi@gmail.com</p></div></div>    
</body>
</html>