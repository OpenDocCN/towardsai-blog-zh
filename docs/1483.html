<html>
<head>
<title>Regression and Classification Metrics in Machine learning with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python机器学习中的回归和分类度量</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/regression-and-classification-metrics-in-machine-learning-with-python-6d9fcd8b73aa?source=collection_archive---------0-----------------------#2021-02-05">https://pub.towardsai.net/regression-and-classification-metrics-in-machine-learning-with-python-6d9fcd8b73aa?source=collection_archive---------0-----------------------#2021-02-05</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="07b7" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><div class=""><h2 id="dede" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">使用度量API进行回归和分类的模型评估</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/6623fac82bc6bcfcc5f0243bf7d09a18.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JzjR5WxZJolX7VwZ"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">Sheri Hooley 在<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="dfe1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在本文中，我们将讨论机器学习中回归和分类的各种度量。我们总是想到建模一个好的机器学习算法所涉及的步骤。第一步是评估模型良好性的度量。当我们拟合我们的模型并做出预测时，我们总是试图知道误差和准确性。本文将尝试提供和解释回归和分类中的各种误差度量方法。</p><div class="me mf gp gr mg mh"><a href="https://medium.com/towards-artificial-intelligence/fully-explained-svm-classification-with-python-eda124997bcd" rel="noopener follow" target="_blank"><div class="mi ab fo"><div class="mj ab mk cl cj ml"><h2 class="bd jd gy z fp mm fr fs mn fu fw jc bi translated">用Python全面解释了SVM分类</h2><div class="mo l"><h3 class="bd b gy z fp mm fr fs mn fu fw dk translated">如何用一个真实的例子解决分类问题。</h3></div><div class="mp l"><p class="bd b dl z fp mm fr fs mn fu fw dk translated">medium.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv lb mh"/></div></div></a></div><p id="be46" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">评估模型预测质量的标准如下所示:</p><ul class=""><li id="de78" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated"><strong class="lk jd"> <em class="nf">度量函数:</em> </strong>我们将在本文中研究。</li><li id="11c8" class="mw mx it lk b ll ng lo nh lr ni lv nj lz nk md nb nc nd ne bi translated"><strong class="lk jd"> <em class="nf">评估者评分法:</em> </strong>这种方法有一个评分法来评估要解决的问题。</li><li id="fbcc" class="mw mx it lk b ll ng lo nh lr ni lv nj lz nk md nb nc nd ne bi translated"><strong class="lk jd"> <em class="nf">评分参数:</em> </strong>评分参数告诉评估者用<code class="fe nl nm nn no b">grid_search.GridSearchCV</code>和<code class="fe nl nm nn no b">cross_validation.cross_val_score</code>选择评估模型的度量</li></ul><h2 id="8bdb" class="np nq it bd nr ns nt dn nu nv nw dp nx lr ny nz oa lv ob oc od lz oe of og iz bi translated"><strong class="ak"> <em class="oh">基本定义</em> </strong></h2><ul class=""><li id="8677" class="mw mx it lk b ll oi lo oj lr ok lv ol lz om md nb nc nd ne bi translated"><strong class="lk jd"> <em class="nf">估计量:</em> </strong>是在真实数据点上预测更精确建模点的函数或方程。</li></ul><h2 id="5438" class="np nq it bd nr ns nt dn nu nv nw dp nx lr ny nz oa lv ob oc od lz oe of og iz bi translated"><strong class="ak"> <em class="oh">招数知道</em> </strong></h2><p id="e8bc" class="pw-post-body-paragraph li lj it lk b ll oi kd ln lo oj kg lq lr on lt lu lv oo lx ly lz op mb mc md im bi translated">在评估方法中有两点需要注意，如下所示:</p><ul class=""><li id="0ab6" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">首先，有些方法以<code class="fe nl nm nn no b">score</code>一词结尾，意思是价值来源于这个确定的基本事实。在这种情况下，如果数字较高，那就更好。</li><li id="c8b8" class="mw mx it lk b ll ng lo nh lr ni lv nj lz nk md nb nc nd ne bi translated">第二，如果单词以<code class="fe nl nm nn no b">error</code>或<code class="fe nl nm nn no b">loss</code>结尾。在这种情况下，数量越少越好。</li></ul><h2 id="d40f" class="np nq it bd nr ns nt dn nu nv nw dp nx lr ny nz oa lv ob oc od lz oe of og iz bi translated"><strong class="ak"> <em class="oh">指标回归</em> </strong></h2><p id="1313" class="pw-post-body-paragraph li lj it lk b ll oi kd ln lo oj kg lq lr on lt lu lv oo lx ly lz op mb mc md im bi translated">下面给出了评估回归性能的指标:</p><ol class=""><li id="8c18" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md oq nc nd ne bi translated"><strong class="lk jd"> <em class="nf">已解释的方差得分:</em> </strong>此度量评估数据点的变化或离差。</li></ol><ul class=""><li id="085f" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">该指标的公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi or"><img src="../Images/2741d5d4adc89ded487c87824f183eca.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*WYLW6axC-tXBhjYmhdNblw.png"/></div></figure><p id="caf6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="2345" class="np nq it no b gy ow ox l oy oz">#import the variance score from the sklearn <br/>from sklearn.metrics import explained_variance_score</span><span id="2a47" class="np nq it no b gy pa ox l oy oz">true_values = [5, 2.5, 3, 6]<br/>predicted_values = [4.5, 2.9, 3, 7]</span><span id="d948" class="np nq it no b gy pa ox l oy oz">explained_variance_score(true_values, predicted_values)</span><span id="129c" class="np nq it no b gy pa ox l oy oz">#output:<br/>0.8525190839694656</span></pre><p id="6aec" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.<strong class="lk jd"> <em class="nf">最大误差:</em> </strong>此指标将计算真实值和预测值之间的最大值。</p><ul class=""><li id="eb79" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">最大误差的公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/7332c174e33b24e27183f743ad8ff4b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:574/format:webp/1*PpZfNXTIVaY7wo813H01hQ.png"/></div></figure><p id="688f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="ec7e" class="np nq it no b gy ow ox l oy oz">#import the max error from the sklearn<br/>from sklearn.metrics import max_error</span><span id="2cec" class="np nq it no b gy pa ox l oy oz">true_values = [5, 2.5, 3, 6]<br/>predicted_values = [4.5, 2.9, 3, 8]</span><span id="117b" class="np nq it no b gy pa ox l oy oz">max_error(true_values, predicted_values)</span><span id="a124" class="np nq it no b gy pa ox l oy oz">#output:<br/>2</span></pre><p id="1841" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.<strong class="lk jd"> <em class="nf">平均绝对误差:</em> </strong>此指标计算真实值和预测值之间的差异的平均误差。该度量对应于l1范数损失。</p><ul class=""><li id="2ed3" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">此指标的公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/e76a168656f5b340eb49e3fa8173f49b.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*JvGt0QqTkH2LOoKr_4gPUQ.png"/></div></figure><p id="b0f9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="a048" class="np nq it no b gy ow ox l oy oz">##import the MAE from the sklearn<br/>from sklearn.metrics import mean_absolute_error</span><span id="ac06" class="np nq it no b gy pa ox l oy oz">true_values = [5, 2.5, 3, 6]<br/>predicted_values = [4.5, 2.9, 3, 7]</span><span id="404c" class="np nq it no b gy pa ox l oy oz">mean_absolute_error(true_values, predicted_values)</span><span id="239e" class="np nq it no b gy pa ox l oy oz">#output:<br/>0.475</span></pre><p id="dfe8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.<strong class="lk jd"> <em class="nf">均方误差:</em> </strong>此指标计算二次误差或损失。</p><ul class=""><li id="76c8" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/7d5bf03e6fe4b441be61beba2b6bfb90.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*6p57R8hLngWX-hTrd_zDCg.png"/></div></figure><p id="8abd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="09bf" class="np nq it no b gy ow ox l oy oz">#import the MSE from the sklearn<br/>from sklearn.metrics import mean_squared_error</span><span id="3dda" class="np nq it no b gy pa ox l oy oz">true_values = [5, 2.5, 3, 6]<br/>predicted_values = [4.5, 2.9, 3, 7]</span><span id="d6ca" class="np nq it no b gy pa ox l oy oz">mean_squared_error(true_values, predicted_values)</span><span id="0947" class="np nq it no b gy pa ox l oy oz">#output:<br/>0.3525</span></pre><p id="4afb" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">4.<strong class="lk jd"> <em class="nf"> R平方得分:</em> </strong>此指标计算平均值或估计值的数据分布，就像拟合的回归线一样。一般称为“<em class="nf">决定系数</em>”。</p><ul class=""><li id="1b45" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">该指标的公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/410f5dcbe738acfa842c85098499a9bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/format:webp/1*DN9hGmk6nNm99mFYU402tA.png"/></div></figure><p id="65a0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="1a36" class="np nq it no b gy ow ox l oy oz">#import the r-squared from the sklearn<br/>from sklearn.metrics import r2_score</span><span id="6e96" class="np nq it no b gy pa ox l oy oz">true_values = [5, 2.5, 3, 6]<br/>predicted_values = [4.5, 2.9, 3, 7]</span><span id="f5a3" class="np nq it no b gy pa ox l oy oz">r2_score(true_values, predicted_values)</span><span id="9b9b" class="np nq it no b gy pa ox l oy oz">#output:<br/>0.8277862595419847</span></pre><h2 id="1db5" class="np nq it bd nr ns nt dn nu nv nw dp nx lr ny nz oa lv ob oc od lz oe of og iz bi translated"><strong class="ak"> <em class="oh">指标分类</em> </strong></h2><p id="9c40" class="pw-post-body-paragraph li lj it lk b ll oi kd ln lo oj kg lq lr on lt lu lv oo lx ly lz op mb mc md im bi translated">评估分类绩效的指标如下:</p><ol class=""><li id="3385" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md oq nc nd ne bi translated"><strong class="lk jd"> <em class="nf">准确度分数:</em> </strong>此度量计算真值等于预测值的准确度，然后返回分数的一部分，否则如果normalize参数为<strong class="lk jd"> FALSE </strong>，则返回真预测值的总数。</li></ol><ul class=""><li id="bab8" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/603b8dfe9e166aac362788d8ed00328c.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*mVknnJJkoMpLVUjCoVIFSA.png"/></div></figure><p id="f048" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="268a" class="np nq it no b gy ow ox l oy oz">#import the accuracy score from the sklearn<br/>from sklearn.metrics import accuracy_score</span><span id="3f95" class="np nq it no b gy pa ox l oy oz">true_values = [5, 2, 3, 6]<br/>predicted_values = [4, 3, 3, 6]</span><span id="b424" class="np nq it no b gy pa ox l oy oz">accuracy_score(true_values, predicted_values)</span></pre><p id="c5f4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.分类报告:此指标计算包含分类问题的精确度、召回率和F1值的报告。</p><p id="c4a6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="6aca" class="np nq it no b gy ow ox l oy oz">#import the classification report from the sklearn<br/>from sklearn.metrics import classification_report</span><span id="fa70" class="np nq it no b gy pa ox l oy oz">true_values = [3, 4, 3, 6]<br/>predicted_values = [4, 3, 3, 6]<br/>target_names = ['Apple', 'Orange', 'Kiwi']</span><span id="a2c5" class="np nq it no b gy pa ox l oy oz">print(classification_report(true_values, predicted_values, target_names=target_names))</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/5f0ad24d2d5ac00ec402cd58806e399a.png" data-original-src="https://miro.medium.com/v2/resize:fit:872/format:webp/1*rW6j2p8-YtZb4On3Isxhrg.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">分类报告指标。作者的照片</figcaption></figure><p id="5857" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.<strong class="lk jd"> <em class="nf">铰链损失:</em> </strong>该损失计算数据点和模型预测点之间的平均距离。它也用于最大边际的SVM算法中。</p><ul class=""><li id="1ea5" class="mw mx it lk b ll lm lo lp lr my lv mz lz na md nb nc nd ne bi translated">公式如下所示:</li></ul><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ph"><img src="../Images/93ff7c1cc50f6e4676b2db1f37f197c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*3j5lSxUo1oJjyzUTjvRWRw.png"/></div></figure><p id="3470" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">python中的示例</p><pre class="ks kt ku kv gt os no ot ou aw ov bi"><span id="bb9e" class="np nq it no b gy ow ox l oy oz">#importing the libraries<br/>from sklearn import svm<br/>from sklearn.metrics import hinge_loss<br/>from sklearn.svm import LinearSVC</span><span id="bd39" class="np nq it no b gy pa ox l oy oz">#data set in x and y values<br/>x_values = [[3], [2]]<br/>y_values = [-1, 1]</span><span id="eb14" class="np nq it no b gy pa ox l oy oz">#using linear SVC model<br/>svm_linear = svm.LinearSVC(random_state=0)</span><span id="d369" class="np nq it no b gy pa ox l oy oz">#fitting the model<br/>svm_linear.fit(x_values, y_values)<br/>LinearSVC(random_state=0)</span><span id="5060" class="np nq it no b gy pa ox l oy oz">#making decision prediction<br/>pred_decision = svm_linear.decision_function([[-2], [3], [0.5]])<br/>hinge_loss([-1, 1, 1], pred_decision)</span><span id="2e34" class="np nq it no b gy pa ox l oy oz">#output:<br/>1.333372678152829</span></pre><h2 id="8f25" class="np nq it bd nr ns nt dn nu nv nw dp nx lr ny nz oa lv ob oc od lz oe of og iz bi translated">结论:</h2><p id="24cc" class="pw-post-body-paragraph li lj it lk b ll oi kd ln lo oj kg lq lr on lt lu lv oo lx ly lz op mb mc md im bi translated">这些是来自回归和分类的一些度量，用于评估模型性能。在分类中有各种基于回归、二元类和多类度量标准。</p><p id="6cd2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望你喜欢这篇文章。通过我的<a class="ae lh" href="https://www.linkedin.com/in/data-scientist-95040a1ab/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae lh" href="https://twitter.com/amitprius" rel="noopener ugc nofollow" target="_blank"> twitter </a>联系我。</p><h1 id="301a" class="pi nq it bd nr pj pk pl nu pm pn po nx ki pp kj oa kl pq km od ko pr kp og ps bi translated">推荐文章</h1><ol class=""><li id="f04c" class="mw mx it lk b ll oi lo oj lr ok lv ol lz om md oq nc nd ne bi translated"><a class="ae lh" href="https://medium.com/towards-artificial-intelligence/nlp-zero-to-hero-with-python-2df6fcebff6e?sk=2231d868766e96b13d1e9d7db6064df1" rel="noopener"> NLP —用Python从零到英雄</a></li></ol><p id="74df" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.<a class="ae lh" href="https://medium.com/towards-artificial-intelligence/python-data-structures-data-types-and-objects-244d0a86c3cf?sk=42f4b462499f3fc3a160b21e2c94dba6" rel="noopener"> Python数据结构数据类型和对象</a></p><p id="3053" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.<a class="ae lh" href="https://medium.com/towards-artificial-intelligence/mysql-zero-to-hero-with-syntax-of-all-topics-92e700762c7b?source=friends_link&amp;sk=35a3f8dc1cf1ebd1c4d5008a5d12d6a3" rel="noopener"> MySQL:零到英雄</a></p><p id="42a9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">4.<a class="ae lh" href="https://medium.com/towards-artificial-intelligence/basic-of-time-series-with-python-a2f7cb451a76?source=friends_link&amp;sk=09d77be2d6b8779973e41ab54ebcf6c5" rel="noopener">Python时间序列基础</a></p><p id="225d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">5.<a class="ae lh" href="https://medium.com/towards-artificial-intelligence/numpy-zero-to-hero-with-python-d135f57d6082?source=friends_link&amp;sk=45c0921423cdcca2f5772f5a5c1568f1" rel="noopener"> NumPy:用Python零到英雄</a></p><p id="c60d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">6.<a class="ae lh" href="https://medium.com/towards-artificial-intelligence/fundamentals-of-series-and-data-frame-in-pandas-with-python-6e0b8a168a0d?source=friends_link&amp;sk=955350bf43c7d1680be6e37b15b6628b" rel="noopener">用python实现熊猫系列和数据帧的基础</a></p></div></div>    
</body>
</html>