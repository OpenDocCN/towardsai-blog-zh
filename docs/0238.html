<html>
<head>
<title>Geolocation Data Analysis of Lagos.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">拉各斯地理定位数据分析。</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/geolocation-data-analysis-of-lagos-b2b4f39ac5e7?source=collection_archive---------0-----------------------#2019-12-14">https://pub.towardsai.net/geolocation-data-analysis-of-lagos-b2b4f39ac5e7?source=collection_archive---------0-----------------------#2019-12-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8805" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用EDA和机器学习在拉各斯寻找最佳办公地点</h2></div><blockquote class="kf kg kh"><p id="ef9f" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我们将使用地理位置数据分析和机器学习来解决的问题是，帮助一家新的科技初创公司在尼日利亚拉各斯市找到理想的办公地点。</p></blockquote><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/f762e5373ad524a3b877f301652febdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*1yVsrUanaaTzmQaKaOOKyw.jpeg"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">地理位置数据分析| <a class="ae lr" href="https://blog.ipswitch.com/hs-fs/hubfs/Imported_Blog_Media/Location-Based-Data-The-Most-Annoying-Aspect-of-Mobility-1.jpg?width=622&amp;height=384&amp;name=Location-Based-Data-The-Most-Annoying-Aspect-of-Mobility-1.jpg" rel="noopener ugc nofollow" target="_blank"> Img_Credit </a></figcaption></figure><h1 id="bf4a" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">A.介绍</h1><h2 id="4638" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">A.1背景:</h2><p id="6c33" class="pw-post-body-paragraph ki kj iq kl b km mz jr ko kp na ju kr mp nb ku kv ms nc ky kz mv nd lc ld le ij bi translated">我断断续续在拉各斯工作过，最长的一次是从2006年到2009年的三年。毫无疑问，拉各斯是一个神奇的地方。我称之为真正的艰苦学校……一个竞争最激烈、适者生存的地方。</p><p id="f4b5" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">我在欧洲和非洲旅行过，我的最后一个目的地是毛里求斯，在那里我主要是在<a class="ae lr" href="http://www.caselapark.com/bigcats/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">卡塞拉</em> </strong> </a>【顺便说一下，毛里求斯是非洲最富裕的国家，人均财富在最近一年内从21700美元增加到25700美元。<a class="ae lr" href="https://www.graphic.com.gh/business/business-news/accra-ranked-10th-wealthiest-city-in-africa.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">链接</em> </strong> </a></p><p id="ec5f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">这篇文章探讨了拉各斯州，它是非洲第四大富裕城市，仅次于约翰内斯堡、开罗和开普敦(<a class="ae lr" href="https://www.graphic.com.gh/business/business-news/accra-ranked-10th-wealthiest-city-in-africa.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">链接</em> </strong> </a>)。拉各斯拥有超过100万美元的财富(6800名百万富翁，370名千万富翁和4名亿万富翁)。<br/>它还是尼日利亚(人口最多的黑人国家)的商业首都，也是西非的商业中心。<br/>我最近才回到拉各斯市，注册并毕业于<a class="ae lr" href="https://fi.co/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">创始人学院</em> </strong> </a>加速器项目，目前正与一位联合创始人一起创建一家保险技术初创公司。因此，我想利用这个机会帮助未来的初创企业在拉各斯找到最理想的办公地点。</p><p id="daea" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">在其他属性中，初创企业理想的办公地点应该具备:</p><ol class=""><li id="349b" class="ne nf iq kl b km kn kp kq mp ng ms nh mv ni le nj nk nl nm bi translated">靠近技术中心和人才。</li><li id="01e2" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">高脚流量，便于与潜在客户互动。</li><li id="d941" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">靠近教育机构进行研究和开发。</li><li id="731b" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">靠近咖啡厅和餐厅，可举行商务会议或午餐会议。</li><li id="88ef" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">靠近公共汽车站、海港和机场。</li><li id="5fe3" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">安保和安全。</li><li id="85aa" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">经济活动和补充业务的集群。</li></ol><h2 id="01ba" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">A.2数据描述</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/3a4be0f5af345fc3e3de9c33c951507b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*hph8z9D3h_f1z3ezzOo3Xw.jpeg"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">数据| <a class="ae lr" href="http://ojjme2x5sm337cgpo2mhuny3-wpengine.netdna-ssl.com/wp-content/uploads/2017/03/shutterstock_555080833.jpg" rel="noopener ugc nofollow" target="_blank"> Img_credit </a></figcaption></figure><p id="43fc" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">数据集是拉格斯州的<em class="kk">维基百科页面</em>，参见<a class="ae lr" href="https://en.wikipedia.org/wiki/List_of_Lagos_State_local_government_areas_by_population" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">链接</em> </strong> </a> <strong class="kl ir"> <em class="kk">。</em>T13】</strong></p><p id="e54a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">我们将通过拉格斯市各自的地方政府辖区(<strong class="kl ir"> LGA </strong>)或行政区探索拉格斯市。上面的链接是一个网页，显示了拉各斯州的各个地方政府和每个人口数字。<br/>这些数据将通过以下步骤进行分析</p><ol class=""><li id="426f" class="ne nf iq kl b km kn kp kq mp ng ms nh mv ni le nj nk nl nm bi translated">我们将使用漂亮的汤库抓取网页。</li><li id="f708" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">我们将使用Foursquare API调用来检索地理位置数据。</li><li id="f04a" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">我们将使用请求库获取文本数据。</li><li id="97ac" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">我们将使用json_normalize模块将其从JSON转换为Pandas DataFrame。</li><li id="c1f8" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">我们将使用follow库来渲染地图，并通过Matplotlib库绘制这些地图。</li><li id="e43e" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">我们将使用Kmeans算法对每个LGA的场馆类别进行聚类。</li><li id="48b8" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">然后，我们会探索各自的地方政府机构，为一家初创公司找到LGA最佳办公室。</li><li id="018b" class="ne nf iq kl b km nn kp no mp np ms nq mv nr le nj nk nl nm bi translated">最后，为了增加一些乐趣，我们将使用word-cloud库来显示拉各斯顶级场馆的名称。</li></ol><h1 id="53df" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">B.方法学</h1><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi nt"><img src="../Images/7bd87b235131f64f2da75d30536382f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Um_HlmIDJMTJbvRA0_qkYA.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">方法论| <a class="ae lr" href="http://marketglobalnews.us/wp-content/uploads/2019/04/Data-Methodology-Shift-Calms-The-US-Inflation.jpg" rel="noopener ugc nofollow" target="_blank"> Img_credit </a></figcaption></figure><p id="118f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">首先，让我们导入所需的库。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="5e2d" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">from bs4 import BeautifulSoup<br/>import requests</strong>  # library to handle requests.<br/><strong class="nz ir">import pandas as pd<br/>import json</strong>  # library to handle JSON files.<br/><strong class="nz ir">from pandas.io.json import json_normalize</strong>  # transform json files to pandas dataframes.<br/><strong class="nz ir">from geopy.geocoders import Nominatim</strong>  # convert an address into latitude and longitude values.</span><span id="4c11" class="mk lt iq nz b gy oh oe l of og"># Matplotlib and associated plotting modules.<br/><strong class="nz ir">import matplotlib.pyplot as plt<br/>import matplotlib.cm as cm<br/>import matplotlib.colors as colors</strong></span><span id="d522" class="mk lt iq nz b gy oh oe l of og"># import k-means for clustering stage.<br/><strong class="nz ir">from sklearn.cluster import KMeans<br/></strong>#!conda install -c conda-forge folium=0.5.0 --yes<br/><strong class="nz ir">import folium</strong> # map rendering library<br/><strong class="nz ir">import numpy as np<br/>import csv<br/>print('All modules imported')</strong></span></pre><h2 id="f67c" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">B.1抓取网页数据:</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oi"><img src="../Images/65203c1cd96816c6b959998532d8641d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IElWmFgutkLI1oMgyNMK3Q.jpeg"/></div></div></figure><p id="9720" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们保存拉各斯数据的网络链接。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="3e19" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">lagos_link = 'https://en.wikipedia.org/wiki/List_of_Lagos_State_local_government_areas_by_population'</strong></span></pre><p id="37d4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">从网站获取源代码HTML数据。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="dfc9" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">source = requests.get(lagos_link).text</strong></span></pre><p id="0d4e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们使用BeautifulSoup来解析它。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="e942" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">soup = BeautifulSoup(source,'lxml')</strong></span><span id="3f2b" class="mk lt iq nz b gy oh oe l of og"># Let's pretty print it in its right shape.</span><span id="7f47" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">print(soup.prettify())<br/></strong># prettify prints the web page with tags hierarchies maintained.</span></pre><p id="e39a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">接下来，让我们获取包含我们要从中抓取的数据的表。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="df4d" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">my_table = soup.find_all('td')</strong></span><span id="a459" class="mk lt iq nz b gy oh oe l of og"># Since the table data is between the &lt;td&gt; tags of the web page.</span></pre><p id="5840" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">接下来，让我们遍历my_table的每个链接并追加文本部分。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="5092" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">table_text = []</strong></span><span id="4ae8" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">for data in my_table:<br/>    table_text.append(data.text)</strong></span></pre><p id="cdb3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">所以让我们只从表中提取相关的数据。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="7bce" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">relevant_table_data = table_text[4:-3]<br/></strong># relevant data is from the 4th element up to the third to the last element of the table_text list.</span></pre><h2 id="4281" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">B.2创建拉各斯数据框架:</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oj"><img src="../Images/ee41012f770c302bb7483db6527ca776.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g3TTLTy9OAymv_Vfl_jGWQ.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated"><a class="ae lr" href="https://i.ytimg.com/vi/3k0HbcUGErE/maxresdefault.jpg" rel="noopener ugc nofollow" target="_blank"> Img_Credit </a></figcaption></figure><p id="8d9f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">首先，让我们创建一个字典，并将LGA和相应的人口数据追加到其中。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="6843" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">table_dict={’LGA’:[], 'POP’:[]}<br/>count = 0</strong><br/><strong class="nz ir">for item in relevant_table_data:</strong><br/>    # First let’s strip off the \n at the end.<br/>    <strong class="nz ir">item = item.strip(’\n’)<br/>    try:<br/>        item = int(item)<br/>    except:</strong><br/>    # if second item after the int, append to POP.<br/>        <strong class="nz ir">if count &gt; 0:</strong><br/>            #let’s remove the commas.<br/>            <strong class="nz ir">item = item.replace(’,’,’’)</strong><br/>            # Next let’s convert to an integer so we can use it for   calculations.<br/>            <strong class="nz ir">item = int(item)</strong><br/>            # Finally, let’s append it to the Population list of the dictionary.<br/>            <strong class="nz ir">table_dict[’POP’].append(item)<br/>            count = 0</strong><br/>        <strong class="nz ir">else:</strong><br/>        # if first item after the int, append to LGA.<br/>            <strong class="nz ir">table_dict[’LGA’].append(item)<br/>            count +=1</strong></span></pre><p id="a46e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们从上面的table_dict字典中创建每个LGA及其各自人口的数据框架。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="daf6" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">lagos_df = pd.DataFrame(table_dict)</strong><br/># Let's see the first five rows.<br/><strong class="nz ir">lagos_df.head()</strong></span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/7587066fbbe039849dfdafd193559094.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/1*-AOv2BTPZDWh_WmZHB3fFg.jpeg"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">拉各斯_df的前五行</figcaption></figure><p id="22f4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">添加纬度和经度值:<br/>让我们定义一个简单的方法来提取每个LGA纬度和经度数据。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="0c4f" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">def latitude_longitude(Borough):</strong><br/><strong class="nz ir">import time</strong><br/>    """ Method takes a Series object and returns<br/>a list of Latitude and corresponding Longitude data,using the geopy library.This method also prints out the coordinate data"""</span><span id="852b" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">address = str(Borough)</strong><br/># We must define a geolocator user agent.<br/><strong class="nz ir">geolocator = Nominatim(user_agent="NG_explorer")<br/>location = geolocator.geocode(address)<br/>latitude = location.latitude<br/>longitude = location.longitude</strong></span><span id="2de5" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">print('The geograpical coordinates of {} are lat {} and long {}.'.format(address, latitude, longitude))</strong></span><span id="001c" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">time.sleep(2)</strong>  # we let 2 secs pass after calling each location lat/lon so that the geocode function does not crash.</span><span id="e9cc" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">return [latitude, longitude]</strong></span></pre><p id="0425" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们使用apply将纬度和经度数据追加为一列</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="194f" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">lagos_df['latitude'] = lagos_df['LGA'].apply(latitude_longitude)</strong></span></pre><p id="5edc" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们再来看看数据框，</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi gj"><img src="../Images/7f1ced81d78e4105c8906928e355101e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iAWNHruITrKBsv3mbcrnw.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">纬度列包含纬度和经度值的列表，让我们将它们分开。</figcaption></figure><p id="3ffb" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们遍历数据帧并分离纬度和经度列。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="4c0e" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">lon_list = []</strong></span><span id="c34b" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">for i, j in lagos_df.iterrows():<br/>    lon_list.append(j.latitude[1])<br/>    lagos_df.iat[i,2] = j.latitude[0]</strong><br/># next let's assign the lon_list as the value of the Longitude Column.<br/><strong class="nz ir">lagos_df['longitude'] = lon_list</strong></span></pre><p id="f71f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们再看看前五行，</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/705bf68cba45a1e18b11dfef445ede21.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*YaDcvTZ9sQzt1HNbn-ZLRg.jpeg"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">现在纬度和经度都是不同的数字列，而不是列表项。</figcaption></figure><h2 id="e1d3" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">B.3可视化拉各斯州地方政府机构:</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi om"><img src="../Images/bba0ef6fcf1ccb2ca3cb539dfc63b92a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fM-Mt5491fasZq_nz5ef5Q.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">拉各斯州地图，以蓝红色圆圈显示LGA。</figcaption></figure><p id="eaa9" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们创建上面的拉各斯州的地图，上面叠加了LGAs。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="b323" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">address = 'Lagos'<br/>geolocator = Nominatim(user_agent="NG_explorer")<br/>location = geolocator.geocode(address)<br/>latitude = location.latitude<br/>longitude = location.longitude</strong></span><span id="39be" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir"><br/></strong># Render map using the Folium Library.<strong class="nz ir"><br/>map_lagos_state = folium.Map(location=[latitude, longitude], zoom_start=10)</strong></span><span id="a451" class="mk lt iq nz b gy oh oe l of og"># add markers to map.</span><span id="b65b" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">for lat, lng, LGA  in zip(lagos_df['latitude'], lagos_df['longitude'], lagos_df['LGA']):<br/>    label = '{}'.format(LGA)<br/>    label = folium.Popup(label, parse_html=True)        folium.CircleMarker([lat, lng],radius=6,popup=label,color='blue',<br/>fill=True,fill_color='red',fill_opacity=0.7,parse_html=False).add_to(map_lagos_state)</strong></span><span id="e145" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">map_lagos_state</strong></span></pre><h2 id="e6bc" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">B.4使用Foursquare API调用:</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi on"><img src="../Images/ffa6e412efb1ce83319877a5eef645a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*QbMAbnyvYlgPIEc5Jdlovg.jpeg"/></div></figure><p id="fbe4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">我们将使用<em class="kk"> Foursquare </em> API调用来检索每个LGA的地点的地理位置信息。首先，我们在https://developer.foursquare.com/<strong class="kl ir"><em class="kk"/></strong>注册并创建一个免费账户，该账户包含<em class="kk"> CLIENT_ID </em>和<em class="kk"> CLIENT_SECRET </em>参数，用于进行有效的API调用。</p><p id="5456" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">接下来，让我们复制原始的lagos_df数据帧，但这一次我们将把它的索引设置为LGA的名称，以使索引更容易。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="581e" class="mk lt iq nz b gy od oe l of og"># First let's make a copy of the lagos_df.</span><span id="973e" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">copy_lagos_df = lagos_df.copy(deep=True)</strong>  # deep=True means if we make adjustments to this copy, the original won't be affected and vice versa.<br/># Then let's make LGAs the index.<br/><strong class="nz ir">copy_lagos_df.index = copy_lagos_df.LGA</strong><br/># Let's drop the LGA Column.<br/><strong class="nz ir">copy_lagos_df = copy_lagos_df.drop('LGA', axis=1)</strong><br/># Lets view the effect.<br/><strong class="nz ir">copy_lagos_df.head()</strong></span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/fdd6d07a0f147296d2e32d0503d5174e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*QozY3pFAdbadOZdi_eAPbg.jpeg"/></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">以LGA为索引项的copy_lagos_df数据框架。</figcaption></figure><p id="b648" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">接下来我们需要做的是创建一个名为<a class="ae lr" href="https://github.com/Blackman9t/Coursera_Capstone/blob/master/applied_data_science_capstone_project.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">return _ venies</em></strong></a>的方法，该方法获取每个LGA的地址，使用<em class="kk">nominam</em>模块将其转换为纬度和经度列表，然后我们使用<em class="kk"> Foursquare </em> API调用来检索每个LGA周围10公里半径范围内的前200个可用场地类别。</p><p id="4f4a" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">我们为每个LGA重复并将唯一的场地类别列表保存到一个变量中，使用一个简单的方法叫做<a class="ae lr" href="https://github.com/Blackman9t/Coursera_Capstone/blob/master/applied_data_science_capstone_project.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">store _ venue _ categories</em></strong></a><strong class="kl ir"><em class="kk"/></strong>定义如下。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="8bfe" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">def store_venue_categories(df):</strong></span><span id="84a3" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">venue_set = set()</strong></span><span id="072b" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">for lga in df.index:</strong></span><span id="f393" class="mk lt iq nz b gy oh oe l of og">    <strong class="nz ir">df_lga = return_venues(lga)</strong><br/>    # Converting each category name to lower case using a list comprehension.<br/>    <strong class="nz ir">df_lga['venue.categories'] = [x.lower() for x in      list(df_lga['venue.categories'])]</strong><br/># Add each converted name to a set to avoid any possible duplicates.<br/>    <strong class="nz ir">for category in df_lga['venue.categories']:<br/>        venue_set.add(category)</strong><br/># Finally return a list of all venue categories in our DataFrame.<br/>    <strong class="nz ir">return list(venue_set)</strong></span></pre><p id="2ebe" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">接下来，我们将copy_lagos_df数据帧作为参数传递给上面的方法，并将结果赋给一个变量，该变量存储lagos州所有现有的场馆类别。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="c0c4" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">all_venue_categories = store_venue_categories(copy_lagos_df)</strong></span><span id="ad34" class="mk lt iq nz b gy oh oe l of og"># Let's see howmany venues we have altogether<br/><strong class="nz ir">print(len(all_venue_categories))</strong><br/>&gt;&gt;<br/>101<br/># so we have 101 different categories of venues altogether.</span></pre><h1 id="4c45" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">C.结果呢</h1><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi op"><img src="../Images/bb471e983b07165e3800be125077f312.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hXDCqlLNP7WAbCDMFG0Y-w.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">结果… | <a class="ae lr" href="https://resize.indiatvnews.com/en/resize/newbucket/715_-/2019/09/822184-822007-results-2019-1569303842.jpg" rel="noopener ugc nofollow" target="_blank"> Img_credit </a></figcaption></figure><h2 id="f759" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">C.1使用KMeans算法对拉各斯州场馆进行聚类:</h2><p id="f4f1" class="pw-post-body-paragraph ki kj iq kl b km mz jr ko kp na ju kr mp nb ku kv ms nc ky kz mv nd lc ld le ij bi translated">让我们从拉各斯州创建大约5个集群，并根据可用的场地类别选择最可行的集群。然后，我们将根据我们定义的某些参数，从这个集群中选择顶部的LGA。</p><p id="0f4f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">首先，我们创建一个名为<a class="ae lr" href="https://github.com/Blackman9t/Coursera_Capstone/blob/master/applied_data_science_capstone_project.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">getNearbyVenues</em></strong></a><strong class="kl ir"><em class="kk">，</em> </strong>的方法，该方法返回一个DataFrame，其中包含每个LGA中的每个场馆细节，所有细节都连接在一起。我们向该方法传递每个LGA名称的列表和相应的纬度和经度数据作为参数，并将输出数据帧保存在名为<strong class="kl ir"><em class="kk">Lagos _ state _ venies</em></strong>的变量中。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="38af" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">lagos_state_venues = getNearbyVenues(names= lagos_df['LGA'],latitudes= lagos_df['latitude'],longitudes= lagos_df['longitude'])</strong></span><span id="b565" class="mk lt iq nz b gy oh oe l of og"># Let's see the shape and first ten rows of lagos_state_venues</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oq"><img src="../Images/43f8fad14744555900ca071f7132d723.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KKnzYIIkaMBr8zutU-YITg.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">显示了拉各斯州所有LGA的所有1089个返回场馆的前5行和后5行。</figcaption></figure><p id="f787" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">接下来，我们对上述数据帧的venue_category列进行一次性编码，然后根据LGA进行分组，取每个LGA的每个场馆类别的平均出现频率。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="5977" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">lagos_grouped = lagos_onehot.groupby('LGA').mean().reset_index()</strong></span></pre><p id="4722" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">有了这个显示每个LGA每个场馆类别平均出现次数的分组数据框架，我们就可以创建我们的聚类算法。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="784a" class="mk lt iq nz b gy od oe l of og"># set number of clusters</span><span id="3c50" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">kclusters = 5</strong></span><span id="57ee" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">lagos_grouped_clustering = lagos_grouped.drop('LGA', 1)</strong></span><span id="6fbe" class="mk lt iq nz b gy oh oe l of og"># run k-means clustering</span><span id="a431" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">kmeans = KMeans(n_clusters=kclusters, random_state=0).fit(lagos_grouped_clustering)</strong></span><span id="dd11" class="mk lt iq nz b gy oh oe l of og"># check cluster labels generated for each row in the dataframe<br/><strong class="nz ir">kmeans.labels_</strong></span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi or"><img src="../Images/360edbf8ac6fbccf48f10859dd47e035.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dTC63upx5xQKPjn5ksZtTA.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">拉各斯各个场馆群。显然，红色圆圈的群集是主要的或理想的群集。</figcaption></figure><p id="93a3" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们检查一下这些簇，让我们检查一下每个簇的形状。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="0406" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">cluster1 = lagos_merged[lagos_merged['Cluster Labels'] == 0]<br/>cluster2 = lagos_merged[lagos_merged['Cluster Labels'] == 1]<br/>cluster3 = lagos_merged[lagos_merged['Cluster Labels'] == 2]<br/>cluster4 = lagos_merged[lagos_merged['Cluster Labels'] == 3]<br/>cluster5 = lagos_merged[lagos_merged['Cluster Labels'] == 4]</strong></span><span id="25ac" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">for i in range(5):</strong></span><span id="18b7" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">    x = lagos_merged[lagos_merged['Cluster Labels'] == i]<br/>    print('cluster'+str(i+1) + ' shape is {}'.format(x.shape))</strong></span><span id="2907" class="mk lt iq nz b gy oh oe l of og">&gt;&gt;<br/><strong class="nz ir">Cluster1 shape is (16, 14) <br/>Cluster2 shape is (1, 14) <br/>Cluster3 shape is (1, 14) <br/>Cluster4 shape is (1, 14) <br/>Cluster5 shape is (1, 14)</strong></span><span id="4bee" class="mk lt iq nz b gy oh oe l of og"># cluster_one is the dominant cluster with 16 LGAs</span></pre><p id="072e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们看看集群1中列出的LGAs</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="5f74" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">cluster1_lgas = list(cluster1['LGA'])<br/>print(cluster1_lgas)</strong></span><span id="07ed" class="mk lt iq nz b gy oh oe l of og">&gt;&gt;<br/><strong class="nz ir">['Alimosho',  'Ajeromi-Ifelodun',  'Kosofe',  'Mushin, Lagos',  'Oshodi-Isolo',  'Ikorodu',  'Surulere',  'Agege',  'Ifako-Ijaiye',  'Somolu',  'Amuwo-Odofin',  'Lagos Mainland',  'Ikeja',  'Eti-Osa',  'Apapa',  'Lagos Island']</strong></span></pre><h2 id="8880" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">C.2寻找最理想的地方政府机构，以拉各斯办事处为例:</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi os"><img src="../Images/3e3c0e23b4522ba9c17eedc4c0ee0d49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q5aKfP2BHrxZ1BXU9uYhPg.jpeg"/></div></div></figure><p id="1bf4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们创建一个主数据框架，将所有场馆类别作为索引，将每个LGA的名称作为列标题。</p><p id="cc8e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">将相似的场馆类别归入同一个列表是有意义的。例如,“餐馆”和“快餐店”应该在一个列表上。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="a42c" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">super_list  = [continental_restaurants, eateries, coffee_shops, gas_stations, ice_cream_n_confectionery, hotels_resorts_spas, bars_n_lounges,airport, bus_stations, heliport, it_services_n_hubs, shopping_malls_n_stores, gym_sports_facilities_games, markets, fashion_n_clothing,arts_studios_galleries, convention_centers, halls_events_venues, night_clubs, beach, parks, cinemas, auto_services, electronics_shop,residences, other_services]</strong></span></pre><p id="c2a9" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">让我们确认一下我们现在有多少列表类别:</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="da6c" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">len(super_list)<br/>&gt;&gt;<br/>26</strong><br/># We have reduced 101 categories to 26 categories of similar venues</span></pre><p id="0ec5" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">因此，让我们继续创建一个主数据框架，将场馆类别作为索引，将地方政府机构的名称作为列标题。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="9723" class="mk lt iq nz b gy od oe l of og"># Let's make the venue categories the index of the new DataFrame</span><span id="960b" class="mk lt iq nz b gy oh oe l of og"><strong class="nz ir">data_index = ['continental_restaurants', 'eateries', 'coffee_shops', 'gas_stations', 'ice_cream_n_confectionery', 'hotels_resorts_spas', 'bars_n_lounges','airport', 'bus_stations', 'heliport', 'it_services_n_hubs', 'shopping_malls_n_stores', 'gym_sports_facilities_games', 'markets', 'fashion_n_clothing','arts_studios_galleries', 'convention_centers', 'halls_events_venues', 'night_clubs', 'beach', 'parks', 'cinemas', 'auto_services', 'electronics_shop','residences', 'other_services']</strong></span><span id="e464" class="mk lt iq nz b gy oh oe l of og"># Let's create a list of LGAs to be the columns of our new DataFrame<br/><strong class="nz ir">data_columns = list(copy_lagos_df.index)</strong></span><span id="11f0" class="mk lt iq nz b gy oh oe l of og"># Let's create a new DataFrame<br/><strong class="nz ir">summary_df = pd.DataFrame(index= data_index, columns= data_columns)</strong></span><span id="174c" class="mk lt iq nz b gy oh oe l of og"># Next let’s replace any possible NaN values with 0<br/><strong class="nz ir">summary_df.fillna(0, inplace=True)</strong></span><span id="2c96" class="mk lt iq nz b gy oh oe l of og"># Let's see the first 5 rows<br/><strong class="nz ir">summary_df.head()</strong></span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ot"><img src="../Images/2a93d63e25233b94986b932f8553e32b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7tSNTGkctsjJt2tsRT-uA.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">summary_df数据框架，以场馆类别为索引，以LGA名称为列。</figcaption></figure><p id="9c5e" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">现在让我们创建一个名为<a class="ae lr" href="https://github.com/Blackman9t/Coursera_Capstone/blob/master/applied_data_science_capstone_project.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">update _ lga _ category _ values</em></strong></a><strong class="kl ir"><em class="kk"/></strong>的方法，该方法遍历每个LGA场馆类别，并将每个LGA在每个类别中的场馆数量添加到上面的summary_df，DataFrame中。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="588a" class="mk lt iq nz b gy od oe l of og"># Let's update the summary_df DataFrame with the number of venues per category, per LGA, using the <strong class="nz ir"><em class="kk">update_lga_category_values</em></strong> method above<strong class="nz ir">.</strong> <br/><strong class="nz ir">summary_df = update_lga_category_values(copy_lagos_df, summary_df)</strong></span><span id="64d8" class="mk lt iq nz b gy oh oe l of og"># Let's see the first five rows of the updated summary_df DataFrame<br/><strong class="nz ir">summary_df.head()</strong></span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ou"><img src="../Images/026874e70a88c2257dc72301de456a6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBW_lzP5DM6U44umhn9VCQ.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">显示每个LGA的场馆类别数量的前五行</figcaption></figure><p id="eafc" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">现在，从每个LGA的26个场馆大类中，让我们选出前20个类别并对地方政府区进行排序，看看哪一个拥有最广泛的场馆类别和最多的场馆组合。我们将这些保存在一个名为<strong class="kl ir"> <em class="kk"> top_criteria </em> </strong>的列表中，如下所示。</p><pre class="lg lh li lj gt ny nz oa ob aw oc bi"><span id="8808" class="mk lt iq nz b gy od oe l of og"><strong class="nz ir">top_criteria=['hotels_resorts_spas','airport','it_services_n_hubs','gym_sports_facilities_games','shopping_malls_n_stores','coffee_shops','markets','bars_n_lounges','arts_studios_galleries','halls_events_venues','continental_restaurants','eateries','gas_stations','cinemas','residences','auto_services','convention_centers','parks','electronics_shop','night_clubs']</strong></span><span id="4070" class="mk lt iq nz b gy oh oe l of og"># Let's slice out these top-criteria only to a new DataFrame<br/><strong class="nz ir">top_criteria_df = summary_df.loc[top_criteria,]</strong></span><span id="2547" class="mk lt iq nz b gy oh oe l of og"># Let's add a total or sum row at the base<br/><strong class="nz ir">top_criteria_df.loc['Total Venues'] = top_criteria_df.sum()</strong></span><span id="e70f" class="mk lt iq nz b gy oh oe l of og"># Let's view the first five rows</span></pre><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ov"><img src="../Images/2b1a30de5a2a64e716d8e28594405e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pDEWvz_RczGmdATRChF95A.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">top_criteria数据框架的前五行</figcaption></figure><p id="9a59" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">从我们的分析结果来看，LGA拉格斯大陆的顶级场馆缺席数量最少(4个)，而可用场馆数量最多(95个)。它旁边是LGA，有同样数量的顶级场馆缺席(4)。</p><p id="6329" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">请参见下表，其中显示了拉各斯办事处排名前五的地方政府机构</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ow"><img src="../Images/20fd9603a9287172655c84f10d0040fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wWQVivBkYVbRs59sjrEA3Q.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">五大地方政府机构列举拉各斯州的一个办公室。</figcaption></figure><p id="cdc0" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">从我们上面做的聚类练习来看，所有<strong class="kl ir">前5个LGA</strong>都来自主要的<strong class="kl ir"> <em class="kk">群1，这也不是巧合。</em> </strong></p><p id="77b1" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">这些是<strong class="kl ir"> <em class="kk">拉格斯大陆</em> </strong>，<strong class="kl ir"> <em class="kk">伊克哈</em> </strong>，<strong class="kl ir"> <em class="kk">阿帕帕</em> </strong>，<strong class="kl ir"> <em class="kk">奥绍迪-伊索洛</em> </strong>和<strong class="kl ir"> <em class="kk">苏鲁勒。</em>T25】</strong></p><h2 id="40fb" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">C.3拉各斯州LGA最常见的十大场馆类别:</h2><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi ox"><img src="../Images/277afdb1313b65cf61bb7d6f0df8912d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g4TCIdl7j7TcUtKtubA2fg.jpeg"/></div></div></figure><p id="e9c2" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">通过几行简单的代码，我们可以显示拉各斯州LGA最常见的10种场馆类型。这对于活动规划或为一群类似的企业构建解决方案非常有用。你可以在Github里看到我的<a class="ae lr" href="https://github.com/Blackman9t/Coursera_Capstone/blob/master/applied_data_science_capstone_project.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">笔记本</em> </strong> </a>里的代码。</p><p id="fad9" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">以下是每个LGA最常见的10个场馆类别的快照。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oy"><img src="../Images/e806b8a6586216e2634589bafda6b173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xAtmdowW9ADKORsFTiVPMQ.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">拉各斯州LGA最常见的十大场馆类别。</figcaption></figure><h1 id="a426" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">D.讨论</h1><blockquote class="kf kg kh"><p id="d6e7" class="ki kj kk kl b km kn jr ko kp kq ju kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><em class="iq">所有模型都是错的，但有些有用……</em><a class="ae lr" href="https://en.wikipedia.org/wiki/George_E._P._Box" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="iq">乔治·爱德华·佩勒姆</em> </strong> </a></p></blockquote><p id="0b0c" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">受乔治·佩勒姆 的启发，这绝不是对拉各斯州的详尽或准确的分析。我们简单地使用了来自拉各斯<a class="ae lr" href="https://en.wikipedia.org/wiki/List_of_Lagos_State_local_government_areas_by_population" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">维基百科页面</em> </strong> </a>的数据。我们搜集了这些数据，并根据我们创建的某些参数应用了机器学习和探索性数据分析(EDA)，以得出一个关于拉各斯办公室最理想位置的合理结果，即<strong class="kl ir"> <em class="kk">拉各斯大陆</em></strong><strong class="kl ir"><em class="kk">LGA</em></strong>。</p><h2 id="f627" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">D.1 Lagos拉格斯大陆:</h2><p id="87ab" class="pw-post-body-paragraph ki kj iq kl b km mz jr ko kp na ju kr mp nb ku kv ms nc ky kz mv nd lc ld le ij bi translated">拉各斯大陆由酋长奥洛芬建立，居住着与拉各斯相同的族群，尤其是埃格巴斯人和阿沃利斯人。<br/>拉格斯大陆是从Ebute-Metta、Ido-Otto、Ijora等聚落发展而来。参见<a class="ae lr" href="https://web.archive.org/web/20070929061412/http://www.mainlandlg.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">链接</em> </strong> </a></p><h2 id="2f37" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">拉各斯大陆的社区包括:</h2><p id="cca0" class="pw-post-body-paragraph ki kj iq kl b km mz jr ko kp na ju kr mp nb ku kv ms nc ky kz mv nd lc ld le ij bi translated">Yaba，<br/> Ebute-Metta，<br/> Iddo-Otto，<br/> Iwaya，<br/> Akoka，<br/> Makoko，<br/> Abule-nla。</p><p id="9dc4" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">Yaba是一个技术活动的蜂巢，有技术合作伙伴和共同工作的服务，如<a class="ae lr" href="http://www.cchubnigeria.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> <em class="kk">共创中心</em></strong></a><a class="ae lr" href="http://nghub.fb.com/" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">NG Hub来自脸书</em></strong></a><a class="ae lr" href="http://theleadspace.co/index.php/plans/#hub-one-plans" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">Hub One</em></strong></a><strong class="kl ir"><em class="kk">Yaba ICT Hub</em></strong><a class="ae lr" href="http://www.pancakehub.com/" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">煎饼Hub<em class="kk"/></em></strong></a></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi oz"><img src="../Images/b16fccf261455f8b03c0f23e7a4fb414.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S6WTC5DyEYsOm4ipJuEd6Q.jpeg"/></div></div><figcaption class="ln lo gj gh gi lp lq bd b be z dk translated">拉格斯大陆LGA，显示一些场地。</figcaption></figure><h1 id="94ce" class="ls lt iq bd lu lv lw lx ly lz ma mb mc jw md jx me jz mf ka mg kc mh kd mi mj bi translated">E.结论</h1><p id="682c" class="pw-post-body-paragraph ki kj iq kl b km mz jr ko kp na ju kr mp nb ku kv ms nc ky kz mv nd lc ld le ij bi translated">在这篇文章中，我们探索了拉各斯市的一些情况，并帮助任何希望搬迁或扩展到拉各斯的初创企业找到理想的办公地点。</p><p id="335b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">全文分析撑腰本文可在我的<a class="ae lr" href="https://github.com/Blackman9t/Coursera_Capstone/blob/master/applied_data_science_capstone_project.ipynb" rel="noopener ugc nofollow" target="_blank"><strong class="kl ir"><em class="kk">GitHub repo</em></strong></a>中找到。</p><p id="9f9f" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">最后，让我们来看一个word cloud对象，它显示了拉各斯州最常见的场馆类别。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="nu nv di nw bf nx"><div class="gh gi pa"><img src="../Images/62dfd6d8d76154afc509cc2378017c9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GijPIDGc-LqrB353pEHPVA.jpeg"/></div></div></figure><p id="f872" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">女士们先生们，拉各斯市最常见的场馆是…你猜对了！…酒店和酒吧！！</p><p id="0d2b" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated"><strong class="kl ir">干杯……</strong></p><h2 id="5c45" class="mk lt iq bd lu ml mm dn ly mn mo dp mc mp mq mr me ms mt mu mg mv mw mx mi my bi translated">关于我:</h2><p id="2a6d" class="pw-post-body-paragraph ki kj iq kl b km mz jr ko kp na ju kr mp nb ku kv ms nc ky kz mv nd lc ld le ij bi translated">劳伦斯是技术层的数据专家，对公平和可解释的人工智能和数据科学充满热情。我持有IBM的 <strong class="kl ir"> <em class="kk">数据科学专业</em> </strong> <em class="kk">和</em> <strong class="kl ir"> <em class="kk">高级数据科学专业</em> </strong> <em class="kk">证书。我已经使用ML和DL库进行了几个项目，我喜欢尽可能多地编写函数代码，即使现有的库比比皆是。最后，我从未停止学习和实验，是的，我拥有几个数据科学和人工智能认证，并且我已经写了几篇强烈推荐的文章。</em></p><p id="2aed" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated">请随时在以下网址找到我</p><p id="31dd" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated"><a class="ae lr" href="https://github.com/Lawrence-Krukrubo" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir"> Github </strong> </a></p><p id="f239" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated"><a class="ae lr" href="https://www.linkedin.com/in/lawrencekrukrubo/" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir">领英</strong> </a></p><p id="4257" class="pw-post-body-paragraph ki kj iq kl b km kn jr ko kp kq ju kr mp kt ku kv ms kx ky kz mv lb lc ld le ij bi translated"><a class="ae lr" href="https://twitter.com/LKrukrubo" rel="noopener ugc nofollow" target="_blank"> <strong class="kl ir">推特</strong> </a></p></div></div>    
</body>
</html>