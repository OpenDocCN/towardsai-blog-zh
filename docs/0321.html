<html>
<head>
<title>Various Ways to Get Data on Google Colab</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Google Colab上获取数据的各种方法</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/various-ways-to-get-data-on-google-colab-7a77d4ef34b5?source=collection_archive---------1-----------------------#2020-02-18">https://pub.towardsai.net/various-ways-to-get-data-on-google-colab-7a77d4ef34b5?source=collection_archive---------1-----------------------#2020-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="3fbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Google colab是给免费GPU最好的平台之一。如果你从深度学习开始，这是最好的实验场所之一。除了免费的GPU之外，google colab最棒的一点是，它装载了你开始深度学习所需的大多数库和框架，它是直接代码和运行类型的东西，你很可能不需要安装任何东西。但我面临的一个问题是，如果我使用google colab，会遇到抢先驱动。google colab的运行时间每隔8-10小时就会停止。所以你每次都需要下载数据，因为服务器停止时硬盘也会被刷新。在这篇博客中，我将告诉你在google colab上下载数据集的方法，这取决于你的数据集的来源以及如何在你处理数据时将数据集保存在你的驱动器上，以便你以后可以再次使用它。所以我们先从最流行的数据集源Kaggle开始下载数据集。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="2c6c" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">卡格尔</h1><p id="061b" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">从kaggle下载数据集是最简单的，因为kaggle提供了CLI，您可以通过执行一行命令轻松下载数据集。我将编写从kaggle下载数据集所需执行的步骤。</p><ol class=""><li id="9f95" class="lv lw iq jp b jq jr ju jv jy lx kc ly kg lz kk ma mb mc md bi translated">创建一个kaggle帐户。😅</li><li id="2682" class="lv lw iq jp b jq me ju mf jy mg kc mh kg mi kk ma mb mc md bi translated">转到我的帐户部分。</li></ol><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/133afbd5b7015d62d6509a0d3f7d597c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tLKcMHIFBMNvTbdotosKHA.png"/></div></div></figure><p id="5f4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3.单击create a new API token按钮，这将下载kaggle.json文件。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/8b2651d9386815715f90b76940ec7a19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yZje_sM9V_3fNrFw9UfivQ.png"/></div></div></figure><p id="90b5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">4.运行下面提到的代码，它会要求你上传一个文件。上传刚刚下载的kaggle.json文件。</p><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="8156" class="na kt iq mw b gy nb nc l nd ne">from google.colab import files<br/>files.upload()<br/>os.system("mkdir -p ~/.kaggle")<br/>os.system("cp kaggle.json ~/.kaggle/")<br/>os.system("chmod 600 ~/.kaggle/kaggle.json")</span></pre><p id="7754" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.复制要下载的数据集的API命令。</p><figure class="mk ml mm mn gt mo gh gi paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="gh gi mj"><img src="../Images/4e0028908b1b667fd4f6713ce20f748c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*quIhl82gycW0pQNfcvnMDg.png"/></div></div></figure><p id="c41e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以在每个数据集的数据集页面上找到它。</p><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="e7e9" class="na kt iq mw b gy nb nc l nd ne">!kaggle competitions download -c aerial-cactus-identification</span></pre><p id="571c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在此命令前使用感叹号，这是运行Linux命令所必需的。这将下载数据集，您可以对其进行操作。它将会是zip格式，所以你可能需要解压它。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="06d7" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">2.Google drive</h1><p id="9840" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">有时候你会需要从google drive下载一个数据集或者其他一些文件(比如权重文件)，从google drive下载数据是非常容易的。我们可以直接使用这个API。</p><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="4f9c" class="na kt iq mw b gy nb nc l nd ne">from google_drive_downloader import GoogleDriveDownloader as gdd</span><span id="43b5" class="na kt iq mw b gy nf nc l nd ne">gdd.download_file_from_google_drive(file_id='1iytA1n2z4go3uVCwE__vIKouTKyIDjEq',dest_path='./data/mnist.zip',unzip=True)</span></pre><p id="9bf7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以从链接共享选项中获取google drive中文件的file_id。这个API有一个限制。您要下载的文件应该对公共网站开放；否则不会下载。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><h1 id="9f05" class="ks kt iq bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">3.对于所有其他来源</h1><p id="e97c" class="pw-post-body-paragraph jn jo iq jp b jq lq js jt ju lr jw jx jy ls ka kb kc lt ke kf kg lu ki kj kk ij bi translated">有不同的方式，这完全取决于不同的来源。但是有一个通用的解决方案，适用于所有来源。唯一的限制是，如果有多个文件要下载，或者下载的链接是动态的，每次都会改变(例如，如果您在本地系统上从google drive下载了一些东西，下载链接每次都是新的)。</p><p id="5bb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">firefox有一个扩展(我试着在chrome上找，但找不到任何扩展，如果有人知道有这样的扩展，请在评论中告诉我)<a class="ae ng" href="https://addons.mozilla.org/en-US/firefox/addon/cliget/" rel="noopener ugc nofollow" target="_blank"> cliget </a>。</p><p id="d408" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在您的浏览器中添加此扩展。并转到您想要下载数据的网站。下载弹出窗口一出现，这个扩展就会捕捉到它，并生成一个curl命令来使用CLI下载数据。你只需要复制那个命令并在google colab运行时运行。别忘了加上“！”在这个命令之前。</p><p id="1505" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您的链接是动态的，您将不得不每次都这样做，因为前面的命令将不再工作。</p><p id="d2e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个典型的curl命令的样子</p><pre class="mk ml mm mn gt mv mw mx my aw mz bi"><span id="379d" class="na kt iq mw b gy nb nc l nd ne">!curl --header 'Host: <a class="ae ng" href="http://www.crcv.ucf.edu'" rel="noopener ugc nofollow" target="_blank">www.crcv.ucf.edu'</a> --user-agent 'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:73.0) Gecko/20100101 Firefox/73.0' --header 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8' --header 'Accept-Language: en-US,en;q=0.5' --referer '<a class="ae ng" href="https://www.crcv.ucf.edu/data/UCF101.php'" rel="noopener ugc nofollow" target="_blank">https://www.crcv.ucf.edu/data/UCF101.php'</a> --cookie 'sc_is_visitor_unique=rx8721945.1582018638.B9D513E5B1294F3FF5FA6112CC6A1234.1.1.1.1.1.1.1.1.1; __utma=1.544635313.1582018638.1582018638.1582018638.1; __utmb=1.1.10.1582018638; __utmc=1; __utmz=1.1582018638.1.1.utmcsr=google|utmccn=(organic)|utmcmd=organic|utmctr=(not%20provided); __utmt_ucfhb=1' --header 'Upgrade-Insecure-Requests: 1' '<a class="ae ng" href="https://www.crcv.ucf.edu/data/UCF101/UCF101.rar'" rel="noopener ugc nofollow" target="_blank">https://www.crcv.ucf.edu/data/UCF101/UCF101.rar'</a> --output 'UCF101.rar'</span></pre><p id="b994" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果要更改文件位置，请更改'— output '。</p></div><div class="ab cl kl km hu kn" role="separator"><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq kr"/><span class="ko bw bk kp kq"/></div><div class="ij ik il im in"><p id="982d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Google colab提供了在当前运行时挂载google drive的内置代码。您只需要用您的id登录并输入一个自动生成的密钥。驱动器将被安装，如果您想保存驱动器上的任何内容或使用驱动器上的任何内容，您只需给出该路径，文件将变得可读，您编写的文件将自动上传到驱动器上。</p><p id="a3cd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">延伸阅读:</p><p id="efc0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae ng" href="https://neptune.ai/blog/how-to-use-google-colab-for-deep-learning-complete-tutorial" rel="noopener ugc nofollow" target="_blank">https://Neptune . ai/blog/how-to-use-Google-colab-for-deep-learning-complete-tutorial</a></p><p id="6b4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">和平。</p></div></div>    
</body>
</html>