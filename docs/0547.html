<html>
<head>
<title>Evaluation Metrics for Regression Problems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">回归问题的评估标准</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/evaluation-metrics-for-regression-problems-fff2ac8e3f43?source=collection_archive---------3-----------------------#2020-06-01">https://pub.towardsai.net/evaluation-metrics-for-regression-problems-fff2ac8e3f43?source=collection_archive---------3-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2981" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学</h2><div class=""/><div class=""><h2 id="a389" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">为什么一开始就需要定义指标</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/3c353a77467fcf46097debdf87f9f885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1nxHdma6AVji8InX"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@makcedward?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马志威</a>在<a class="ae lh" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><blockquote class="li lj lk"><p id="df22" class="ll lm ln lo b lp lq kd lr ls lt kg lu lv lw lx ly lz ma mb mc md me mf mg mh im bi translated">如果你不知道如何证明一个模型是好是坏，这就好比你想得到某样东西却不知道它是什么。作为一名数据科学家工作了几年后，我坚信在早期阶段定义指标是非常重要的事情。</p></blockquote><p id="3f0e" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">这个故事将涵盖几个回归度量。您也可以查看以下案例，了解其他评估指标</p><ul class=""><li id="076f" class="ml mm it lo b lp lq ls lt mi mn mj mo mk mp mh mq mr ms mt bi translated"><a class="ae lh" href="https://medium.com/towards-artificial-intelligence/evaluation-metrics-are-what-you-need-to-define-in-the-earlier-stage-99dbfae51472" rel="noopener">内部和外部评估指标</a></li><li id="0a54" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated"><a class="ae lh" href="https://medium.com/towards-artificial-intelligence/evaluation-metrics-for-classification-problems-e7442092bc5" rel="noopener">分类问题的度量</a></li><li id="1660" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated"><a class="ae lh" href="https://medium.com/towards-artificial-intelligence/evaluation-metrics-for-textual-problems-6e881feef5ad" rel="noopener">文本问题的度量</a></li></ul><h1 id="888a" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">回归度量</h1><p id="73b5" class="pw-post-body-paragraph ll lm it lo b lp nr kd lr ls ns kg lu mi nt lx ly mj nu mb mc mk nv mf mg mh im bi translated">回归的区别之一是它包含连续值。除了混淆矩阵，您可以使用另一组计算来理解您的模型。您将了解到:</p><ul class=""><li id="9678" class="ml mm it lo b lp lq ls lt mi mn mj mo mk mp mh mq mr ms mt bi translated"><strong class="lo jd"> M </strong>可以指<strong class="lo jd">A</strong>b绝对<strong class="lo jd"> E </strong>错误(MAE)</li><li id="c037" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated">平均误差(MSE)</li><li id="0d46" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated"><strong class="lo jd">R</strong>oot<strong class="lo jd">M</strong>ean<strong class="lo jd">S</strong>方形误差(RMSE)</li><li id="c4e0" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated">M 可以是<strong class="lo jd">A</strong>b绝对<strong class="lo jd"> P </strong>百分比<strong class="lo jd"> E </strong>误差(MAPE)</li><li id="9dfb" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated"><strong class="lo jd"> W </strong>八个<strong class="lo jd">M</strong>E<strong class="lo jd">A</strong>b<strong class="lo jd">P</strong>百分比<strong class="lo jd"> E </strong>误差(WMAPE)</li></ul><h2 id="e651" class="nw na it bd nb nx ny dn nf nz oa dp nj mi ob oc nl mj od oe nn mk of og np iz bi translated">平均绝对误差</h2><p id="f996" class="pw-post-body-paragraph ll lm it lo b lp nr kd lr ls ns kg lu mi nt lx ly mj nu mb mc mk nv mf mg mh im bi translated"><code class="fe oh oi oj ok b">MAE</code>测量两个连续值之间的差异。你可以考虑两个值，预测值和实际值。计算步骤如下:</p><ol class=""><li id="6089" class="ml mm it lo b lp lq ls lt mi mn mj mo mk mp mh ol mr ms mt bi translated">预测值和实际值之间的差异</li><li id="18c7" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh ol mr ms mt bi translated">取绝对值</li><li id="eebf" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh ol mr ms mt bi translated">对所有值重复步骤1和步骤2，并将所有值相加</li><li id="1db0" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh ol mr ms mt bi translated">除以对数</li></ol><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi om"><img src="../Images/90e545d5fc69b3df7854714e2dfdc8c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*2MSrt7uhS6fEY6lz5qlyTA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">MAE公式(来自<a class="ae lh" href="https://en.wikipedia.org/wiki/Mean_absolute_error" rel="noopener ugc nofollow" target="_blank">维基</a>)</figcaption></figure><p id="9bcb" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">很容易计算和理解，但也有一些缺点。当取绝对值时，你忽略了方向，这意味着高估或低估。第二，异常结果可能是主导结果。如果您的回归问题对上述问题敏感，您可能不会考虑将<code class="fe oh oi oj ok b">MAE</code>作为度量。</p><p id="f178" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">例如，您正在为乘客构建一个预测航班延误的模型，以便乘客可以决定他们什么时候去机场。在这种情况下，过度预测的损失比预测不足大得多。因为如果超出预测，乘客可能会错过航班。另一方面，如果航班在预测之内，乘客只会浪费时间等待。如果一个航班延误10天，而大多数航班延误只有1小时。<code class="fe oh oi oj ok b">MAE</code>会非常高，误导观众。</p><h2 id="1108" class="nw na it bd nb nx ny dn nf nz oa dp nj mi ob oc nl mj od oe nn mk of og np iz bi translated">均方误差</h2><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi on"><img src="../Images/6c2e4ad8c4dd60e42ebeabe0fdd65329.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*LH1__AY1vMI0nj1212SJrg.png"/></div></figure><p id="4022" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated"><code class="fe oh oi oj ok b">MSE</code>(又名<code class="fe oh oi oj ok b">MDE</code>)类似于<code class="fe oh oi oj ok b">MAE</code>，但它取实际值和预测值之差的平方。更高的权重将与更高的误差相关联。换句话说，它关注的是一个大的错误。因为值是平方，所以最小值是0。</p><h2 id="d5c0" class="nw na it bd nb nx ny dn nf nz oa dp nj mi ob oc nl mj od oe nn mk of og np iz bi translated">均方根误差(RMSE)</h2><p id="fdf5" class="pw-post-body-paragraph ll lm it lo b lp nr kd lr ls ns kg lu mi nt lx ly mj nu mb mc mk nv mf mg mh im bi translated"><code class="fe oh oi oj ok b">RMSE</code>(又名<code class="fe oh oi oj ok b">RMSD</code>)是预测值和实际值的均方差。这个等式类似于<code class="fe oh oi oj ok b">MSE</code> expect。它在最后取平方根。它让你明白数据有多集中。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/e9a5c473368000a5bcc0107207744b25.png" data-original-src="https://miro.medium.com/v2/resize:fit:854/format:webp/1*nEhvXDkClhaDubN9LpB1oQ.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">RMSE公式(来自<a class="ae lh" href="https://en.wikipedia.org/wiki/Root-mean-square_deviation" rel="noopener ugc nofollow" target="_blank">维基</a></figcaption></figure><h2 id="5329" class="nw na it bd nb nx ny dn nf nz oa dp nj mi ob oc nl mj od oe nn mk of og np iz bi translated">平均绝对百分比误差(MAPE)</h2><p id="debb" class="pw-post-body-paragraph ll lm it lo b lp nr kd lr ls ns kg lu mi nt lx ly mj nu mb mc mk nv mf mg mh im bi translated"><code class="fe oh oi oj ok b">MAPE</code>不使用实际值，而是使用百分比误差来表示结果。设实际值为[5，10]，预测值为[10，2]。MAPE是90% =((| 5–10 |/5)+(| 10–2 |)/10)/2 * 100%。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi op"><img src="../Images/e9e5587793a5663fcb7bd0ae6462dc68.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*FIQlWUXjxQtFAG6idqc0yw.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">MAPE公式(来自<a class="ae lh" href="https://en.wikipedia.org/wiki/Mean_absolute_percentage_error" rel="noopener ugc nofollow" target="_blank">维基</a></figcaption></figure><h2 id="f7dd" class="nw na it bd nb nx ny dn nf nz oa dp nj mi ob oc nl mj od oe nn mk of og np iz bi translated">加权平均绝对百分比误差</h2><p id="c384" class="pw-post-body-paragraph ll lm it lo b lp nr kd lr ls ns kg lu mi nt lx ly mj nu mb mc mk nv mf mg mh im bi translated"><code class="fe oh oi oj ok b">WMAPE</code>把更多的注意力放在大值上。它克服了一些<code class="fe oh oi oj ok b">MAPE</code>限制。<code class="fe oh oi oj ok b">MAPE</code>小值和大值同等对待，但可能会引入误导。此外，如果值为零，它对值也是鲁棒的。</p><p id="e16e" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">公式如下所示。a是实际，F是预测值(预测值)。你可能注意到，我们可以去掉A，简化为sum(A-F)*100/(sum(A))。由于不需要对单个值进行除法运算，WMAPE可以处理零的情况(expect sum(A)为0)。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/b1345cd5f619be86e9f5b3c9e2617d33.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/0*3dLZ93PxpbxMIt7J.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">WMAPE公式(来自IBF)</figcaption></figure><p id="1bcc" class="pw-post-body-paragraph ll lm it lo b lp lq kd lr ls lt kg lu mi lw lx ly mj ma mb mc mk me mf mg mh im bi translated">这里有一个例子:</p><ul class=""><li id="24a7" class="ml mm it lo b lp lq ls lt mi mn mj mo mk mp mh mq mr ms mt bi translated">实际值分别为1和100，而预测值分别为2和101。虽然两者的绝对差值都是1，但百分比误差分别为100%和1%。WMAPE对此场景具有鲁棒性。</li><li id="054b" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated">如果实际值是0，MAPE不能计算它除以零。WMAPE不会除以单个值，而是除以实际值的总和。除非实际值之和为0(在大多数场景中这种情况应该很少见)，否则我们可以利用WMAPE来计算它。</li></ul><h1 id="1adb" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">拿走</h1><ul class=""><li id="4728" class="ml mm it lo b lp nr ls ns mi or mj os mk ot mh mq mr ms mt bi translated">没有最好的指标，但是你需要根据你的数据选择合适的指标。此外，您可以使用多个指标来评估您的模型。如果你不知道，你可以先试试<code class="fe oh oi oj ok b">RMSE</code>和<code class="fe oh oi oj ok b">WMAPE</code>。<code class="fe oh oi oj ok b">RMSE</code>指的是实际误差，而<code class="fe oh oi oj ok b">WMAPE</code>关注的是百分比误差。</li><li id="24a4" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated"><code class="fe oh oi oj ok b">MAE</code>比<code class="fe oh oi oj ok b">MSE</code>和<code class="fe oh oi oj ok b">RMSE</code>更容易理解。注意异常值，但这可能很难向非技术用户解释。</li><li id="61eb" class="ml mm it lo b lp mu ls mv mi mw mj mx mk my mh mq mr ms mt bi translated"><code class="fe oh oi oj ok b">MAPE</code>显示百分比误差，但它对大范围的值和零情况不稳定。在上述情况下,<code class="fe oh oi oj ok b">WMAPE</code>优于<code class="fe oh oi oj ok b">MAPE</code>。</li></ul><h1 id="7480" class="mz na it bd nb nc nd ne nf ng nh ni nj ki nk kj nl kl nm km nn ko no kp np nq bi translated">关于我</h1><p id="3bdf" class="pw-post-body-paragraph ll lm it lo b lp nr kd lr ls ns kg lu mi nt lx ly mj nu mb mc mk nv mf mg mh im bi translated">我是湾区的数据科学家。专注于数据科学、人工智能，尤其是NLP和平台相关领域的最新发展。你可以通过<a class="ae lh" href="https://medium.com/@makcedward/" rel="noopener"> Medium、</a> <a class="ae lh" href="https://www.linkedin.com/in/edwardma1026" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>或者<a class="ae lh" href="https://github.com/makcedward" rel="noopener ugc nofollow" target="_blank"> Github </a>联系我。</p></div></div>    
</body>
</html>