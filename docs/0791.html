<html>
<head>
<title>Exploring the NoSQL Family</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">探索NoSQL家族</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/exploring-the-nosql-family-49e9f23313ad?source=collection_archive---------3-----------------------#2020-08-12">https://pub.towardsai.net/exploring-the-nosql-family-49e9f23313ad?source=collection_archive---------3-----------------------#2020-08-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="8e4a" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><div class=""><h2 id="7508" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">对数据科学家日益增长的需求的(长篇)入门</h2></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/3be08c17548b79b53673f4d29353cf10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DIWp0m7nuzPAY3qnEwkTOg.jpeg"/></div></div></figure><p id="a5b1" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在数据科学应用中，NoSQL数据库的知识似乎是一个不断增长的需求，然而，分类法是如此多样和以问题为中心，以至于掌握它们可能是一个挑战。这篇文章试图阐明一些概念，经常深入每个设计的特性。</p><p id="d7ae" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">我们首先简要介绍NoSQL及其出现背后的原因，然后分析NoSQL家族的四个成员，他们的行为和主要机制，以及他们的优点，缺点和典型的用例。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi lw"><img src="../Images/bbb8d6e8c1af837b4f9925870575ebfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZHXmep3XXr5trRWXOa_Yxw.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">NoSQL数据库系列及其表示。</figcaption></figure><h2 id="da4a" class="mb mc iq bd md me mf dn mg mh mi dp mj lj mk ml mm ln mn mo mp lr mq mr ms iw bi translated">什么是NoSQL？</h2><p id="ac05" class="pw-post-body-paragraph la lb iq lc b ld mt ka lf lg mu kd li lj mv ll lm ln mw lp lq lr mx lt lu lv ij bi translated">NoSQL(不仅仅是SQL)在2000年代中后期成为传统SQL的替代品。在Web 2.0行业的推动下，它允许水平伸缩、分布式数据库和灵活的模型(无模式设计)。这种范式的转变意味着开发人员可以将更多的时间放在开发新功能上，而减少数据库设计的时间。通常情况下，NoSQL解决方案是作为SQL解决方案的一种经济高效的替代方案而出现的，SQL解决方案放松了RDBM的僵化。</p><p id="5f16" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">最初，NoSQL语言专注于键值模型，有效地消除了对SQL的需求，因此得名NoSQL，是“不支持SQL”的缩写。随着时间的推移，社区意识到每个工具都满足了一个特定的需求，抛弃了对共存驱动的方法的“死于SQL”的感觉，NoSQL看到它的意思变成了“不仅仅是SQL”。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi my"><img src="../Images/c6da86efc19295cc612fe9da5fa7a672.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Br1FrvKnK3hU6Xl_LbDkwg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">CAP定理文氏图:该定理指出，没有数据库范例能够同时包含所有三个特征。</figcaption></figure><p id="7c93" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">左边的图代表CAP定理，它表明分布式数据存储不可能同时提供三种保证中的两种以上。</p><p id="f3c8" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">传统的RDBMs关注于图表的左侧(一致性和可用性，CA)，而NoSQL数据库通过牺牲一致性以支持可用性和分区容差(AP)来实现水平分区和速度。</p><p id="5bf0" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">尽管有些数据库确实符合ACID标准，但大多数NoSQL数据库都围绕着所谓的“最终一致性”，而是遵循基本属性。最终一致性规定，集群中的所有节点最终将包含相同的数据版本。称为陈旧读取，这意味着多个查询可能会暂时返回不同的结果，这是放松一致性保证的直接结果。</p><p id="f5a6" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated"><strong class="lc ja">那么什么时候使用NoSQL呢？</strong>简而言之:当不需要ACID合规性时，快速且廉价的可扩展性是强制性的，或者您的应用属于大数据类别。</p><p id="b584" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在继续之前，请记住NoSQL的设计与RDBMs的设计有很大的不同，在前者中，数据往往是非规范化的，并且经常重复，因为与访问速度和可用性相比，存储被认为是一种廉价商品。这种范式与无一致性保证相结合，必然会产生暂时的分歧。</p><p id="1a3a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">注意#1:一些作者认为NoSQL显然没有达到它的目标，它为通过NewSQL或分布式SQL在传统SQL中容纳类似NoSQL的特性铺平了道路。但是让我们暂时跳过这个话题。</p><p id="fcd2" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">注意#2:一些文档值NoSQL数据库允许类似ACID的事务，只要在同一个集合中执行，在Azure表存储中称为实体组事务；MongoDB在4.2版本中增加了对类似ACID的分布式事务的支持。</p><p id="2f8e" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">注意#3:一些SQL数据库能够结合水平分片/缩放和分布式查询，例如，使用PostgresSQL的Citus扩展，或YugabyteDB，一个SQL/NoSQL星球规模的分布式数据库。</p></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h2 id="faba" class="mb mc iq bd md me mf dn mg mh mi dp mj lj mk ml mm ln mn mo mp lr mq mr ms iw bi translated">键值数据库</h2><p id="ee83" class="pw-post-body-paragraph la lb iq lc b ld mt ka lf lg mu kd li lj mv ll lm ln mw lp lq lr mx lt lu lv ij bi translated">最简单的NoSQL数据库围绕着关联数组的概念，换句话说，它简单地将给定的<strong class="lc ja">键与任何类型的记录</strong> <strong class="lc ja">，</strong>从简单的字符串或JSON到视频文件。</p><p id="b7e0" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">键值数据库被组织成分区或桶，其中可以包含一个或几个实体，每个记录由一个唯一的行键表示。记录又包含一个或多个字段。分区和行键的概念是NoSQL最重要的方面之一，因为它允许逻辑分区(由分区键定义)根据它们的工作负载在物理分区(节点)之间移动。同时，这也是新手的主要障碍之一:如果您的查询没有利用所选的键，选择错误的键将会带来灾难，而且一旦您选择了它，就没有回头路了。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ng"><img src="../Images/74eb355abc7e61304337498104444f64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3gejpMufRvuDVRzi9iCT-g.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">AWS的DynamoDB存储图</figcaption></figure><p id="c39c" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">对于键-值数据库来说，选择分区键和行键尤其具有挑战性，因为只能通过键进行查询。这是什么意思？在键值方面，JSON可以用一个水平图来表示，图中的<em class="nh"> id </em>字段表示与JSON值相关联的记录的键。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/cab30c0499d7920ecd8b7dae944de58f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*sR_QaUjlI6TwXk_AFrchUQ.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">伪键值关联。请注意，值并不遵循固定的模式，在同一个分区中从JSONs到strings会有所不同。</figcaption></figure><p id="de55" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">只要您知道分区和记录键，CRUD操作就会非常快。但是，如果您想检索“name”字段等于“Michal”的所有案例，该怎么办呢？与文档数据库不同，字段不会被自动索引，这意味着这样的查询将需要遍历每条记录，以查看它是否包含“name”字段以及它是否等于“Michal”——类似于SQL中的全表扫描。我希望这阐明了行键选择的重要性，以及为什么事先了解系统的用途很重要。当然，这些系统不是为现场查询而设计的，但我们只是陈述了它们作为通用数据库的局限性。</p><p id="bbe6" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">典型的关键字可以是任何被认为是唯一的关键字，<em class="nh"> customerID </em>，<em class="nh"> supplierID </em>，<em class="nh"> sessionID，等等</em>。大多数开发人员选择使用组合键，例如，<em class="nh"> UserID.session </em>将存储会话数据；<em class="nh"> UserID.user </em>反过来表示用户的缓存信息，简化了单个字段的值，而不是类似字典的结构，加快了CRUD操作。</p><p id="5ddd" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">分区键怎么样？一开始，我们说过分区键允许系统根据它们的工作负载移动分区。因此，不适当的分区键选择的明显和最直接的后果是创建<em class="nh">热分区— </em>频繁访问的实体组，但是不能被分布，因为它们作为单个单元(单个分区)操作。考虑到这一点，一个分区可以是<em class="nh"> UserID </em>，而键则代表不同的用户属性<em class="nh"> UserID。姓名</em>，<em class="nh">用户标识。位置</em>，<em class="nh">用户标识。高度</em>。如果一个物理分区包含几个热逻辑分区(例如，一组频繁请求数据的用户)，该引擎就能够将逻辑分区分布到不同的集群上。没有适当的分区键，逻辑分区可能是一元的，因此不可能被分配。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nj"><img src="../Images/080a7fed556fdee545a1a10e22ff5830.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XlpxVlw7sLCeJfE1Ok6FGg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">逻辑分区(LP)及其根据工作负载在物理分区(PP)之间的分布</figcaption></figure><p id="55e4" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">键值数据库的另一个重要特性是，它们的记录可以有生存时间(TTL)，这是一个可以控制的自动过期日期。这使它们成为会话驱动存储的有力候选。</p><p id="6aaf" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">优势</p><ul class=""><li id="4167" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">可量测性</li><li id="652a" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">非常快的阅读速度</li><li id="2b61" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">简单灵活的数据模型</li></ul><p id="b002" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">不足之处</p><ul class=""><li id="9668" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">实体之间没有关系</li><li id="eb68" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">没有类似事务的行为</li><li id="5243" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">仅支持每个键的查询</li><li id="fdd5" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">不支持一次检索多个键</li><li id="dc4d" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">缓慢的多次更新和集合扫描</li></ul><p id="250a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">供应商</p><ul class=""><li id="2df2" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">雷迪斯</li><li id="a758" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">里亚克</li><li id="6a42" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">Memcached</li><li id="9077" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">Azure Table商店</li></ul><p id="2bc1" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">用例</p><ul class=""><li id="525d" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">Web会话缓存</li><li id="aca5" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">存储用户首选项</li></ul></div><div class="ab cl mz na hu nb" role="separator"><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne nf"/><span class="nc bw bk nd ne"/></div><div class="ij ik il im in"><h2 id="1d54" class="mb mc iq bd md me mf dn mg mh mi dp mj lj mk ml mm ln mn mo mp lr mq mr ms iw bi translated">文档数据库</h2><p id="5740" class="pw-post-body-paragraph la lb iq lc b ld mt ka lf lg mu kd li lj mv ll lm ln mw lp lq lr mx lt lu lv ij bi translated">文档存储数据库建立在键值背后的概念之上，扩展它以支持复杂的多层对象documents。这种看似简单的差异具有几个后果:因为引擎熟悉多级或嵌套概念，所以所有字段，包括嵌套字段，都被索引，允许特定字段查询和选择；单据之间可以相互查询，但不能相互查询；非规范化设计模式允许直接数据检索，而不需要连接；一些文档存储数据库实现了类似ACID的属性。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ny"><img src="../Images/e50fa6c8ad010b1ccec1ec08bc7b33c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sDXyCgSGVbEXL-ZmRb5BRg.jpeg"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">关系数据模型与文档数据模型</figcaption></figure><p id="90ce" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">每个文档都可以看作关系模型中的一行，只是前者的模式没有预先定义，对象类型不需要相同。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi nz"><img src="../Images/9ee01ab3d0b158f5d12b1a95e2552e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XdGgX2n-wM1nxnbTPigLyA.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">文档存储结构(<a class="ae oa" href="https://webassets.mongodb.com/_com_assets/cms/JSON_Example_Python_MongoDB-mzqqz0keng.png" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="be0a" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">像它的键值前身一样，文档数据库也被构造成集合，集合又包含分区和它们的嵌套实体。在选择分区和文档(非行)键时，必须注意同样的问题。然而，如上所述，文档数据库中的值被自动索引，允许它们被查询。尽管如此，查询的效率仍然会受到查询字段的严重影响。</p><p id="700d" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">请注意，由于这种面向文档的结构，与它的键值对应不同，在文档存储数据库中没有创建组合键的强烈需求，因为每个字段的访问都集成在引擎中。</p><p id="cc8b" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">下图展示了Azure Cosmos DB中每个查询类型获得的性能，尽管可以扩展到文档存储数据库。该图从效率最高的点查询流向效率较低的表扫描。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ob"><img src="../Images/7749af8cc45652735c2a981b961acb7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1222/format:webp/1*KhnZqDsdgq8MdDK0Hx9HjA.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">使用REST表API查询Azure CosmosDB中分区键的性能。</figcaption></figure><p id="5339" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在这本入门书的开始，我们规定NoSQL数据库位于CAP定理的AP谱中。在实践中，由于不断的发展，一些NoSQL数据库有能力在上限保证之间切换，允许开发者创建定制的解决方案。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oc"><img src="../Images/7e9dfbacad1dd89c9de0551c777d1dde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_iMY-0jAg_kticoLYzGf9g.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">Azure Cosmos DB的一致性级别</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi od"><img src="../Images/26f71929a23ee3cba7ffbf66c242254e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_2R5P2OIfxMIAjmuIPR1dg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">随着我们从强一致性走向最终一致性，我们能够在CAP定理中平衡一致性与可用性之间的权衡</figcaption></figure><p id="016f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">优势</p><ul class=""><li id="9b11" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">复杂对象的可伸缩性</li><li id="fa0c" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">面向文档的数据模型，JSON或XML允许复杂的无模式结构</li><li id="dfa7" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">支持文档内的查询和连接</li><li id="6650" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">数据建模范例允许将所有数据存储在一个文档中</li><li id="addb" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">快速读写</li></ul><p id="2c1e" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">不足之处</p><ul class=""><li id="30b9" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">数据建模范例导致文档中的数据重复</li><li id="2a1f" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">复杂的设计导致不一致</li></ul><p id="d5ea" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">供应商</p><ul class=""><li id="841d" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">MongoDB</li><li id="b247" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">Azure文档数据库</li><li id="aec6" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">AWS发电机数据库</li><li id="ea9b" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">OrientDB</li><li id="e6da" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">CouchDB</li></ul><p id="d72f" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">使用案例:</p><ul class=""><li id="e37a" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">社交网络</li><li id="178b" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">电子商务</li><li id="11b8" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">任何可以放松酸性物质依从性的东西</li></ul><h2 id="e5e0" class="mb mc iq bd md me mf dn mg mh mi dp mj lj mk ml mm ln mn mo mp lr mq mr ms iw bi translated">柱族数据库</h2><p id="0ba6" class="pw-post-body-paragraph la lb iq lc b ld mt ka lf lg mu kd li lj mv ll lm ln mw lp lq lr mx lt lu lv ij bi translated">列族数据库与RDBMS和键值存储共享概念。您可以将行视为键值存储中的键，将列视为值。他们的最佳使用情形是大型数据接收或数据分析，适合存储数十亿行和数万列。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oe"><img src="../Images/2731c18243a33735bd878559c6af7e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vJjRtWspaAw3WSnUvExFWg.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">列存储模式(<a class="ae oa" href="https://pandaforme.gitbooks.io/introduction-to-cassandra/content/Screen%20Shot%202016-02-24%20at%2011.46.09.png" rel="noopener ugc nofollow" target="_blank">源</a>)</figcaption></figure><p id="ac3c" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">列背后的数据模型意味着它可以有效地处理稀疏矩阵，这是传统RDBMS的一个主要障碍。而在后者中，所有列都必须被填充——recall NULL是一个值，被占用的空间对应于列的类型——占用存储空间，而前者实际上不占用存储空间，它只存储每列、每行(或每个键)的现有值。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi of"><img src="../Images/8a01f191589feb799a1bec6f449992f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*clPgnG0C6wqc68iaSqgXwQ.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">RDBMS vs列存储(<a class="ae oa" href="https://pandaforme.gitbooks.io/introduction-to-cassandra/content/Screen%20Shot%202016-02-24%20at%2012.24.12.png" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="6e29" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">在上图中，请注意键“John Lennon”和“Paul McCartney”没有为<em class="nh"> founded </em>列设置值，在这里您可以看到一个gap实际上是一个不存在的列。您可以将列看作一个可变长度的集合，例如Python中的字典，其中每一项都是可选的。在这种情况下，第一行可以用Python表示为:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="f68e" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">正如所料，就像NoSQL家族的其他成员一样，分区键的选择起着至关重要的作用，因为除了加快基于索引的查询之外，它还决定了哪些内容是连续存储的，哪些内容可以分成更小的块。</p><p id="e9e3" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">优势</p><ul class=""><li id="8d7c" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">可量测性</li><li id="3f10" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">快速写/读</li></ul><p id="90fa" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">不足之处</p><ul class=""><li id="e711" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">更新/修改操作很慢</li></ul><p id="83c7" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">供应商</p><ul class=""><li id="eee5" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">卡桑德拉</li><li id="7bb5" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">HBase</li><li id="7db6" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">Google BigTable</li><li id="a5ae" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">德鲁伊特</li></ul><p id="f80d" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">使用案例:</p><ul class=""><li id="801f" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">遥感勘测</li><li id="3cd9" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">物联网</li><li id="f01e" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">报告</li></ul><h2 id="c536" class="mb mc iq bd md me mf dn mg mh mi dp mj lj mk ml mm ln mn mo mp lr mq mr ms iw bi translated">图形数据库</h2><p id="b6df" class="pw-post-body-paragraph la lb iq lc b ld mt ka lf lg mu kd li lj mv ll lm ln mw lp lq lr mx lt lu lv ij bi translated">最后的NoSQL数据库类型将焦点转移到实体之间的关系上。实体(如用户)由节点表示，而实体之间的连接决定了它们之间的关系。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/65401b90bc2f990477a7b00a76f78284.png" data-original-src="https://miro.medium.com/v2/resize:fit:1206/format:webp/0*VzF92KLfCYlNnnXK.png"/></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">图表引擎推荐引擎示例(<a class="ae oa" href="https://d1.awsstatic.com/product-marketing/Neptune/Neptune-Diagram_recommendation-relationships.ba1ed4bbfe14f9b810f64bb0b16065daa3006eed.png" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="9c4b" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">图形数据库存储每个节点内的关系信息，通过这样做，消除了关系数据库中所需的查找操作，节省了急需的资源。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oj"><img src="../Images/a83eefb50a055db24f323e72beb37cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0MjP3w9EuC6AK6JOt2FsoA.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">关系数据库中的查找过程(<a class="ae oa" href="https://s3.amazonaws.com/dev.assets.neo4j.com/wp-content/uploads/from_relational_model.png" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure><p id="68f4" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">另一方面，图形数据库，因为关系是预先计算的，所以查询更快，因为它们不需要查找。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oj"><img src="../Images/52e7152af0c7d2d3836801ff04aa8d83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q2s8IGzh-dF-A_qE5HCT5g.png"/></div></div><figcaption class="lx ly gj gh gi lz ma bd b be z dk translated">图形存储中的即时关系(<a class="ae oa" href="https://s3.amazonaws.com/dev.assets.neo4j.com/wp-content/uploads/relational_to_graph.png" rel="noopener ugc nofollow" target="_blank">来源</a></figcaption></figure><p id="ff75" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">供应商</p><ul class=""><li id="cb5c" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">Neo4j</li><li id="e5ab" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">OrientDB</li><li id="7fd7" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">ArangoDB</li></ul><p id="92e9" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">使用案例:</p><ul class=""><li id="3d2f" class="nk nl iq lc b ld le lg lh lj nm ln nn lr no lv np nq nr ns bi translated">知识图表</li><li id="03ce" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">身份图</li><li id="4ee0" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">欺诈检测</li><li id="0ced" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">推荐引擎</li><li id="9f65" class="nk nl iq lc b ld nt lg nu lj nv ln nw lr nx lv np nq nr ns bi translated">社交网络</li></ul><h2 id="de71" class="mb mc iq bd md me mf dn mg mh mi dp mj lj mk ml mm ln mn mo mp lr mq mr ms iw bi translated">结论</h2><p id="ebcf" class="pw-post-body-paragraph la lb iq lc b ld mt ka lf lg mu kd li lj mv ll lm ln mw lp lq lr mx lt lu lv ij bi translated">像在大多数技术中一样，选择适合手头问题的工具是开发人员的责任。第一个支柱始终是相同的:在钻研技术之前，确保您理解手头的业务问题。</p><p id="c15c" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">希望这篇文章能帮助你实现上述目标！</p><p id="eb54" class="pw-post-body-paragraph la lb iq lc b ld le ka lf lg lh kd li lj lk ll lm ln lo lp lq lr ls lt lu lv ij bi translated">接下来:NewSQL和分布式SQL，感谢阅读！</p></div></div>    
</body>
</html>