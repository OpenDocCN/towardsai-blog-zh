<html>
<head>
<title>Twitter Sentiment Analysis: FIFA World Cup 2022</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">推特情绪分析:2022年世界杯</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/twitter-sentiment-analysis-fifa-world-cup-2022-bba7e4ffc597?source=collection_archive---------0-----------------------#2022-12-12">https://pub.towardsai.net/twitter-sentiment-analysis-fifa-world-cup-2022-bba7e4ffc597?source=collection_archive---------0-----------------------#2022-12-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="e742" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用Snscrape和拥抱脸进行情感分析的实用指南</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/5fa0338b8bd415892d1f944d98e189a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ncYHzsNsklZXUj6JAvxkIw.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://www.freepik.com/free-photo/soccer-players-action-professional-stadium_28993834.htm#query=world%20cup&amp;position=41&amp;from_view=search&amp;track=sph" rel="noopener ugc nofollow" target="_blank">图片由Freepik拍摄</a></figcaption></figure><p id="f041" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">足球是全世界最受欢迎的运动之一。每四年举办一次的全球性足球赛事国际足联世界杯今年在卡塔尔举行。<a class="ae kv" href="https://www.reuters.com/lifestyle/sports/world-cup-2022-why-is-qatar-controversial-location-fifa-tournament-2022-11-15/" rel="noopener ugc nofollow" target="_blank">在卡塔尔举办世界杯的决定引发了一些争议，包括腐败和侵犯人权的指控。</a></p><p id="dffd" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">那么，足球爱好者对2022年国际足联世界杯有什么看法呢？为了找到答案，我将在这篇博文中使用Twitter上的#WorldCup2022标签进行一次Twitter情绪分析。以下是我要讲的内容:</p><ul class=""><li id="ceec" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">什么是情感分析？</li><li id="fb6e" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">什么是社交媒体抓取？</li><li id="47da" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">怎么用Snscrape刮？</li><li id="aac6" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">如何进行推特情感分析？</li></ul><p id="66b8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们开始吧！</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="f546" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">什么是情感分析？</h1><p id="3304" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated"><em class="nk">情感分析</em>是一种NLP，旨在根据数据的情感来标记数据，如正面、负面和中性。这种分析有助于公司了解其客户对其产品或服务的感受，或识别公众对某一特定话题的看法趋势。例如，像奥迪这样的公司可以通过检查下图所示的Twitter份额来了解人们是否喜欢其新车的颜色。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nl"><img src="../Images/9547a9f7fcd089d7e4565b05d714ce1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F7WBFaExmvlSka3q9FYc-g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://twitter.com/garthcupido1/status/1512097091467759630" rel="noopener ugc nofollow" target="_blank">一条关于奥迪的推文</a></figcaption></figure><h1 id="6068" class="mn mo iq bd mp mq nm ms mt mu nn mw mx jw no jx mz jz np ka nb kc nq kd nd ne bi translated">什么是社交媒体抓取？</h1><p id="5efd" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">随着技术的发展，现在通过社交网站表达各种情绪、感受和想法变得更加容易。<em class="nk">社交媒体抓取</em>是从社交媒体平台提取数据的过程。使用最多的社交媒体平台之一是Twitter。<a class="ae kv" href="https://www.demandsage.com/twitter-statistics/" rel="noopener ugc nofollow" target="_blank">当我们查看统计数据</a>时，截至2022年，Twitter每月约有4.5亿活跃用户，每秒发布6000条推文。</p><p id="dc49" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Twitter是数据科学家最重要的数据源之一。数据科学家可以用网络抓取工具从Twitter中提取数据。有几个库可以做到这一点，比如Tweepy和Snscrape。让我们来看看这些库的优缺点。</p><h2 id="78d0" class="nr mo iq bd mp ns nt dn mt nu nv dp mx lf nw nx mz lj ny nz nb ln oa ob nd oc bi translated">十二岁</h2><p id="a9cf" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">Tweepy是一个易于使用的Python库，允许您访问Twitter API。你可以把Twitter API和这个库连接起来，抓取你想要的推文。然而，这个库有一些缺点。Twitter API的标准版本只允许你在一个时间线内提取3200条推文。你可以从一个用户的账户上收集多少条推文是有限制的。你可以在这里找到更多关于这些限制<a class="ae kv" href="https://developer.twitter.com/en/docs/twitter-api" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><h2 id="4ec3" class="nr mo iq bd mp ns nt dn mt nu nv dp mx lf nw nx mz lj ny nz nb ln oa ob nd oc bi translated">Snscrape</h2><p id="a697" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">另一个可以用来从Twitter上收集数据的库是<a class="ae kv" href="https://github.com/JustAnotherArchivist/snscrape" rel="noopener ugc nofollow" target="_blank"> Snscrape </a>。Snscrape是一个用于社交网络服务的数据抓取工具，可以帮助你提取用户资料、推文内容、标签或搜索等数据。它也不需要使用Twitter API。通过Snscrape，你还可以从脸书、Instagram、Reddit和Telegram等其他服务中抓取数据。</p><blockquote class="od oe of"><p id="12ce" class="kw kx nk ky b kz la jr lb lc ld ju le og lg lh li oh lk ll lm oi lo lp lq lr ij bi translated"><strong class="ky ir">免责声明:</strong>本文仅出于教育目的。我们不鼓励任何人抓取网站，尤其是那些可能有条款和条件反对此类行为的网站。</p></blockquote><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/0decd81acc759e712f2426f0f43896be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LmfwasiNgnK8xijlE8XJGQ.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">Twitter情绪分析概述(图片由作者提供)</figcaption></figure><h1 id="e601" class="mn mo iq bd mp mq nm ms mt mu nn mw mx jw no jx mz jz np ka nb kc nq kd nd ne bi translated">怎么用Snscrape刮？</h1><p id="7526" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在这一节中，我们将在深入Twitter情感分析之前，先看一下Snscrape的简要概述，以了解它的结构/理念。首先，我们将使用以下命令安装这个库:</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="23fe" class="op mo iq ol b be oq or l os ot">!pip install snscrape</span></pre><p id="40a5" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，让我们从#WorldCup2022中检索锦标赛第一天发送的1000条推文，然后将这些数据转换为Pandas DataFrame。注意，你可以用<a class="ae kv" href="https://github.com/TirendazAcademy/NLP-with-Transformers/blob/main/Twitter%20Sentiment%20Analysis%20with%2030k%20Tweets.ipynb" rel="noopener ugc nofollow" target="_blank"> <em class="nk">这个本子</em> </a> <em class="nk"> </em>跟着这个分析。</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="c3bf" class="op mo iq ol b be oq or l os ot"># Importing necessary libraries<br/>import snscrape.modules.twitter as sntwitter<br/>import pandas as pd<br/><br/># Creating a list to append all tweet attributes(data)<br/>tweets = []<br/><br/># Creating query<br/>query = '#WorldCup2022 lang:en since:2022-11-20 until:2022-11-21'<br/>q = sntwitter.TwitterSearchScraper(query)<br/><br/># Using TwitterSearchScraper to scrape data and append tweets to list<br/>for i, tweet in enumerate(q.get_items()):<br/>    if i&gt;1000:<br/>        break<br/>    tweets.append([tweet.user.username, tweet.date, tweet.likeCount, tweet.sourceLabel, tweet.content])<br/><br/># Converting data to dataframe<br/>tweets_df = pd.DataFrame(tweets, columns=["User", "Date Created", "Number of Likes", "Source of Tweet", "Tweet"])<br/>tweets_df.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ou"><img src="../Images/99c555d64976cbd789bfe381229eee52.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yFlCozB5aEs3HDdVQznf9g.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">#WorldCup2022标签中的一些推文</figcaption></figure><p id="e5ff" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">瞧啊。我们使用Snscrape只需要几个参数就可以轻松地从Twitter上抓取推文。Snscrape tweet对象有很多参数。您可以在下图中看到这些参数。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ov"><img src="../Images/f874eac46a041db1e1ad3ed89c9cb0f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PCLvcZ_IyQdG4Rm-t2USZg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://betterprogramming.pub/how-to-scrape-tweets-with-snscrape-90124ed006af" rel="noopener ugc nofollow" target="_blank">图像来源</a></figcaption></figure><p id="91f6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">是时候进行一次Twitter情绪分析了，看看足球爱好者对2022年世界杯的看法。</p></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><h1 id="1300" class="mn mo iq bd mp mq mr ms mt mu mv mw mx jw my jx mz jz na ka nb kc nc kd nd ne bi translated">带有拥抱脸的Twitter情感分析</h1><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ow"><img src="../Images/4cd53becde05937ebd62e355078b1957.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zqv-Wj4eCDieuLrIDimthg.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://twitter.com/alimo_philip/status/1599141528206655488/photo/1" rel="noopener ugc nofollow" target="_blank">图像来源</a></figcaption></figure><p id="2e74" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">到目前为止，我们已经介绍了什么是情感分析和社交媒体抓取，以及如何从Twitter收集推文。在本节中，我们将带您了解如何进行Twitter情绪分析。在向您展示这个分析之前，让我解释几个您需要知道的NLP概念。</p><h2 id="6533" class="nr mo iq bd mp ns nt dn mt nu nv dp mx lf nw nx mz lj ny nz nb ln oa ob nd oc bi translated">迁移学习</h2><p id="45af" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">要进行情感分析，您可以从头开始构建一个模型。在分析大数据时，这种方法需要花费大量的时间和金钱。在处理大数据时，我建议使用迁移学习技术。<em class="nk">迁移学习</em>是一种机器学习方法，其中在一项任务上训练的模型被重新用于另一项相关任务。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ox"><img src="../Images/b9f6693177defb52c4b9c838c372288c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1CxVzTNILTHgDs5yJO4W9A.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://pin.it/4DkaUbn" rel="noopener ugc nofollow" target="_blank">从零开始培训vs迁移学习</a></figcaption></figure><p id="719a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然迁移学习已经成为计算机视觉中的标准方法，但这种方法多年来都不适合NLP，因为它需要大量的标记数据。2017年以后，随着基于transformers的BERT、GPT3等模型的发展，迁移学习技术也被用于NLP。然而，在使用这些模型时出现了一些问题，例如:</p><ul class=""><li id="f16e" class="ls lt iq ky b kz la lc ld lf lu lj lv ln lw lr lx ly lz ma bi translated">在对模型架构进行编码时，使用不同的框架，如PyTorch或TensorFlow。</li><li id="8391" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">从服务器加载预先训练的模型。</li><li id="5e9f" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated">微调预训练模型。</li></ul><p id="a94d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了无痛苦地解决这些问题，拥抱脸框架被开发出来。</p><h2 id="7387" class="nr mo iq bd mp ns nt dn mt nu nv dp mx lf nw nx mz lj ny nz nb ln oa ob nd oc bi translated">什么是抱脸？</h2><p id="6ee5" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated"><a class="ae kv" href="https://huggingface.co/" rel="noopener ugc nofollow" target="_blank"> <em class="nk">抱脸</em> </a> <em class="nk"> </em>是一个数据科学平台和大型开源社区，提供帮助用户构建、训练和部署机器学习模型的工具。它为各种变压器型号提供了标准化接口，使它们适应新的使用任务。你也可以使用这个框架与三个主要的深度学习库(PyTorch、TensorFlow和JAX)合作。</p><h2 id="f029" class="nr mo iq bd mp ns nt dn mt nu nv dp mx lf nw nx mz lj ny nz nb ln oa ob nd oc bi translated">什么是拥抱脸枢纽？</h2><p id="1230" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated"><a class="ae kv" href="https://huggingface.co/docs/hub/index" rel="noopener ugc nofollow" target="_blank"> <em class="nk">抱紧脸中枢</em> </a>是一个开源平台，人们可以在这里轻松协作，创建机器学习模型。例如，你可以在这个中心找到超过762个公开可用的<a class="ae kv" href="https://huggingface.co/models?pipeline_tag=text-classification&amp;sort=downloads&amp;search=sentiment" rel="noopener ugc nofollow" target="_blank">情感分析模型</a>。</p><p id="cc33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将在此分析中使用的模型是<code class="fe oy oz pa ol b"><a class="ae kv" href="https://huggingface.co/cardiffnlp/twitter-roberta-base-sentiment-latest" rel="noopener ugc nofollow" target="_blank">cardiffnl/twitter-roberta-base-sentiment-latest</a></code>模型，它是基于roBERTa的。该模型在2018年1月至2021年12月的约1.24亿条推文中进行了训练。加载该模型最简单的方法是使用管道。管道自动加载您想要的模型及其预处理类。让我们用管道方法加载我们的模型:</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="b469" class="op mo iq ol b be oq or l os ot"># Installing transformers library<br/># !pip install transformers<br/><br/>from transformers import pipeline<br/>sentiment_analysis = pipeline(model="cardiffnlp/twitter-roberta-base-sentiment-latest")</span></pre><p id="2054" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">厉害！我们的模型已经可以进行预测了。如果您愿意，也可以使用<a class="ae kv" href="https://huggingface.co/models?pipeline_tag=text-classification&amp;sort=downloads&amp;search=sentiment" rel="noopener ugc nofollow" target="_blank">不同型号</a>进行此分析。</p><h2 id="4b55" class="nr mo iq bd mp ns nt dn mt nu nv dp mx lf nw nx mz lj ny nz nb ln oa ob nd oc bi translated">运行Twitter情绪分析</h2><p id="65ed" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">让我们把迄今为止我们所谈论的放在一起，进行一次推特情感分析。为此，我们首先在#WorldCup2022标签中抓取锦标赛第一天的推文，然后用for循环查找每条推文中的情绪。</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="9a3a" class="op mo iq ol b be oq or l os ot"><br/># Creating a list to append all tweet attributes(data)<br/>tweet_sa = []<br/><br/># Creating query<br/>query = '#WorldCup2022 lang:en since:2022-11-20 until:2022-11-21'<br/>q = sntwitter.TwitterSearchScraper(query)<br/><br/># Preprocess text (username and link placeholders)<br/>def preprocess(text):<br/>    new_text = []<br/>    for t in text.split(" "):<br/>        t = '@user' if t.startswith('@') and len(t) &gt; 1 else t<br/>        t = 'http' if t.startswith('http') else t<br/>        new_text.append(t)<br/>    return " ".join(new_text)<br/><br/># Predicting the sentiments of tweets<br/>for i, tweet in enumerate(q.get_items()):<br/>    if i&gt;30000:<br/>        break<br/>    content = tweet.content<br/>    content = preprocess(content)<br/>    sentiment = sentiment_analysis(content)<br/>    tweet_sa.append({"Date Created": tweet.date, "Number of Likes": tweet.likeCount, <br/>                     "Source of Tweet": tweet.sourceLabel, "Tweet": tweet.content, 'Sentiment': sentiment[0]['label']})</span></pre><p id="d1bc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在有了推特上的观点。为了了解足球爱好者对2022年FIFA世界杯的看法，让我们首先将结果转换成一个数据帧，然后看看这个数据帧的前五行。</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="dd21" class="op mo iq ol b be oq or l os ot">import pandas as pd<br/>pd.set_option('max_colwidth', None)<br/><br/># Converting data to dataframe<br/>df = pd.DataFrame(tweet_sa)<br/>df.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pb"><img src="../Images/b9302455583a42eff714250c96fd66cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jp8l3WQ-LkkDSYIkXoMlmA.png"/></div></div></figure><p id="d718" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如你所见，我们有一个Twitter数据集，其中包含一些信息，如日期、喜欢、推文来源、推文和观点。你可以在这里找到这个数据集<a class="ae kv" href="https://www.kaggle.com/datasets/tirendazacademy/fifa-world-cup-2022-tweets" rel="noopener ugc nofollow" target="_blank">。让我们用一个饼图来直观地展示所有这些标签。</a></p><h1 id="41e6" class="mn mo iq bd mp mq nm ms mt mu nn mw mx jw no jx mz jz np ka nb kc nq kd nd ne bi translated">数据可视化</h1><p id="eab1" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">在预测了标签之后，查看这些标签的分布是一个好主意。首先，让我们根据情绪栏对数据进行分组，并查看情绪:</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="15e7" class="op mo iq ol b be oq or l os ot">import matplotlib.pyplot as plt<br/><br/># Let's count the number of tweets by sentiments<br/>sentiment_counts = df.groupby(['Sentiment']).size()<br/>print(sentiment_counts)</span></pre><pre class="pc ok ol om bn on oo bi"><span id="50f8" class="op mo iq ol b be oq or l os ot"># Output:<br/>Sentiment<br/>negative    5784<br/>neutral     8251<br/>positive    8489<br/>dtype: int64</span></pre><p id="09fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">接下来，我们根据这几组来画一个饼状图。</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="19fc" class="op mo iq ol b be oq or l os ot"># Drawing a pie plot<br/>fig = plt.figure(figsize=(6,6), dpi=100)<br/>ax = plt.subplot(111)<br/>sentiment_counts.plot.pie(ax=ax, autopct='%1.1f%%', startangle=270, fontsize=12, label="")</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oj"><img src="../Images/0d61cc5f832c52feb889cbd5c50759f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UrcBI2eYZ9W0kKb-9Fw34w.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">标签的分布(图片由作者提供)</figcaption></figure><p id="8a9d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">正如你所看到的，正面和中性推文的百分比彼此接近。负面推文比例最低。事实证明，足球迷对2022年国际足联世界杯的看法更加积极。</p><h1 id="5cf5" class="mn mo iq bd mp mq nm ms mt mu nn mw mx jw no jx mz jz np ka nb kc nq kd nd ne bi translated">生成单词云</h1><p id="2c50" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">现在，让我们创建一个单词云，并使用<a class="ae kv" href="https://amueller.github.io/word_cloud/index.html" rel="noopener ugc nofollow" target="_blank"> worldcloud </a>库来查看每个情绪中有哪些单词脱颖而出。首先，我们来看看正面推文的词云。</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="8d62" class="op mo iq ol b be oq or l os ot">from wordcloud import WordCloud<br/>from wordcloud import STOPWORDS<br/><br/># Wordcloud with positive tweets<br/>positive_tweets = df['Tweet'][df["Sentiment"] == 'positive']<br/>stop_words = ["https", "co", "RT", "WorldCup2022"] + list(STOPWORDS)<br/>positive_wordcloud = WordCloud(width=800, height=400, background_color="black", stopwords = stop_words).generate(str(positive_tweets))<br/>plt.figure(figsize=[20,10])<br/>plt.title("Positive Tweets - Wordcloud")<br/>plt.imshow(positive_wordcloud, interpolation="bilinear")<br/>plt.axis("off")<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/813708851738f0db5b1f28b21636300c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bT5fGY8L8WJUuAgC2HS6GA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">与正面推文相关的词</figcaption></figure><p id="8f3b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一些与正面推文相关的词包含FIFA、加拿大、黑人、巴西、start等。接下来，我们来看看负面推文的词云。</p><pre class="kg kh ki kj gt ok ol om bn on oo bi"><span id="e665" class="op mo iq ol b be oq or l os ot"># Wordcloud with negative tweets<br/>negative_tweets = df['tweet'][df["sentiment"] == 'negative']<br/>stop_words = ["https", "co", "RT", "WorldCup2022"] + list(STOPWORDS)<br/>negative_wordcloud = WordCloud(width=800, height=400, background_color="black", stopwords = stop_words).generate(str(negative_tweets))<br/>plt.figure(figsize=[20,10])<br/>plt.title("Negative Tweets - Wordcloud")<br/>plt.imshow(negative_wordcloud, interpolation="bilinear")<br/>plt.axis("off")<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi pd"><img src="../Images/caa9fea3e01332419bc0b117f4802f4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EVfPV62vJPdiZt2cfjXNlw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">与负面推文相关的词</figcaption></figure><p id="39e7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">与负面推文相关的一些词:是权利、卡塔尔、BBC、开场、人类、仪式等。</p><h1 id="16ad" class="mn mo iq bd mp mq nm ms mt mu nn mw mx jw no jx mz jz np ka nb kc nq kd nd ne bi translated">最后的想法</h1><p id="5f95" class="pw-post-body-paragraph kw kx iq ky b kz nf jr lb lc ng ju le lf nh lh li lj ni ll lm ln nj lp lq lr ij bi translated">社交媒体是人们自由分享想法的平台。Twitter是使用最多的社交媒体平台之一。这个平台上的数据对公司来说是金子。公司可以利用这些数据做出更准确的决策。</p><p id="43c8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在这篇博文中，我首先向您展示了如何使用Snscrape从Twitter中抓取数据。接下来，我解释了如何在拥抱脸中使用预先训练的模型进行情感分析。我们探索了足球迷对2022年世界杯的想法。我们建立的模型预测了更多积极的标签。事实证明，足球迷对2022年国际足联世界杯的看法更加积极。</p><p id="6921" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">就是这样。感谢阅读。我希望你喜欢它。你可以在这里找到我在这个博客上用过的笔记本。别忘了在<a class="ae kv" href="https://youtube.com/tirendazacademy" rel="noopener ugc nofollow" target="_blank">YouTube</a>|<a class="ae kv" href="https://twitter.com/TirendazAcademy" rel="noopener ugc nofollow" target="_blank">Twitter</a>|<a class="ae kv" href="https://www.instagram.com/tirendazacademy" rel="noopener ugc nofollow" target="_blank">insta gram</a>|<a class="ae kv" href="https://www.tiktok.com/@tirendazacademy" rel="noopener ugc nofollow" target="_blank">抖音</a>上关注我们👍</p><div class="pe pf gp gr pg ph"><a href="https://heartbeat.comet.ml/7-steps-to-become-a-machine-learning-engineer-698cba0bc43c" rel="noopener  ugc nofollow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd ir gy z fp pm fr fs pn fu fw ip bi translated">成为机器学习工程师的7个步骤</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">包含课程和书籍的综合指南</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">heartbeat.comet.ml</p></div></div><div class="pq l"><div class="pr l ps pt pu pq pv kp ph"/></div></div></a></div><div class="pe pf gp gr pg ph"><a href="https://medium.com/geekculture/6-steps-to-become-a-machine-learning-expert-5a1f155f7207" rel="noopener follow" target="_blank"><div class="pi ab fo"><div class="pj ab pk cl cj pl"><h2 class="bd ir gy z fp pm fr fs pn fu fw ip bi translated">成为机器学习专家的6个步骤</h2><div class="po l"><h3 class="bd b gy z fp pm fr fs pn fu fw dk translated">成为机器学习专家需要知道的一切。</h3></div><div class="pp l"><p class="bd b dl z fp pm fr fs pn fu fw dk translated">medium.com</p></div></div><div class="pq l"><div class="pw l ps pt pu pq pv kp ph"/></div></div></a></div><h1 id="e38b" class="mn mo iq bd mp mq nm ms mt mu nn mw mx jw no jx mz jz np ka nb kc nq kd nd ne bi translated">资源</h1><ul class=""><li id="8ce1" class="ls lt iq ky b kz nf lc ng lf px lj py ln pz lr lx ly lz ma bi translated"><a class="ae kv" href="https://huggingface.co/blog/sentiment-analysis-python" rel="noopener ugc nofollow" target="_blank">使用Python开始情感分析</a></li><li id="a886" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://heartbeat.comet.ml/twitter-sentiment-analysis-part-1-6063442c06f3" rel="noopener ugc nofollow" target="_blank">推特情绪分析</a></li><li id="e1ea" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://www.freecodecamp.org/news/python-web-scraping-tutorial/" rel="noopener ugc nofollow" target="_blank">用Python进行网页抓取</a></li><li id="53af" class="ls lt iq ky b kz mb lc mc lf md lj me ln mf lr lx ly lz ma bi translated"><a class="ae kv" href="https://www.amazon.com/Natural-Language-Processing-Transformers-Applications/dp/1098103246" rel="noopener ugc nofollow" target="_blank">用变形金刚进行自然语言处理</a></li></ul></div></div>    
</body>
</html>