<html>
<head>
<title>How to Perform Calculus in SQL?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用SQL进行微积分运算？</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/how-to-perform-calculus-in-sql-f2e63121bf4?source=collection_archive---------5-----------------------#2021-08-03">https://pub.towardsai.net/how-to-perform-calculus-in-sql-f2e63121bf4?source=collection_archive---------5-----------------------#2021-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="2732" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/mathematics" rel="noopener ugc nofollow" target="_blank">数学</a></h2><div class=""/><div class=""><h2 id="a008" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">“什么是数学？这只是一种解决自然难题的系统努力”</h2></div><p id="6b94" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在极少数情况下，你想求曲线下的面积，或者从数学上说，通过SQL对曲线求积分——我有一个解决方案！</p><h1 id="a70b" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated">问题:</h1><p id="87cd" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated"><em class="mk">根据汽车的速度和位移，在SQL中找出汽车行驶的距离。</em></p><h1 id="9ab5" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">背景知识</strong></h1><p id="f293" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated"><strong class="kt jd">数学</strong></p><p id="e63a" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">首先，让我们回顾一些高中数学:</p><p id="8518" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="mk">积分:求积分的过程。它是在图上寻找由函数限定的区域的过程。两类积分；定积分和不定积分。它也被认为是微积分中微分的反义词，是一个反导数(一个给定函数的导数)</em></p><p id="3604" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">现在，让我们回顾一下梯形面积的公式:</p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/d63ddeb2d7d0825c3aafe9a3396f6ce5.png" data-original-src="https://miro.medium.com/v2/resize:fit:660/format:webp/1*0TQazG3ILo66XIJRmHt2Ng.png"/></div></figure><p id="9f27" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">接下来让我们回顾一下梯形法则:</p><p id="07ab" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="mk">通过将曲线分割成更小的梯形并计算曲线中所有梯形的总和来计算曲线下面积的近似方法。</em></p><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/8876cdb06c5f875534d3c2b8b4535d9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/1*eXaLFrDT-mGC9wi9JRSSHw.gif"/></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">来源:<a class="ae my" href="https://www.google.com/url?sa=i&amp;url=https%3A%2F%2Frevisionmaths.com%2Fadvanced-level-maths-revision%2Fpure-maths%2Fcalculus%2Ftrapezium-rule&amp;psig=AOvVaw1eYKQgQFhVJ4fP0NEk-7bu&amp;ust=1628095113482000&amp;source=images&amp;cd=vfe&amp;ved=0CAsQjRxqFwoTCJD8pYyllfICFQAAAAAdAAAAABAD" rel="noopener ugc nofollow" target="_blank">谷歌图片</a></figcaption></figure><p id="887e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="mk">分割成梯形的曲线示例</em></p><p id="7db9" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将在数据中应用这一理论。</p><p id="2e5e" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><a class="ae my" href="https://www.w3schools.com/sql/" rel="noopener ugc nofollow" target="_blank"> <strong class="kt jd"> SQL </strong> </a></p><p id="7c9f" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将在SQL中使用<code class="fe mz na nb nc b"><a class="ae my" href="https://www.sqltutorial.org/sql-window-functions/sql-lead/" rel="noopener ugc nofollow" target="_blank">LEAD</a></code>操作符。<code class="fe mz na nb nc b">LEAD</code>操作符从下一行获取值。</p><h1 id="ebe7" class="ln lo it bd lp lq lr ls lt lu lv lw lx ki ly kj lz kl ma km mb ko mc kp md me bi translated"><strong class="ak">解决方案</strong></h1><p id="be43" class="pw-post-body-paragraph kr ks it kt b ku mf kd kw kx mg kg kz la mh lc ld le mi lg lh li mj lk ll lm im bi translated">最后，让我们应用我们现在所学的知识，找出车辆在不同速度下行驶的距离，以及由汽车中的ECU记录的时间戳。</p><pre class="mm mn mo mp gt nd nc ne nf aw ng bi"><span id="dd64" class="nh lo it nc b gy ni nj l nk nl">velocity_time as (SELECT speed,distance<br/>FROM vehicle_speedometer<br/>ORDER BY session_id, time)</span><span id="e8ad" class="nh lo it nc b gy nm nj l nk nl">displacement as (SELECT session_id,((LEAD(speed) + speed)/2)*(LEAD(time)-time)) as area_of_trapezium<br/>FROM vehicle_speedometer<br/>GROUP BY session_id)</span><span id="240b" class="nh lo it nc b gy nm nj l nk nl">SELECT session_id,SUM(area_of_trapezium) as total_displacement<br/>FROM displacement<br/>GROUP BY session_id</span></pre><figure class="mm mn mo mp gt mq gh gi paragraph-image"><div role="button" tabindex="0" class="no np di nq bf nr"><div class="gh gi nn"><img src="../Images/0170f7a8937b3df55809430f654560e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5EM0IsTDUbgqWTOtChMDTA.jpeg"/></div></div><figcaption class="mu mv gj gh gi mw mx bd b be z dk translated">我的梦想之车；)</figcaption></figure></div><div class="ab cl ns nt hx nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="im in io ip iq"><p id="5645" class="pw-post-body-paragraph kr ks it kt b ku kv kd kw kx ky kg kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最初，我是一名机械工程师，但一直对数学和人工智能充满热情，后来我在这两个领域都找到了理想的职业，成为一名数据科学家。我热衷于将这些学科的严谨性应用于复杂的分析问题。我热爱教学，我兼职辅导A-Level数学、物理和化学。我也是一个受自然启发的优化爱好者(查看我的 <a class="ae my" href="https://www.researchgate.net/publication/317803017_An_Experimental_Study_on_Competitive_Coevolution_of_MLP_Classifiers" rel="noopener ugc nofollow" target="_blank"> <em class="mk">发表的pape </em> </a> <em class="mk"> r)和一个板球和网球的超级粉丝。在</em><a class="ae my" href="https://www.linkedin.com/in/rahullalchandani-" rel="noopener ugc nofollow" target="_blank"><em class="mk">LinkedIn</em></a><em class="mk">上找我！</em></p></div></div>    
</body>
</html>