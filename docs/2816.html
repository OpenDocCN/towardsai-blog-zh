<html>
<head>
<title>From OLTP to Data Lakehouse</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从OLTP到数据湖库</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/from-oltp-to-data-lakehouse-449b725d8b6f?source=collection_archive---------0-----------------------#2022-06-04">https://pub.towardsai.net/from-oltp-to-data-lakehouse-449b725d8b6f?source=collection_archive---------0-----------------------#2022-06-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="175f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用几段话对数据生态系统进行简单概述</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/f5fdd6f509785c64b121a228cd232680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wIpe1ZjM5iio4Xb6yEaVHQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由Natan Dumlao在Unsplash上拍摄</figcaption></figure><p id="4c62" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">数据生态系统在过去几年中呈指数级增长，新兴技术和越来越多的供应商炒作为新来者铺平了道路。这篇文章是我的一个简单的尝试，用几个简短的段落解释从OLTP到Data Lakehouse的起源和路径。</p><p id="d238" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">耐心听我说，希望五分钟后，旅程会变得清晰。</p><p id="1fd6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">从上到下的方法，我们一般可以认为数据库有两大类:<strong class="ky ir"> SQL </strong>和<strong class="ky ir"> NoSQL </strong>。简单地说，前者是关系数据库，而后者是非关系数据库。前者是基于<strong class="ky ir">表格的</strong>，而后者可以有<strong class="ky ir">多个存储选项</strong>(键、文档、图形和宽列)。前者在很大程度上依赖于<strong class="ky ir">多行事务</strong>的概念(您可以将事务视为一组任务，要么整体成功，要么整体失败)，后者更适合于<strong class="ky ir">非结构化数据</strong>(尽管最近，这一界限变得越来越模糊)。</p><p id="ba44" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">关系数据库管理系统(<strong class="ky ir"> RDBMS </strong>)实现了<strong class="ky ir"> ACID </strong>合规性，其中包括管理基于<strong class="ky ir"> SQL的</strong>数据库的<strong class="ky ir">事务</strong>。<strong class="ky ir"> NoSQL </strong>数据库反过来遵守<strong class="ky ir">基地</strong>合规(<a class="ae kv" rel="noopener ugc nofollow" target="_blank" href="/exploring-the-nosql-family-49e9f23313ad"> <em class="ls">我就这个话题写了一篇长文</em> </a>)。</p><p id="004e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数后端系统依赖于在线事务处理(<strong class="ky ir"> OLTP </strong>)，处理多个<strong class="ky ir">事务</strong>，记录读取、写入、更新和删除(<strong class="ky ir"> CRUD </strong>操作)，通常情况下，<strong class="ky ir">不会保存历史数据</strong>。然而，对于数据团队来说，每一项更改都很重要，因此，我们需要能够处理大量记录的系统，这些记录保存了运营数据库中发生的每一项与业务相关的更改！但是现在需要高效地存储和查询这些大量的数据。为此，<strong class="ky ir"> RDBMS </strong>已经被<strong class="ky ir">扩展</strong>以支持对<strong class="ky ir">大量历史数据</strong>的复杂查询，这些数据是从OLTP数据库和其他来源汇总的，从而导致在线分析处理(<strong class="ky ir"> OLAP </strong>)。通常，这些庞大的数据是以数据仓库的形式存储的，这种数据结构是为分析而优化的，通常达到Pb级。</p><p id="caa0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">虽然<strong class="ky ir"> OLAP </strong>适用于多种情况，像所有RDBMS一样，但是它们是<strong class="ky ir">垂直</strong>可伸缩的(注意:分布式SQL确实解决了这一点，但是，目前它的受欢迎程度很低)。<strong class="ky ir"> NoSQL </strong>反过来又是<strong class="ky ir">横向</strong>可扩展的意思，<strong class="ky ir">随着数据的增长降低数据存储成本，</strong>这是一个非常令人向往但长期以来无法实现的特性，自从NoSQL缺少ACID compliance以来，这一特性非常有用。如果我们能够<strong class="ky ir">将</strong><strong class="ky ir">RDBMS ACID compliance</strong>、<strong class="ky ir"> OLAP的</strong>、<strong class="ky ir">海量历史数据分析</strong>能力与<strong class="ky ir">no SQL</strong>、<strong class="ky ir">水平可伸缩性</strong>结合起来，会怎么样？这就是<strong class="ky ir">数据仓库</strong>的亮点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi lt"><img src="../Images/3c7d1890b00aea57197a628b55c2ff08.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ApuUYAXmaTxYLMfX.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated"><a class="ae kv" href="https://databricks.com/blog/2020/01/30/what-is-a-data-lakehouse.html" rel="noopener ugc nofollow" target="_blank">数据仓库、数据湖和数据湖库，由Databricks提供图像</a></figcaption></figure><p id="4395" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">数据湖库</strong>利用<strong class="ky ir">数据湖</strong>的概念，数据湖是以低成本支持大量结构化和非结构化数据的文件系统；<strong class="ky ir">数据仓库</strong>；以及<strong class="ky ir">解耦处理</strong>。换句话说，<strong class="ky ir">数据湖库不像RDBMS那样需要</strong>你有一个<strong class="ky ir">服务器持续在线</strong>，并使用<strong class="ky ir">数据湖</strong>进行存储。为什么这很重要？</p><ul class=""><li id="1618" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated">如果您的数据不需要每秒都被访问，那么您可以<strong class="ky ir">节省让服务器持续在线的成本，</strong>以检索数据的延迟为代价</li><li id="8e6f" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">事实上，由于<strong class="ky ir">处理独立于存储</strong>，您实际上可以使用<strong class="ky ir">更强大的集群</strong>来处理您的数据，这些集群只在工作负载持续期间运行，并且您只需为此付费。也就是说，你可以花很少的钱买到更多的果汁。此外，您甚至可以配置每个工作负载的服务器特性，进一步优化您的成本</li><li id="e0b0" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated"><strong class="ky ir"> RDBMS </strong>增长<strong class="ky ir">昂贵</strong>依靠昂贵的耦合硬件。但是一个<strong class="ky ir">数据湖库</strong> <strong class="ky ir">依赖于文件</strong>，通过一些魔法，在其上有一个ACID合规层，以及一些其他漂亮的优化和特性(参见<a class="ae kv" href="https://delta.io/" rel="noopener ugc nofollow" target="_blank"> <em class="ls"> Delta.io </em> </a>)。众所周知，文件<strong class="ky ir">存储很便宜</strong>，<em class="ls">尤其是当您可以围绕文件使用频率优化成本时(不常用的文件访问层明显更便宜)</em></li><li id="5a54" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">利用上述优势，您可以直接在<strong class="ky ir"> Delta </strong>中<strong class="ky ir">构建</strong>您的<strong class="ky ir">数据仓库</strong></li><li id="0c2e" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated"><strong class="ky ir"> Delta </strong>包含一组<strong class="ky ir">非常强大的特性</strong>，极大地方便了数据工程师的工作:ACID事务、可伸缩元数据、时间旅行、统一批处理/流、模式演化&amp;实施、审计操作、DML操作等。所有这些，在一个开源项目中如此，<strong class="ky ir">没有厂商锁定</strong></li><li id="3228" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">您可以<strong class="ky ir">以多种格式和监管级别保存数据</strong>、<strong class="ky ir">服务于多种用例</strong>:从数据分析/BI到数据科学/ML</li></ul><p id="deb3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">没有缺点吗？像所有技术一样，没有一种技术是完美的，必须根据环境和要求选择技术。<strong class="ky ir">湖畔小屋</strong>没有什么不同，它们也有自己的一套<strong class="ky ir">缺点</strong>:</p><ul class=""><li id="b1ba" class="lu lv iq ky b kz la lc ld lf lw lj lx ln ly lr lz ma mb mc bi translated"><strong class="ky ir">技术</strong>是相当<strong class="ky ir">新的</strong> (Delta Lake 1.0在2021年5月通过了社区认证)意思是，一些特性可能会变异，一些非常需要的特性可能会暂时丢失</li><li id="00f4" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">该技术<strong class="ky ir">与传统的RDBMS</strong>非常不同，特别是在<strong class="ky ir">优化</strong>方面，因此风险更大，可能更难找到有经验的专业人员</li><li id="0ef4" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">它们很难优化，依赖于几种不同的技术，其中一些必须从项目开始就实现(Bloom Filters)</li><li id="ffe9" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">像所有新技术一样，<strong class="ky ir">文档、示例和最佳实践都很稀缺</strong></li><li id="7133" class="lu lv iq ky b kz md lc me lf mf lj mg ln mh lr lz ma mb mc bi translated">最后，考虑一下<strong class="ky ir">BI/报告层</strong>很重要，因为<strong class="ky ir">一些BI工具</strong>(例如Power BI)会对每个可视化进行<strong class="ky ir">查询，因此，复杂的仪表板，尤其是那些用户经常与之交互的仪表板，<strong class="ky ir">可能会导致高成本</strong></strong></li></ul><p id="75e2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我知道这篇文章是否有助于揭示生态系统——尽管是用简单的术语——或者如果你觉得有些东西不太准确！</p></div></div>    
</body>
</html>