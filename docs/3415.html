<html>
<head>
<title>Using NLP in Disaster Response</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自然语言处理在灾难应对中的应用</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/using-nlp-in-disaster-response-9a39b16fdd13?source=collection_archive---------4-----------------------#2022-12-17">https://pub.towardsai.net/using-nlp-in-disaster-response-9a39b16fdd13?source=collection_archive---------4-----------------------#2022-12-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e8fe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个项目中，我们将应用ETL、NLP和ML管道来分析来自<strong class="jp ir">图八</strong>的灾难数据，以构建一个对灾难消息进行分类的API模型。</p><p id="e726" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是数据科学和机器学习中最关键的问题之一。在一场灾难中，我们直接或通过社交媒体收到了数百万条信息。我们大概会看到1/1000的相关消息。在灾难应对中，会用到一些关键词，比如水、封锁的道路和医疗用品。我们有一个分类数据集，利用它我们可以训练一个ML模型，看看我们是否可以识别哪些消息与灾难响应相关。</p><p id="2991" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">主网页界面</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/8a672b174d0090e5a6911c42fbe8bf36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zXv4Crz8Zal0OaBf.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk translated">作者图片</figcaption></figure><p id="ecdc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在此项目中，数据科学项目的三个主要特征得到了利用:</p><ol class=""><li id="2d91" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk lg lh li lj bi translated"><strong class="jp ir">数据工程</strong> —在这一部分，我致力于如何提取、转换和加载数据。之后我准备了模型训练的数据。为了做好准备，我通过删除坏数据(<strong class="jp ir"> ETL管道</strong>)来清理数据，然后使用NLTK对数据进行标记化和符号化(<strong class="jp ir"> NLP管道</strong>)。最后使用自定义特性，如StartingVerbExtractor和StartingNounExtractor，向主数据集添加新的。</li><li id="6688" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated"><strong class="jp ir">模型训练</strong> —我使用XGBoost分类器为模型训练创建ML管道。</li><li id="7750" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated"><strong class="jp ir">模型部署</strong> —对于模型部署，我使用了flask API。</li></ol><p id="2c4b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个项目是在anaconda平台上使用jupyter notebook jupyter notebook完成的。如何安装anaconda的详细说明可以在<a class="ae lp" href="https://docs.conda.io/projects/conda/en/latest/user-guide/install/index.html" rel="noopener ugc nofollow" target="_blank">这里</a>找到。要创建一个虚拟环境，请看<a class="ae lp" href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html" rel="noopener ugc nofollow" target="_blank">这里</a></p><p id="2dbe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在虚拟环境中，克隆存储库:</p><pre class="km kn ko kp gt lq lr ls lt aw lu bi"><span id="a017" class="lv lw iq lr b gy lx ly l lz ma">git clone <a class="ae lp" href="https://github.com/abhishek-jana/Disaster-Response-Pipelines.git" rel="noopener ugc nofollow" target="_blank">https://github.com/abhishek-jana/Disaster-Response-Pipelines.git</a></span></pre><p id="1876" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">用于本项目的Python包有:</p><pre class="km kn ko kp gt lq lr ls lt aw lu bi"><span id="ad7e" class="lv lw iq lr b gy lx ly l lz ma">Numpy <br/>Pandas <br/>Scikit-learn <br/>NLTK <br/>re <br/>sqlalchemy <br/>pickle <br/>Flask <br/>Plotly</span></pre><ol class=""><li id="aef4" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk lg lh li lj bi translated">在项目的根目录中运行以下命令来设置您的数据库和模型。</li></ol><ul class=""><li id="6aa6" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk mb lh li lj bi translated">运行ETL管道来清理数据并将其存储在数据库中<code class="fe mc md me lr b">python data/process_data.py data/disaster_messages.csv data/disaster_categories.csv data/DisasterResponse.db</code></li><li id="bcb4" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk mb lh li lj bi translated">运行训练分类器并保存的ML管道<code class="fe mc md me lr b">python models/train_classifier.py data/DisasterResponse.db models/classifier.pkl</code></li></ul><p id="c888" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">2.在应用程序的目录中运行以下命令来运行您的web应用程序。<code class="fe mc md me lr b">python run.py</code></p><p id="8396" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该项目的结构如下:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/45a3d50f7bbafecafd2050f355bdb8fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:670/format:webp/0*N-Ich3BkLNnDIosR.png"/></div></figure><p id="f8d5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">数据</strong>文件夹包含数据“disaster_categories.csv”和“disaster_messages.csv”以提取消息和类别。“DisasterResponse.db”是保存在SQLite数据库中的数据集的清理版本。“ETL Pipeline Preparation.ipynb”是解释数据准备方法的jupyter笔记本。“process_data.py”是笔记本的python脚本。</p><p id="e012" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“ML Pipeline Preparation.ipynb”是解释模型训练方法的jupyter笔记本。相关的python文件“<strong class="jp ir"> train_classifier.py </strong>”可以在“<strong class="jp ir">models”</strong>文件夹下找到。最终训练好的模型保存为“<strong class="jp ir">models”</strong>文件夹中的“classifier.pkl”。</p><p id="3d30" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> app </strong>文件夹包含“run.py”脚本，用于在web上呈现可视化和结果。<strong class="jp ir">模板</strong>文件夹包含了。web界面的html文件。</p><p id="53c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">准确度、精确度和召回率为:</p><p id="69a2" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">精度</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/6fceb54bf8dc83bb35e8ed624dc8f269.png" data-original-src="https://miro.medium.com/v2/resize:fit:568/format:webp/0*pPWcdZiH981bd2hr.png"/></div></figure><p id="90a1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">精度和召回</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/0f8239fa426703176a0928fc4686109b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/0*UCxrQphPx9WqEXci.png"/></div></figure><p id="0d26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">也给出了对消息的一些预测:</p><p id="bb48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">消息1 </strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mi"><img src="../Images/1e3350ca107b13c0e54d1752b50958dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1TbLOEesgfccQQqu.png"/></div></div></figure><p id="f2eb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">消息2 </strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mj"><img src="../Images/31372ce0268bb84a833f1e6e4963160a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*DS_mAo4FNM6hF2VY.png"/></div></div></figure><p id="2d8c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">消息三</strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi mk"><img src="../Images/422073123cb6eb9c08eb52be62edf425.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ChjGJf8COSV9caxf.png"/></div></div></figure><p id="981e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">未来，我计划在项目的以下领域开展工作:</p><ol class=""><li id="df41" class="lb lc iq jp b jq jr ju jv jy ld kc le kg lf kk lg lh li lj bi translated">测试不同的估计值，并在数据中添加新的特征，以提高模型的准确性。</li><li id="aee2" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">添加更多的可视化来理解数据。</li><li id="4726" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">改进网页界面。</li><li id="2740" class="lb lc iq jp b jq lk ju ll jy lm kc ln kg lo kk lg lh li lj bi translated">根据ML算法将文本分类到的类别，建议一些组织进行连接。</li></ol><p id="fbc4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">5.该数据集是不平衡的(例如，像水这样的一些标签几乎没有实例)。在自述文件中，讨论这种不平衡如何影响模型的训练，以及您对强调各种类别的精确度或召回率的看法。</p><p id="f99e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该项目的GitHub链接可以在这里找到<a class="ae lp" href="https://github.com/abhishek-jana/Disaster-Response-Pipelines/tree/main" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="715a" class="ml lw iq bd mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf ng nh bi translated">承认</h1><p id="0299" class="pw-post-body-paragraph jn jo iq jp b jq ni js jt ju nj jw jx jy nk ka kb kc nl ke kf kg nm ki kj kk ij bi translated">我感谢Udacity数据科学纳米学位项目和figure figure figure在这个项目中激励了我。</p><p id="4b4f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我也感谢figure eight将数据公之于众。</p></div></div>    
</body>
</html>