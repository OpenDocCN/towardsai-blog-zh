<html>
<head>
<title>Features in Image [Part -1]</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">图像中的特征[第一部分]</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/features-in-image-part-1-521eaec6b65a?source=collection_archive---------2-----------------------#2020-02-22">https://pub.towardsai.net/features-in-image-part-1-521eaec6b65a?source=collection_archive---------2-----------------------#2020-02-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="31b8" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Monk，低代码深度学习工具和计算机视觉的统一包装器，使计算机视觉变得简单。</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/433b6cd824804f3ab21164c930c08e06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*cJTAwYKrKkIKoysADDmRLg.png"/></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="8938" class="ku kv iq bd kw kx ky kz la lb lc ld le jw lf jx lg jz lh ka li kc lj kd lk ll bi translated">目录</h1><ol class=""><li id="94fa" class="lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz ma mb mc md bi translated"><strong class="lo ir">图像特征</strong></li><li id="63f2" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz ma mb mc md bi translated"><strong class="lo ir">以边角为特征</strong></li><li id="c6f1" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz ma mb mc md bi translated"><strong class="lo ir">使用OpenCV和PIL进行特征提取和可视化</strong></li><li id="5b61" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz ma mb mc md bi translated"><strong class="lo ir">特征匹配</strong></li><li id="d366" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz ma mb mc md bi translated"><strong class="lo ir">图像拼接</strong></li></ol></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="12aa" class="ku kv iq bd kw kx ky kz la lb lc ld le jw lf jx lg jz lh ka li kc lj kd lk ll bi translated"><strong class="ak">图像特征</strong></h1><blockquote class="mj"><p id="162d" class="mk ml iq bd mm mn mo mp mq mr ms lz dk translated">什么是图像特征？</p></blockquote><blockquote class="mt mu mv"><p id="f5d5" class="mw mx my lo b lp mz jr na lr nb ju nc nd ne nf ng nh ni nj nk nl nm nn no lz ij bi translated">特征</p></blockquote><ul class=""><li id="3af2" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">描述一幅图像</li><li id="f56c" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">指出图像中的相关信息。</li><li id="e92b" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">将一组图像与其他图像区分开来。</li></ul><blockquote class="mt mu mv"><p id="f9d3" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">类型</p></blockquote><ul class=""><li id="aaeb" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">全局:作为一个整体的图像。</li><li id="d07e" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">局部:用于图像内部的区域。</li></ul><blockquote class="mt mu mv"><p id="b6ba" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">形式定义</p></blockquote><p id="e2ae" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">在计算机视觉和图像处理中，特征是与解决与特定应用相关的计算任务相关的一条信息。</p><ul class=""><li id="cd9d" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">所有的机器学习和深度学习算法都依赖于特征。</li></ul><blockquote class="mj"><p id="9d45" class="mk ml iq bd mm mn ny nz oa ob oc lz dk translated">什么可以成为特色？</p></blockquote><ul class=""><li id="8dc3" class="lm ln iq lo b lp mz lr nb lt od lv oe lx of lz nu mb mc md bi translated">单独的像素强度不能成为特征。</li></ul><blockquote class="mt mu mv"><p id="cda9" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">特征</p></blockquote><ul class=""><li id="8fb0" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">全局强度测量-平均值、直方图、调色板等。</li><li id="5988" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">边缘和脊-梯度和轮廓。</li><li id="ab01" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">兴趣点-角落，独特的曲率。</li><li id="aab2" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">斑点和纹理</li><li id="fc78" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">过滤器的特征</li></ul><p id="f4c5" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">例子</p><ol class=""><li id="68b5" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz ma mb mc md bi translated">强度</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi og"><img src="../Images/ae932cb730ef7b3659729dadaad15e4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZXbpSSjCoNNxcbEcgxUjbQ.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">作为特征分组的强度</figcaption></figure><p id="81d5" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">2.优势</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi op"><img src="../Images/5b66f6718d50c5b06f2e5f839ba641d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VYqomRsv0ruL8M5UVu4Hcg.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">边缘作为特征</figcaption></figure><p id="8c3e" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">3.关键点</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi og"><img src="../Images/4eeb48ad02c6f41e4420c54fd6a3fade.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BrNIQTqZg8gC9QjX4MC3qg.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">关键点作为特征</figcaption></figure><blockquote class="mj"><p id="3c7e" class="mk ml iq bd mm mn ny nz oa ob oc lz dk translated">什么是好的特性？</p></blockquote><ul class=""><li id="fee6" class="lm ln iq lo b lp mz lr nb lt od lv oe lx of lz nu mb mc md bi translated">如果特性没有受到外部因素的太大影响，则被认为是好的。</li></ul><blockquote class="mt mu mv"><p id="60ae" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">特征不变性</p></blockquote><ul class=""><li id="5d26" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">规模</li><li id="17cf" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">旋转</li><li id="7f62" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">翻译</li><li id="1b15" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">远景</li><li id="fd58" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">姻亲</li><li id="6853" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">颜色</li><li id="8114" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">照明</li></ul></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><h1 id="b362" class="ku kv iq bd kw kx ky kz la lb lc ld le jw lf jx lg jz lh ka li kc lj kd lk ll bi translated"><strong class="ak">角点作为特征</strong></h1><ul class=""><li id="0625" class="lm ln iq lo b lp lq lr ls lt lu lv lw lx ly lz nu mb mc md bi translated">角-定义为两条边的交点。</li><li id="b378" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">关键点——图像中具有明确定义的位置并且可以被鲁棒地检测到的点。</li></ul><blockquote class="mt mu mv"><p id="76df" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">用于</p></blockquote><ul class=""><li id="c86a" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">运动检测和视频跟踪。</li><li id="3e9c" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">图像注册。</li><li id="8a51" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">图像拼接和全景拼接。</li><li id="9535" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">三维建模和物体识别。</li></ul><p id="952f" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">例子</p><ol class=""><li id="3718" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz ma mb mc md bi translated">关键点</li></ol><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi oq"><img src="../Images/0180bc03d97f46c97316119b3e7cbd06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t-UzAiY4O-Z-zNVLSbtvdw.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">关键点检测</figcaption></figure><p id="2997" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">2.困境</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi or"><img src="../Images/0fe764071dd27184570745ab62021dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ocovt8x7sNUhyMP4SozUtg.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">角点检测</figcaption></figure><blockquote class="mj"><p id="9b85" class="mk ml iq bd mm mn ny nz oa ob oc lz dk translated">哈里斯角点检测</p></blockquote><blockquote class="mt mu mv"><p id="9e34" class="mw mx my lo b lp mz jr na lr nb ju nc nd ne nf ng nh ni nj nk nl nm nn no lz ij bi translated">Harris角点检测算法可以分为五个步骤。</p></blockquote><ul class=""><li id="1b43" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">彩色到灰度。</li><li id="1407" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">空间导数计算。</li><li id="7db8" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">结构张量设置。</li><li id="4256" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">哈里斯反应计算。</li><li id="0536" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">非最大抑制。</li></ul><blockquote class="mt mu mv"><p id="e4b5" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">利用OpenCV进行Harris角点检测</p></blockquote><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="53fd" class="ox kv iq ot b gy oy oz l pa pb">'''<br/>Harris Corners using OpenCV<br/>'''</span><span id="0f56" class="ox kv iq ot b gy pc oz l pa pb">%matplotlib inline<br/>import numpy as np<br/>import cv2<br/>from matplotlib import pyplot as plt</span><span id="8b07" class="ox kv iq ot b gy pc oz l pa pb">img = cv2.imread("imgs/chapter9/chess_slant.jpg", 1)<br/>#img = cv2.resize(img, (96, 96))<br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)<br/>gray = np.float32(gray)</span><span id="e1a8" class="ox kv iq ot b gy pc oz l pa pb">################################FOCUS###############################<br/>dst = cv2.cornerHarris(gray,2,3,0.04)</span><span id="f644" class="ox kv iq ot b gy pc oz l pa pb">####################################################################</span><span id="49d7" class="ox kv iq ot b gy pc oz l pa pb"># Self-study: Parameters</span><span id="3f5c" class="ox kv iq ot b gy pc oz l pa pb">plt.figure(figsize=(8, 8))<br/>plt.imshow(dst, cmap="gray")<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pd"><img src="../Images/329244912799a91236a249c9416ac9d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bw3fQKrhkC5fxJ9CDeQUJQ.png"/></div></div></figure><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="81f7" class="ox kv iq ot b gy oy oz l pa pb">'''<br/>result is dilated for marking the corners<br/>'''</span><span id="7880" class="ox kv iq ot b gy pc oz l pa pb">dst = cv2.dilate(dst,None)<br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(dst, cmap="gray")<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pe"><img src="../Images/1522cc8b7556c8c14eaa6e3e5f3afc51.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E-15KXIVYvQm2VlPy1jRCw.png"/></div></div></figure><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="495b" class="ox kv iq ot b gy oy oz l pa pb">'''<br/>1. Threshold for an optimal value, it may vary depending on the image.<br/>2. We first calculate what is the maximum and minimum value of pixel in this image<br/>'''<br/>max_val = np.uint8(dst).max()<br/>min_val = np.uint8(dst).min()<br/>print("max_val = {}".format(max_val))<br/>print("min_val = {}".format(min_val))</span></pre><p id="17c5" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">输出</p><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="86b2" class="ox kv iq ot b gy oy oz l pa pb">max_val = 255<br/>min_val = 0</span><span id="1d06" class="ox kv iq ot b gy pc oz l pa pb">img = cv2.imread("imgs/chapter9/chess_slant.jpg", 1)<br/>img[dst&gt;0.1*dst.max()]=[0,0,255]<br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pf"><img src="../Images/fc55f3e7007e606e49dd8ca31df3785a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7cQQJbxt19s4tz03UBG3ZQ.png"/></div></div></figure><blockquote class="mt mu mv"><p id="2c7f" class="mw mx my lo b lp np jr na lr nq ju nc nd nv nf ng nh nw nj nk nl nx nn no lz ij bi translated">使用OpenCV harris corner查找角点坐标</p></blockquote><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="4acb" class="ox kv iq ot b gy oy oz l pa pb">%matplotlib inline<br/>import numpy as np<br/>import cv2<br/>from matplotlib import pyplot as plt<br/>img = cv2.imread("imgs/chapter9/chess_slant.jpg", 1);</span><span id="bda8" class="ox kv iq ot b gy pc oz l pa pb">#img = cv2.resize(img, (96, 96))<br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><span id="d68d" class="ox kv iq ot b gy pc oz l pa pb"># find Harris corners<br/>gray = np.float32(gray)<br/>dst = cv2.cornerHarris(gray,2,3,0.04)<br/>dst = cv2.dilate(dst,None)<br/>ret, dst = cv2.threshold(dst,0.01*dst.max(),255,0)<br/>dst = np.uint8(dst)<br/># find centroids<br/>ret, labels, stats, centroids = cv2.connectedComponentsWithStats(dst)</span><span id="5782" class="ox kv iq ot b gy pc oz l pa pb"># define the criteria to stop and refine the corners<br/># Explain Criteria<br/>criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 100, 0.001)<br/>corners = cv2.cornerSubPix(gray,np.float32(centroids),(5,5),(-1,-1),criteria)<br/># Now draw them<br/>res = np.hstack((centroids,corners))<br/>res = np.int0(res)<br/>for x1, y1, x2, y2 in res:<br/>    #cv2.circle(img,(x1, y1), 5, (0,255,0), -1) # Point Centroids<br/>    cv2.circle(img,(x2, y2), 10, (0,0,255), -1) # Point corners<br/>#img[res[:,1],res[:,0]]=[0,0,255]<br/>#img[res[:,3],res[:,2]] = [0,255,0]<br/>plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pg"><img src="../Images/424856f407349ed1a898ff20914cef02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wke8S99anRn5eqFcszolSg.png"/></div></div></figure><blockquote class="mj"><p id="aef3" class="mk ml iq bd mm mn ny nz oa ob oc lz dk translated">Shi-Tomasi角</p></blockquote><ul class=""><li id="c57a" class="lm ln iq lo b lp mz lr nb lt od lv oe lx of lz nu mb mc md bi translated">哈里斯角点检测具有角点选择标准。</li><li id="9c39" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">为每个像素计算分数，如果分数高于某个值，则该像素被标记为角点。</li><li id="68b3" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">石和托马西建议取消这一职能。应该仅使用特征值来检查像素是否是拐角。</li><li id="5420" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">这些弯角和哈里斯弯角一模一样，只是稍微升级了一下。</li></ul><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="4c6e" class="ox kv iq ot b gy oy oz l pa pb">%matplotlib inline<br/>import numpy as np<br/>import cv2<br/>from matplotlib import pyplot as plt<br/>img = cv2.imread("imgs/chapter9/shape.jpg", 1)<br/>gray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span><span id="b4f3" class="ox kv iq ot b gy pc oz l pa pb">################################FOCUS###############################</span><span id="11ec" class="ox kv iq ot b gy pc oz l pa pb">corners = cv2.goodFeaturesToTrack(gray,25,0.01,10)</span><span id="8216" class="ox kv iq ot b gy pc oz l pa pb"># Self-study: Parameters</span><span id="5c47" class="ox kv iq ot b gy pc oz l pa pb">corners = np.int0(corners)</span><span id="d831" class="ox kv iq ot b gy pc oz l pa pb">####################################################################</span><span id="67a8" class="ox kv iq ot b gy pc oz l pa pb">################################FOCUS###############################</span><span id="09c4" class="ox kv iq ot b gy pc oz l pa pb">for i in corners:<br/>     x,y = i.ravel()<br/>     cv2.circle(img,(x,y), 5,(0, 125, 125),-1)</span><span id="bcef" class="ox kv iq ot b gy pc oz l pa pb">################################################################</span><span id="4e20" class="ox kv iq ot b gy pc oz l pa pb">plt.figure(figsize=(8, 8))<br/>plt.imshow(img[:,:,::-1])<br/>plt.show()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi ph"><img src="../Images/b4c3fe44ad43eef7ba3ebb2ea85eccc6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jBf--oiQZeKM8M6eYp6cYA.png"/></div></div></figure><blockquote class="mj"><p id="07f1" class="mk ml iq bd mm mn ny nz oa ob oc lz dk translated">OpenCV快速角</p></blockquote><figure class="pj pk pl pm pn kk gh gi paragraph-image"><div class="gh gi pi"><img src="../Images/81378c363a8975aac26e5aa165612269.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*3YTrJqYFmsyWUEksT3AvwQ.png"/></div></figure><ul class=""><li id="4b45" class="lm ln iq lo b lp np lr nq lt nr lv ns lx nt lz nu mb mc md bi translated">选择一个像素，让它的强度为I。</li><li id="d5c6" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">选择阈值t</li><li id="ac9a" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">如上图所示，考虑围绕像素的16个像素的圆。</li><li id="1353" class="lm ln iq lo b lp me lr mf lt mg lv mh lx mi lz nu mb mc md bi translated">现在，如果在圆(16个像素)中存在一组n个相邻像素，它们都比i+t亮，或者都比i-t暗，则像素p是一个角</li></ul><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="eb7b" class="ox kv iq ot b gy oy oz l pa pb">import cv2<br/>from matplotlib import pyplot as plt<br/>img = cv2.imread('imgs/chapter9/tessellate.png',1)<br/>img2 = img.copy()<br/>img3 = img.copy()</span><span id="ea59" class="ox kv iq ot b gy pc oz l pa pb">###############################FOCUS################################</span><span id="b2a5" class="ox kv iq ot b gy pc oz l pa pb"># Initiate FAST object with default values</span><span id="e17b" class="ox kv iq ot b gy pc oz l pa pb">fast = cv2.FastFeatureDetector_create()</span><span id="235d" class="ox kv iq ot b gy pc oz l pa pb"># find and draw the keypoints</span><span id="ae45" class="ox kv iq ot b gy pc oz l pa pb">kp = fast.detect(img,None)</span><span id="c4a2" class="ox kv iq ot b gy pc oz l pa pb">####################################################################</span><span id="af1c" class="ox kv iq ot b gy pc oz l pa pb">for i in kp:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img2,(x,y), 5,(0, 255, 0),-1)</span><span id="b2aa" class="ox kv iq ot b gy pc oz l pa pb"># Print all default params<br/>print ("Threshold: ", fast.getThreshold())<br/>print ("nonmaxSuppression: ", fast.getNonmaxSuppression())<br/>print ("neighborhood: ", fast.getType())<br/>print ("Total Keypoints with nonmaxSuppression: ", len(kp))</span><span id="c233" class="ox kv iq ot b gy pc oz l pa pb"># Disable nonmaxSuppression</span><span id="25d8" class="ox kv iq ot b gy pc oz l pa pb">fast.setNonmaxSuppression(0)<br/>kp = fast.detect(img,None)</span><span id="28a8" class="ox kv iq ot b gy pc oz l pa pb">print ("Total Keypoints without nonmaxSuppression: ", len(kp))<br/>for i in kp:<br/>    x,y = int(i.pt[0]), int(i.pt[1])<br/>    cv2.circle(img3,(x,y), 5,(0, 255, 0),-1)</span><span id="2a47" class="ox kv iq ot b gy pc oz l pa pb">f = plt.figure(figsize=(15,15))<br/>f.add_subplot(2, 1, 1).set_title('Corners with non-maximal-suppression')<br/>plt.imshow(img2[:, :,::-1])<br/>f.add_subplot(2, 1, 2).set_title('Corners without non-maximal-suppression')<br/>plt.imshow(img3[:, :,::-1])<br/>plt.show()</span></pre><p id="bd6a" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">输出</p><pre class="kg kh ki kj gt os ot ou ov aw ow bi"><span id="21c3" class="ox kv iq ot b gy oy oz l pa pb">Threshold:  10 <br/>nonmaxSuppression:  True <br/>neighborhood:  2 <br/>Total Keypoints with nonmaxSuppression:  225 <br/>Total Keypoints without nonmaxSuppression:  1633</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/1389c996f8d21aec0d0978d919a51173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1262/format:webp/1*52B8OPB7m-CKRvEze1vf1g.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/96a91089767ee1760ef514b5ec8bce9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*74JDDt1F6DJyYOJ7vbVlTA.png"/></div></figure></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><p id="f544" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">其余章节包含在第二部分中。</p><p id="5543" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">你可以在<a class="ae pq" href="https://github.com/Tessellate-Imaging/monk_v1/blob/master/study_roadmaps/3_image_processing_deep_learning_roadmap/1_image_processing_basics/9)%20Features%20in%20Images.ipynb" rel="noopener ugc nofollow" target="_blank"> github </a>上找到完整的jupyter笔记本。</p><p id="5276" class="pw-post-body-paragraph mw mx iq lo b lp np jr na lr nq ju nc lt nv nf ng lv nw nj nk lx nx nn no lz ij bi translated">如果有任何问题，可以联系<a class="ae pq" href="https://www.linkedin.com/in/abhishek-kumar-annamraju/" rel="noopener ugc nofollow" target="_blank">阿布舍克</a>和<a class="ae pq" href="https://www.linkedin.com/in/akashdeepsingh01/" rel="noopener ugc nofollow" target="_blank">阿卡什</a>。请随意联系他们。</p></div><div class="ab cl kn ko hu kp" role="separator"><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks kt"/><span class="kq bw bk kr ks"/></div><div class="ij ik il im in"><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oh oi di oj bf ok"><div class="gh gi pr"><img src="../Images/b6b49950cf5178eada3c54d0c80dc361.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*E6Gv95487VyoF9_Aupxy-w.jpeg"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">照片由<br/> <a class="ae pq" href="https://www.instagram.com/clubcapture_vnit/" rel="noopener ugc nofollow" target="_blank"> clubcapture_vnit </a>拍摄</figcaption></figure></div></div>    
</body>
</html>