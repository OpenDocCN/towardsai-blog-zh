<html>
<head>
<title>Types of Binary Image Processing Threshold in OpenCV with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python实现OpenCV中二值图像处理阈值的类型</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/types-of-binary-image-processing-threshold-in-opencv-with-python-2f9b7f8795f9?source=collection_archive---------3-----------------------#2021-04-26">https://pub.towardsai.net/types-of-binary-image-processing-threshold-in-opencv-with-python-2f9b7f8795f9?source=collection_archive---------3-----------------------#2021-04-26</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="111e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/computer-vision" rel="noopener ugc nofollow" target="_blank">计算机视觉</a></h2><div class=""/><div class=""><h2 id="a52d" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">图像分割方法分析</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/dd8ad4ce57666f818d23e8f30afb0703.png" data-original-src="https://miro.medium.com/v2/resize:fit:1276/format:webp/1*5zuXpqSzciVTB_4jKd-54Q.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">作者的照片</figcaption></figure><p id="afd3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">图像的阈值是图像分割过程的重要组成部分。为了对图像应用二值化阈值，我们应该使图像处于二值化阈值正常工作的期望条件下。</p><p id="1829" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">这里条件的含义是，当我们做阈值处理时，我们希望图像条件应该在某种强度水平上才能分割。</p><p id="f415" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">例如，如果有图像A，那么这将给出更好的阈值结果。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/b279db61d0e4b1eb282bd26a0f5e69b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*zgZ0GroEQlCuH8Mc-iRQZw.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">阈值结果。作者的照片</figcaption></figure><p id="f926" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">色彩空间是将彩色图像分解成不同图像成分的过程。图像处理中有许多颜色空间，如RGB、HSV、CMY等。我们可以使用颜色空间来分解图像，并找到最适合阈值的图像分量。</p><p id="54a4" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">图像不同组成部分的类型如下所示:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi ma"><img src="../Images/741a59a1df6b2c1076d4acf0c66ec0db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R0jouXnVMUCq924YNZ-cnw.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">La*b*和HSV颜色空间。作者的照片</figcaption></figure><p id="63f3" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">从上面的组件中，如果我们选择分割蓝色球，那么我们可以很容易地看到b*组件向我们展示了一个很好的二进制分割。这样，我们就可以相应地选择什么适合我们的项目。</p><p id="3c18" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在，我们将用python来做实际的二进制阈值及其类型。</p><pre class="ks kt ku kv gt mf mg mh mi aw mj bi"><span id="b15d" class="mk ml it mg b gy mm mn l mo mp">#Import the library and read the image<br/>import cv2</span><span id="feb7" class="mk ml it mg b gy mq mn l mo mp">#Reading the image with OpenCV<br/>image = cv2.imread('grape.jpg')</span><span id="fcd6" class="mk ml it mg b gy mq mn l mo mp">#To save the image in the folder we use <strong class="mg jd"><em class="mr">imwrite</em></strong> method<br/>cv2.imwrite('Original_image.jpg',original_image)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/9814bc361b7ddb9e6ce5813414a9bcae.png" data-original-src="https://miro.medium.com/v2/resize:fit:420/format:webp/1*hoQWIo7VVEckr_8jx7_nRQ.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">原图。作者的照片</figcaption></figure><p id="70bd" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">OpenCV读取BGR格式的图像，我们需要RGB格式的颜色空间。</p><pre class="ks kt ku kv gt mf mg mh mi aw mj bi"><span id="1a4f" class="mk ml it mg b gy mm mn l mo mp">#Converting BGR  to RGB<br/>rgb_image = cv2.cvtColor(original_image, cv2.COLOR_BGR2RGB)<br/><br/>cv2.imwrite('rgb_image.jpg', rgb_image)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/b6c62db512f4923fb1973af03eb72d44.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*TN0TLxcGCFrtsD3wDP-iYQ.jpeg"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">RGB图像。作者的照片</figcaption></figure><p id="f837" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">现在，我们将使用HSV颜色空间并分割成H、S和V分量图像。</p><pre class="ks kt ku kv gt mf mg mh mi aw mj bi"><span id="d174" class="mk ml it mg b gy mm mn l mo mp">#Converting RGB to HSV with cvtColor method in OpenCV<br/>hsv_image = cv2.cvtColor(rgb_image, cv2.COLOR_RGB2HSV)</span><span id="87b3" class="mk ml it mg b gy mq mn l mo mp">#Splittitng HSV image to H, S and V image components<br/>h, s, v = cv2.split(hsv_image)</span><span id="b12b" class="mk ml it mg b gy mq mn l mo mp">#saving the image components<br/>cv2.imwrite('H_image.jpg',h)<br/>cv2.imwrite('S_image.jpg',s)<br/>cv2.imwrite('V_image.jpg',v)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/f3e41a0c1ca6f16a57e28977b089de32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/1*2we_NPbphdnbhe1hu3BWag.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">h、S、V图像分量。作者的照片</figcaption></figure><p id="e929" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">从上面的图像成分中，我们看到“H”图像对于二值化阈值是很好的。我们将在OpenCV中使用OTSU阈值实现二进制阈值方法。OTSU阈值将自动选择阈值。</p><pre class="ks kt ku kv gt mf mg mh mi aw mj bi"><span id="054b" class="mk ml it mg b gy mm mn l mo mp">#Binary threshold with OTSU<br/>ret,th1=cv2.threshold(h,180,255,cv2.THRESH_BINARY+cv2.THRESH_OTSU)</span><span id="7e36" class="mk ml it mg b gy mq mn l mo mp">#Savinf the threshold image<br/>cv2.imwrite('Binary_thresh_image.jpg',th1)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mt"><img src="../Images/caa192a32d8827d46b4fa4436e4eaf2d.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/format:webp/1*oP3FMT4ELgbyCMfX5Ro8WQ.jpeg"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">二值阈值图像。作者的照片</figcaption></figure><p id="9ed8" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在双峰直方图形状中，OTSU二值化是获得基于直方图的阈值优化值的非常好的方法。双峰意味着直方图由于图像中的两种光照条件而具有两个峰值。</p><div class="mv mw gp gr mx my"><a rel="noopener  ugc nofollow" target="_blank" href="/pre-processing-techniques-in-image-processing-with-python-81e5c8babf09"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd jd gy z fp nd fr fs ne fu fw jc bi translated">Python图像处理中的预处理技术</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">OpenCV下的图像处理技术</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">pub.towardsai.net</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm kx my"/></div></div></a></div><div class="mv mw gp gr mx my"><a rel="noopener  ugc nofollow" target="_blank" href="/part-ii-pre-processing-techniques-in-image-processing-with-python-17fb628453ff"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd jd gy z fp nd fr fs ne fu fw jc bi translated">第二部分Python图像处理中的预处理技术</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">OpenCV下的图像处理技术</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">pub.towardsai.net</p></div></div><div class="nh l"><div class="nn l nj nk nl nh nm kx my"/></div></div></a></div><h2 id="7daa" class="mk ml it bd no np nq dn nr ns nt dp nu lm nv nw nx lq ny nz oa lu ob oc od iz bi translated"><strong class="ak">阈值方法的类型</strong></h2><pre class="ks kt ku kv gt mf mg mh mi aw mj bi"><span id="ac7c" class="mk ml it mg b gy mm mn l mo mp">ret,th2 = cv2.threshold(h,180,255,cv2.THRESH_BINARY_INV)<br/>ret,th3 = cv2.threshold(h,180,255,cv2.THRESH_TRUNC)<br/>ret,th4 = cv2.threshold(h,180,255,cv2.THRESH_TOZERO)<br/>ret,th5 = cv2.threshold(h,180,255,cv2.THRESH_TOZERO_INV)</span><span id="87d3" class="mk ml it mg b gy mq mn l mo mp">#Saving the files<br/>cv2.imwrite('Binary_thresh_Inv_image.jpg',th2)<br/>cv2.imwrite('TRUNC_thresh_image.jpg',th3)<br/>cv2.imwrite('TOZERO_thresh_image.jpg',th4)<br/>cv2.imwrite('TOZERO_thresh_Inv_image.jpg',th5)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/31d9e2eb9f1646bbaa3f5b573b000472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*_rR2gl4u6b6jxjIVg8czIw.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">不同的阈值。作者的照片</figcaption></figure><p id="0f7d" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">结论:</p><p id="e14e" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">在本文中，示例图像是一个葡萄图像，但是您可以选择任何图片并对其进行处理。这些是简单的阈值方法，但也有不同的方法，如自适应阈值等。</p><p id="2aa6" class="pw-post-body-paragraph ld le it lf b lg lh kd li lj lk kg ll lm ln lo lp lq lr ls lt lu lv lw lx ly im bi translated">我希望你喜欢这篇文章。通过我的<a class="ae of" href="https://www.linkedin.com/in/data-scientist-95040a1ab/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和<a class="ae of" href="https://twitter.com/amitprius" rel="noopener ugc nofollow" target="_blank"> twitter </a>联系我。</p><h1 id="5643" class="og ml it bd no oh oi oj nr ok ol om nu ki on kj nx kl oo km oa ko op kp od oq bi translated">推荐文章</h1><p id="960e" class="pw-post-body-paragraph ld le it lf b lg or kd li lj os kg ll lm ot lo lp lq ou ls lt lu ov lw lx ly im bi translated"><a class="ae of" href="https://medium.com/towards-artificial-intelligence/nlp-zero-to-hero-with-python-2df6fcebff6e?sk=2231d868766e96b13d1e9d7db6064df1" rel="noopener"> 1。NLP —零到英雄与Python </a> <br/> 2。<a class="ae of" href="https://medium.com/towards-artificial-intelligence/python-data-structures-data-types-and-objects-244d0a86c3cf?sk=42f4b462499f3fc3a160b21e2c94dba6" rel="noopener"> Python数据结构数据类型和对象</a>T5】3 .<a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/exception-handling-concepts-in-python-4d5116decac3?source=friends_link&amp;sk=a0ed49d9fdeaa67925eac34ecb55ea30">Python中的异常处理概念</a> <br/> 4。<a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/principal-component-analysis-in-dimensionality-reduction-with-python-1a613006d531?source=friends_link&amp;sk=3ed0671fdc04ba395dd36478bcea8a55">用Python进行主成分分析降维</a> <br/> 5。<a class="ae of" href="https://medium.com/towards-artificial-intelligence/fully-explained-k-means-clustering-with-python-e7caa573176a?source=friends_link&amp;sk=9c5c613ceb10f2d203712634f3b6fb28" rel="noopener">用Python全面讲解K-means聚类</a> <br/> 6。<a class="ae of" href="https://medium.com/towards-artificial-intelligence/fully-explained-linear-regression-with-python-fe2b313f32f3?source=friends_link&amp;sk=53c91a2a51347ec2d93f8222c0e06402" rel="noopener">用Python </a> <br/> 7全面讲解了线性回归。<a class="ae of" href="https://medium.com/towards-artificial-intelligence/fully-explained-logistic-regression-with-python-f4a16413ddcd?source=friends_link&amp;sk=528181f15a44e48ea38fdd9579241a78" rel="noopener">用Python </a> <br/>充分解释了Logistic回归8。<a class="ae of" href="https://medium.com/towards-artificial-intelligence/basic-of-time-series-with-python-a2f7cb451a76?source=friends_link&amp;sk=09d77be2d6b8779973e41ab54ebcf6c5" rel="noopener">用Python实现时间序列的基础知识</a> <br/> 9。<a class="ae of" rel="noopener ugc nofollow" target="_blank" href="/data-wrangling-with-python-part-1-969e3cc81d69?source=friends_link&amp;sk=9c3649cf20f31a5c9ead51c50c89ba0b">与Python的数据角力—第一部分</a> <br/> 10。<a class="ae of" href="https://medium.com/analytics-vidhya/confusion-matrix-in-machine-learning-91b6e2b3f9af?source=friends_link&amp;sk=11c6531da0bab7b504d518d02746d4cc" rel="noopener">机器学习中的混淆矩阵</a></p></div></div>    
</body>
</html>