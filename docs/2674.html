<html>
<head>
<title>Understanding every bit of Dummy Variables — Must for AI and ML Engineers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解虚拟变量的每一点——人工智能和人工智能工程师的必备技能</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/understanding-every-bit-of-dummy-variables-must-for-ai-and-ml-engineers-b1f63ec89560?source=collection_archive---------0-----------------------#2022-04-10">https://pub.towardsai.net/understanding-every-bit-of-dummy-variables-must-for-ai-and-ml-engineers-b1f63ec89560?source=collection_archive---------0-----------------------#2022-04-10</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="859e" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">介绍</h1><p id="04a4" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">由于因变量和自变量的定性性质，虚拟变量被广泛用于数据科学和机器学习。定性变量包括分类变量，这意味着变量可以分为不同的类别。在这篇文章中，我将详细讨论虚拟变量的所有概念。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi lj"><img src="../Images/d65bcd01055c81f6f5de0d936a27827b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*ikaNPm8Q0sdghD2JpcIkRA.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源——Pixabay.com的24张图片</figcaption></figure><h1 id="f219" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">主题地图</h1><p id="906c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">1.虚拟变量的定义和介绍</p><p id="597e" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">2.一个线性回归案例，包含1个定性变量(由单个虚拟变量组成)和1个定量变量，不考虑交互变量。</p><p id="1199" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">3.带有1个定性变量(由双哑变量组成)和1个定量变量的线性回归案例。</p><p id="618f" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">4.考虑交互作用变量的1个虚拟变量和1个定量变量的线性回归案例。</p><p id="67f2" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">5.一键编码概念和虚拟变量陷阱。</p><h1 id="7ec3" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">什么是虚拟变量？</h1><p id="6253" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">虚拟变量是表示分类数据的定性变量或离散变量，可以取值为0或1，分别表示特定属性的不存在或存在。</p><p id="ea85" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">虚拟变量也称为指标变量、设计变量和二进制基础变量。</p><p id="8b69" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">它们经常与季节成分分析、线性回归模型一起用于时间序列分析，以及许多其他以定性数据为主的应用。</p><p id="9385" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">一般来说，任何回归分析中的解释变量或自变量都被假定为本质上是定量的。例如，温度、距离、年龄等变量。是定量的，因为它们是在明确界定的尺度上衡量的。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi lj"><img src="../Images/8d27d8f460dccd6aca63cb342a5702ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*TuZZB3IUj_xbac29fzST6A.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><p id="b394" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">但是在许多应用中，这些变量不能在一个确定的尺度上测量，它们本质上是定性的。</p><p id="8ff9" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">例如，性别(男性或女性)、肤色(黑色、白色)、国籍和就业状况(就业、失业)等变量是在名义规模上定义的。这些变量没有任何自然的衡量尺度。这种变量通常表示“质量”或属性的存在或不存在，如就业或失业、毕业或未毕业、吸烟或不吸烟、是或否、接受或拒绝，因此它们是在名义尺度上定义的。这种变量可以通过人工构建取值的变量来量化，例如1和0，其中“1”通常表示属性的存在，“0”通常表示属性的不存在。例如，“1”可以表示此人是男性，“0”可以表示此人是女性。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi me"><img src="../Images/65b5ec4ce7d0207c79c2b96e26baac5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*Xz1_LEPC33xTrEiojDk1OQ.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><p id="2b58" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">类似地，“1”可以指示该人就业，然后“0”可以指示该人失业。这些变量将数据分为相互排斥的类别。这些变量被称为指标变量或虚拟变量。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/d12d851654c4162bd70ee822f258d4d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*v4gCxinPEPyQ82o0mToI3w.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><p id="73d1" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这里要注意的一点是:—当一个定性变量有两个或两个以上的类别时，可以用一组虚拟变量<em class="mg">、</em>来表示，每个类别一个变量。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/6dff28e2c44f6aaa792c59ff736bf7bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*EB1fMei28EfMwHWmktJGrg.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><p id="c763" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated"><em class="mg">数字</em>变量也可以被<em class="mg">虚拟编码</em>以探索<em class="mg">非线性效应</em>。但是它也有一些缺点，比如:</p><p id="54ec" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">将定量变量视为定性变量会增加模型的复杂性。误差的自由度也减少了。如果数据集很小，这可能会影响推断。然而，在大型数据集中，这种影响可能很小。</p><p id="bff4" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">虚拟变量示例–</p><p id="7d0e" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">让我们考虑一个例子，通过一个线性回归的例子来详细阐述概念。</p><p id="44a4" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">线性回归方程</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/04155fa27f978975802f135e060a5ee1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*b_AbSaCKfdjmPpF3X4t2RA.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—图片来自<a class="ae mh" href="https://www.dataquest.io/blog/understanding-regression-error-metrics/" rel="noopener ugc nofollow" target="_blank">https://www . data quest . io/blog/understanding-regression-error-metrics/</a></figcaption></figure><h1 id="a2cc" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">用例1</h1><p id="a2c2" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们有2个解释变量/自变量和1个响应变量/因变量。</p><p id="5fd7" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">解释变量——性别和年龄。</p><p id="1e17" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">性别是一个定性自变量，有两个类别(男性和女性)</p><p id="e0a5" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">并且对应于性别的虚拟变量被描述为<strong class="kn ir"> D <em class="mg">性别</em>T13】</strong></p><p id="9483" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这里，考虑了用于定性自变量的两个类别(男性和女性)的1个虚拟变量。</p><p id="a02b" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">年龄是定量(数字)自变量，描述为<strong class="kn ir"> X </strong>。</p><p id="1f20" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">响应变量——工资</p><p id="5f54" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">它是一个定量(数字)响应或因变量，用<strong class="kn ir"> Y </strong>表示。</p><p id="7cbf" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">定义虚拟变量内的类别，<strong class="kn ir"> D <em class="mg">性别</em>T21】</strong></p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mi"><img src="../Images/7ac4624d20c7d4398d7fc94ad78e99a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*5V6sbovB7OKLbYs4tfofUQ.png"/></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><p id="ed2e" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">下表给出了描述。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/029d51618126e5836c0c2095be2c8e01.png" data-original-src="https://miro.medium.com/v2/resize:fit:442/format:webp/1*iRXpD04-Meg16lVIPhxwAg.png"/></div></figure><p id="e5c6" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这采用值0和1来标识互斥类。</p><p id="5203" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">没有必要只选择1和0来表示类别。事实上，<strong class="kn ir"> D <em class="mg">性别</em> </strong>的任何一个截然不同的值都会服务于这个目的。优选选择1和0，因为它们使计算更简单，并且有助于容易地解释这些值。但是，无论您认为值是1和0还是-1或1或1和2等等，得出的结果都是相同的。</p><p id="fd51" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">编写线性回归方程，以<strong class="kn ir"> X </strong>为定量，以<strong class="kn ir"> D <em class="mg">性别</em> </strong>为虚拟变量。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/2c37959f78668b48a4c2b927ad087208.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*uoryCcBoOqLg4MbSg6t3Yw.png"/></div></figure><p id="9eb5" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">其中，模型方程中的ε是“随机误差项”</p><p id="e38c" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">并且假设是独立的，并且具有均值为0且方差恒定的正态分布。</p><p id="d6eb" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这里<strong class="kn ir"> </strong>的解释结果很重要。</p><p id="6f7f" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">我们进行如下操作:</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/97200bda9e4259d6585cb6a311456fb2.png" data-original-src="https://miro.medium.com/v2/resize:fit:890/format:webp/1*7Ab-LYCwP13QaZ5_K94jGg.png"/></div></figure><p id="95ad" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">表示当所有其他预测值保持不变时，相关虚拟预测值变量中每单位变化(此处单位变化表示从0到1或从1到0的变化，因为值是二进制的)的E(y)中平均响应的变化。</p><p id="8d06" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">所以这个<strong class="kn ir"> </strong>和截距bo，斜率b1是直线关系。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mm"><img src="../Images/54949d7e2c5ec4d14e95e618e740ab98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QQD6yV9Gsxm-gJFdArCcEQ.png"/></div></div></figure><p id="1943" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">从图形上看，它如下图所示。它描述了两条具有相同方差的平行回归线。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mn"><img src="../Images/defd4128d80ea714867b3a489623ae5d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UsC_PVDaeVuR239jTrLHeQ.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><p id="8999" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">以X为定量，以<strong class="kn ir"> D <em class="mg">性别</em>T5】为哑变量的回归方程</strong></p><p id="f525" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">两条平行线表示独立变量之间不存在任何显著的相互作用，即虚拟解释变量、性别对响应变量的影响，即工资在其他解释变量(即年龄)的不同值下是相同的。</p><p id="303d" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这本身就是一个非常重要的结论，因为它会显著影响所创建的模型，如果存在交互作用，它会使模型在结果解释方面更加复杂。</p><p id="9230" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">交互作用效应通常表明第三个变量影响自变量和因变量之间的关系。</p><p id="250b" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">注意:通常，n-1个虚拟变量是为n个类别创建的，即在我们的性别示例中，性别有2个类别(男性和女性)，只创建一个虚拟变量<strong class="kn ir"> D <em class="mg">性别</em> </strong>。</p><p id="eef3" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">为什么为n个类别创建n-1个虚拟变量，而不是n个，这是一个有趣的话题，我将在随后的部分中讨论。</p><h1 id="90d1" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">让我们从第二个案例开始:</h1><p id="b59b" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">让我考虑与上面相同的例子，但是现在我考虑定性自变量的两个类别(男性和女性)的两个虚拟变量。所有其他事情保持不变。</p><p id="6465" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">此外，独立变量之间不考虑交互作用。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mo"><img src="../Images/0ca1c083d0b729125c153e4225752533.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mVficle9D2fcN341j4TrRw.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mp"><img src="../Images/b3bda9f5dee23d8e2c5cbe695eb50103.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iNi-d7wmW36NKfc7AiGgcg.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mq"><img src="../Images/6c783e318f870f3ea3b1d13cebfc339a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tZL1Grzy6GupFkLBA4vTTA.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mr"><img src="../Images/342dfa3af1cba24c410fa7cb5e4880da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RF_MBPAA912XvI2W9fe7sA.png"/></div></div></figure><p id="1e6b" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这些不能共存，因为1必须为0，另一个必须为1才能满足条件，两者不能同时为1。</p><p id="bcb9" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">下表描述了这些值。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/47ae6465313b1f1672600a557fdef2df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*7lVjvHgY7oLDr4U1EuOfoA.png"/></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mt"><img src="../Images/5c11c4d9c566a9edee93649d97171a39.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8SZUm9Dq0XIcnRkBGexOOA.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mu"><img src="../Images/45a88d02c7e7faa8246d6393d70be8df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZO0GgNu0tnWdkJQp7I7PQ.png"/></div></div></figure><p id="8099" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">可以使用普通的最小二乘法原理来估计参数，并且使用用于得出推论的标准程序。</p><p id="88f1" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">从图形上看，它如下图所示。它描述了两条具有相同方差的平行回归线。</p><p id="a5b6" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">两条平行线表示独立变量之间不存在任何显著的相互作用，即虚拟解释变量、性别对响应变量的影响，即工资在其他解释变量(即年龄)的不同值下是相同的。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mv"><img src="../Images/b7d7369200ea3c9525af8ca83880a996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2yEvK9Fpjtr71kaMTdvSLA.png"/></div></div><figcaption class="lv lw gj gh gi lx ly bd b be z dk translated">来源—作者提供的图片</figcaption></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mw"><img src="../Images/928b3dbf8fe9b389bcf676b2f4d6aa78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2N7f8fk6x-zi9D7iJZuwVg.png"/></div></div></figure><p id="a9c5" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">规则:当解释变量导致m个互斥类别分类时，则使用(m — 1)个虚拟变量来表示。或者，使用虚拟变量，但去掉截距项。</p><h1 id="3ebb" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">让我们从第三个案例开始:</h1><p id="5e4c" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我将考虑与上述相同的示例，但现在我考虑一种情况，其中我们有两个独立变量，一个是定量变量，另一个是定性变量，有两个类别(男性和女性)，它们都相互作用，另一个解释变量作为它们的相互作用添加到方程中。考虑定性变量的虚拟变量。</p><p id="3010" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">所有其他事情保持不变。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mx"><img src="../Images/13bccfd03af7b765dda5fb3c9a7be932.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P5O-2w-OFju9GxXNrU0RqQ.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi my"><img src="../Images/10bd18a2630b6735d38e6bf8972b0cfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8wpiRJyjc2QzXDlfdEHhQ.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi mz"><img src="../Images/b5fbeb783e2a9f595dfbac7cd123e9e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*68UB909PjRVNmvi58iXQhg.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi na"><img src="../Images/b8ae5a1e757713c32e27690cb569449c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L6OD7-YJ3SmE4AcdZwUvJQ.png"/></div></div></figure><p id="8ea8" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">接受H0表明，只需要一个单一的模型来解释这种关系。在另一个例子中，如果目标是测试两个模型仅在截距方面不同，并且它们具有相同的斜率，则假设的测试包括测试。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nb"><img src="../Images/afc6de3b22f50563a846269046f74dfd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ayrXYj7X8fBQZ_QUSE2tQ.png"/></div></div></figure><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nc"><img src="../Images/17ace6c3c34b9b21d8a0cd0b28c813cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kTaDlyvSOC0shOZkgHXLCA.png"/></div></div></figure><p id="6324" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">两条不平行的线表明独立变量之间存在交互作用，即虚拟解释变量、性别对响应变量的影响，即工资在其他解释变量(即年龄)的不同值下是不同的。</p><p id="a50c" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这本身就是一个非常重要的结论，因为它会显著影响模型，并且由于交互作用的存在，它会使模型在结果解释方面更加复杂。我们需要仔细检查线性回归结果，以得出由于独立变量相互作用而产生的见解。</p><p id="140f" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">交互作用效应通常表明第三个变量影响自变量和因变量之间的关系。</p><p id="bf0f" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">众所周知，如果你在处理有类别的定性变量，你可能需要将它们编码成一种数字格式，这种格式对机器学习算法的计算更友好。这里我们使用了一种叫做<strong class="kn ir">一键编码的方法。</strong></p><h2 id="8cef" class="nd jo iq bd jp ne nf dn jt ng nh dp jx kw ni nj kb la nk nl kf le nm nn kj no bi translated">那么，什么是一键编码呢？</h2><p id="a181" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">一键编码是将具有多个类别的定性变量转换成多个二进制变量的过程，其中每个变量可以用值1或0来表示，以指示类别(即级别)的存在或不存在。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi np"><img src="../Images/2b89511466f72af21d548f636812ca0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/format:webp/1*pMi7T4ACz9dNjCxmAGTUng.png"/></div></figure><p id="2704" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">让我通过其余部分向您展示一个例子。</p><p id="ae4d" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">如果没有安装，请安装“虚拟”软件包，然后使用库函数调用该软件包。</p><p id="886b" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">考虑一个具有3列的示例数据，即每月工资、年龄和婚姻状况。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nq"><img src="../Images/d8f4a32cc994c034a93eae2cebefd20b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ORS1WCzuxHvpQyQE_AzKyQ.png"/></div></div></figure><p id="9da6" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated"><strong class="kn ir">一热编码</strong></p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nr"><img src="../Images/aca9083e71779daccc41f927bf769221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*hxMlf6rdHP5yYCJef8tqVw.png"/></div></div></figure><p id="ef55" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">在完成一键编码后，我们得到的是虚拟变量。</p><p id="e13e" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">但是，一个热编码生成的虚拟变量与定性变量中的类别一样多，也就是说，如果一个定性变量中有m个类别，它将生成m个虚拟变量。</p><p id="9e8c" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">我们也可以使用R中的“caret”或“mltools”包来进行一次热编码。所以在R中有多种方法可以生成虚拟变量。我考虑过其中的一种方法。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/80c8fe52994f00a5de6ef35bb9ef4194.png" data-original-src="https://miro.medium.com/v2/resize:fit:1386/format:webp/1*Ckp93NP_v7RRbR0VkK-Jrw.png"/></div></figure><p id="544e" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">这是多重共线性的情况。</p><figure class="lk ll lm ln gt lo gh gi paragraph-image"><div role="button" tabindex="0" class="lp lq di lr bf ls"><div class="gh gi nt"><img src="../Images/7ebd2b737530627d9ad4f36d75061435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qjZ-1hjNaYQuK2NXkVL_tw.png"/></div></div></figure><p id="7998" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">虚拟变量陷阱是线性回归中一个或几个自变量预测另一个自变量的情况，称为多重共线性。</p><p id="cabe" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">因此，模型无法区分一列对另一列的影响。</p><p id="e6af" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">虚拟变量陷阱是一种独立变量多共线的情况，即两个或更多变量高度相关的情况；简单地说，一个变量可以从其他变量中预测出来。</p><p id="82c3" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">在我们的例子中，如果我们知道每个观察值的3列中的2列的变量值，我们可以很容易地预测第三个变量的值。</p><p id="af97" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">那么，这种情况下的解决方案是什么呢？</p><p id="eb73" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">我们可以删除其中一个虚拟变量，从而消除添加的虚拟变量之间的共线性。</p><p id="f5e8" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">没有固定的规则来决定哪些变量可以删除。但许多软件会自动设置参考变量，并根据字母顺序删除其中一个虚拟变量。</p><p id="7e3e" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">因为。例如，在我们的例子中，考虑到变量，df_Divorsed、df_Married和df _ unfixed、df _ Divorsed divorced将被设置为参考变量，并按照软件遵循的字母惯例从列表中删除。</p><p id="d033" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">因此，如果有m个类别，我们在模型中使用m-1个变量，被忽略的类别的值可以被认为是参考值，剩余类别的值被拟合以表示相对于该参考值的变化。</p><p id="6dc8" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">至此，我对虚拟变量做了总结。虽然这篇文章很长，但它肯定会帮助你更好地理解虚拟变量及其用途。</p><p id="4347" class="pw-post-body-paragraph kl km iq kn b ko lz kq kr ks ma ku kv kw mb ky kz la mc lc ld le md lg lh li ij bi translated">感谢阅读！！！</p></div></div>    
</body>
</html>