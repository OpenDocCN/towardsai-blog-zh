<html>
<head>
<title>Airline Passengers Prediction Using My Stochastic Time Series Algorithm From Scratch in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python中的随机时间序列算法进行航班乘客预测</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/airline-passengers-prediction-using-my-stochastic-time-series-algorithm-from-scratch-in-python-378d22ae0cf?source=collection_archive---------0-----------------------#2022-08-29">https://pub.towardsai.net/airline-passengers-prediction-using-my-stochastic-time-series-algorithm-from-scratch-in-python-378d22ae0cf?source=collection_archive---------0-----------------------#2022-08-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div class="gh gi jq"><img src="../Images/d2d681876913f5425324107e3685dca8.png" data-original-src="https://miro.medium.com/v2/resize:fit:904/format:webp/1*7D95HTowOv-XqW-zNRBPxA.png"/></div><figcaption class="jx jy gj gh gi jz ka bd b be z dk translated">我的随机时间序列算法——Ashutosh Malgaonkar</figcaption></figure><div class="kb kc gp gr kd ke"><a href="https://medium.com/subscribe/@ashu.malgaonkar" rel="noopener follow" target="_blank"><div class="kf ab fo"><div class="kg ab kh cl cj ki"><h2 class="bd iu gy z fp kj fr fs kk fu fw is bi translated">每当Ashutosh Malgaonkar发布时收到电子邮件。</h2><div class="kl l"><h3 class="bd b gy z fp kj fr fs kk fu fw dk translated">每当Ashutosh Malgaonkar发布时收到电子邮件。通过注册，您将创建一个中等帐户，如果您没有…</h3></div><div class="km l"><p class="bd b dl z fp kj fr fs kk fu fw dk translated">medium.com</p></div></div><div class="kn l"><div class="ko l kp kq kr kn ks jv ke"/></div></div></a></div><p id="c8ed" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">Github链接到我的代码:</p><p id="6a6b" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><a class="ae lr" href="https://github.com/ashm212/Stochastic-Time-Series/blob/122ef2e5ce861d3a97db6be633799317be91e892/Stochastic_Time_Series.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/ashm 212/random-Time-Series/blob/122 ef 2 e 5 ce 861d 3 a 97 db 6 be 633799317 be 91 e 892/random _ Time _ Series . ipynb</a></p><h2 id="7593" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">I .使用Kaggle API从Kaggle访问数据</h2><h2 id="319d" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">二。算法</h2><blockquote class="ml mm mn"><p id="09cf" class="kt ku mo kv b kw kx ky kz la lb lc ld mp lf lg lh mq lj lk ll mr ln lo lp lq im bi translated">a.数据帧的输入</p><p id="83cc" class="kt ku mo kv b kw kx ky kz la lb lc ld mp lf lg lh mq lj lk ll mr ln lo lp lq im bi translated">b.幅度编程</p><p id="938d" class="kt ku mo kv b kw kx ky kz la lb lc ld mp lf lg lh mq lj lk ll mr ln lo lp lq im bi translated">c.编程方向概率</p><p id="189b" class="kt ku mo kv b kw kx ky kz la lb lc ld mp lf lg lh mq lj lk ll mr ln lo lp lq im bi translated">d.随机预测编程</p></blockquote><h2 id="1928" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">不及物动词制图(https://www . geeks forgeeks . org/how-to-plot-time series-based-charts-using-pandas/)</h2><h2 id="dd52" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">七。multidimensional assessment of philosophy of education 教育哲学的多维评价</h2><h2 id="e807" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">I .从Kaggle获取数据</h2><p id="f2b4" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">我用Kaggle API访问了数据。这部分代码来自StackOverflow，作者分享了访问Kaggle数据的一般步骤。我引用了他的代码的链接，但我也将在本文中详细介绍它。这些步骤对于任何数据集来说都很正常。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="faa0" class="ls lt it nc b gy ng nh l ni nj"><a class="ae lr" href="https://colab.research.google.com/drive/1DofKEdQYaXmDWBzuResXWWvxhLgDeVyl" rel="noopener ugc nofollow" target="_blank">https://colab.research.google.com/drive/1DofKEdQYaXmDWBzuResXWWvxhLgDeVyl</a></span></pre><p id="00d4" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，让我们预演一下这个项目是如何发生的:</p><p id="6d22" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，去kaggle.com，进入你的账户页面。向下滚动到API部分，如下图所示。单击“创建新的API令牌”。这会将一个名为kaggle.json的文件下载到您的计算机上。</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/1e1fe1632a9d0c40e4896776e37ad2c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1318/format:webp/1*1eSXwkmbwIquwPXbnBB6WQ.png"/></div></figure><p id="5abe" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，转到您的协作笔记本:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="337c" class="ls lt it nc b gy ng nh l ni nj">from google.colab import files<br/>files.upload()</span></pre><p id="5477" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">运行上面的代码块。这里也有一张图片:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nl"><img src="../Images/2ef118b987fa2a3038aca00373a6081e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DMfffwrc07vTHneTZQFhUw.png"/></div></div></figure><p id="1a2a" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">当你运行它时，你会得到一个选择文件的选项，通过它，你可以选择上面刚刚下载到你电脑上的kaggle.json文件。</p><p id="8d75" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一旦你这样做了，它就会像上图一样说100%，现在你就连接上kaggle了。</p><p id="3145" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，运行这个代码块，看看是否有一个文件。</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nq"><img src="../Images/651c1cb5c9661fcaf8679f331e6efca9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1320/format:webp/1*IKJzSAK4GkiVA17I67xWRg.png"/></div></div></figure><p id="5ca2" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在已经检测到kaggle.json文件，请在下一个块中键入:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="df90" class="ls lt it nc b gy ng nh l ni nj">!pip install -q kaggle</span></pre><p id="9598" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我们必须使用mkdir移动该文件，并按照引用的教程中所述进行权限更改:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="3dc5" class="ls lt it nc b gy ng nh l ni nj"># The Kaggle API client expects this file to be in ~/.kaggle,</span><span id="1e1c" class="ls lt it nc b gy nr nh l ni nj"># so move it there.</span><span id="a5e5" class="ls lt it nc b gy nr nh l ni nj">!mkdir -p ~/.kaggle</span><span id="b064" class="ls lt it nc b gy nr nh l ni nj">!cp kaggle.json ~/.kaggle/</span><span id="56d0" class="ls lt it nc b gy nr nh l ni nj"># This permissions change avoids a warning on Kaggle tool startup.</span><span id="fc90" class="ls lt it nc b gy nr nh l ni nj">!chmod 600 ~/.kaggle/kaggle.json</span></pre><p id="d732" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在你将被连接。现在，您可以使用下面的命令列出所有kaggle数据集，以便查看它们:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="9a93" class="ls lt it nc b gy ng nh l ni nj"># List available datasets.</span><span id="7d90" class="ls lt it nc b gy nr nh l ni nj">!kaggle datasets list</span></pre><p id="b90f" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">它看起来会像这样:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi ns"><img src="../Images/58df218a14675794812c9f94a759f2f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJnc7h35PO0sEFpmzFsAMQ.png"/></div></div></figure><p id="fc27" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来进入<a class="ae lr" href="https://www.kaggle.com/datasets/ternaryrealm/airlines-passenger-data" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/datasets/ternary realm/airlines-passenger-data</a></p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi nt"><img src="../Images/020d6aad939e707b898b97b5294f7054.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*UzwJGghQNRroaCwKrEzJew.png"/></div></figure><p id="84ab" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，将其粘贴到:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="b35f" class="ls lt it nc b gy ng nh l ni nj">!kaggle datasets download -d chirag19/air-passengers</span></pre><p id="5115" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">运行后，我们可以使用！ls列出文件:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="6e9e" class="ls lt it nc b gy ng nh l ni nj">!ls</span></pre><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nu"><img src="../Images/f15eb41d05437b213c43c2c07b8aa679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RZY75hlU8paQ3i-N8DDStA.png"/></div></div></figure><p id="b6c1" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">使用以下方法解压缩数据:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="1824" class="ls lt it nc b gy ng nh l ni nj">! unzip /content/air-passengers.zip -d /content/</span></pre><p id="068a" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，我们可以开始了…</p><h2 id="4e39" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">二。</h2><h2 id="fb2b" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">a.数据帧的输入</h2><p id="5593" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">现在，数据已经在google collab中，我们将把它放入一个数据框架中进行处理:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="c6e7" class="ls lt it nc b gy ng nh l ni nj">import pandas as pd</span><span id="2c23" class="ls lt it nc b gy nr nh l ni nj">df = pd.read_csv('AirPassengers.csv')</span></pre><p id="84df" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们来看看这些数据是否正确:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="9d7e" class="ls lt it nc b gy ng nh l ni nj">df.head()</span></pre><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/37ddcc17375beb217b36e978245ac94c.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/format:webp/1*EbLxjuRJmBufYMFv5o9ocw.png"/></div></figure><p id="68ae" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">以上是前五行，看起来像我们想要的那样。</p><h2 id="a950" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">b.编程幅度</h2><p id="6731" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">穿越时间的东西有两个属性:</p><p id="c68e" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">单向</p><p id="d440" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">2级</p><p id="1a81" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在这种情况下，幅度是随着月份的变化而变化的步长。让我们对它进行编程:</p><p id="e219" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，我将把第2列转换成如下所示的列表:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="02a0" class="ls lt it nc b gy ng nh l ni nj">a = list(df['#Passengers'])</span><span id="65d0" class="ls lt it nc b gy nr nh l ni nj">print(a)</span></pre><p id="6535" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后，我写了这个算法，通过数据计算步长:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/867624aa84486088213d465b1a0eec6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/1*NnrCBaBS2W9DE1gibnhfog.png"/></div></figure><p id="5f8b" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们浏览一下上面的代码来理解发生了什么。</p><blockquote class="ml mm mn"><p id="89ab" class="kt ku mo kv b kw kx ky kz la lb lc ld mp lf lg lh mq lj lk ll mr ln lo lp lq im bi translated">首先，我初始化了一个值为0的列表。这是因为，底部的第一个单元格没有步长，<strong class="kv iu">它是起始值，之前没有值，所以直到它的变化幅度为0。</strong></p></blockquote><p id="afaf" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我初始化了一个变量i=0。这样做是为了在遍历列表时以索引值0开始循环。</p><p id="6dd5" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后，我开始一个while循环来计算列表中的步长，直到它到达len(a)-1</p><p id="945e" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">在循环内部，我计算特定I指数的步长。步长就是下一个值减去循环当前的值。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="f355" class="ls lt it nc b gy ng nh l ni nj">step = a[i+1]-a[i]</span></pre><p id="970e" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">下一部分，我陈述了一些逻辑，如果步长的值为0，那么将它设置为0.1。我这样做的原因是我在计算中使用了调和平均值。调和平均值不能使用0值，在这里，因为步长的大小通常远离0，所以我可以将其设置为0.1这样的低值，而不会对算法产生太大影响。</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/7d30182df045294484366890c185c02e.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/1*bT04FbmWoxC6_F4rZFoo3A.png"/></div></figure><p id="c78c" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我在这里所做的基本上是将步骤添加到空列表b中，随着循环的进行，它会变得更长。最后是i+=1，它将循环向前推到终点。</p><p id="e4c3" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">之后，让我们将它放回数据帧中，然后检查前几行:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="63a8" class="ls lt it nc b gy ng nh l ni nj">df['stepsize']=b</span><span id="55ea" class="ls lt it nc b gy nr nh l ni nj">df.head()</span></pre><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/0f4f3e8df489eef303f90cea297f6639.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*FEoHDPyhh3eFVeKKXAQzyA.png"/></div></figure><p id="9a90" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，我们可以在一列中看到步长。</p><p id="104b" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">接下来，我将把列表b(步长列表)中的值转换成绝对值:</p><p id="3b93" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">同样，这样做的原因是为了确保我可以计算调和平均值:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="b470" class="ls lt it nc b gy ng nh l ni nj">#make an absolute value list:<br/>c=[]<br/>for i in b:<br/>     c.append(abs(i))</span></pre><p id="3c95" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，我编写了另一个while循环算法，使调和平均值在序列中传播:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/9e9f0f8ea17f189e6ac8f6cd342b76b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:706/format:webp/1*BWZoRwOqfd9Ykk4y2-idIA.png"/></div></figure><p id="e3fd" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，我导入了统计包，然后用0，0创建了一个列表，以跳过数据集的第一行和第二行。然后我做了两个指针I和j，我会保持在1，j会遍历这个序列，并把它添加到我用两个0初始化的harmean列表中。<strong class="kv iu">为了向前移动循环，注意我只是向前移动j指针，保持I指针不动。</strong></p><blockquote class="ml mm mn"><p id="7395" class="kt ku mo kv b kw kx ky kz la lb lc ld mp lf lg lh mq lj lk ll mr ln lo lp lq im bi translated"><strong class="kv iu">为了向前移动循环，注意我只是向前移动j指针，保持I指针不动。</strong></p></blockquote><p id="3242" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们把它扔回到数据框架中:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="91cf" class="ls lt it nc b gy ng nh l ni nj">df['harmean of magnitude'] = harmean</span></pre><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/e87465e19fa30084fb15ba8958c50cc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1372/format:webp/1*yUvg5lvIg-5lYEeIqSud0A.png"/></div></figure><p id="92c9" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">以上是看起来的样子。</p><h2 id="3aff" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">C.规划方向</h2><p id="0f15" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">现在，是时候通过计算先验概率来引入随机性了。然而，在这里我们将不得不再次编写一个向前传播的算法:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi ob"><img src="../Images/5e7c8573c9e10c8c7cded25ee22b9c69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8LAwSO8Wbl2Dlc0VVVGTxg.png"/></div></div></figure><p id="8a3c" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">让我们看看我是如何通过实现上面的算法来解决这个挑战的。</p><p id="5c5a" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，我通过初始化变量j = 1来设置一个指针。接下来，我建立了两个列表。第一个名为countofup，当步长为正数(向上)时将被附加1，当步长为负数时将被附加-1。我要开始的另一个列表是概率。这将在<strong class="kv iu">前n步中附加上概率up。</strong></p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="670f" class="ls lt it nc b gy ng nh l ni nj">df['probabilityofup'] = probabilityofup</span></pre><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/14144bbc861166c976c3de0fbe19ea07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*Xgoh2AKGZddtzxXpXMKO7Q.png"/></div></figure><h2 id="a7fd" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">d.随机预测编程</h2><p id="08b7" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">接下来，我创建了这个随机算法来输出预测:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi od"><img src="../Images/1e8e3fcdd716a652982dffd79b529331.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*mQtcsZplOUgBoIwgz9abSQ.png"/></div></figure><p id="cd57" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">首先，我提取三列作为列表。我从dataframe #passengers中提取actuals列，并将其放入列表a。然后，在列表b中，我存储幅度列的谐波平均值(前面显示的算法)。接下来，在列表c中，我放置up列的概率(前面显示的算法)。</p><p id="1769" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">然后我创建了一个有两个零的列表，叫做pred。</p><p id="d17e" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">我在i = 1处启动一个指针，这是预测输出中的第一个值。公式是:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="9e3f" class="ls lt it nc b gy ng nh l ni nj"><strong class="nc iu">Prior actual value + (harmonic mean of previous magnitues * (if a random number between 0 and 1 is greater than the prior probability of up then -1 else 1))</strong> </span></pre><p id="227e" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">while循环算法将此公式传播到数据的最后一行。</p><p id="fc26" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">一旦循环结束，我们将把它放入pred，然后输出df。</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi oe"><img src="../Images/435eca5ef97aa958518d6c318978cc0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OUBGxTAxbqV9La4mYgDQ3Q.png"/></div></div></figure><h2 id="c2bf" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">不及物动词制图(<a class="ae lr" href="https://www.geeksforgeeks.org/how-to-plot-timeseries-based-charts-using-pandas/)" rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/how-to-plot-time series-based-charts-using-pandas/)</a></h2><p id="50aa" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">绘制预测和实际图表的代码基于geeksforgeeks→<a class="ae lr" href="https://www.geeksforgeeks.org/how-to-plot-timeseries-based-charts-using-pandas/" rel="noopener ugc nofollow" target="_blank">https://www . geeksforgeeks . org/how-to-plot-time series-based-charts-using-pandas/</a>的这个页面</p><p id="5074" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">下面是我如何实现geeksforgeeks代码的:</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div class="gh gi of"><img src="../Images/50db9d5c812ad581c537e6e7dfd9b693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1346/format:webp/1*OK4BGqkqFyTKel5iJKGJVg.png"/></div></figure><h2 id="f4ce" class="ls lt it bd lu lv lw dn lx ly lz dp ma le mb mc md li me mf mg lm mh mi mj mk bi translated">七。multidimensional assessment of philosophy of education 教育哲学的多维评价</h2><p id="94a2" class="pw-post-body-paragraph kt ku it kv b kw ms ky kz la mt lc ld le mu lg lh li mv lk ll lm mw lo lp lq im bi translated">接下来，我们将在每一行用这个来计算MAPE。本质上，该公式计算实际值和预测值之间的绝对差值，然后除以实际值。将它乘以100，我们得到每行的绝对百分比误差。MAPE是每行误差百分比的平均值。</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="6849" class="ls lt it nc b gy ng nh l ni nj">#MAPE</span><span id="f79d" class="ls lt it nc b gy nr nh l ni nj">new_df['abspercent diff'] = (abs(new_df['#Passengers']-new_df['prediction'])/new_df['#Passengers']) * 100</span></pre><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi og"><img src="../Images/6ae0e0dc1916682219e42e655d60d107.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TNpQ360BWf39FTXW-aHzvA.png"/></div></div></figure><p id="a6b5" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">现在，我们将计算MAPE，并使用以下代码将其打印出来:</p><pre class="mx my mz na gt nb nc nd ne aw nf bi"><span id="8a09" class="ls lt it nc b gy ng nh l ni nj">mape = "The mape is"</span><span id="c4b3" class="ls lt it nc b gy nr nh l ni nj">print("The mape is " + str(new_df['abspercent diff'].mean()) + " %")</span></pre><p id="ffc0" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">运行这个程序后，我们看到MAPE大约为10.48%。</p><figure class="mx my mz na gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi oh"><img src="../Images/a8a1b010e7f3ca871e0078dedddaf03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kWIAPWPbNf2zvH9E20Pdog.png"/></div></div></figure><p id="6cd8" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">感谢您阅读我的作品。</p><p id="1162" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">引用:</p><ol class=""><li id="4c97" class="oi oj it kv b kw kx la lb le ok li ol lm om lq on oo op oq bi translated"><a class="ae lr" href="https://colab.research.google.com/drive/1DofKEdQYaXmDWBzuResXWWvxhLgDeVyl" rel="noopener ugc nofollow" target="_blank">https://colab . research . Google . com/drive/1 dofkedqyaxmdbzuresxwwvxhlgdevyl</a></li><li id="8a16" class="oi oj it kv b kw or la os le ot li ou lm ov lq on oo op oq bi translated"><a class="ae lr" href="https://www.geeksforgeeks.org/how-to-plot-timeseries-based-charts-using-pandas/" rel="noopener ugc nofollow" target="_blank">https://www . geeks forgeeks . org/how-to-plot-time series-based-charts-using-pandas/</a></li><li id="fd10" class="oi oj it kv b kw or la os le ot li ou lm ov lq on oo op oq bi translated"><a class="ae lr" href="https://www.kaggle.com/datasets/ternaryrealm/airlines-passenger-data" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/datasets/ternary realm/airlines-passenger-data</a></li></ol><p id="77e5" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated">再次链接到我的GitHub:</p><p id="f2e4" class="pw-post-body-paragraph kt ku it kv b kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq im bi translated"><a class="ae lr" href="https://github.com/ashm212/Stochastic-Time-Series/blob/122ef2e5ce861d3a97db6be633799317be91e892/Stochastic_Time_Series.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/ashm 212/random-Time-Series/blob/122 ef 2 e 5 ce 861d 3 a 97 db 6 be 633799317 be 91 e 892/random _ Time _ Series . ipynb</a></p></div></div>    
</body>
</html>