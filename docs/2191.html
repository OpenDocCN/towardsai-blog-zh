<html>
<head>
<title>Make Your Dashboard Stand Out — Sunshine Chart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">让您的仪表盘脱颖而出—阳光图表</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/make-your-dashboard-stand-out-sunshine-chart-7e6049d6b5a7?source=collection_archive---------4-----------------------#2021-09-20">https://pub.towardsai.net/make-your-dashboard-stand-out-sunshine-chart-7e6049d6b5a7?source=collection_archive---------4-----------------------#2021-09-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/40e15b331e3726a6dd98067fc7abce85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ODH0BKbdcglGLiGa"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">图片由Tableau.com拍摄</figcaption></figure><h2 id="7d07" class="jg jh ji bd b dl jj jk jl jm jn jo dk jp translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-visualization" rel="noopener ugc nofollow" target="_blank">数据可视化</a></h2><div class=""/><div class=""><h2 id="31f4" class="pw-subtitle-paragraph ko jr ji bd b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dk translated">打动你的观众和老板！</h2></div><p id="7114" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">对我来说，Tableau是唯一一种能让我像艺术家一样做数据科学的工具。然而，如果每个人都用Tableau做同样的可视化，那就没什么意思了。这篇文章是我的系列文章“让你的仪表板脱颖而出”中的一集，该系列文章为你提供了一些精彩但非默认的可视化想法。如果你对我来说是新的，一定要看看下面的文章:</p><div class="is it gp gr iu md"><a rel="noopener  ugc nofollow" target="_blank" href="/make-your-dashboard-stand-out-waterfall-chart-7aa090653e7d"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd js gy z fp mi fr fs mj fu fw jr bi translated">让您的仪表板脱颖而出—瀑布图</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">打动你的观众和老板！</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">pub.towardsai.net</p></div></div><div class="mm l"><div class="mn l mo mp mq mm mr ja md"/></div></div></a></div><div class="is it gp gr iu md"><a rel="noopener  ugc nofollow" target="_blank" href="/make-your-dashboard-stand-out-dotted-progress-chart-69b6a064a7d4"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd js gy z fp mi fr fs mj fu fw jr bi translated">让您的仪表板脱颖而出-虚线进度图</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">用一种创造性的选择打动你的观众！</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">pub.towardsai.net</p></div></div><div class="mm l"><div class="ms l mo mp mq mm mr ja md"/></div></div></a></div><div class="is it gp gr iu md"><a rel="noopener  ugc nofollow" target="_blank" href="/make-your-dashboard-stand-out-waffle-chart-70232488ebba"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd js gy z fp mi fr fs mj fu fw jr bi translated">让你的仪表板脱颖而出-华夫格图</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">打动你的客户和老板！</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">pub.towardsai.net</p></div></div><div class="mm l"><div class="mt l mo mp mq mm mr ja md"/></div></div></a></div><div class="is it gp gr iu md"><a rel="noopener  ugc nofollow" target="_blank" href="/make-your-dashboard-stand-out-radial-pie-guage-chart-482ecc7c80f8"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd js gy z fp mi fr fs mj fu fw jr bi translated">让您的仪表板脱颖而出—棒棒糖图表</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">打动你的客户和老板！</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">pub.towardsai.net</p></div></div><div class="mm l"><div class="mu l mo mp mq mm mr ja md"/></div></div></a></div><div class="is it gp gr iu md"><a rel="noopener  ugc nofollow" target="_blank" href="/make-your-dashboard-stand-out-dumbbell-chart-ae36d399e85"><div class="me ab fo"><div class="mf ab mg cl cj mh"><h2 class="bd js gy z fp mi fr fs mj fu fw jr bi translated">让你的仪表盘脱颖而出——哑铃图表</h2><div class="mk l"><h3 class="bd b gy z fp mi fr fs mj fu fw dk translated">让你的仪表盘脱颖而出——哑铃图表</h3></div><div class="ml l"><p class="bd b dl z fp mi fr fs mj fu fw dk translated">让你的仪表盘脱颖而出——哑铃Chartpub.towardsai.net</p></div></div><div class="mm l"><div class="mv l mo mp mq mm mr ja md"/></div></div></a></div><p id="7339" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">(<em class="mc">未完待续</em></p><p id="4846" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">在这篇文章中，我将为你的画面带来阳光！</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi mw"><img src="../Images/5c49f1890a4f276b0ac9e375bf55726f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D5BINL98k7ws4fQRzZnyJw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><h1 id="5f06" class="nb nc ji bd nd ne nf ng nh ni nj nk nl kx nm ky nn la no lb np ld nq le nr ns bi translated">主意</h1><p id="1423" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">坦率地说，我真的不知道是否有人将这种图表命名为“阳光”。也许有些人更喜欢称之为径向条形图，因为它们的性质。然而，这可能是不明确的，因为<a class="ae ny" rel="noopener ugc nofollow" target="_blank" href="/make-your-dashboard-stand-out-radial-pie-guage-chart-db052e5909b3">径向管规图</a>也可能是相关的。所以我个人更倾向于称之为我的方式，这样大家更容易记住。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nz"><img src="../Images/de30cd1f84dc374ef37091fec3b5623e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YnWXHE54dEwtMUBy"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">日照图的一个非凡例子(图片由<a class="ae ny" href="https://public.tableau.com/app/profile/allison6190" rel="noopener ugc nofollow" target="_blank">艾莉森·哈里斯</a>拍摄)</figcaption></figure><p id="9513" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">正如我提到的，它们是一堆围绕一个圆圈的柱状图。现在，在下一节中，我将介绍将水平条形图绑定到圆形条形图的方法。该指令将通过解释如何分别实现一个<em class="mc">基本条形图</em>和<em class="mc">堆叠一个</em>来显示。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oa"><img src="../Images/c5fbe85c51b4b9b65cc8b6ddec100bdb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*42t2QEl36UTf9YxL.jpg"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">这就是为什么我把它命名为“阳光”的灵感(图片由<a class="ae ny" href="https://pixabay.com/users/ipicgr-2249158/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1492818" rel="noopener ugc nofollow" target="_blank"> ipicgr </a>来自<a class="ae ny" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1492818" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>)</figcaption></figure><h1 id="21be" class="nb nc ji bd nd ne nf ng nh ni nj nk nl kx nm ky nn la no lb np ld nq le nr ns bi translated">履行</h1><p id="3d2d" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">像往常一样，我使用Tableau提供的示例数据源“股票”,您可以在示例工作簿“世界指标”中找到它。</p><p id="b034" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">有了数据源，我们首先要做的就是联盟本身。老实说，我真的不知道如何在Tableau中简单地做到这一点，我字面上导出到一个CSV文件，并复制现有的行。</p><p id="cdd4" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">然后创建一个新列来区分该行是原始的还是复制的。这一步将帮助我们定位酒吧的每个部分。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ob"><img src="../Images/d1edc326d96a516ac220f298716815c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jLJM2FGUOVy1h9WbaRcdhA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">目前，这是我们的表的样子，同时有一个新的列指示它的行是原始的还是重复的。(图片由作者提供)</figcaption></figure><h2 id="6556" class="oc nc ji bd nd od oe dn nh of og dp nl lp oh oi nn lt oj ok np lx ol om nr jo bi translated">基本条形图</h2><p id="9267" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">先说基础条形图。这里需要两个参数。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div class="gh gi on"><img src="../Images/b5e194970e16571dd2070f17da5f2b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*-sXT7jtFZl7MNkEzsECTIQ.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><figure class="mx my mz na gt iv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/98e6388fce8350c9ececf63928b06b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1138/format:webp/1*NhmYwNp5A0ZztUzRVbSIjw.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="403a" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">“径向内”可以被认为是“太阳”(内圆)的径向长度，“径向外”是“射线”(外圆)的最大可能长度。</p><p id="1395" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">做完这些，我们就能定义射线的长度。因此，这是唯一可添加的数字，我只是用“<em class="mc">卷</em>一栏来演示。</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="3108" class="oc nc ji oq b gy ou ov l ow ox">Radial Length:</span><span id="1d86" class="oc nc ji oq b gy oy ov l ow ox">[Radial Inner] + IIF(ATTR([Order])=0,0,SUM([Volume]) / TOTAL(SUM([Volume])))</span></pre><p id="03f6" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">计算字段“径向长度”反映了每天股票交易量的绝对差异。当行中有“径向长度”,列中有“Index()-1 ”,颜色为“公司”时，应该是这样的:</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi oz"><img src="../Images/a91e68f99716f2c5ce29039f061701e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Tfh8y97ampiCrY7Gjyi9A.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">小节之所以不从0.0开始，是因为我考虑到了“径向内”。这将有助于圆形图表完成时的视觉效果。(图片由作者提供)</figcaption></figure><p id="3109" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">接下来，我定义了另一个计算字段“径向角度”，并根据行索引顺时针放置数据:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="6429" class="oc nc ji oq b gy ou ov l ow ox">Radial Angle:<br/>(INDEX() - 1) * (1/WINDOW_COUNT(COUNT([Volume]))) * 2 * PI()</span></pre><p id="3ee4" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">最后，通过计算角度和长度，可以获得它们在轴空间上的X-Y坐标:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="7cc6" class="oc nc ji oq b gy ou ov l ow ox">Radial X:<br/>[Radial Normalized Length] * COS([Radial Angle])</span><span id="571d" class="oc nc ji oq b gy oy ov l ow ox">Radial Y:<br/>[Radial Normalized Length] * SIN([Radial Angle])</span></pre><p id="5db2" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">所以现在，当你完成以下步骤时:</p><ul class=""><li id="c174" class="pa pb ji li b lj lk lm ln lp pc lt pd lx pe mb pf pg ph pi bi translated">拖拽<strong class="li js">径向X </strong>到<em class="mc">列，</em></li><li id="9892" class="pa pb ji li b lj pj lm pk lp pl lt pm lx pn mb pf pg ph pi bi translated">拖放<strong class="li js">径向Y </strong>到<em class="mc">行，</em></li><li id="8859" class="pa pb ji li b lj pj lm pk lp pl lt pm lx pn mb pf pg ph pi bi translated">拖拽<strong class="li js">公司</strong>到<em class="mc">颜色，</em></li><li id="8713" class="pa pb ji li b lj pj lm pk lp pl lt pm lx pn mb pf pg ph pi bi translated">将<strong class="li js">日期</strong>拖放到<em class="mc">明细</em>，并将其转换为精确的<strong class="li js">日，</strong></li><li id="223a" class="pa pb ji li b lj pj lm pk lp pl lt pm lx pn mb pf pg ph pi bi translated">在标记类型中选择<strong class="li js">线图</strong>，拖动&amp;下拉<strong class="li js">命令</strong>到<em class="mc">路径</em></li><li id="029f" class="pa pb ji li b lj pj lm pk lp pl lt pm lx pn mb pf pg ph pi bi translated">使用<strong class="li js">日期</strong> <em class="mc">设置<strong class="li js">径向X </strong>、<strong class="li js">径向Y </strong>进行计算；</em></li></ul><p id="0c92" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">你应该看到这样的视觉效果:</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi po"><img src="../Images/47a12a50655fafe3287d44c7a0b9e310.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RfhMCkbIWbQtxis1GIia5w.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">看不到日照图的美？不要担心，请继续阅读！(图片由作者提供)</figcaption></figure><h2 id="d90a" class="oc nc ji bd nd od oe dn nh of og dp nl lp oh oi nn lt oj ok np lx ol om nr jo bi translated">堆积条形图</h2><p id="028d" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">与基础的主要区别是角度的定义。这是因为现在我们将根据日期时间顺序显示数据。所以两个新变量是必要的。首先，我需要一个新的索引列，它是使用Date(它的最深单元)计算的:</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pp"><img src="../Images/eec78e1afbe37f1ccbf08a69859642cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eYSsa0fEXDnL2WwRSHBxTw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="55da" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">第二，用这个指数来定义日期在一个圆内的角度:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="0966" class="oc nc ji oq b gy ou ov l ow ox">Stack Angle:<br/>([Index] - 1) / <br/>TOTAL(SUM(<br/>{ FIXED YEAR([Date]) : MAX(DATEPART('week', [Date]))}<br/>)) * 2 * PI()</span></pre><p id="22b3" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">另一方面，因为我知道我在日级别上工作，所以应该建立一些日级别的计算。</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="2692" class="oc nc ji oq b gy ou ov l ow ox">Amazon Volume / Day :<br/>{FIXED DATETRUNC('day', [Date]): SUM(IF [Company] = 'Amazon' THEN [Volume] END)}</span><span id="b7f2" class="oc nc ji oq b gy oy ov l ow ox">Apple Volume / Day : <br/>{FIXED DATETRUNC('day', [Date]): SUM(IF [Company] = 'Apple' THEN [Volume] END)}</span><span id="2bea" class="oc nc ji oq b gy oy ov l ow ox">Biogen Volume / Day :<br/>{FIXED DATETRUNC('day', [Date]): SUM(IF [Company] = 'Biogen Idec' THEN [Volume] END)}</span><span id="4a1e" class="oc nc ji oq b gy oy ov l ow ox">Volume / Day : <br/>{FIXED DATETRUNC('day', [Date]): SUM([Volume])}</span></pre><p id="3387" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我们需要控制每个小节的开始和结束位置。这就是“<em class="mc">订单</em>创建的目的:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="05e7" class="oc nc ji oq b gy ou ov l ow ox">Absolute Location:<br/><br/>IF [Order] = 1<br/>THEN CASE [Company]<br/>WHEN 'Amazon' THEN 0<br/>WHEN 'Apple' THEN [Amazon Volume / Day]<br/>WHEN 'Biogen Idec' THEN ([Amazon Volume / Day] + [Apple Volume / Day])<br/>END<br/>ELSE<br/>CASE [Company]<br/>WHEN 'Amazon' THEN [Amazon Volume / Day]<br/>WHEN 'Apple' THEN ([Amazon Volume / Day] + [Apple Volume / Day])<br/>WHEN 'Biogen Idec' THEN [Volume / Day]<br/>END<br/>END</span></pre><p id="30e9" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">而现在既然我们已经有了“<em class="mc">堆叠角度</em>和“<em class="mc">绝对位置</em>，我们就可以快速计算出它们的坐标:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="66bd" class="oc nc ji oq b gy ou ov l ow ox">Stacked X:<br/>ATTR([Absolute Location]) * COS([Stack Angle])</span><span id="4f79" class="oc nc ji oq b gy oy ov l ow ox">Stacked Y:<br/>ATTR([Absolute Location]) * SIN([Stack Angle])</span></pre><p id="cd68" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">让我们看一看。每列的分配应该参照我们在简单条形图上的做法。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pq"><img src="../Images/193a30ca0f441ef8be533f37bde81741.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gPc_9DxXIo2JBBScohiDiw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><p id="7a8c" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">很接近，但是我猜你可能对视觉效果不满意。尤其是不包括中圈。我的解决方案是通过硬编码距离来格式化一些漂亮的空间。</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="84c5" class="oc nc ji oq b gy ou ov l ow ox">Absolute Location:<br/><br/>500000000 + <br/>IF [Order] = 1<br/>THEN CASE [Company]<br/>WHEN 'Amazon' THEN 0<br/>WHEN 'Apple' THEN [Amazon Volume / Day] + 500000000<br/>WHEN 'Biogen Idec' THEN ([Amazon Volume / Day] + [Apple Volume / Day]) + 500000000 * 2<br/>END<br/>ELSE<br/>CASE [Company]<br/>WHEN 'Amazon' THEN [Amazon Volume / Day]<br/>WHEN 'Apple' THEN ([Amazon Volume / Day] + [Apple Volume / Day]) + 500000000<br/>WHEN 'Biogen Idec' THEN [Volume / Day] + 500000000 * 2<br/>END<br/>END</span></pre><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pr"><img src="../Images/5c8a98e1d710fe216eb1c57c4b589885.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8tl9oDz0aKfHAWv9HOaDhA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><h1 id="ecc1" class="nb nc ji bd nd ne nf ng nh ni nj nk nl kx nm ky nn la no lb np ld nq le nr ns bi translated">改进</h1><p id="50eb" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">之前我只是谈论了如何使用阳光效果来反映数据的绝对值。然而，并不总是需要承认特定的价值。例如，在我们的案例中，也许人们只需要知道每只股票何时达到其交易量的峰值，而不管准确的股票数量；他们可能只知道一个交易日内不同股票的比例，而不知道总数。</p><p id="6984" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">这就是使用相对图表的情况。从本质上讲，将图表转换为相对刻度是一个标准化的问题。</p><h2 id="930d" class="oc nc ji bd nd od oe dn nh of og dp nl lp oh oi nn lt oj ok np lx ol om nr jo bi translated">径向相对条形图</h2><p id="36bd" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">你一定不要被那些几乎看不见棒线的绝对图表所困扰。这是因为我们的数据样本是如此之大，而没有一个单一的组成部分占很大的比例。相对条形图很有帮助，因为它比较了单个成分与其类别中总成分的比例。为此，只需要做一个改变:修改<em class="mc">径向长度</em>的公式:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="954c" class="oc nc ji oq b gy ou ov l ow ox">Radial Normalized Length:<br/>[Radial Inner] + IIF(ATTR([Order])=0,0,SUM([Volume]) / WINDOW_MAX(SUM([Volume])) * ([Radial Outer] - [Radial Inner]))</span></pre><p id="1840" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">因为我创建了一个新字段，所以X，Y坐标也应该相应地更改:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="f796" class="oc nc ji oq b gy ou ov l ow ox">Radial Normalized X:<br/>[Radial Normalized Length] * COS([Radial Angle])</span><span id="1b7b" class="oc nc ji oq b gy oy ov l ow ox">Radial Normalized Y:<br/>[Radial Normalized Length] * SIN([Radial Angle])</span></pre><p id="0932" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">所以现在，viz将提供更多信息:</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ps"><img src="../Images/f5e8444062dc28652b28e062d54df548.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jab7q-k4Gl0jS5ykmM-34Q.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><h2 id="5127" class="oc nc ji bd nd od oe dn nh of og dp nl lp oh oi nn lt oj ok np lx ol om nr jo bi translated">径向相对堆栈条形图</h2><p id="d849" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">与基本的不同，相对堆叠条形图中光线的最大长度是固定的(1 + [ <em class="mc">径向内部</em> ])，这需要您堆叠每个组件的百分比，而不是它们的具体值。此外，改变间隙尺寸总是非常优选的。</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="b934" class="oc nc ji oq b gy ou ov l ow ox">Location:<br/>0.3 + <br/>IF [Order] = 1<br/>THEN CASE [Company]<br/>WHEN 'Amazon' THEN 0<br/>WHEN 'Apple' THEN [Amazon Volume / Day] / [Volume / Day] + 0.3<br/>WHEN 'Biogen Idec' THEN ([Amazon Volume / Day] + [Apple Volume / Day]) / [Volume / Day] + 0.6<br/>END<br/>ELSE<br/>CASE [Company]<br/>WHEN 'Amazon' THEN [Amazon Volume / Day] / [Volume / Day]<br/>WHEN 'Apple' THEN ([Amazon Volume / Day] + [Apple Volume / Day]) / [Volume / Day] + 0.3<br/>WHEN 'Biogen Idec' THEN 1 + 0.6<br/>END<br/>END</span></pre><p id="2fb5" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">有了它，X &amp; Y就像:</p><pre class="mx my mz na gt op oq or os aw ot bi"><span id="1ea3" class="oc nc ji oq b gy ou ov l ow ox">Stack X:<br/>ATTR([Location]) * COS([Stack Angle])</span><span id="282d" class="oc nc ji oq b gy oy ov l ow ox">Stack Y:<br/>ATTR([Location]) * SIN([Stack Angle])</span></pre><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi pt"><img src="../Images/26e3e75da335c53b46ce7b043c70c575.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TtTaQfseQrX7QjqR9Z-T7g.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">作者图片</figcaption></figure><h1 id="7165" class="nb nc ji bd nd ne nf ng nh ni nj nk nl kx nm ky nn la no lb np ld nq le nr ns bi translated">结论</h1><p id="27c3" class="pw-post-body-paragraph lg lh ji li b lj nt ks ll lm nu kv lo lp nv lr ls lt nw lv lw lx nx lz ma mb im bi translated">搞定了。你离数据禅宗之路又近了一步！如果你对我的工作有什么意见，即如何在Tableau上将数据源与它本身完全结合，请在评论中告诉我！</p><p id="86d8" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">如果你对我的实际工作感兴趣，可以看看下面的链接:</p><p id="98f8" class="pw-post-body-paragraph lg lh ji li b lj lk ks ll lm ln kv lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated"><a class="ae ny" href="https://public.tableau.com/views/SunshineChart/HorizontalRelativeBarChart?:language=en-US&amp;publish=yes&amp;:display_count=n&amp;:origin=viz_share_link" rel="noopener ugc nofollow" target="_blank">https://public . tableau . com/app/profile/Memphis 4346/viz/sunshine chart/RadialRelativeBarChart</a></p></div></div>    
</body>
</html>