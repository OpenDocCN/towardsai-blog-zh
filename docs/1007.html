<html>
<head>
<title>Classification Evaluation Metrics Explained Clearly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分类评估指标解释清楚</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/classification-evaluation-metrics-explained-clearly-e74756dd2a0f?source=collection_archive---------2-----------------------#2020-10-05">https://pub.towardsai.net/classification-evaluation-metrics-explained-clearly-e74756dd2a0f?source=collection_archive---------2-----------------------#2020-10-05</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="9102" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a>，<a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><div class=""><h2 id="6d08" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">理解混淆矩阵、精确度、回忆、F1分数等。</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/0e154991a188ea959e097ab82bf5a8c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_PQIG5vbp-t2QHgS"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">照片由<a class="ae li" href="https://unsplash.com/@isaacmsmith?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">艾萨克·史密斯</a>在<a class="ae li" href="https://unsplash.com/?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄</figcaption></figure></div><div class="ab cl lj lk hy ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="in io ip iq ir"><p id="c964" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">即使是有经验的人也会对分类评估指标中使用的术语感到困惑，如精确度、召回率、F1分数等。对这些指标的良好理解对于数据科学家做出明智的决策至关重要。在这篇文章中，我将尝试直观地解释，以便您不必再次重温这些。那么，我们开始吧。</p><h1 id="a692" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">混淆矩阵</h1><p id="d07f" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">我们将从理解混淆矩阵开始讨论，因为这是本文其余部分的基础。理解以下术语非常重要。</p><p id="463c" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">我们将考虑一个二元分类的例子来理解这些概念。让我们假设我们正在预测一个病人是否患有癌症。阳性标记(1)表示患者患有癌症，而阴性标记(0)表示该人未患癌症。</p><blockquote class="nj nk nl"><p id="8d99" class="lq lr nm ls b lt lu ke lv lw lx kh ly nn ma mb mc no me mf mg np mi mj mk ml in bi translated">注意:你可能会想，为什么我为癌症患者选择阳性标签，而不是相反。在统计学或数据科学的行话中，某物的存在被认为是积极的，而某物的缺乏被认为是消极的。因此，在这种情况下，癌症的存在可以被标记为阳性标记，而癌症的不存在是阴性标记。</p></blockquote><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj nq"><img src="../Images/32155daf1683526a8499eaac2ac459a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t9LFQ0eJ-Ydpdh9zmwiqTw.png"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">作者图片</figcaption></figure><h2 id="3fc9" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated"><strong class="ak"> TP(真阳性)</strong></h2><p id="0452" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">它是模型正确预测的阳性标签的数量。</p><h2 id="bd46" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated"><strong class="ak"> TN(真否定)</strong></h2><p id="7ce1" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">它是模型正确预测的阳性标签的数量。</p><h2 id="2f41" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated"><strong class="ak"> FP(假阳性)</strong></h2><p id="f9a6" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">它是不正确预测的阳性标签的数量，即实际上是阴性但被模型预测为阳性的标签。这也称为I类错误。如果你的模型预测这个人是癌症患者，而实际上这个人不是癌症患者，你就犯了第一类错误。</p><h2 id="3774" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated"><strong class="ak"> FN(假阴性)</strong></h2><p id="2708" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">它是错误预测的阴性标签的数量，即实际上是阳性但被模型预测为阴性的标签。这也称为第二类错误。如果你的模型预测病人不是癌症，而实际上病人是癌症，你就犯了第二类错误。</p><p id="0fb4" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">尽可能减少第二类错误是至关重要的。想象一下当你不能正确预测癌症患者时的后果。</p><h2 id="7117" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated"><strong class="ak">真阳性率(TPR) </strong></h2><p id="91e1" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">TPR指所有阳性标记中正确预测的阳性标记的比率。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj oc"><img src="../Images/ff17194c2e09dd23f9eeedc125845393.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*-asWoWT3hKBbLdoXYKaaZQ.png"/></div></figure><h2 id="c535" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated">真实负利率(TNR)</h2><p id="20eb" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">TNR指的是所有错误标签中正确预测的阴性标签的比率。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj od"><img src="../Images/548d310738b07a36d2b6e6d04c7faae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:712/format:webp/1*k6CBqlPHeNndDii4rmWbDA.png"/></div></figure><h2 id="9a38" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated">假阳性率(FPR)</h2><p id="e500" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">FPR是指所有阴性标签中预测错误的阳性标签的比率。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj oe"><img src="../Images/e84aa83e0adcf042c850707f9bf80ad7.png" data-original-src="https://miro.medium.com/v2/resize:fit:694/format:webp/1*c_2pRgZ2yc__QZr5Sz5ioQ.png"/></div></figure><h2 id="cb46" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated">假阴性率</h2><p id="f678" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">FNR指所有阳性标记中错误预测的阴性标记的比率。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj of"><img src="../Images/6c659acd60b5831fd8a526db3cb39295.png" data-original-src="https://miro.medium.com/v2/resize:fit:710/format:webp/1*vyDt8RbKjQd9cXC1-tTW1A.png"/></div></figure><h1 id="0dea" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">准确(性)</h1><p id="b123" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">准确性是最常用的分类评估指标。在模型预测的所有标签中，有多少标签实际上是正确预测的。它是正确预测的标签与标签总数的比率。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj og"><img src="../Images/d7256901bf0e11d05724ee7069ec6570.png" data-original-src="https://miro.medium.com/v2/resize:fit:588/format:webp/1*tAi5iEbkpabhR_pmPZ_nyg.png"/></div></figure><h2 id="23f1" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated"><strong class="ak">当准确度不是一个好的评价指标</strong>？</h2><p id="0541" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">当数据集不平衡时，精确度不是一个好的指标。我们借助一个例子来了解一下。假设您正在为信用卡欺诈检测构建一个分类模型。在数以百万计的信用卡交易中，几乎不会有几笔欺诈交易，比如10-15笔。在这样的情况下，你的正面标签(欺诈)和负面标签(非欺诈)是高度不平衡的。这意味着您不必构建模型，而只需预测所有标签不是欺诈，并且您仍然能够实现99%的准确性。现在，您明白了为什么当数据集不平衡时，准确性不是一个好的指标。</p><p id="ace5" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">使用精度的另一个缺点是只能使用1或0等类标签。它不能考虑预测的概率。</p><h1 id="b10d" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">精确</h1><p id="0892" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">在所有积极预测的标签中，有多少百分比实际上是积极的标签。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj oh"><img src="../Images/93b431dbef6e56e8d853da9390dc0045.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*0VWj0dmXdIIwTXV8PJlZzA.png"/></div></figure><h2 id="78b6" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated">精确比回忆更重要。</h2><p id="2d78" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">考虑垃圾邮件(正标签)或非垃圾邮件(负标签)电子邮件检测的示例。在这种情况下，如果模型不能正确预测垃圾邮件，并且没有进入垃圾邮件文件夹，而是出现在您的收件箱中，您应该没有问题。你不希望一封好的邮件(不是垃圾邮件/负面标签)变成垃圾邮件。因此，在这种情况下，如果模型预测某些积极的东西(即垃圾邮件)，它最好是垃圾邮件，否则您可能会错过重要的邮件。正如你已经注意到的，这里精度更重要。</p><h1 id="2bcf" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">回忆(敏感度)</h1><p id="bdd2" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">回忆也称为敏感度和真阳性率(TPR)。在所有积极的标签中，有多少百分比被预测为积极的。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj oi"><img src="../Images/00153679207bc5aa7a2e9ef0d612cd00.png" data-original-src="https://miro.medium.com/v2/resize:fit:454/format:webp/1*3ci-33jFnIEjK-PIG915pw.png"/></div></figure><h2 id="8844" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated">什么时候回忆比精确更重要？</h2><p id="11d1" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">考虑一个预测癌症患者的例子。在这种情况下，你不希望错误地将一个癌症患者(阳性标签)预测为非癌症(阴性标签)。因此，这里的目标是正确预测所有阳性标记，即正确预测所有癌症患者。如果模型预测很少患者是非癌性的(假阳性)，而不是相反，你是没问题的。正如你已经注意到的，回忆在这里很重要。</p><h1 id="e43b" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">f1-分数</h1><p id="0140" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">F1分数是精确度和召回率的调和平均值。结果介于0和1之间，0表示最差，1表示最好。它是模型准确性的度量。计算方法如下-</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj oj"><img src="../Images/18fbb856715ce2a131de3ce5c86dad86.png" data-original-src="https://miro.medium.com/v2/resize:fit:734/format:webp/1*rg9u1qp4SohXdYC0H_4h-A.png"/></div></figure><h2 id="f4de" class="nr mn iu bd mo ns nt dn ms nu nv dp mw lz nw nx my md ny nz na mh oa ob nc ja bi translated">当我们有精确度和召回率的时候，为什么F1得分？</h2><p id="b03d" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">对于某些问题，获得高召回率比获得高精确度更重要，例如在预测癌症患者的例子中。对于某些问题，获得高精度比获得高召回率更重要，例如预测电子邮件是否是垃圾邮件。但是在很多情况下，我们需要在精确度和召回率之间取得平衡。这就是F1分数变得重要的地方，因为F1分数同时考虑了精确度和召回率。如果精度或召回率中的一个非常低，那么F1值也非常低，您知道您的模型有问题，以便您可以进一步调查。</p><h1 id="7937" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">错误分类率</h1><p id="8e40" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">它是错误预测标签的百分比。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj ok"><img src="../Images/28f153bdce33335346b63d74d4bbb20b.png" data-original-src="https://miro.medium.com/v2/resize:fit:840/format:webp/1*Ilwe2i1XRGgvNRv2slKz7g.png"/></div></figure><h1 id="eb1e" class="mm mn iu bd mo mp mq mr ms mt mu mv mw kj mx kk my km mz kn na kp nb kq nc nd bi translated">结论</h1><p id="371a" class="pw-post-body-paragraph lq lr iu ls b lt ne ke lv lw nf kh ly lz ng mb mc md nh mf mg mh ni mj mk ml in bi translated">希望你已经理解了大部分的分类评价指标。还有一个更重要的指标叫做AUC ROC，我打算在另一篇文章中单独讨论。</p><p id="2be5" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated"><em class="nm">阅读更多关于Python和数据科学的此类有趣文章，</em> <a class="ae li" href="https://pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ls je"> <em class="nm">订阅</em> </strong> </a> <em class="nm">到我的博客</em><a class="ae li" href="http://www.pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ls je"><em class="nm">【www.pythonsimplified.com】</em></strong></a><strong class="ls je"><em class="nm">。</em> </strong>你也可以通过<a class="ae li" href="https://www.linkedin.com/in/chetanambi/" rel="noopener ugc nofollow" target="_blank"> <strong class="ls je"> LinkedIn </strong> </a>联系我。</p></div></div>    
</body>
</html>