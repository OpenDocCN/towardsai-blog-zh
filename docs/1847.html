<html>
<head>
<title>Why Outlier Detection is Hard</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么异常值检测很难</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/why-outlier-detection-is-hard-94386578be6c?source=collection_archive---------1-----------------------#2021-05-14">https://pub.towardsai.net/why-outlier-detection-is-hard-94386578be6c?source=collection_archive---------1-----------------------#2021-05-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="255e" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><div class=""><h2 id="1e80" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">异常检测机器学习任务的考虑因素</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/91d132cc40e665b67539fdf3c3c2de11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uCiiccjYhJfx2DIB.jpg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片由<a class="ae lh" href="https://pixabay.com/users/hans-2/" rel="noopener ugc nofollow" target="_blank">汉斯</a>在<a class="ae lh" href="https://pixabay.com/photos/pieces-of-the-puzzle-mix-hands-592798/" rel="noopener ugc nofollow" target="_blank">皮克斯贝</a>拍摄</figcaption></figure><p id="349e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi me translated"><span class="l mf mg mh bm mi mj mk ml mm di"> O </span> utlier detection是一项机器学习任务，旨在识别偏离给定数据的“正常”或一般分布的罕见项目、事件或观察值。</p><blockquote class="mn"><p id="1b87" class="mo mp it bd mq mr ms mt mu mv mw md dk translated"><strong class="ak">异常是指引起怀疑是由不同的数据生成机制生成的东西</strong></p></blockquote><h1 id="1c95" class="mx my it bd mz na nb nc nd ne nf ng nh ki ni kj nj kl nk km nl ko nm kp nn no bi translated">异常值检测机器学习任务</h1><p id="1902" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated"><strong class="lk jd">在离群点检测任务中，目标是训练一个无监督模型，以发现受两个约束的异常</strong>:</p><ol class=""><li id="2b85" class="nu nv it lk b ll lm lo lp lr nw lv nx lz ny md nz oa ob oc bi translated">尽量减少假阴性(也就是尽可能多地捕捉异常)。</li><li id="13fa" class="nu nv it lk b ll od lo oe lr of lv og lz oh md nz oa ob oc bi translated">尽量减少误报(也就是当异常被标记时，不要出错)。</li></ol><p id="d7a7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在许多应用中，还有第三个约束:<strong class="lk jd">什么是真正的离群值的“基本事实”可能是未知的</strong>！</p><p id="c51a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">离群点检测是一项重要的机器学习任务。应用包括监控网络安全中的入侵检测、机械故障检测和数据质量。<em class="oi">数据质量在许多行业都很重要，包括金融和医疗保健。</em></p><h1 id="1bcd" class="mx my it bd mz na nb nc nd ne nf ng nh ki oj kj nj kl ok km nl ko ol kp nn no bi translated">离群点检测算法</h1><p id="8008" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">在深入研究这些挑战之前，有必要强调一点，即有一系列算法是为异常值检测而设计的。这些算法很多都是用python实现的！</p><p id="1548" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe om on oo op b"><a class="ae lh" href="https://scikit-learn.org/stable/modules/outlier_detection.html" rel="noopener ugc nofollow" target="_blank">scikit-learn</a></code>已经实现了几种异常值和新颖性检测算法。</p><p id="9b01" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe om on oo op b"><a class="ae lh" href="https://pyod.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">PyOD</a></code>，一个较新的python包，实现了一套更全面的30+离群点检测算法。您可以在此了解更多关于PyOD的信息:</p><div class="oq or gp gr os ot"><a href="https://towardsdatascience.com/pyod-a-unified-python-library-for-anomaly-detection-3608ec1fe321" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd jd gy z fp oy fr fs oz fu fw jc bi translated">PyOD:用于异常检测的统一Python库</h2><div class="pa l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">towardsdatascience.com</p></div></div><div class="pb l"><div class="pc l pd pe pf pb pg lb ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://towardsdatascience.com/fast-accurate-anomaly-detection-based-on-copulas-copod-3133ce9041fa" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd jd gy z fp oy fr fs oz fu fw jc bi translated">基于COPOD的快速准确异常检测</h2><div class="pa l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">towardsdatascience.com</p></div></div><div class="pb l"><div class="ph l pd pe pf pb pg lb ot"/></div></div></a></div><div class="oq or gp gr os ot"><a rel="noopener  ugc nofollow" target="_blank" href="/an-in-depth-guide-to-local-outlier-factor-lof-for-outlier-detection-in-python-5a6f128e5871"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd jd gy z fp oy fr fs oz fu fw jc bi translated">Python中离群点检测的局部离群点因子(LOF)深度指南</h2><div class="pi l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">理论直觉、数学定义和实际代码示例</h3></div><div class="pa l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">pub.towardsai.net</p></div></div><div class="pb l"><div class="pj l pd pe pf pb pg lb ot"/></div></div></a></div><div class="oq or gp gr os ot"><a href="https://medium.com/geekculture/replace-outlier-detection-by-simple-statistics-with-ecod-f95a7d982f79" rel="noopener follow" target="_blank"><div class="ou ab fo"><div class="ov ab ow cl cj ox"><h2 class="bd jd gy z fp oy fr fs oz fu fw jc bi translated">用ECOD简单统计取代异常值检测</h2><div class="pi l"><h3 class="bd b gy z fp oy fr fs oz fu fw dk translated">一种新的基于python的、简单的、无参数的、可解释的无监督异常检测方法</h3></div><div class="pa l"><p class="bd b dl z fp oy fr fs oz fu fw dk translated">medium.com</p></div></div><div class="pb l"><div class="pk l pd pe pf pb pg lb ot"/></div></div></a></div><p id="3fc6" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe om on oo op b"><a class="ae lh" href="https://arundo-adtk.readthedocs-hosted.com/en/stable/" rel="noopener ugc nofollow" target="_blank">adtk</a></code>(异常检测工具包)实现了几种专门针对时序数据的异常检测算法。</p><h1 id="9f92" class="mx my it bd mz na nb nc nd ne nf ng nh ki oj kj nj kl ok km nl ko ol kp nn no bi translated">异常值检测的挑战</h1><p id="4f64" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">异常值检测的挑战有很多方面。挑战背后的主题是难以或不可能获得完整和准确的异常标记。</p><h2 id="e8ed" class="pl my it bd mz pm pn dn nd po pp dp nh lr pq pr nj lv ps pt nl lz pu pv nn iz bi translated">挑战1:模型/算法选择</h2><p id="7ece" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">算法选择是困难的，因为离群点检测最好被框定为<em class="oi">无监督</em>或<em class="oi">半监督</em>任务。</p><p id="12a2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">为什么不训练一个<em class="oi">监督的</em>异常检测模型？</p><ul class=""><li id="8853" class="nu nv it lk b ll lm lo lp lr nw lv nx lz ny md pw oa ob oc bi translated"><strong class="lk jd">有些未来可能出现的异常，过去从未出现过</strong>。(例如:不可能在一份医疗表格中完全列举所有可能的错别字)</li><li id="0fcc" class="nu nv it lk b ll od lo oe lr of lv og lz oh md pw oa ob oc bi translated">不平衡的类意味着<strong class="lk jd">异常很少</strong>(假设数据质量不差)</li><li id="2d51" class="nu nv it lk b ll od lo oe lr of lv og lz oh md pw oa ob oc bi translated">标签通常不可用或难以获得</li></ul><p id="1f20" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">那么，给定一组无监督的异常检测模型，如何确定哪个最适合您的数据呢？</p><p id="4b58" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可以考虑一些启发法:</p><ul class=""><li id="5908" class="nu nv it lk b ll lm lo lp lr nw lv nx lz ny md pw oa ob oc bi translated"><strong class="lk jd">检查标记为异常值的数据集的百分比。</strong>如果检测器返回“大”百分比的数据集为异常(例如25%)，并且数据预期质量良好，则很可能不太合适。</li><li id="a131" class="nu nv it lk b ll od lo oe lr of lv og lz oh md pw oa ob oc bi translated"><strong class="lk jd">抽查。</strong>反常预测“看起来”反常吗？最高分预测的样本。</li><li id="e208" class="nu nv it lk b ll od lo oe lr of lv og lz oh md pw oa ob oc bi translated"><strong class="lk jd">请人类专家标记一些数据</strong>并将你的模型的异常预测与人类标签进行比较。</li></ul><h2 id="9af4" class="pl my it bd mz pm pn dn nd po pp dp nh lr pq pr nj lv ps pt nl lz pu pv nn iz bi translated">挑战2:异常等级和阈值选择</h2><p id="ddce" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">无监督异常检测器为观察值分配异常分数。这导致了两个问题:</p><ol class=""><li id="5326" class="nu nv it lk b ll lm lo lp lr nw lv nx lz ny md nz oa ob oc bi translated"><strong class="lk jd">按算法得分排名异常不完善</strong>。许多高等级的观察可能是正常的(假阳性)。排名较低的观察值可能是实际的异常值(假阴性，或遗漏的真阳性)</li><li id="a858" class="nu nv it lk b ll od lo oe lr of lv og lz oh md nz oa ob oc bi translated"><strong class="lk jd">必须选择异常值的阈值或截止值</strong>来预测观察值是否为异常值。如果阈值太高，就会得到太多的假阴性。如果它太低，你会得到太多的误报。</li></ol><p id="0739" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">阈值选择很难，因为标签是不完美的。</strong></p><p id="8436" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">标签很难获得，并且很少包含所有可能的异常。此外，取决于兴趣或观点，用户可以不同地定义异常</p><p id="eea9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">阈值选择至关重要，因为它直接影响模型质量。</strong></p><p id="9126" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果您有太多的误报，当人们检查异常值时，您会遇到以人为中心的挑战。</p><ul class=""><li id="188d" class="nu nv it lk b ll lm lo lp lr nw lv nx lz ny md pw oa ob oc bi translated">人类的时间是昂贵的，并且很难扩展来查看许多异常值。</li><li id="8d8f" class="nu nv it lk b ll od lo oe lr of lv og lz oh md pw oa ob oc bi translated">人类很容易对一个经常出错的模型失去信任。如果你有太多的假阴性或错过了人类认为重要的真实异常值，人类可能会对模型失去信任，不会使用它。</li></ul><h2 id="763b" class="pl my it bd mz pm pn dn nd po pp dp nh lr pq pr nj lv ps pt nl lz pu pv nn iz bi translated">挑战3:维度和分布</h2><p id="71ca" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">许多无监督的异常检测器对数据分布做出假设。</p><p id="9531" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">关于你的数据的分布假设通常是错误的！</p><p id="cf2a" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，可以基于非正态分布的数据集的X标准偏差来选择阈值。</p><p id="3e65" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">高维空间(许多特征)是稀疏的。</strong></p><p id="1de7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">单位3D立方体中两个随机点之间的平均距离约为0.66。</p><p id="4a01" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在一个1，000，000D单位的立方体中，两个随机点之间的平均距离约为408.25！</p><p id="24cd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">因此，高维数据中的大多数观测值彼此之间会相距很远，因此很难(或不太准确)将“常态”定义为靠近其他点</p><h2 id="e8ea" class="pl my it bd mz pm pn dn nd po pp dp nh lr pq pr nj lv ps pt nl lz pu pv nn iz bi translated">挑战4:验证异常值预测</h2><p id="4e77" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">给定一个具有异常预测的模型，如何验证该模型？</p><p id="1490" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">实际上，解决方案是特定于领域的。</p><p id="da0c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">有几个通用的解决方案:</p><ul class=""><li id="4ecb" class="nu nv it lk b ll lm lo lp lr nw lv nx lz ny md pw oa ob oc bi translated">向人类发送一些异常值以获得反馈:</li><li id="680e" class="nu nv it lk b ll od lo oe lr of lv og lz oh md pw oa ob oc bi translated">拥有一些预先标记的已知异常，并衡量模型标记这些异常的能力。</li></ul><h1 id="c130" class="mx my it bd mz na nb nc nd ne nf ng nh ki oj kj nj kl ok km nl ko ol kp nn no bi translated">结论</h1><p id="9970" class="pw-post-body-paragraph li lj it lk b ll np kd ln lo nq kg lq lr nr lt lu lv ns lx ly lz nt mb mc md im bi translated">面对这四个挑战，离群点检测是一项有趣且具有挑战性的机器学习任务。应对和解决这些挑战需要数据理解、分析技能以及与主题专家的合作。</p></div></div>    
</body>
</html>