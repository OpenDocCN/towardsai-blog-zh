<html>
<head>
<title>Linear Regression Analysis in Materials Sciences</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">材料科学中的线性回归分析</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/linear-regression-analysis-in-materials-sciences-a45caac70d70?source=collection_archive---------1-----------------------#2019-08-06">https://pub.towardsai.net/linear-regression-analysis-in-materials-sciences-a45caac70d70?source=collection_archive---------1-----------------------#2019-08-06</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4b07" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><strong class="ak">用Pylab | </strong> <a class="ae ep" href="https://towardsai.net" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">对二硫化钼晶体的能带结构进行分析</strong></a></h2><div class=""/><div class=""><h2 id="b6cd" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated"><strong class="ak">利用Pylab分析二硫化钼晶体的能带结构</strong></h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/a750342be22d407e1be1010cd0b4d1f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*l1FCw97vBfAxYtZ6yrurgg.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated"><strong class="bd ld">mos 2晶体导带的抛物线拟合。</strong></figcaption></figure><p id="952a" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">此代码对MoS2晶体的模拟能带结构数据执行线性回归。MoS2的能带结构在上一篇文章中计算过:<a class="ae ma" href="https://medium.com/modern-physics/tutorial-setting-up-and-running-a-dft-calculation-using-quantum-espresso-d7a2428495bd" rel="noopener"> <strong class="lg jd">利用量子浓缩</strong> </a>的密度泛函理论教程。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mb"><img src="../Images/ac0a2764ec81c681034014bcd3a70e9f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*R-HLj028Gvj2BifQ6MbDww.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated"><strong class="bd ld">图1:采用密度泛函理论的MoS2晶体能带结构</strong>。</figcaption></figure><p id="4673" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">线性回归分析可以用来对<strong class="lg jd"> K </strong>点附近的导带和价带数据拟合一条抛物线(度数= 2)，如图1所示。这种分析将产生关于电子和空穴有效质量的重要信息，电子和空穴有效质量是任何半导体材料的关键输运性质。为简单起见，我们将只关注导带。</p><p id="9a02" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">对于电子有效质量计算，我们对导带数据使用二次(抛物线)拟合(<strong class="lg jd">度= 2 </strong>):</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="md me di mf bf mg"><div class="gh gi mc"><img src="../Images/48ea53f5b66c7be6f223a32666f80515.png" data-original-src="https://miro.medium.com/v2/resize:fit:548/format:webp/1*vjD4YvCgNNcr-pBhRLwt5Q.png"/></div></div></figure><p id="eb10" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">在哪里</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi mh"><img src="../Images/5bb6adb54700030417c629b53e429132.png" data-original-src="https://miro.medium.com/v2/resize:fit:876/format:webp/1*09FBINxOVukgWi2LT8a4Ig.png"/></div></figure><p id="067a" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">这是一个例子，其中导带最小值附近(在图1中的<strong class="lg jd"> K点</strong>处)的色散关系的行为的知识引导我们选择二次拟合。即使更高次的多项式拟合，例如次数= 4产生更好的精度(更高的R平方值)，它也会导致模型的过度拟合，即没有物理解释的模型。</p><p id="0fb0" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">本文的数据集和代码可以从这个资源库下载:<a class="ae ma" href="https://github.com/bot13956/regression_band_structure" rel="noopener ugc nofollow" target="_blank">https://github.com/bot13956/regression_band_structure</a>。</p><h1 id="1ad6" class="mi mj it bd ld mk ml mm mn mo mp mq mr ki ms kj mt kl mu km mv ko mw kp mx my bi translated">利用Pylab进行能带结构分析</h1><p id="d737" class="pw-post-body-paragraph le lf it lg b lh mz kd lj lk na kg lm ln nb lp lq lr nc lt lu lv nd lx ly lz im bi translated"><strong class="lg jd">导入必要的库</strong></p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="cf4d" class="nj mj it nf b gy nk nl l nm nn">import pylab<br/>import pandas as pd</span></pre><p id="ef44" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">导入导带数据</strong></p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="1efc" class="nj mj it nf b gy nk nl l nm nn"><strong class="nf jd">#import conduction band data: x = crystal momentum; y = energy</strong></span><span id="6ea8" class="nj mj it nf b gy no nl l nm nn">data=pd.read_csv('c_band.csv')</span><span id="33f2" class="nj mj it nf b gy no nl l nm nn">data.head(n=10)</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi np"><img src="../Images/46065ee1c27f34700b50edadcb22a247.png" data-original-src="https://miro.medium.com/v2/resize:fit:404/format:webp/1*j0k3723sYY2Xg4Qqs-K_TA.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated">表1:导带数据集。</figcaption></figure><p id="0642" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">选择导带最小值附近的x值</strong></p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="bf29" class="nj mj it nf b gy nk nl l nm nn">data=data[(data.x &gt;0.82) &amp; (data.x&lt;1.0)]</span></pre><p id="d7b0" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">使用Pylab </strong>执行多项式拟合</p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="15ff" class="nj mj it nf b gy nk nl l nm nn">Xvals=data.x</span><span id="cfce" class="nj mj it nf b gy no nl l nm nn">Yvals=data.y</span><span id="e698" class="nj mj it nf b gy no nl l nm nn">degree = 2</span><span id="7d97" class="nj mj it nf b gy no nl l nm nn">model=pylab.polyfit(Xvals,Yvals,degree)</span><span id="f781" class="nj mj it nf b gy no nl l nm nn">estY=pylab.polyval(model,Xvals)</span></pre><p id="5311" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">计算R平方值</strong></p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="be65" class="nj mj it nf b gy nk nl l nm nn">R2 = 1 - ((Yvals-estY)**2).sum()/((Yvals-Yvals.mean())**2).sum()</span></pre><p id="11c5" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated"><strong class="lg jd">观察和建模数据的可视化</strong></p><pre class="ks kt ku kv gt ne nf ng nh aw ni bi"><span id="8448" class="nj mj it nf b gy nk nl l nm nn">pylab.figure(figsize=(10,7))</span><span id="9928" class="nj mj it nf b gy no nl l nm nn">pylab.scatter(Xvals,Yvals, c='b', label='observed')</span><span id="ad8f" class="nj mj it nf b gy no nl l nm nn">pylab.plot(Xvals,estY, c='r', label='predicted:' + ' R2' '='+ ' ' + str(round(R2,4)))</span><span id="4656" class="nj mj it nf b gy no nl l nm nn">pylab.xlabel('k (2pi/a)')</span><span id="e58f" class="nj mj it nf b gy no nl l nm nn">pylab.ylabel('E (eV)')</span><span id="600b" class="nj mj it nf b gy no nl l nm nn">pylab.xticks(pylab.arange(0.8, 1.05, 0.05))</span><span id="d1b8" class="nj mj it nf b gy no nl l nm nn">pylab.legend(loc=10)</span><span id="ac24" class="nj mj it nf b gy no nl l nm nn">pylab.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi kr"><img src="../Images/a750342be22d407e1be1010cd0b4d1f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1238/format:webp/1*l1FCw97vBfAxYtZ6yrurgg.png"/></div><figcaption class="kz la gj gh gi lb lc bd b be z dk translated"><strong class="bd ld">图MoS2晶体导带的抛物线拟合。</strong></figcaption></figure><p id="8082" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">总之，我们已经讨论了如何在材料科学中使用线性回归来分析计算研究产生的数据。我们已经看到，确定与任何给定数据的良好拟合的主要因素是所拟合的函数形式的有效性。当然，只要有可能，关于物理问题的理论或分析信息都应该整合到模型中。在本例中，基于我们对接近导带最小值的近自由电子色散关系的理解，使用二次模型来拟合数据。这确保了偏差-方差权衡的问题被考虑在内。</p><p id="d86f" class="pw-post-body-paragraph le lf it lg b lh li kd lj lk ll kg lm ln lo lp lq lr ls lt lu lv lw lx ly lz im bi translated">本文的数据集和代码可以从这个存储库下载:<a class="ae ma" href="https://github.com/bot13956/regression_band_structure" rel="noopener ugc nofollow" target="_blank">https://github.com/bot13956/regression_band_structure</a>。</p></div></div>    
</body>
</html>