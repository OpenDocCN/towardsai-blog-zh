<html>
<head>
<title>Precision vs Recall. What Do They Actually Tell You?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">精准vs召回。他们到底告诉了你什么？</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/precision-vs-recall-what-do-they-actually-tell-you-8b07be389a39?source=collection_archive---------2-----------------------#2022-07-03">https://pub.towardsai.net/precision-vs-recall-what-do-they-actually-tell-you-8b07be389a39?source=collection_archive---------2-----------------------#2022-07-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="963f" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">理解精确和回忆背后的思想</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/dc16fb2c109f70781f068635a489d5eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ye_NKWtE8MJsfhEMg_YChQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">米歇尔在<strong class="bd kw">佩克斯</strong>拍摄的照片</figcaption></figure><p id="8357" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi lt translated"><span class="l lu lv lw bm lx ly lz ma mb di">如果</span>你问任何一位数据科学家或机器学习工程师他们学到的最容易和最困惑的话题，他们脑海中首先想到的事情之一将是<strong class="kz ir">精确与回忆。</strong></p><p id="5dea" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">一方面</strong>，这个话题确实令人困惑，我自己也花了一吨时间试图理解其中的区别，最重要的是，这两个术语告诉你什么。</p><p id="ec1f" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">另一方面，</strong>这个题目非常简单，不需要理解数学、编程或任何其他复杂的东西。在这篇文章中，我将结合我遇到的所有资源，尽我所能向你解释这个话题，这样你就再也不用担心这个问题了。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="27ca" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">首先我们要明白<strong class="kz ir">精度</strong>和<strong class="kz ir">召回</strong>是评价你的模型的其他方式。通常，简单的精度测量是不够的。</p><h2 id="a07b" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated"><strong class="ak">为什么我不能只用精度？</strong></h2><p id="2295" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">假设您有一个包含1000个水果图像、990个苹果和10个橙子的数据集。您训练了一个模型来对该数据集上的苹果和橙子进行分类，并且您的模型决定说所有图像都是苹果。如果你计算准确度(正确预测/所有预测):990/1000，那么你将得到99%的准确度！！即使你的模型有惊人的准确性，但它完全错误地分类了所有的橙子。</p><p id="aa5a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">但是，如果我们也使用<strong class="kz ir"> Precision </strong>和<strong class="kz ir"> Recall，</strong>来评估这个模型，我们会立刻感到谦卑。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="0dc8" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">在解释这两个术语之前，我们必须知道<strong class="kz ir">真阳性、真阴性、假阳性、</strong>和<strong class="kz ir">假阴性</strong>的含义。</p><blockquote class="ng nh ni"><p id="5d0a" class="kx ky nj kz b la lb jr lc ld le ju lf nk lh li lj nl ll lm ln nm lp lq lr ls ij bi translated"><strong class="kz ir">注:</strong>如果你已经非常清楚两者的区别，可以跳过这一部分</p></blockquote><h2 id="6ee7" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">我们先来看看<strong class="ak"> <em class="nn">真</em> </strong>“类”。</h2><p id="4df2" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">这里的True表示模型正确预测了<strong class="kz ir">。</strong></p><ol class=""><li id="844c" class="no np iq kz b la lb ld le lg nq lk nr lo ns ls nt nu nv nw bi translated">因此，如果我们创建一个模型来对狗和非狗的图像进行分类——当模型将一幅图像分类为<strong class="kz ir"><em class="nj"/></strong>狗，并且它确实是<strong class="kz ir"> <em class="nj">狗</em> </strong>时，一个<strong class="kz ir">真正肯定的</strong>预测将是。</li><li id="e800" class="no np iq kz b la nx ld ny lg nz lk oa lo ob ls nt nu nv nw bi translated">如果模型将图像分类为<strong class="kz ir"> <em class="nj">而不是狗</em> </strong>，并且它实际上是<strong class="kz ir"> <em class="nj">而不是狗</em> </strong> <em class="nj">，那么<strong class="kz ir">真否定</strong>预测将是。</em></li></ol><h2 id="7693" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">假班怎么办？</h2><p id="0824" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">正如你可能已经猜到的，<strong class="kz ir"> False </strong>意味着模型错误地预测了<strong class="kz ir"/>。</p><ol class=""><li id="a358" class="no np iq kz b la lb ld le lg nq lk nr lo ns ls nt nu nv nw bi translated"><strong class="kz ir">假阳性— </strong>模型将一幅图像归类为<strong class="kz ir"> <em class="nj">狗</em> </strong>，但实际上是<strong class="kz ir"> <em class="nj">而不是狗</em>。</strong></li><li id="73dd" class="no np iq kz b la nx ld ny lg nz lk oa lo ob ls nt nu nv nw bi translated"><strong class="kz ir">假阴性— </strong>模型将一张图像归类为<strong class="kz ir"> <em class="nj">不是狗</em> </strong>，但实际上是一只<strong class="kz ir"> <em class="nj">狗</em>。</strong></li></ol><p id="1e3a" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如你所见，<strong class="kz ir">真</strong>和<strong class="kz ir">假</strong>告诉你模型是对还是错。而<strong class="kz ir">正</strong>和<strong class="kz ir">负</strong>告诉你模型预测的是什么等级。(在我们的示例中，<strong class="kz ir">正</strong>类是狗<strong class="kz ir"> </strong>图像，而<strong class="kz ir">负</strong>类是非狗图像)</p><h2 id="d111" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">注意</h2><p id="42f1" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">正面类不一定是<em class="nj">狗</em>的图像，你也可以说正面类是<em class="nj">的图像而不是</em>的图像。但大多数情况下，数据科学家将积极视为他们的目标/关注点。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="f766" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">希望现在你已经很好地理解了前面的部分，因为我们将需要它来理解<strong class="kz ir">Precision</strong>vs<strong class="kz ir">Recall。</strong></p><h2 id="22ac" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">精确</h2><p id="5c60" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">假设我们已经创建了一个模型来对狗和非狗的图像进行分类，并且我们在10个图像上测试了我们的模型，让我们专注于狗类:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/f6e594c5178e9c5dd0abe790806090ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*10TNUifF-IxY-aFKJlOG-g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">视频由<a class="ae kv" href="https://youtu.be/2osIZ-dSPGE" rel="noopener ugc nofollow" target="_blank"> codebasics </a></figcaption></figure><p id="3e33" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">让我看看…有6张狗的图片，和4张非狗的图片。我们的模型将7幅图像分类为一只狗，然而，其中只有4幅是正确的。</p><p id="13a7" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">精度的公式:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/7f562fc12bbd5cbc12ef226b4d7051bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*JhvVIJq59vOAoSm2MMCmfg.png"/></div></figure><p id="3453" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">让我们一起计算狗类的<strong class="kz ir">精度</strong>:有4个真阳性图像(4个<em class="nj">狗</em>图像被归类为<em class="nj">狗</em>)。现在我们把它除以4个真阳性+ 3个假阳性(3张<em class="nj">不是狗</em>的图像被归类为<em class="nj">狗</em>)。</p><p id="e0fa" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi">4/7= 0.57.</p><h2 id="0356" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">它告诉我们什么？</h2><p id="1a44" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">嗯，基本上，它告诉我们在所有被分类为狗的图像<strong class="kz ir">中，被正确分类为<strong class="kz ir">的狗图像</strong>的百分比。</strong></p><p id="33b0" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当我们计算精度时，我们关注的是预测。</p><p id="3436" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果我们有100%的精度，我们可以100%确定，如果我们的模型将图像分类为狗，它肯定是正确的。即使它没有将大多数狗图像分类为狗，那些被<strong class="kz ir">分类为狗的图像也是100%正确的。在<strong class="kz ir">精度</strong>中，我们只关心<strong class="kz ir">预测的目标类</strong>是否被正确分类。</strong></p><h2 id="d3aa" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">回忆</h2><p id="4b0e" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">我们保留同样的例子，我会附上同样的照片，这样你就不用再向上滚动了:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/f6e594c5178e9c5dd0abe790806090ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*10TNUifF-IxY-aFKJlOG-g.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">视频由<a class="ae kv" href="https://youtu.be/2osIZ-dSPGE" rel="noopener ugc nofollow" target="_blank"> codebasics </a></figcaption></figure><p id="7dea" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated"><strong class="kz ir">召回的公式:</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/a0d7ddbeecfd483be8c3e40fd13f17a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*k2JoWalLCHbfHPf1_3V0zQ.png"/></div></figure><p id="2de4" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我们一起算一下:4个真阳性除以4个真阳性+ 2个假阴性(2张<em class="nj">狗</em>的图像被归类为<em class="nj">不是狗</em>)。</p><p id="0524" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi">4/6 = 0.67</p><h2 id="bc9d" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">它告诉我们什么？</h2><p id="81f6" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">因此，如果<strong class="kz ir"> Precision </strong>向我们显示在预测的狗图像中<strong class="kz ir">被正确分类的狗图像的百分比，那么<strong class="kz ir"> Recall </strong>向我们显示在实际的</strong>狗图像中<strong class="kz ir">被正确分类的狗图像的百分比。</strong></p><p id="c515" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">当我们计算<strong class="kz ir">召回</strong>时，我们关注的是实际数据。</p><p id="26ea" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">如果我们有一个100%的<strong class="kz ir">回忆</strong>，我们可以100%确定，如果给定一组，比方说，20个图像，其中8个是狗图像，我们的模型将把所有8个狗图像分类为狗。然而，它也可能说其他12幅图像也是狗，但是在<strong class="kz ir">回忆</strong>中，我们只关心<strong class="kz ir">实际目标</strong>图像被正确分类。</p></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><h2 id="bb97" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">精确度与召回率的权衡</h2><p id="7924" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">我不会太关注这个话题，如果你想让我写一篇关于它的文章，请在评论中告诉我。但基本上，通常情况下，当<strong class="kz ir">精度</strong>上升时，<strong class="kz ir">召回</strong>下降，反之亦然。</p><h2 id="5aca" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">我如何知道我更需要关注什么？(真实世界的例子)</h2><p id="8516" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">你可能会问这样一个问题:“好吧，我理解其中的区别，这是一个权衡，但是什么时候我需要更高的精度，什么时候我需要更高的召回率？”</p><h2 id="7e6e" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">什么时候我们更在乎精度？</h2><p id="85d2" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">让我们想象一下，我们正在为谷歌工作，具体来说，我们正在开发一个将电子邮件检测为垃圾邮件而不是垃圾邮件的模型，所有垃圾邮件都将被隐藏。在这种情况下，我们不想意外地将一封重要的电子邮件归类为垃圾邮件，因为它将被隐藏。因此，我们希望确保如果模型将电子邮件分类为垃圾邮件，它是正确的。我们真的不在乎一些垃圾邮件会不会对用户隐藏，他们可以自己隐藏。花点时间来处理它，并尝试理解Precision如何适合这个例子。</p><h2 id="7844" class="mj mk iq bd kw ml mm dn mn mo mp dp mq lg mr ms mt lk mu mv mw lo mx my mz na bi translated">召回呢？我们什么时候更关注它？</h2><p id="92c8" class="pw-post-body-paragraph kx ky iq kz b la nb jr lc ld nc ju lf lg nd li lj lk ne lm ln lo nf lq lr ls ij bi translated">假设我们在一个机场工作，我们建立了一个模型来对危险人物进行分类。如果我们的模型没有将危险人物归类为危险人物，他们也可能会被安全部门检测不到，然后造成很大的损失。这就是为什么我们需要把<strong class="kz ir">每一个</strong>危险的人归类为危险人物。</p><p id="2bf6" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">另一方面，如果模型将一个<strong class="kz ir">普通</strong>平民归类为危险，我们真的不在乎，他们会得到检查，然后继续前进。</p><h1 id="7da3" class="of mk iq bd kw og oh oi mn oj ok ol mq jw om jx mt jz on ka mw kc oo kd mz op bi translated">练习</h1><ol class=""><li id="e0bf" class="no np iq kz b la nb ld nc lg oq lk or lo os ls nt nu nv nw bi translated">以狗vs非狗的数据为例，尝试计算<strong class="kz ir">非狗</strong>类的精度和召回率。(把<strong class="kz ir">不是狗</strong>类当成你的<strong class="kz ir">正</strong>类)。</li><li id="ac49" class="no np iq kz b la nx ld ny lg nz lk oa lo ob ls nt nu nv nw bi translated">试着想出你自己对精确和回忆的定义。</li><li id="0995" class="no np iq kz b la nx ld ny lg nz lk oa lo ob ls nt nu nv nw bi translated">想想一个项目，甚至是一个真实世界的问题，其中精度更重要，反之亦然。</li><li id="bb83" class="no np iq kz b la nx ld ny lg nz lk oa lo ob ls nt nu nv nw bi translated">请在评论里告诉我你的答案，我会告诉你你是对还是错。</li></ol></div><div class="ab cl mc md hu me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="ij ik il im in"><p id="896e" class="pw-post-body-paragraph kx ky iq kz b la lb jr lc ld le ju lf lg lh li lj lk ll lm ln lo lp lq lr ls ij bi translated">我真的希望这篇文章对你有所帮助，我试图让一切尽可能的清晰。但是如果你还有一些问题，请在评论中提问，我会尽力帮助你。</p></div></div>    
</body>
</html>