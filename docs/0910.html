<html>
<head>
<title>Building a Custom Image Dataset for Deep Learning projects</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为深度学习项目构建自定义图像数据集</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/building-a-custom-image-dataset-for-deep-learning-projects-7f759d069877?source=collection_archive---------0-----------------------#2020-09-10">https://pub.towardsai.net/building-a-custom-image-dataset-for-deep-learning-projects-7f759d069877?source=collection_archive---------0-----------------------#2020-09-10</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/428ef58a44591398c90b1bde955e4ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7eF5Q7TMu01kogf-51DUEg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">图片由来自<a class="ae jg" href="https://pixabay.com/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5544365" rel="noopener ugc nofollow" target="_blank"> Pixabay </a>的<a class="ae jg" href="https://pixabay.com/users/mariohagen-17468991/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=5544365" rel="noopener ugc nofollow" target="_blank">马里奥·哈根</a>拍摄</figcaption></figure><h2 id="5730" class="jh ji jj bd b dl jk jl jm jn jo jp dk jq translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning/deep-learning" rel="noopener ugc nofollow" target="_blank">深度学习</a>、<a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="188c" class="pw-subtitle-paragraph kp js jj bd b kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dk translated">展示了使用google images和Bing image downloader构建自定义图像数据集的简单方法</h2></div><p id="0671" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在过去的三个月里，我主要在NLP工作。我花了很长时间处理图像数据。因此，我决定建立一个独特的图像分类器模型，作为我个人项目和学习的一部分。</p><p id="d02a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在现在的疫情，我最想念的一件事就是旅行。这几天经常在Instagram上看到很多旅行的vlogs和旅行的图片，想知道我们什么时候才能回到正常的世界。</p><p id="12a8" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">这让我想到创建一个图像分类器模型，它有五个类别，如山脉、海滩、沙漠、湖泊和博物馆。然而，我没有图像数据集来建立模型，也无法从谷歌获得任何数据集。一种方法是手动刮图像，但需要时间。我偶然发现谷歌图片下载和必应图片下载，并发现它非常容易建立您的自定义图像数据集。</p><p id="8701" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我打算使用迁移学习，所以我只需要少量的图像。因此，我决定用谷歌图片下载收集每班100张图片。这篇博客解释了如何使用google images download和bing image downloader建立一个自定义的图像数据集。</p><p id="0d19" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">为了简单起见，我将只为两个类构建:<em class="md">【Mountain】</em>和<em class="md">【Beach】</em></p><h1 id="567e" class="me mf jj bd mg mh mi mj mk ml mm mn mo ky mp kz mq lb mr lc ms le mt lf mu mv bi translated">谷歌图片下载</h1><h2 id="da54" class="mw mf jj bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu jp bi translated">谷歌图片下载的安装</h2><p id="73af" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">最初，我尝试用pip安装google_image_download。然而，它不起作用。我引用了<a class="ae jg" href="https://stackoverflow.com/questions/60370799/google-image-download-with-python-cannot-download-images" rel="noopener ugc nofollow" target="_blank">栈溢出</a>并使用JoeClinton的GitHub <a class="ae jg" href="https://github.com/Joeclinton1/google-images-download" rel="noopener ugc nofollow" target="_blank">链接</a>安装了这个库。</p><p id="3bf1" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">你可以点击查看谷歌官方图片下载页面<a class="ae jg" href="https://google-images-download.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="fd86" class="me mf jj bd mg mh mi mj mk ml mm mn mo ky mp kz mq lb mr lc ms le mt lf mu mv bi translated">密码</h1><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="d2f7" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下一步是从google image导入google image下载，并启动名为response的类。</p><h1 id="50b0" class="me mf jj bd mg mh mi mj mk ml mm mn mo ky mp kz mq lb mr lc ms le mt lf mu mv bi translated">密码</h1><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="6510" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在我们需要传递我们的论点。我需要山，海滩图片，所以我通过“山”，“海滩”作为关键词。</p><p id="0846" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">格式</strong> —这是一个文件选项。我在找一个jpg文件。这支持gif，png，bmp，svg，webp，ico，raw根据文档。</p><p id="3ef5" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">极限:</strong>指图像的数量。默认大小为100。<em class="md">如果你想下载超过100张图片，那么我们需要安装Selenium和Chromedriver扩展。</em>我没有试过，因为我只需要100张图片。</p><p id="22b3" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">有时，由于下载图像时的偶然错误，我们得到的图像少于100。</p><p id="6041" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">打印URL:</strong>打印提取的图像的URL</p><p id="c6e2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">还有其他可用的参数，如颜色、纵横比等。请检查他们的<a class="ae jg" href="https://google-images-download.readthedocs.io/en/latest/arguments.html" rel="noopener ugc nofollow" target="_blank">文档并尝试一下。</a></p><p id="7f6f" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">下面的流程图解释了这个过程。它接受查询(参数)，搜索，下载原始的HTML链接，抓取所有的图片链接，下载并保存图片。</p><figure class="nm nn no np gt iv gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/fff206f08de87c104637dfcff4e4d0a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:120/0*RWTBRv9gU9sAxzgO"/></div></figure><figure class="nm nn no np gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nt"><img src="../Images/3c881c09e5ba4ebef1a505d9a32780b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*P7WXjFdfnCZb4G7Z.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated"><a class="ae jg" href="https://github.com/Joeclinton1/google-images-download/blob/patch-1/images/flow-chart.png" rel="noopener ugc nofollow" target="_blank">https://github . com/Joe Clinton 1/Google-images-download/blob/patch-1/images/flow-chart . png</a></figcaption></figure></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><h1 id="0ca2" class="me mf jj bd mg mh ob mj mk ml oc mn mo ky od kz mq lb oe lc ms le of lf mu mv bi translated">密码</h1><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="dd85" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">所有的图片都被下载，并保存在名为<strong class="lj jt">【下载】</strong>的文件夹中，子文件夹为<strong class="lj jt"> <em class="md">【山】</em> </strong>和<strong class="lj jt"> <em class="md">【沙滩】。</em> </strong>山的图片存储在山文件夹中，沙滩的图片存储在沙滩文件夹中。</p><h1 id="8f14" class="me mf jj bd mg mh mi mj mk ml mm mn mo ky mp kz mq lb mr lc ms le mt lf mu mv bi translated">输出</h1><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="og nr l"/></div></figure><p id="0f7b" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以看到所有图像都存储在各自的文件夹中。这些图像大小不同。在将图像输入模型之前，它需要调整图像的大小。如果您想要为图像分类器构建自定义图像数据集，这个库非常有用。</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><h1 id="eeca" class="me mf jj bd mg mh ob mj mk ml oc mn mo ky od kz mq lb oe lc ms le of lf mu mv bi translated">2)必应图片下载器</h1><p id="274b" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">Bing图像下载器是一个python库，用于从bing.com下载大量图像。请查看<a class="ae jg" href="https://pypi.org/project/bing-image-downloader/" rel="noopener ugc nofollow" target="_blank">这里的</a>了解更多信息。</p><h2 id="e522" class="mw mf jj bd mg mx my dn mk mz na dp mo lq nb nc mq lu nd ne ms ly nf ng mu jp bi translated">Bing图像下载程序的安装</h2><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="edd2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">在这里，我将只提取山脉图像。因此，创建一个名为“mountain”的本地目录来存储图像。</p><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="2ea0" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">现在，导入bing图像下载程序并传递参数。我们需要山的图像，因此我将mountain作为要搜索的字符串传递。</p><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="0d0a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">限制</strong> =下载的图像数量。必应搜索可以下载批量图片。由于我的内存，我限制为200。你可以试着用一个更大的数字来检查。</p><p id="1908" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">输出目录</strong> =输出目录的名称。它是可选的。我创建了一个名为mountain的目录来存储所有的图片。如果你不指定目录，那么所有的图像都存储在你的路径目录中。</p><p id="50f6" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt">成人_过滤_关闭</strong> =帮助禁用成人过滤。默认情况下为true。</p><p id="9f7d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated"><strong class="lj jt"> force_replace </strong>:删除文件夹(如果有)并重新开始下载</p><p id="3ede" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">检查mountain目录中的图像文件</p><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="b57d" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">目录中存储了200个图像文件。让我们使用IPython读取一些图像文件</p><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="aff2" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">另一个</p><figure class="nm nn no np gt iv"><div class="bz fp l di"><div class="nq nr l"/></div></figure><p id="3f06" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">我们可以从bing图像下载器下载大量图像。然而，有时获得准确的图像是具有挑战性的。</p></div><div class="ab cl nu nv hx nw" role="separator"><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz oa"/><span class="nx bw bk ny nz"/></div><div class="im in io ip iq"><h1 id="2e54" class="me mf jj bd mg mh ob mj mk ml oc mn mo ky od kz mq lb oe lc ms le of lf mu mv bi translated">注意</h1><p id="7dc2" class="pw-post-body-paragraph lh li jj lj b lk nh kt lm ln ni kw lp lq nj ls lt lu nk lw lx ly nl ma mb mc im bi translated">请确保在将这些图像用于任何商业目的之前，因为它违反了其版权条款。Google或bing downloader不拥有图片的版权，它由图片的原始创建者拥有。</p><p id="5922" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢阅读。请继续学习，并关注更多内容！</p><p id="fe6a" class="pw-post-body-paragraph lh li jj lj b lk ll kt lm ln lo kw lp lq lr ls lt lu lv lw lx ly lz ma mb mc im bi translated">感谢阿尼鲁德·库尔</p><h1 id="ad6e" class="me mf jj bd mg mh mi mj mk ml mm mn mo ky mp kz mq lb mr lc ms le mt lf mu mv bi translated">参考</h1><ol class=""><li id="677b" class="oh oi jj lj b lk nh ln ni lq oj lu ok ly ol mc om on oo op bi translated"><a class="ae jg" href="https://google-images-download.readthedocs.io/en/latest/arguments.html" rel="noopener ugc nofollow" target="_blank">https://Google-images-download . readthedocs . io/en/latest/arguments . html</a></li><li id="86b3" class="oh oi jj lj b lk oq ln or lq os lu ot ly ou mc om on oo op bi translated"><a class="ae jg" href="https://github.com/Joeclinton1/google-images-download" rel="noopener ugc nofollow" target="_blank">https://github.com/Joeclinton1/google-images-download</a></li><li id="d0f9" class="oh oi jj lj b lk oq ln or lq os lu ot ly ou mc om on oo op bi translated"><a class="ae jg" href="https://stackoverflow.com/questions/60370799/google-image-download-with-python-cannot-download-images" rel="noopener ugc nofollow" target="_blank">https://stack overflow . com/questions/60370799/Google-image-download-with-python-cannot-download-images</a></li><li id="4475" class="oh oi jj lj b lk oq ln or lq os lu ot ly ou mc om on oo op bi translated"><a class="ae jg" href="https://pypi.org/project/bing-image-downloader/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/bing-image-downloader/</a></li></ol></div></div>    
</body>
</html>