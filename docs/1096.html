<html>
<head>
<title>Geocoding and Reverse Geocoding in Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的地理编码和反向地理编码</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/geocoding-and-reverse-geocoding-in-python-c0112b8679c2?source=collection_archive---------0-----------------------#2020-10-29">https://pub.towardsai.net/geocoding-and-reverse-geocoding-in-python-c0112b8679c2?source=collection_archive---------0-----------------------#2020-10-29</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><h2 id="cecb" class="is it iu bd b dl iv iw ix iy iz ja dk jb translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><div class=""><h2 id="3504" class="pw-subtitle-paragraph ka jd iu bd b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dk translated">如何从给定的地址获取纬度和经度，反之亦然</h2></div><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gi gj ks"><img src="../Images/c418cea4845380adc165348d905d436d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*RZQ_TpNX_r3FxhLk"/></div></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">来源:<a class="ae li" href="https://unsplash.com/photos/xv7DTjnx2YQ" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure></div><div class="ab cl lj lk hy ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="in io ip iq ir"><p id="0c62" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">最近，我参加了一个预测房价的黑客马拉松。那是我第一次处理具有地理坐标- <code class="fe mn mo mp mq b">latitude</code>和<code class="fe mn mo mp mq b">longitude</code>的数据集。在这个黑客马拉松中，我了解了地理编码、反向地理编码和寻找两个坐标之间的距离。在本文中，您将学习这三种技术。</p><p id="23c2" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">我们将在本文中使用<code class="fe mn mo mp mq b">geopy</code>和<code class="fe mn mo mp mq b">reverse_geocoder</code>库。让我们开始吧。</p><h1 id="340b" class="mr ms iu bd mt mu mv mw mx my mz na nb kj nc kk nd km ne kn nf kp ng kq nh ni bi translated"><strong class="ak">地理编码</strong></h1><p id="4b9c" class="pw-post-body-paragraph lq lr iu ls b lt nj ke lv lw nk kh ly lz nl mb mc md nm mf mg mh nn mj mk ml in bi translated"><code class="fe mn mo mp mq b">Geocoding</code>是将地址转换成地理坐标(即经纬度)的过程。</p><p id="09ef" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">地理编码由不同的服务提供商提供，如nomim、Bing、Google等。这些服务提供了可供任何人用于地理编码的API。在这里，geopy只是一个库，它在一个包中为许多不同的服务提供了这些实现。</p><figure class="kt ku kv kw gu kx gi gj paragraph-image"><div class="gi gj no"><img src="../Images/0d6f7304919a00a6f0e0199b4fad80c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1398/format:webp/1*t8Pi2vWyCyoxIppthMC7LQ.png"/></div><figcaption class="le lf gk gi gj lg lh bd b be z dk translated">来源:<a class="ae li" href="https://geopy.readthedocs.io/en/stable/#geopy-is-not-a-service" rel="noopener ugc nofollow" target="_blank"> GeoPy </a></figcaption></figure><p id="7ea9" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">在下面的示例中，我们使用namim服务进行地理编码。结果存储在<code class="fe mn mo mp mq b">location</code>变量中。然后，我们可以使用<code class="fe mn mo mp mq b">location</code>获得所需的值，如纬度、经度等。<code class="fe mn mo mp mq b">raw</code>方法返回一个包含所有返回值的字典，我们可以从<code class="fe mn mo mp mq b">location.raw</code>访问所需的字段。</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="np nq l"/></div></figure><blockquote class="nr ns nt"><p id="412c" class="lq lr mm ls b lt lu ke lv lw lx kh ly nu ma mb mc nv me mf mg nw mi mj mk ml in bi translated">注意:不同的地理编码服务，如nomim，Bing都有自己的限制，定价，配额等。例如，Nominatim是免费的，但是它可以处理的请求是有限制的。</p></blockquote><h1 id="634f" class="mr ms iu bd mt mu mv mw mx my mz na nb kj nc kk nd km ne kn nf kp ng kq nh ni bi translated"><strong class="ak">反向地理编码</strong></h1><p id="221d" class="pw-post-body-paragraph lq lr iu ls b lt nj ke lv lw nk kh ly lz nl mb mc md nm mf mg mh nn mj mk ml in bi translated"><code class="fe mn mo mp mq b">Reverse Geocoding</code>是将地理坐标(纬度&amp;经度)转换为人类可读地址的过程。</p><p id="053e" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">注意，我们需要依次传递纬度和经度来反转函数。</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="np nq l"/></div></figure><p id="243b" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated">另一个用于反向地理编码的备选库是<code class="fe mn mo mp mq b">reverse_geocoder</code>。让我们看一个例子:</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="np nq l"/></div></figure><h1 id="9377" class="mr ms iu bd mt mu mv mw mx my mz na nb kj nc kk nd km ne kn nf kp ng kq nh ni bi translated">两个坐标之间的距离</h1><p id="3f63" class="pw-post-body-paragraph lq lr iu ls b lt nj ke lv lw nk kh ly lz nl mb mc md nm mf mg mh nn mj mk ml in bi translated">假设您想要查找两个坐标之间的距离(即给定经纬度的两个位置之间的距离)，您可以使用geopy中的测地线函数来计算距离。</p><figure class="kt ku kv kw gu kx"><div class="bz fq l di"><div class="np nq l"/></div></figure><h1 id="ccd5" class="mr ms iu bd mt mu mv mw mx my mz na nb kj nc kk nd km ne kn nf kp ng kq nh ni bi translated">结论</h1><p id="2808" class="pw-post-body-paragraph lq lr iu ls b lt nj ke lv lw nk kh ly lz nl mb mc md nm mf mg mh nn mj mk ml in bi translated">我希望您已经很好地理解了在处理数据集中的纬度和经度时如何使用<code class="fe mn mo mp mq b">geopy</code>、<code class="fe mn mo mp mq b">reverse_geocoder</code>。</p><p id="a583" class="pw-post-body-paragraph lq lr iu ls b lt lu ke lv lw lx kh ly lz ma mb mc md me mf mg mh mi mj mk ml in bi translated"><em class="mm">阅读更多关于Python和数据科学的此类有趣文章，</em> <a class="ae li" href="https://pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="ls je"> <em class="mm">订阅</em> </strong> </a> <em class="mm">到我的博客</em><a class="ae li" href="http://www.pythonsimplified.com/" rel="noopener ugc nofollow" target="_blank"><strong class="ls je"><em class="mm">www.pythonsimplified.com</em></strong></a><strong class="ls je"><em class="mm">。</em> </strong>你也可以通过<a class="ae li" href="https://www.linkedin.com/in/chetanambi/" rel="noopener ugc nofollow" target="_blank"> <strong class="ls je"> LinkedIn </strong> </a>联系我。</p></div><div class="ab cl lj lk hy ll" role="separator"><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo lp"/><span class="lm bw bk ln lo"/></div><div class="in io ip iq ir"><h1 id="108c" class="mr ms iu bd mt mu nx mw mx my ny na nb kj nz kk nd km oa kn nf kp ob kq nh ni bi translated">参考</h1><div class="oc od gq gs oe of"><a href="https://geopy.readthedocs.io/en/stable/#" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd je gz z fq ok fs ft ol fv fx jd bi translated">欢迎来到GeoPy的文档！- GeoPy 2.0.0文档</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">geopy是几种流行的地理编码web服务的Python客户端。geopy使Python开发人员能够轻松…</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">geopy.readthedocs.io</p></div></div></div></a></div><div class="oc od gq gs oe of"><a href="https://pypi.org/project/reverse_geocoder/" rel="noopener  ugc nofollow" target="_blank"><div class="og ab fp"><div class="oh ab oi cl cj oj"><h2 class="bd je gz z fq ok fs ft ol fv fx jd bi translated">反向地理编码器</h2><div class="om l"><h3 class="bd b gz z fq ok fs ft ol fv fx dk translated">反向地理编码器获取纬度/经度坐标，并返回最近的城镇/城市。这个图书馆改进了一个…</h3></div><div class="on l"><p class="bd b dl z fq ok fs ft ol fv fx dk translated">pypi.org</p></div></div><div class="oo l"><div class="op l oq or os oo ot lc of"/></div></div></a></div></div></div>    
</body>
</html>