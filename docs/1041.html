<html>
<head>
<title>Open CV Basics in 10 Minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟内打开简历基础</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/learn-everything-about-open-cv-ed485a3007f1?source=collection_archive---------0-----------------------#2020-10-14">https://pub.towardsai.net/learn-everything-about-open-cv-ed485a3007f1?source=collection_archive---------0-----------------------#2020-10-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/d38d25c84feff765ebf32b622f041feb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ewUZ2BgSA2w3GbbJm-mttg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">“作者提供的图像”</figcaption></figure><div class=""/><p id="7bcc" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">等等！！</strong>停止搜索你很快就找到了学习公开简历的最佳文章。只要和我在一起，准备好你需要的设备。很高兴看到旅途中有你这样的人。</p><h2 id="16a1" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">打开简历</h2><p id="5c42" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">Open cv是计算机视觉中最流行的库。最初是用C和C++写的。现在python中也有了。它最初是由英特尔开发的。该库是一个跨平台的开源库。它是免费使用的。Open cv库是一个高度优化的库，主要关注实时应用。</p><p id="8675" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">开放的cv库是2500多种优化算法的组合。其可用于检测和识别不同的面部、识别图像中或实时的物体、使用视频和网络摄像头对不同的人类动作进行分类、跟踪相机运动、跟踪像汽车、人等移动物体。实时计数对象、将图像拼接在一起以产生高分辨率图像、从图像数据库中找到相似的图像、从使用闪光灯拍摄的图像中去除红眼并提高图像质量、跟随眼球运动、跟踪面部等</p><p id="4444" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">它有大约47000个活跃用户社区，估计下载量超过1800万次。许多大公司像谷歌、亚马逊、特斯拉、微软、本田等。用Open cv让他们的产品更好，更AI驱动。</p><h1 id="e7a7" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated">先决条件</h1><p id="4dce" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">在开始写代码之前，我们需要在我们的设备上安装open cv。如果你是专业编程人员，并且了解每一个IDE，那么去Pycharm，在设置中的包管理器中安装OpenCV-python。</p><p id="c323" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果你是初级或中级程序员，或者只是想关注博客，那么我们将为博客使用vs代码。<br/>只需去<a class="ae ms" href="https://code.visualstudio.com/download" rel="noopener ugc nofollow" target="_blank"> Visual Studio Code </a>网站，根据你的os为你下载最新版本。<br/>现在我们将创建一个虚拟环境，我们将在其中安装open cv。使用cd打开您的终端和目标到桌面。使用<code class="fe mt mu mv mw b">mkdir </code>创建一个名为opencvThen的文件夹，然后运行下面的命令。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="a169" class="ld le ji mw b gy nf ng l nh ni">python -m venv env</span></pre><p id="ef58" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在使用<code class="fe mt mu mv mw b">env\scripts\activate</code>激活环境，你会看到在<code class="fe mt mu mv mw b">C:\Users\username\Desktop\opencv</code>之前有一个小括号<code class="fe mt mu mv mw b">(env)</code>出现。现在只需使用pip安装OpenCV。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="8f63" class="ld le ji mw b gy nf ng l nh ni">pip install opencv-python</span></pre></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h2 id="2bff" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">我们将在这个博客中讨论7个话题</h2><ol class=""><li id="21c7" class="nq nr ji kh b ki lw km lx kq ns ku nt ky nu lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">读取、写入和显示图像</em> </strong></li><li id="0c47" class="nq nr ji kh b ki oa km ob kq oc ku od ky oe lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">阅读视频并与网络摄像头集成</em> </strong></li><li id="03ab" class="nq nr ji kh b ki oa km ob kq oc ku od ky oe lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">缩放和裁剪图像</em> </strong></li><li id="b965" class="nq nr ji kh b ki oa km ob kq oc ku od ky oe lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">基本图像滤镜使用功能</em> </strong></li><li id="f238" class="nq nr ji kh b ki oa km ob kq oc ku od ky oe lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">绘制不同的形状</em> </strong></li><li id="d0b2" class="nq nr ji kh b ki oa km ob kq oc ku od ky oe lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">在图像上书写文字</em> </strong></li><li id="3813" class="nq nr ji kh b ki oa km ob kq oc ku od ky oe lc nv nw nx ny bi translated"><strong class="kh jj"> <em class="nz">检测和裁剪面</em> </strong></li></ol></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h1 id="a538" class="mb le ji bd lf mc of me li mf og mh ll mi oh mk lo ml oi mn lr mo oj mq lu mr bi translated"><strong class="ak"> <em class="ok">阅读、书写和显示图像</em> </strong></h1><p id="55b2" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">为了使用open cv读取图像，我们有一个函数imread()，为了显示图像，我们有一个函数imshow()，为了写入，我们有一个函数imwrite()。让我们看看每一个的语法。</p><p id="e886" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj"> <em class="nz"> imread(): </em> </strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="3d06" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">img = cv2.imread("PATH_TO_IMAGE.jpg/png")</strong></span><span id="b03d" class="ld le ji mw b gy ol ng l nh ni">Example<br/>img = imread("images/dog0.jpg")</span></pre><p id="844b" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj"> <em class="nz"> imshow(): </em> </strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="a7ec" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">cv2.imshow("WINDOW NAME",IMG_VAR)</strong></span><span id="c21e" class="ld le ji mw b gy ol ng l nh ni">Example<br/>imshow("Dog Image",img)</span></pre><p id="377b" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj"> <em class="nz"> imwrite(): </em> </strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="a50d" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">cv2.imwrite(FILENAME, IMAGE)</strong><em class="nz"><br/></em><strong class="mw jj"><em class="nz">filename:</em></strong><em class="nz"> A string representing the file name. The filename must include image format like </em><strong class="mw jj"><em class="nz">.jpg, .png, </em></strong><em class="nz">etc.<br/></em><strong class="mw jj"><em class="nz">image:</em></strong><em class="nz"> It is the image that is to be saved.</em></span><span id="5f0c" class="ld le ji mw b gy ol ng l nh ni">Example<br/>cv2.imwrite('images/img',img)</span></pre><h1 id="1dc4" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated"><strong class="ak"> <em class="ok">读取视频并与网络摄像头集成</em> </strong></h1><p id="5296" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">读取视频文件与在OpenCV中读取图像文件非常相似。不同的是这里我们使用cv2.videocapture. <br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="5257" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">video = cv2.VideoCapture("FILEPATH.mp4")</strong></span><span id="3c70" class="ld le ji mw b gy ol ng l nh ni">Example<br/>video = cv2.VideoCapture("video/dog/dog.mp4")</span></pre><p id="247f" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">视频是许多帧连接在一起的集合。每一帧都是一幅图像。要使用OpenCV观看视频，我们只需使用while循环显示视频的每一帧。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="5342" class="ld le ji mw b gy nf ng l nh ni">while True:<br/>   success , img = cap.read()<br/>   cv2.imshow("Video",img)<br/>   if cv2.waitKey(1) &amp; 0xff==ord('q'):<strong class="mw jj">##key 'q' will break the loop</strong><br/>       break</span></pre><p id="e1e7" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为了与网络摄像头集成，我们需要传递网络摄像头的端口值，而不是视频的路径。如果你使用的是笔记本电脑，并且没有连接任何外部网络摄像头，那么只需传递0，如果你连接了任何外部网络摄像头，那么传递1。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="c514" class="ld le ji mw b gy nf ng l nh ni">cap = cv2.VideoCapture(0)<br/>cap.set(3,640)  ## Frame width<br/>cap.set(4,480)  ## Frame Height<br/>cap.set(10,100) ## Brightness<br/>while True:<br/>   success, img = cap.read()<br/>   cv2.imshow("Video",img)<br/>   if cv2.waitKey(1) &amp; 0xff == ord('q'):<br/>        break</span></pre><h1 id="4d87" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated"><strong class="ak"> <em class="ok">调整图像大小和裁剪</em> </strong></h1><p id="7fcc" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">调整大小是改变图像形状的过程。在Opencv中，我们可以使用<code class="fe mt mu mv mw b">resize</code>函数来调整图像的形状。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="fc52" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">cv2.resize(IMG,(WIDTH,HEIGHT))<br/></strong>IMG: image which we want to resize<br/>WIDTH: new width of the resize image<br/>HEIGHT: new height of the resize image</span><span id="1a87" class="ld le ji mw b gy ol ng l nh ni">Example<br/>cv2.resize(img,(224,224))</span></pre><p id="7b0d" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">首先要调整图像的大小，我们需要知道图像的形状。我们可以使用<code class="fe mt mu mv mw b">shape</code>找到任何图像的形状，然后根据图像形状，我们可以增加或减少图像的大小。我们举个例子来看。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="705b" class="ld le ji mw b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("images/img0.jpg") <strong class="mw jj">##Choose any image</strong><br/>print(img.shape)<br/>imgResize = cv2.resize(img,(<strong class="mw jj">224,224</strong>)) <strong class="mw jj">##Decrease size</strong><br/>imgResize2 = cv2.resize(img,(<strong class="mw jj">1024,1024</strong>)) <strong class="mw jj">##Increase size</strong><br/>cv2.imshow("Image",img)<br/>cv2.imshow("Image Resize",imgResize)<br/>cv2.imshow("Image Increase size",imgResize2)<br/>print(imgResize.shape)<br/>cv2.waitKey(0)</span></pre><p id="e4c4" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">如果不想对宽度和高度进行硬编码，也可以使用形状，然后使用索引增加宽度和高度。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="335b" class="ld le ji mw b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("images/img0.jpg") <strong class="mw jj">##Choose any image</strong><br/>print(img.shape)<br/>shape = img.shape<br/>imgResize = cv2.resize(img,(shape[0]//2<strong class="mw jj">,</strong>shape[1]//2))<strong class="mw jj">##Decrease size</strong><br/>imgResize2 = cv2.resize(img,(shape[0]*2<strong class="mw jj">,</strong>shape[1]*2)) <strong class="mw jj">##Increase size</strong><br/>cv2.imshow("Image",img)<br/>cv2.imshow("Image Resize",imgResize)<br/>cv2.imshow("Image Increase size",imgResize2)<br/>print(imgResize.shape)<br/>cv2.waitKey(0)</span></pre><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi om"><img src="../Images/28de03fb9bb28308bac58bef0f859c07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*evt2ZQsWDz4PY27p618cgA.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">"图像调整大小— <a class="ae ms" href="https://medium.com/@parasharabhay13" rel="noopener">图像被授权</a> r "</figcaption></figure><h1 id="bcfe" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated">裁剪图像</h1><p id="db65" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">裁剪是获取图像的一部分的过程。在open cv中，我们可以通过定义裁剪矩形坐标来执行裁剪。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="dad4" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">imgCropped = img[y1:y2, x1:x2]</strong></span><span id="9a92" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj"><em class="nz">(x1,y1): top-left vertex<br/>(x2,y2): bottom-right vertex</em></strong></span><span id="a27e" class="ld le ji mw b gy ol ng l nh ni">Example<br/>imgCropped = img[0:100,200:200]</span></pre><p id="2ffa" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">使用裁剪方法，让我们试着从图像中提取蒙娜丽莎的脸。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="6dc2" class="ld le ji mw b gy nf ng l nh ni">import cv2<br/>img = cv2.imread("images/img0.jpg")<br/>imgCropped = img[50:250,120:330]<br/>cv2.imshow("Image cropped",imgCropped)<br/>cv2.imshow("Image",img)<br/>cv2.waitKey(0)</span></pre><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi on"><img src="../Images/4827514a504a4d2058f7aa48fb6603ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eGjNv9ZAoBoz31wb5mxECw.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">"裁剪图像— <a class="ae ms" href="https://medium.com/@parasharabhay13" rel="noopener">作者的图像</a>"</figcaption></figure><p id="a770" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">还可以使用paint找到(x1，y1)，(x2，y2)的正确坐标。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/30e6d04ddcd58983672f1acb45cd782a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*3E5DPklNoACr8sYdqaErUg.jpeg"/></div></figure><p id="ab87" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">右键点击图像并保存；尝试从图像中取出国王卡</strong>。</p><p id="97e7" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj">提示:</strong> <em class="nz">使用画图找到正确的坐标，最后，使用resize来增加裁剪图像的大小。</em></p><p id="8998" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj"> <em class="nz">“在寻求解决方案之前，先试着自己去做。”</em> </strong></p><h2 id="b728" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">T9】👉 </strong> <a class="ae ms" href="https://gist.github.com/Abhayparashar31/9b01473431de765c0a73e81271233d91" rel="noopener ugc nofollow" target="_blank"> <strong class="ak"> <em class="ok">解</em> </strong> </a></h2><h1 id="9577" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated"><strong class="ak"> <em class="ok">基本图像滤镜使用功能</em> </strong></h1><p id="d9ef" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">有许多基本的过滤器，我们可以用在我们的图像上，像把我们的图像转换成灰度，模糊图像，等等。重要的一个一个来看。</p><h2 id="f227" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">图像转灰色</strong></h2><p id="12b4" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">要将图像转换成灰度，我们可以使用函数<code class="fe mt mu mv mw b">cvtColor</code>，这里我们将<code class="fe mt mu mv mw b">cv2.COLOR_BGR2GRAY</code>作为参数传递。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="ba0a" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">imgGray = cv2.cvtColor(IMG,cv2.CODE)</strong><br/>IMG: Original image<br/>CODE: Conversion code for Gray(COLOR_BGR2GRAY)</span><span id="e50a" class="ld le ji mw b gy ol ng l nh ni">Example<br/>imgGray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)</span></pre><h2 id="7fb5" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak"> Img至HSV </strong></h2><p id="1286" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">要将图像转换成HSV，我们可以使用函数<code class="fe mt mu mv mw b">cvtColor</code>，这里我们将<code class="fe mt mu mv mw b">cv2.COLOR_BGR2HSV</code>作为参数传递。它主要用于目标跟踪。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="03f0" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">imgGray = cv2.cvtColor(IMG,cv2.CODE)</strong><br/>IMG: Original image<br/>CODE: Conversion code for Gray(COLOR_BGR2HSV)</span><span id="4144" class="ld le ji mw b gy ol ng l nh ni">Example<br/>imgHsv = cv2.cvtColor(img,cv2.COLOR_BGR2HSV)</span></pre><h2 id="d824" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">模糊图像</h2><p id="1211" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">模糊用于从图像中移除额外的噪声，也称为平滑。它是对图像应用低通滤波器的过程。为了在Opencv中使用模糊，我们有一个函数GaussianBlur。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="2bbc" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">imgBlur = cv2.GaussianBlur(img,(sigmaX,sigmaY),kernalSize)</strong></span><span id="079d" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj">kernalsize</strong> − A Size object representing the size of the kernel.<br/><strong class="mw jj">sigmaX</strong> − A variable representing the Gaussian kernel standard deviation in X direction.<br/><strong class="mw jj">sigmaY </strong>- same as sigmaX</span><span id="41f6" class="ld le ji mw b gy ol ng l nh ni">Exmaple<br/>imgBlur = cv2.GaussianBlur(img,(3,3),0)</span></pre><h2 id="757b" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">边缘检测</h2><p id="4306" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">在Open cv中，我们使用canny边缘检测器来检测图像中的边缘。也有不同的边缘检测器，但最著名的是canny边缘检测器。canny边缘检测器是一种边缘检测算子，它使用多阶段算法来检测图像中的各种边缘。它是由约翰·f·卡尼在1986年发明的。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="8050" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">imgCanny = cv2.Canny(img,threshold1,threshold2)</strong></span><span id="95cb" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj">threshold1,threshold2:</strong>Different values of threshold different for every images</span><span id="b288" class="ld le ji mw b gy ol ng l nh ni">Example<br/>imgCanny = cv2.Canny(img,100,150)</span></pre><h2 id="487b" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">扩张</h2><p id="4771" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">膨胀用于增加图像中边缘的尺寸。首先，我们定义奇数(5，5)的核矩阵大小。然后使用内核，我们在图像上执行膨胀。我们对Canny边缘检测器的输出图像应用膨胀。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="8ca9" class="ld le ji mw b gy nf ng l nh ni">kernel = np.ones((5,5),np.uint8) <strong class="mw jj">## DEFINING KERNEL OF 5x5</strong><br/>imgDialation = cv2.dilate(<strong class="mw jj">imgCanny</strong>,kernel,iterations=1) <strong class="mw jj">##DIALATION</strong></span></pre><h2 id="facd" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">侵蚀</h2><p id="c941" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">侵蚀正好与膨胀相反。它用于减小图像中边缘的尺寸。首先，我们定义奇数(5，5)的核矩阵大小。然后使用内核，我们对图像进行腐蚀。我们对Canny边缘检测器的输出图像应用腐蚀。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="48fb" class="ld le ji mw b gy nf ng l nh ni">kernel = np.ones((5,5),np.uint8) <strong class="mw jj">## DEFINING KERNEL OF 5x5</strong><br/>imgDialation = cv2.erode(<strong class="mw jj">imgCanny</strong>,kernel,iterations=1) <strong class="mw jj">##EROSION</strong></span></pre><p id="0147" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">现在，在同一个程序中对蒙娜丽莎图像应用所有的基本功能。</p><figure class="mx my mz na gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi op"><img src="../Images/c404a887a8f372ad87b3a50a43f3a383.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0XDrjebkyQdyofjPnC9GHg.png"/></div></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">"同一张图片上的不同功能— <a class="ae ms" href="https://medium.com/@parasharabhay13" rel="noopener">图片作者</a>"</figcaption></figure><h1 id="0bf4" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated"><strong class="ak"> <em class="ok">绘制不同的形状</em> </strong></h1><p id="529a" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">我们可以使用打开的Cv绘制不同的形状，如矩形、圆形、直线等。</p><h2 id="d9c1" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">长方形:</strong></h2><p id="9f44" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">为了在图像上画一个矩形，我们使用矩形函数。在函数中，我们将宽度、高度、X、Y、RGB颜色、厚度作为参数传递。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="48a1" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">cv2.rectangle(img,(w,h),(x,y),(R,G,B),THICKNESS)<br/>w: </strong>width<br/><strong class="mw jj">h: </strong>height<br/><strong class="mw jj">x: </strong>distance from x axis<strong class="mw jj"><br/>y: </strong>distance from y axis<strong class="mw jj"><br/>R,G,B: </strong>color in RGB form (255,255,0)<strong class="mw jj"><br/>THICKNESS: </strong>thickness of rectangel(integer)</span><span id="ba79" class="ld le ji mw b gy ol ng l nh ni">Example<br/>cv2.rectangle(img,(100,300),(200,300),(255,0,255),2)</span></pre><h2 id="98c8" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">圆圈:</h2><p id="7ce5" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">要画一个圆，我们使用cv2.circle。我们传递x，y，半径大小，RGB形式的颜色，厚度作为参数。<br/>T5】语法</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="c306" class="ld le ji mw b gy nf ng l nh ni">cv2.circle(img,(x,y),radius,(R,G,B),THICKNESS)<br/><strong class="mw jj">x: </strong>distance from x axis<strong class="mw jj"><br/>y: </strong>distance from y axis<br/><strong class="mw jj">radius</strong>: size of radius(integer)<br/><strong class="mw jj">R,G,B: </strong>color in RGB form (255,255,0)<strong class="mw jj"><br/>THICKNESS: </strong>thickness of rectangel(integer)</span><span id="7246" class="ld le ji mw b gy ol ng l nh ni">Example<br/>cv2.circle(img,(200,130),90,(255,255,0),2)</span></pre><h2 id="926d" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">线路:</h2><p id="befa" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">为了画一条线，我们使用cv2.line，传递起点(x1，y1)，终点(x2，y2)，RGB形式的颜色，厚度作为参数。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="11df" class="ld le ji mw b gy nf ng l nh ni"><strong class="mw jj">cv2.line(img,(x1,y1),(x2,y2),(R,G,B),THICKNESS)</strong></span><span id="44d4" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj">x1,y1: </strong>start point of line (integer)<br/><strong class="mw jj">x2,y2: </strong>end point of line (integer)<br/><strong class="mw jj">R,G,B: </strong>color in RGB form (255,255,0)<strong class="mw jj"><br/>THICKNESS: </strong>thickness of rectangel(integer)</span><span id="85c9" class="ld le ji mw b gy ol ng l nh ni">Example<br/>cv2.line(img,(110,260),(300,260),(0,255,0),3)</span></pre><h1 id="5a35" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated"><strong class="ak"> <em class="ok">在图像上书写文字</em> </strong></h1><p id="7cbd" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">在open cv中，我们有一个函数cv2.puttext，用于在图像的特定位置书写文本。它将图像、文本、x、y、颜色、字体、字体大小、粗细作为输入。<br/> <strong class="kh jj">语法</strong></p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="fa35" class="ld le ji mw b gy nf ng l nh ni">cv2.putText(img,text,(x,y),FONT,FONT_SCALE,(R,G,B),THICKNESS)<br/><strong class="mw jj">img:</strong> image to put text on<br/><strong class="mw jj">text: </strong>text to put on image<br/><strong class="mw jj">X: </strong>text distance from X axis<br/><strong class="mw jj">Y: </strong>text distance from Y axis<br/><strong class="mw jj">FONT:</strong> Type of FONT (<a class="ae ms" href="https://gist.github.com/Abhayparashar31/c8ada068052002defb0272416356c5e8" rel="noopener ugc nofollow" target="_blank">ALL FONT TYPES</a>)<br/><strong class="mw jj">FONT_SCALE</strong>: Scale of Font(Integer)<br/><strong class="mw jj">R,G,B: </strong>color in RGB form (255,255,0)<strong class="mw jj"><br/>THICKNESS: </strong>thickness of rectangel(integer)</span><span id="532b" class="ld le ji mw b gy ol ng l nh ni">Example<br/>cv2.putText(img,"HELLO",(120,250),cv2.FONT_HERSHEY_COMPLEX,1,(255,255,255),2)</span></pre></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><figure class="mx my mz na gt iv gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/280c572ac7acd42e92734f729525e49b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*de2Gn9IiRlNnuwW2e21LSw.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">"<a class="ae ms" href="https://medium.com/@parasharabhay13" rel="noopener">作者图片</a>"</figcaption></figure><p id="f4ac" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">从<a class="ae ms" href="https://www.artnews.com/wp-content/uploads/2020/09/mona-lisa.jpg?w=611" rel="noopener ugc nofollow" target="_blank"> <strong class="kh jj">这里</strong> </a>下载蒙娜丽莎的图像。</p><p id="4941" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">任务:使用形状和文字为左图中的蒙娜丽莎的脸创建一个框架。<br/> <strong class="kh jj">提示:</strong>先画圆，再画矩形，然后根据圆和矩形放文字，最后根据文字放线。</p><p id="a6bd" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><strong class="kh jj"> <em class="nz">“先试着自己做，再去寻求解决方案。”</em> </strong></p><h2 id="76b1" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">👉<a class="ae ms" href="https://gist.github.com/Abhayparashar31/af36bf25ce61345266db4b54aba33be1" rel="noopener ugc nofollow" target="_blank">解决方案</a></h2><h1 id="18e6" class="mb le ji bd lf mc md me li mf mg mh ll mi mj mk lo ml mm mn lr mo mp mq lu mr bi translated"><strong class="ak"> <em class="ok">检测并裁剪面</em> </strong></h1><p id="73e2" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">在创建人脸识别系统时，人脸检测非常有用。在open cv中，我们有许多预先训练好的haar级联分类器，可用于不同的目的。在OpenCV<a class="ae ms" href="https://github.com/opencv/opencv/tree/master/data/haarcascades" rel="noopener ugc nofollow" target="_blank"><strong class="kh jj">GitHub</strong></a>上查看分类器的完整列表。</p><p id="beeb" class="pw-post-body-paragraph kf kg ji kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">为了检测开放cv中的人脸，我们使用了<code class="fe mt mu mv mw b">haarcascade_frontalface_default.xml</code>分类器。它将返回图像的四个坐标(w，h，x，y)。使用这些坐标，我们将在面部绘制一个矩形，然后使用相同的坐标，我们将裁剪面部。现在使用imwrite，我们将在目录中保存裁剪后的图像。</p><pre class="mx my mz na gt nb mw nc nd aw ne bi"><span id="bb41" class="ld le ji mw b gy nf ng l nh ni">import cv2<br/><strong class="mw jj"># Load the cascade</strong><br/>face_cascade = cv2.CascadeClassifier('haarcascade_frontalface_default.xml')</span><span id="ed8b" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj"># Read the input image<br/></strong>img = cv2.imread('images/img0.jpg')</span><span id="439f" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj"># Convert into grayscale<br/></strong>gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)</span><span id="ad71" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj"># Detect faces<br/></strong>faces = face_cascade.detectMultiScale(gray, 1.3, 4)</span><span id="07dd" class="ld le ji mw b gy ol ng l nh ni"><strong class="mw jj"># Draw rectangle around the faces<br/></strong>for (x, y, w, h) in faces:<br/>    cv2.rectangle(img, (x, y), (x+w, y+h), (255, 0, 0), 2)<br/><strong class="mw jj">    # Cropping Face<br/></strong>    crop_face = img[y:y + h, x:x + w]<br/><strong class="mw jj">    #Saving Cropped Face<br/></strong>    cv2.imwrite(str(w) + str(h) + '_faces.jpg', crop_face)<br/>cv2.imshow('img', img)<br/>cv2.imshow("imgcropped",crop_face)<br/>cv2.waitKey()</span></pre><figure class="mx my mz na gt iv gh gi paragraph-image"><div class="gh gi or"><img src="../Images/5a7a8e1ec37213b137cd0143d1007e41.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*JtFqKPtmKPTexJVE9xwKUA.png"/></div><figcaption class="jc jd gj gh gi je jf bd b be z dk translated">"图片中被裁剪的脸——作者的<a class="ae ms" href="https://medium.com/@parasharabhay13" rel="noopener">图片. "</a></figcaption></figure><h2 id="707e" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated">感谢阅读😀</h2></div><div class="ab cl nj nk hx nl" role="separator"><span class="nm bw bk nn no np"/><span class="nm bw bk nn no np"/><span class="nm bw bk nn no"/></div><div class="im in io ip iq"><h2 id="c097" class="ld le ji bd lf lg lh dn li lj lk dp ll kq lm ln lo ku lp lq lr ky ls lt lu lv bi translated"><strong class="ak">参考文献</strong></h2><p id="6656" class="pw-post-body-paragraph kf kg ji kh b ki lw kk kl km lx ko kp kq ly ks kt ku lz kw kx ky ma la lb lc im bi translated">【<strong class="kh jj">1</strong>】https://opencv.org/about/<a class="ae ms" href="https://opencv.org/about/" rel="noopener ugc nofollow" target="_blank"><br/>【2】</a><a class="ae ms" href="https://pypi.org/project/opencv-python/" rel="noopener ugc nofollow" target="_blank">https://pypi.org/project/opencv-python/</a><br/>【3】<a class="ae ms" href="https://www.murtazahassan.com/" rel="noopener ugc nofollow" target="_blank">https://www.murtazahassan.com/</a></p></div></div>    
</body>
</html>