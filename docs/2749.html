<html>
<head>
<title>Make Your Matplotlib Plots Stand Out Using This Cheat Sheet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用这个备忘单让你的Matplotlib图脱颖而出</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/make-your-matplotlib-plots-stand-out-using-this-cheat-sheet-8c666de90433?source=collection_archive---------0-----------------------#2022-05-11">https://pub.towardsai.net/make-your-matplotlib-plots-stand-out-using-this-cheat-sheet-8c666de90433?source=collection_archive---------0-----------------------#2022-05-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="d9db" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">用于在Matplotlib中编辑背景、记号和注释的备忘单</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/92801613a39771c131cf360df1915772.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Nu_DrSKvJQcssg83Yd1kaQ.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">亨特·哈丽特在<a class="ae kv" href="https://unsplash.com/photos/Ype9sdOPdYc?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的图片</figcaption></figure><p id="3164" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Matplotlib是python中最广泛的绘图库，可以说是最常用的库之一。如果你和我一样，经常忘记格式化情节的精确代码，这篇文章是专门为你写的。</p><h2 id="7e34" class="ls lt iq bd lu lv lw dn lx ly lz dp ma lf mb mc md lj me mf mg ln mh mi mj mk bi translated">背景</h2><p id="ddae" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">让您的图形脱颖而出的最简单的方法之一是更改默认背景。我更喜欢使用“seaborn-whitegrid”，因为我认为它简单明了，而且大多数颜色在白色背景下看起来都很好。代码如下:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="d50c" class="ls lt iq mr b gy mv mw l mx my">import matplotlib.pyplot as plt<br/><strong class="mr ir">#the print statement tells all available style sheets</strong><br/>print(<a class="ae kv" href="https://docs.python.org/3/library/stdtypes.html#list" rel="noopener ugc nofollow" target="_blank">plt.style.available</a>)<br/><strong class="mr ir">#This line of code changes the style sheet</strong><br/>plt.style.use(‘seaborn-whitegrid’)</span></pre><div class="kg kh ki kj gt ab cb"><figure class="mz kk na nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/01afa3b2ff61beb1be045ec55cdd9797.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*Isc-zMI9tIVhKuG4eumJlQ.png"/></div></figure><figure class="mz kk nf nb nc nd ne paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><img src="../Images/acc413b5cc20229d188eec16f70a927c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1010/format:webp/1*Ahlka0Xd7Z4K4-Dn1nUZxw.png"/></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk ng di nh ni translated">左侧为默认样式，右侧为seaborn-white grid-图片由作者提供。你可以在这里查看所有的样式表<a class="ae kv" href="https://matplotlib.org/3.5.0/gallery/style_sheets/style_sheets_reference.html" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure></div><h1 id="0ae9" class="nj lt iq bd lu nk nl nm lx nn no np ma jw nq jx md jz nr ka mg kc ns kd mj nt bi translated">标题、标签和刻度</h1><p id="1858" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">一个好的信息图需要一个合适的标题、标签和合适的刻度线。在处理金钱时，最好使用像“$”这样的货币符号，在处理大数时，最好将它们格式化为千(K)、百万(M)、十亿(B)等。较小的数字应该四舍五入到最接近的小数，实际上不需要超过3位小数。我认为最理想的是小数点后两位。你还应该将频率乘以100，使它们成为百分比，并在一个大数字的每三个数字后加上'，'，即1000000应该写成1，000，000。</p><p id="d303" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，标题和刻度必须是可见的，因此可读的大小是必要的。在下面找到完成这些事情的代码:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="889e" class="ls lt iq mr b gy mv mw l mx my"><strong class="mr ir">#importing and creating figure<br/></strong>from matplotlib import ticker<br/>fig,ax = plt.subplots(figsize=(20,20))</span><span id="84b8" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Add title and set font size</strong><br/>plt.title(‘Title’,fontsize=50)</span><span id="b5b7" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Add xaxis label &amp; yaxis label, with fontsize<br/></strong>plt.xlabel('xlabel',fontsize=30)<br/>plt.ylabel('ylabel',fontsize=30)</span><span id="e04c" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#tick-size and weight [ </strong><strong class="mr ir">'normal'</strong><strong class="mr ir"> | </strong><strong class="mr ir">'bold'</strong><strong class="mr ir"> | </strong><strong class="mr ir">'heavy'</strong><strong class="mr ir"> | </strong><strong class="mr ir">'light'</strong><strong class="mr ir"> | #</strong><strong class="mr ir">'ultrabold'</strong><strong class="mr ir"> | </strong><strong class="mr ir">'ultralight'</strong><strong class="mr ir">]</strong><br/>plt.yticks(fontsize=20,weight='bold')<br/>plt.xticks(fontsize=20,weight='bold')</span><span id="e338" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Format ticks as currency or any prefix (replace $ with your choice)</strong><br/>ax.xaxis.set_major_formatter(ticker.StrMethodFormatter("${x}"))</span><span id="7d1e" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Format ticks as distance or any suffix (replace km with your #choice)</strong><br/>ax.xaxis.set_major_formatter(ticker.StrMethodFormatter("{x} km"))</span><span id="2a18" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Format ticks decimal point, the number preceding f denotes how many<br/># decimal points e.g use .3f for three </strong>ax.xaxis.set_major_formatter(ticker.StrMethodFormatter("{x:.2f}"))</span><span id="cf94" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Add , for large numbers e.g 10000 to 10,000</strong><br/>ax.xaxis.set_major_formatter(ticker.StrMethodFormatter("{x:,}"))</span><span id="c29d" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Format as a percentage </strong><br/>ax.xaxis.set_major_formatter(ticker.PercentFormatter())</span><span id="c6f2" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Format thousands e.g 10000 to 10.0K<br/></strong>ax.yaxis.set_major_formatter(ticker.FuncFormatter(lambda x,pos: format(x/1000,'1.1f')+'K'))</span><span id="1842" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Format Millions e.g 1000000 to 1.0M<br/></strong>ax.yaxis.set_major_formatter(ticker.FuncFormatter(lambda x,pos: format(x/1000000,'1.1f')+'M'))</span><span id="e526" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Example of combined tick mark, currency with , &amp; 2 decimal #precision</strong><br/>ax.yaxis.set_major_formatter(ticker.StrMethodFormatter("${x:,.2f}"))</span></pre><p id="40eb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nv">喜欢这个故事吗？有一个数据科学问题，需要专家来解决？考虑招聘</em></strong><a class="ae kv" href="https://www.upwork.com/ab/flservices/workwith/naivebayesian" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"><em class="nv">me</em></strong></a><strong class="ky ir"><em class="nv">！</em> </strong></p><h1 id="5362" class="nj lt iq bd lu nk nl nm lx nn no np ma jw nq jx md jz nr ka mg kc ns kd mj nt bi translated">释文</h1><p id="0b17" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">注释是突出任何特定值或点的好方法。将h线(水平线)和v线(垂直线)组合在一起，您可以指示特定点的轴标签。这里有一些你能做什么的例子。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nw"><img src="../Images/fc2da26c9782ba2b92b577ba509318d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fWIiZpHi4fnFErZo7IeAjg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">比特币价格图表，用注释和v线突出显示了历史高点。在此阅读更多关于此<a class="ae kv" href="https://blog.cryptostars.is/bitcoin-a-visual-history-should-you-buy-at-the-top-20067ae48a14" rel="noopener ugc nofollow" target="_blank">的内容。作者图片</a></figcaption></figure><p id="69e3" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">喜欢这个故事吗？需要编码帮助？直接雇佣我<a class="ae kv" href="https://www.upwork.com/workwith/naivebayesian" rel="noopener ugc nofollow" target="_blank"><strong class="ky ir"/></a><strong class="ky ir">！</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/04d1f71b42621f955d8c50e9e27d06ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qAbtugp_AafqUL9S_UuNwA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">分数的百分比，当前比赛成绩用注释、h线和v线突出显示。点击阅读更多关于这个<a class="ae kv" href="https://medium.com/mlearning-ai/money-balling-cricket-statistically-evaluating-a-match-9cda986d015e" rel="noopener">的内容。作者图片</a></figcaption></figure><p id="6b1b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是添加注释的方法:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="dedf" class="ls lt iq mr b gy mv mw l mx my"><strong class="mr ir">#First argument is the text, ha is horizontal alignment, va is #vertical alignment, xy is coordinates of the pojnt xytext are the #coordinates of the text (if you want the text to be away from the #point)</strong></span><span id="eba9" class="ls lt iq mr b gy nu mw l mx my">ax.annotate('annotation',ha='center',va='center', xy = (0.5, 0.5), xytext=(0.51,0.51),fontsize=30)</span><span id="5abe" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Add v-line with xcoord, min &amp; max ranges with y and aesthetic #properties<br/></strong>plt.vlines(x=0.5,ymin=-0.05,ymax=0.5,ls=':',lw=3,color='darkblue')</span><span id="9897" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Add h-line with ycoord, min &amp; max ranges with xand aesthetic #properties<br/></strong>plt.hlines(y=0.5,xmin=-0.05,xmax=0.5,ls=':',lw=3,color='darkblue')</span><span id="f23a" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Optional code for house keeping</strong><br/>plt.xticks(fontsize=25,weight='bold')<br/>plt.yticks(fontsize=25,weight='bold')<br/>plt.xlim(0,1)<br/>plt.ylim(0,1)<br/>plt.title('Example of Annotation',fontsize=35)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/2e21db4336e7eee177cbbdd059ed76d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uddxn8ziImqSzEZMI5TSMg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">上面代码的结果，你可以添加一个点注释。图片由作者提供。</figcaption></figure><h1 id="c774" class="nj lt iq bd lu nk nl nm lx nn no np ma jw nq jx md jz nr ka mg kc ns kd mj nt bi translated">尺寸、限制和图例</h1><p id="a7d3" class="pw-post-body-paragraph kw kx iq ky b kz ml jr lb lc mm ju le lf mn lh li lj mo ll lm ln mp lp lq lr ij bi translated">我们经常需要调整图形的大小或形状。为x轴和y轴指定限制也是谨慎的，特别是当数据中有一些不寻常的异常值时。此外，包含带有准确标签和标记大小的图例非常有用。</p><p id="ba00" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">代码如下:</p><pre class="kg kh ki kj gt mq mr ms mt aw mu bi"><span id="604f" class="ls lt iq mr b gy mv mw l mx my"><strong class="mr ir">#Change figure size by adjusting figsize parameter</strong><br/>fig,ax = plt.subplots(figsize=(25,25))</span><span id="fba9" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Annotation, v-lines &amp; h-lines as explained above</strong><br/>ax.annotate(‘Blue’,ha=’center’,va=’center’, xy = (0.5, 0.5), xytext=(0.51,0.51),fontsize=30,color=’darkblue’)<br/>plt.vlines(x=0.5,ymin=-0.05,ymax=0.5,ls=’:’,lw=3,color=’darkblue’)<br/>plt.hlines(y=0.5,xmin=-0.05,xmax=0.5,ls=’:’,lw=3,color=’darkblue’)</span><span id="8f49" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Scatter plot of one point, label parameter goes in legend <br/># you can add '_no_legend_' to hide this label in the legend</strong></span><span id="a96c" class="ls lt iq mr b gy nu mw l mx my">ax.scatter(x=0.5,y=0.5,label=’Blue point’)</span><span id="e9d9" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Annotation, v-lines &amp; h-lines as explained above<br/></strong>ax.annotate(‘Red’,ha=’center’,va=’center’, xy = (0.75, 0.75), xytext=(0.76,0.76),fontsize=30,color=’darkred’)<br/>plt.vlines(x=0.75,ymin=-0.05,ymax=0.75,ls=’:’,lw=3,color=’darkred’)<br/>plt.hlines(y=0.75,xmin=-0.05,xmax=0.75,ls=’:’,lw=3,color=’darkred’)</span><span id="4dd0" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#Scatter plot of one point, label parameter goes in legend<br/></strong>ax.scatter(x=0.75,y=0.75,label=’Red point’)</span><span id="41af" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#House keeping for xticks &amp; yticks explained above</strong><br/>plt.xticks(fontsize=25,weight=’bold’)<br/>plt.yticks(fontsize=25,weight=’bold’)</span><span id="3fcf" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#xlim specifies xaxis limits , first argument min limit &amp; second #argument max limit</strong><br/>plt.xlim(0,1)</span><span id="df32" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#ylim specifies yaxis limits , first argument min limit &amp; second #argument max limit<br/></strong>plt.ylim(0,1)</span><span id="64ab" class="ls lt iq mr b gy nu mw l mx my"><strong class="mr ir">#loc parameter tells location explained below<br/>#prop tells legend font properties, read more </strong><a class="ae kv" href="https://matplotlib.org/3.5.0/api/font_manager_api.html#matplotlib.font_manager.FontProperties\" rel="noopener ugc nofollow" target="_blank"><strong class="mr ir">here</strong></a><strong class="mr ir"><br/>#markerscale tells how much big should the markers on the legend be #in proportion to actual markers. 2 implies twice as big</strong></span><span id="9d43" class="ls lt iq mr b gy nu mw l mx my">plt.legend(loc=1,prop={‘size’:25},markerscale=2)</span><span id="7ba0" class="ls lt iq mr b gy nu mw l mx my">plt.title(‘Example of Sizing’,fontsize=35)</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nz"><img src="../Images/0eb948364a02e100fab8db73e9df8063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wOKD2PRMifXs6v4POCJHJA.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">指定图例的位置参数，您可以将图例定位在该位置。图片由作者提供。</figcaption></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ny"><img src="../Images/9913258459cf64288d779b66d682bfeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r8WMwxu7duL18U7i28WMVg.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">以上代码的结果，图片由作者提供。</figcaption></figure><p id="2842" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我一定会在学习的过程中添加更多的秘籍。目前，这是它，我希望你发现这个小教程有帮助。</p><p id="9f6b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请考虑跟着我！如果您对统计分析和良好的可视化感兴趣，请查看其他一些文章:</p><div class="oa ob gp gr oc od"><a href="https://python.plainenglish.io/sankeying-with-plotly-90500b87d8cf" rel="noopener  ugc nofollow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">与Plotly的“Sankeying”</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">如何在Plotly中制作散点图</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">python .平原英语. io</p></div></div><div class="om l"><div class="on l oo op oq om or kp od"/></div></div></a></div><div class="oa ob gp gr oc od"><a rel="noopener  ugc nofollow" target="_blank" href="/moneyballing-cricket-predicting-centuries-base-model-d23a4c3ec0cd"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">板球摇钱树:预测世纪——基础模型</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">数据准备&amp;板球世纪二元分类建模</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">pub.towardsai.net</p></div></div><div class="om l"><div class="os l oo op oq om or kp od"/></div></div></a></div><div class="oa ob gp gr oc od"><a href="https://towardsdatascience.com/money-balling-cricket-probability-of-100-using-repeated-conditioning-2fc8dbceb42e" rel="noopener follow" target="_blank"><div class="oe ab fo"><div class="of ab og cl cj oh"><h2 class="bd ir gy z fp oi fr fs oj fu fw ip bi translated">金钱球板球——使用重复条件反射的概率为100</h2><div class="ok l"><h3 class="bd b gy z fp oi fr fs oj fu fw dk translated">板球得分≥ 100分的概率分析</h3></div><div class="ol l"><p class="bd b dl z fp oi fr fs oj fu fw dk translated">towardsdatascience.com</p></div></div><div class="om l"><div class="ot l oo op oq om or kp od"/></div></div></a></div><p id="2b4a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">谢谢大家！</p></div></div>    
</body>
</html>