<html>
<head>
<title>Creating a Stunning Interactive Dashboard with Plotly Express and Dash</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Plotly Express和Dash创建令人惊叹的交互式仪表盘</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/creating-a-stunning-interactive-dashboard-with-plotly-express-and-dash-7e3dddcb955?source=collection_archive---------0-----------------------#2021-08-03">https://pub.towardsai.net/creating-a-stunning-interactive-dashboard-with-plotly-express-and-dash-7e3dddcb955?source=collection_archive---------0-----------------------#2021-08-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="101b" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-visualization" rel="noopener ugc nofollow" target="_blank">数据可视化</a></h2><div class=""/><div class=""><h2 id="3ed6" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">是时候构建您的第一个web分析应用程序了</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/2cbece900318aa9626c7313d2462dc11.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cQyCU1RZM-76Fft-"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">由<a class="ae lh" href="https://unsplash.com/@mjessier" rel="noopener ugc nofollow" target="_blank">米利安·耶西耶</a>在<a class="ae lh" href="https://unsplash.com/photos/eveI7MOcSmw" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><p id="9dc0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我的大部分数据科学硕士课程中，图表都被低估了，被放在了角落里。另一方面，我在实习期间开始明白数据可视化的重要性。起初，它们看起来真的很无聊，但同时，它们让你获得你只看原始数据永远也不会知道的知识。这是您在修改数据集和应用ML算法之前需要检查的第一件事。它会伴随你寻找真理。</p><p id="5b66" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在我之前的<a class="ae lh" rel="noopener ugc nofollow" target="_blank" href="/matplotlib-is-dead-long-life-to-plotly-express-e1671dce0d18">文章</a>中，我介绍了一个产生交互式可视化的库。你能猜到我在说什么吗？是<strong class="lk jd"> Plotly Express </strong>。通过这个软件包，你可以获得美丽的情节，在这里你可以看到每一个简单的移动鼠标或放大你感兴趣的图像部分的细节。但是单独一个图在你的Jupiter笔记本上占了很大的空间，有时你会更喜欢在一个单独的页面上查看同一数据集的更多图。因此，需要一个仪表板。</p><p id="62be" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">幸运的是，还有<strong class="lk jd"> Dash </strong>，一个允许使用Python构建web界面的开源软件。这些网络应用在网络浏览器中可视化，就像Chrome一样。不需要Java、HTML或CSS。但是我认为一些关于HTML 的<strong class="lk jd">基础知识对于理解Python中的部分代码是有用的。我还写了一篇关于它的<a class="ae lh" href="https://betterprogramming.pub/understanding-html-basics-for-web-scraping-ae351ee0b3f9" rel="noopener ugc nofollow" target="_blank">帖子</a>，对这种标记语言有一个概述/刷新。</strong></p><h1 id="7510" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">目录:</h1><ol class=""><li id="c51f" class="mw mx it lk b ll my lo mz lr na lv nb lz nc md nd ne nf ng bi translated"><a class="ae lh" href="#3993" rel="noopener ugc nofollow"> <strong class="lk jd">要求</strong> </a></li><li id="4f45" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#c994" rel="noopener ugc nofollow"> <strong class="lk jd">库和数据集</strong> </a></li><li id="670a" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#633a" rel="noopener ugc nofollow"> <strong class="lk jd">初始化app </strong> </a></li><li id="5154" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#7a43" rel="noopener ugc nofollow"> <strong class="lk jd">一个情节的Web app</strong></a></li><li id="7113" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#85f2" rel="noopener ugc nofollow"> <strong class="lk jd">页面上的三个地块</strong> </a></li><li id="9f2b" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#47b9" rel="noopener ugc nofollow"> <strong class="lk jd">两个地块并排</strong> </a></li><li id="24ec" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#294b" rel="noopener ugc nofollow"> <strong class="lk jd">显示带回调的地块</strong> </a></li><li id="da49" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md nd ne nf ng bi translated"><a class="ae lh" href="#7700" rel="noopener ugc nofollow"> <strong class="lk jd">汇总</strong> </a></li></ol></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><h1 id="3993" class="me mf it bd mg mh nt mj mk ml nu mn mo ki nv kj mq kl nw km ms ko nx kp mu mv bi translated">1.要求</h1><ul class=""><li id="aeb1" class="mw mx it lk b ll my lo mz lr na lv nb lz nc md ny ne nf ng bi translated">在使用命令<code class="fe nz oa ob oc b">pip install &lt;package-name&gt;</code>开始本教程之前，您需要安装<strong class="lk jd">熊猫</strong>、<strong class="lk jd">plottly、</strong>和<strong class="lk jd"> dash </strong>。</li><li id="6294" class="mw mx it lk b ll nh lo ni lr nj lv nk lz nl md ny ne nf ng bi translated"><strong class="lk jd">用所有代码创建一个file.py </strong>。我也试着用了木星笔记本，但是好像不行。但是既然官网上的<a class="ae lh" href="https://dash.plotly.com/layout" rel="noopener ugc nofollow" target="_blank"> dash教程</a>建议了格式。py，我宁愿留着它。</li></ul><h1 id="c994" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">2.库和数据集</h1><p id="2fc4" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">完成所需的安装后，我们可以导入以下库:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="a752" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">库dash包含了python类以及web应用程序的所有组件，比如<code class="fe nz oa ob oc b">dash_html_components</code>和<code class="fe nz oa ob oc b">dash_core_components</code>。</p><p id="707c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><code class="fe nz oa ob oc b">dash_html_components</code>提供HTML标签的组件，而<code class="fe nz oa ob oc b">dash_core_components</code>HTML标签的组件是通过React.js库用JavaScript、HTML、CSS生成的。</p><p id="4f8b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们还导入了Plotly express和pandas库。</p><p id="ffe2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">之后，我们导入著名的虹膜数据集，就像我写的关于Plotly Express的教程一样。我的目的是使用Dash将之前获得的情节组合成一个独特的页面。</p><h1 id="633a" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">3.初始化应用程序</h1><p id="edb2" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">正如你可以从段落的标题中推断出的，我们通过初始化开始构建应用程序。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><p id="84fd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">换句话说，应用程序使用定制的CSS样式表(<a class="ae lh" href="https://codepen.io/chriddyp/pen/bWLwgP.css'" rel="noopener ugc nofollow" target="_blank">https://codepen.io/chriddyp/pen/bWLwgP.css</a>)来修改元素的默认样式。</p><h1 id="7a43" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">5.只有一个图的Web应用程序</h1><p id="c060" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">让我们开始展示代码，产生一个只有两句话，没有任何情节的网页。我们指定应用程序中需要的布局:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oi"><img src="../Images/34d24cb5bc6e74cd8f33793f71d6ad2f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yvrzZRUNqg2b5ruX917X3A.png"/></div></div></figure><p id="02ca" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">当您运行代码时，应该会返回此输出。当它出现时，你应该在你的网络浏览器中复制<a class="ae lh" href="http://127.0.0.1:8050/" rel="noopener ugc nofollow" target="_blank"> http://127.0.0.1:8050/ </a>，你会看到这样的内容:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oj"><img src="../Images/133621d432eddd4ceed6f2f212a21917.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ykTgbLWg1ZuZRKnyGFxHjA.png"/></div></div></figure><p id="3145" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">您可以观察到代码行<code class="fe nz oa ob oc b">html.H1(children=''Dashboard of Iris dataset'')</code>类似于在HTML中编写<code class="fe nz oa ob oc b">&lt;h1&gt;Dashboard of Iris dataset&lt;/h1&gt;</code>，其中标签&lt; h1 &gt;通常用于标题。</p><p id="c6aa" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">HTML中对应于<code class="fe nz oa ob oc b">&lt;div&gt;Dashboard of Iris dataset&lt;/div&gt;</code>的<code class="fe nz oa ob oc b">html.Div(children=''Dash: A web application framework for Python'')</code>也是如此。</p><p id="9d89" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果我们想把剧情添加到app中，就应该添加组件<code class="fe nz oa ob oc b">dcc.Graph</code>。在定义布局之前，我们首先使用Plotly express库创建一个散点图。我们把图传入<code class="fe nz oa ob oc b">dcc.Graph</code>后</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ok"><img src="../Images/64235845e3d57fedde3877cb64508eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H7fmVLIn9WhN11hAlZPkxA.png"/></div></div></figure><p id="062d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">上面是修改代码后应该获得的仪表板。</p><h1 id="85f2" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">6.页面上的三个情节</h1><p id="fe3d" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">在前面的段落中，我在页面上只显示了一个情节，从最简单的情况开始。但是如您所知，仪表板通常用于包含多个图。出于这个原因，让我们在页面上放三个图，每行一个图。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ol"><img src="../Images/41220531c24e0f80ab23255c50057d3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Z122NUn62F8A5-vs8j0xaA.gif"/></div></div></figure><p id="b1e7" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，可以在一个独特的页面上观察这三个情节了！但同时，每个情节在应用程序中占据了很大的空间。一排两块地不是更好吗？</p><h1 id="47b9" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">7.页面内同一行中的两个图</h1><p id="31b5" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">现在，我想并排展示两个图。用<div>标签定义两个块是可能的。在每个块中，我们指定类名“六列”，这是宽度，而不是要显示的图的数量。包含这两个图形的行的类名是“row”。</div></p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi om"><img src="../Images/091a42dc43dced9ed3454876dcdb8605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2dcEbVh2pSzfSDPGEVTw4w.png"/></div></div></figure><p id="9842" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我们也可以用同样的方法添加两个额外的图:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi on"><img src="../Images/04d0e8d041788f0bf3e620817696732c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5uV7fAyQnTBu25OmM4igCw.png"/></div></div></figure><p id="80bf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这样，我们有两行和两列，其中每行将包含两个图。</p><h1 id="294b" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">7.用回调显示绘图</h1><p id="6c35" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">在前面的段落中，我展示了如何使用<code class="fe nz oa ob oc b">app.layout</code>，它提供了应用程序的层次结构，示例大多是静态的。现在，我们的目标是构建一个动态的应用程序，您可以在其中更改绘图的x变量和y变量。这可以通过<code class="fe nz oa ob oc b">callback</code>函数实现，它允许改变输入组件的属性。让我们开始一个例子:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oo"><img src="../Images/689b152bd7d51f1b4b068be42b392595.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*hzaZbYvLZ-EZ5yPY6Ez4jw.gif"/></div></div></figure><p id="b393" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在本例中，当输入属性的输入变量发生变化时，我们可以使用函数update_graph。<code class="fe nz oa ob oc b">@app.callback</code>装饰器描述了应用程序接口的输入和输出。我们将id为“x轴列”和“y轴列”的组件的“值”属性作为输入，而输出是图形的“图形”属性。</p><h1 id="7700" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">8.总结:</h1><p id="5a8d" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">我做了一个总结来快速查看我们在前面段落中创建的应用程序:</p><ul class=""><li id="37cf" class="mw mx it lk b ll lm lo lp lr op lv oq lz or md ny ne nf ng bi translated">示例1:一个地块</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="7fdf" class="mw mx it lk b ll lm lo lp lr op lv oq lz or md ny ne nf ng bi translated">示例2:网页中的三个绘图</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="408a" class="mw mx it lk b ll lm lo lp lr op lv oq lz or md ny ne nf ng bi translated">示例3:并排的两个图</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><ul class=""><li id="9801" class="mw mx it lk b ll lm lo lp lr op lv oq lz or md ny ne nf ng bi translated">示例4:使用回调显示绘图</li></ul><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="og oh l"/></div></figure><h1 id="cfc4" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">最终想法:</h1><p id="5fe8" class="pw-post-body-paragraph li lj it lk b ll my kd ln lo mz kg lq lr od lt lu lv oe lx ly lz of mb mc md im bi translated">不错的结果，你不觉得吗？我只展示了最简单的例子，只关注布局，但是可以添加其他高级属性。官网上的<a class="ae lh" href="https://dash.plotly.com/layout" rel="noopener ugc nofollow" target="_blank"> dash教程</a>里有很多例子。我希望这个指南能帮助你理解如何应用dash和Plotly express来创建一个仪表板。起初，这似乎很难，但经过一些尝试后，它真的很直观。感谢阅读。祝您愉快！</p></div><div class="ab cl nm nn hx no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="im in io ip iq"><p id="0358" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你喜欢我的文章吗？<a class="ae lh" href="https://eugenia-anello.medium.com/membership" rel="noopener"> <em class="os">成为会员</em> </a> <em class="os">每天无限获取数据科学新帖！这是一种间接的支持我的方式，不会给你带来任何额外的费用。如果您已经是会员，</em> <a class="ae lh" href="https://eugenia-anello.medium.com/subscribe" rel="noopener"> <em class="os">订阅</em> </a> <em class="os">每当我发布新的数据科学和python指南时，您都可以收到电子邮件！</em></p></div></div>    
</body>
</html>