<html>
<head>
<title>7 Ways GitLens Helps Me Understand Code Faster</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">GitLens帮助我更快理解代码的7种方法</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/7-ways-gitlens-helps-me-understand-code-faster-44fc4195ca02?source=collection_archive---------1-----------------------#2021-10-12">https://pub.towardsai.net/7-ways-gitlens-helps-me-understand-code-faster-44fc4195ca02?source=collection_archive---------1-----------------------#2021-10-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="45ad" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/e21e7bda5410c1aa838630e6ec0233fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Z0M9qnDAMlGjemNh"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">由<a class="ae ko" href="https://unsplash.com/@markusspiske?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">马库斯·斯皮斯克</a>在<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>拍摄的照片</figcaption></figure><h1 id="9fea" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">介绍</h1><p id="4b8f" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">在本文中，我将分享7个场景，其中<a class="ae ko" href="https://gitlens.amod.io/" rel="noopener ugc nofollow" target="_blank"> GitLens </a>帮助我节省了大量阅读和理解代码的时间。</p><p id="d3d7" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我们将使用<a class="ae ko" href="https://github.com/rasahq/rasa" rel="noopener ugc nofollow" target="_blank"> rasa </a>存储库作为示例代码库来说明这些场景。</p><h1 id="e959" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">情节</h1><p id="6c4e" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">我们将讨论的场景包括:</p><ol class=""><li id="2fbe" class="mq mr it lp b lq ml lu mm ly ms mc mt mg mu mk mv mw mx my bi translated">找出是谁写了一行特定的代码</li><li id="f34d" class="mq mr it lp b lq mz lu na ly nb mc nc mg nd mk mv mw mx my bi translated">弄清楚还做了哪些改变</li><li id="b0e0" class="mq mr it lp b lq mz lu na ly nb mc nc mg nd mk mv mw mx my bi translated">弄清楚一个特性是如何工作的</li><li id="c48c" class="mq mr it lp b lq mz lu na ly nb mc nc mg nd mk mv mw mx my bi translated">找出自我们上次提交以来发生了什么变化</li><li id="4229" class="mq mr it lp b lq mz lu na ly nb mc nc mg nd mk mv mw mx my bi translated">找出新闻发布中的变化</li><li id="0ef2" class="mq mr it lp b lq mz lu na ly nb mc nc mg nd mk mv mw mx my bi translated">找出代码库特定部分最近的变化</li><li id="428c" class="mq mr it lp b lq mz lu na ly nb mc nc mg nd mk mv mw mx my bi translated">确定何时发布拉取请求</li></ol><h2 id="e848" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景1:谁写了那句台词？</h2><p id="2f21" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">根据撰写本文时rasa的文档，socketio通道支持JWT认证，但REST通道不支持。</p><p id="0635" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">假设我们对REST通道实现JWT认证感兴趣。一个好的第一步是联系实现socketio通道的人，寻求建议。怎么才能找出实施的人？</p><p id="0d1e" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">使用GitLens，我们只需要选择任何实现JWT认证逻辑的行，GitLens就会显示一个注释，告诉我们最后编辑该行的人。例如:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi np"><img src="../Images/2766665f235d13f0493a1249a6e7c221.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Ex6ruLNW22vO00YULMYyeQ.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图1:找出最后编辑一行的人</figcaption></figure><p id="855c" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">在图1中，我们将光标放在第138行，因为这显然与JWT身份验证有关，我们了解到最后写这一行的人是用户b-quachtran。它写于7个月前的PR #8103。</p><h2 id="2ec4" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景2:还需要改变什么？</h2><p id="4421" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">一条线路不足以实现JWT认证。我们想知道该文件在<code class="fe nu nv nw nx b">socketio.py</code>中其他什么地方提交了更改。</p><p id="69c5" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">如果我们将鼠标悬停在GitLens写在第138行旁边的注释上，它将显示一个弹出窗口，从中我们可以快速查看该特定文件的提交差异:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ny"><img src="../Images/01e5afeacfd18a1e5ce4c5e6e088e374.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*Md6hOHPThff2vmBmpO78QQ.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图2:找出提交对文件所做的其他更改</figcaption></figure><h2 id="1544" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景3:一个特性是如何实现的？</h2><p id="4ee0" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">最好看看实现JWT认证的PR，以防它需要修改多个文件。PR还可以帮助我们理解特性实现细节背后的思考过程。</p><p id="dd26" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">从行注释中我们已经知道它是PR #8103的一部分。我们怎样才能快速找到这个PR并查看它的详细信息？</p><p id="a114" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">原来，当我们将鼠标悬停在该行注释上时出现的弹出窗口有一个指向其PR的超链接，单击该超链接将打开GitHub上的PR:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi nz"><img src="../Images/7c0abf771cb51f0ffbda5cf09f93953c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*zbDhi8sBHaKWE32Ir2FnFw.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图3:查看附加到提交的PR</figcaption></figure><h2 id="d83a" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景4:自从我上次提交以来，发生了什么变化？</h2><p id="7d50" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">假设您想知道一个文件自上次处理以来发生了怎样的变化。</p><p id="49d9" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">例如，假设我们让<a class="ae ko" href="https://github.com/RasaHQ/rasa/pull/6859/commits/55c840745a3bc118ea6d9048b28b9e821e088321" rel="noopener ugc nofollow" target="_blank">这个</a>提交到responses.mdx文件，并想知道从那时起它发生了什么变化。</p><p id="9474" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我们可以使用文件历史视图来定位我们的提交，然后查看在它之后还有什么其他的提交:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oa"><img src="../Images/55755fbe622f150f6c0b4de4995eb590.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*aGKFKd5LMa6q_dGdkVJOZQ.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图4:查看给定提交后文件的变化情况</figcaption></figure><p id="a2b1" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">但是必须单击每个后续的提交来查看更改会变得很乏味。</p><p id="523c" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">更有效的方法是将当前文件与我们提交时的文件进行比较:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ob"><img src="../Images/a90fb596f6fdc91e357dbdff306f7594.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*mujcjIoyt8mIScESprmqSQ.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图5:相对于特定提交区分文件</figcaption></figure><p id="215f" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">图5显示自从我们提交以来，添加了一个关于条件响应变化的新部分和关于按钮响应的附加讨论。</p><h2 id="5038" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景5:一个版本中有什么新内容？</h2><p id="b382" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">阅读软件版本的变更日志/发行说明是了解最新变更的好方法。但是，这些文档只是一个高层次的总结，往往只包含值得注意的变更，例如新功能、弃用警告、重大变更等。如果我们想知道所做的每一个更改或所有更改的细节，该怎么办？</p><p id="f88f" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">例如，rasa 2.8.7的变更日志声明:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oc"><img src="../Images/8409cb275a498320f2ebd6cc3b0ba230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NIeiMmLUghr1721Ut9BLBA.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图6:rasa 2 . 8 . 7的变更日志</figcaption></figure><p id="cc80" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">如果我们对这个版本的细节感兴趣，可以用GitLens对比一下2.8.7版和2.8.6版的变化:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ob"><img src="../Images/436323cb00374bb26697541970e186f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*eWyxolerQih7IONl8XkiSA.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图7:找出一个版本中的变化</figcaption></figure><p id="6e71" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">图7显示，除了将<code class="fe nu nv nw nx b">tensorflow</code>版本的上限设置为2.4之外，<code class="fe nu nv nw nx b">sanic</code>和<code class="fe nu nv nw nx b">sanic-jwt</code>库的版本限制也被更改了。此外，文档已经更新，增加了关于多意图分类如何工作以及何时使用它的更多细节。</p><h2 id="c58a" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景6:随着时间的推移，代码库的某些部分是如何变化的？</h2><p id="aba6" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">假设您的任务是维护rasa的文档，并且刚刚结束一个月的假期。您可能想知道在您离开期间文档发生了什么变化。你如何快速地做这件事？</p><p id="e699" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">快速补充说明:该文档是位于<code class="fe nu nv nw nx b">docs</code>文件夹中的rasa库的一部分，以<code class="fe nu nv nw nx b">mdx</code>格式编写。</p><p id="9dbf" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">使用GitLens，您可以搜索所有符合<code class="fe nu nv nw nx b">docs/docs/*.mdx</code>模式的提交文件:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ob"><img src="../Images/80c0021d47949e2a78549d85cb539fab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*HUVgwhCRSL4x54xWnWKTjA.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图8:如何搜索匹配文件模式的所有提交</figcaption></figure><h2 id="5897" class="ne kq it bd kr nf ng dn kv nh ni dp kz ly nj nk ld mc nl nm lh mg nn no ll iz bi translated">场景7:某个功能/错误修复是什么时候发布的？</h2><p id="42e5" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">看这个<a class="ae ko" href="https://github.com/RasaHQ/rasa/pull/8646" rel="noopener ugc nofollow" target="_blank"> PR </a>:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi od"><img src="../Images/125d8f3ffd74a3f09024d9cdab2f8bb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DH49sPAmlzgV1KIMt96gLg.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图9:修复bug的PR示例</figcaption></figure><p id="3e47" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">是合并到<code class="fe nu nv nw nx b">2.6.x</code>分支的一个bug修复。但是什么时候发布的呢？我们可以查看<code class="fe nu nv nw nx b">2.6.x</code>系列中每个版本的变更日志，但是更快的方法是在这个PR的合并提交之后读取提交历史。以下是如何做到这一点:</p><p id="b63c" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">首先，让我们找出PR的合并提交的SHA。查看其提交历史，我们发现:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oe"><img src="../Images/22577429b2a94515d191234314bbe7d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*349vQpuXl87Jh-Dq_bQL2Q.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图10:找出合并提交的SHA</figcaption></figure><p id="0cf1" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">我们看到<code class="fe nu nv nw nx b">4974cdb</code>是PR提交到<code class="fe nu nv nw nx b">2.6.x</code>分支的SHA。</p><p id="af6f" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">接下来，我们使用GitLens的<code class="fe nu nv nw nx b">Show Branch History</code>命令来定位这个提交，然后浏览后续的提交来找出最近的版本:</p><figure class="nq nr ns nt gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi of"><img src="../Images/a4f7707171090af63676c004a76db4d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*puceWIlNXfGgaa4uk07IUA.gif"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图11:找出PR发布的时间</figcaption></figure><p id="bd6c" class="pw-post-body-paragraph ln lo it lp b lq ml ls lt lu mm lw lx ly mn ma mb mc mo me mf mg mp mi mj mk im bi translated">图11显示PR作为<code class="fe nu nv nw nx b">2.6.1</code>的一部分发布。在这种情况下，发布是在PR合并后立即进行的，因此我们不必向上滚动太多来寻找发布提交。</p><h1 id="9ec4" class="kp kq it bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm bi translated">结论</h1><p id="4f3a" class="pw-post-body-paragraph ln lo it lp b lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk im bi translated">本文介绍了7种情况，GitLens使导航代码库时找到常见问题的答案变得非常容易。我希望您发现这很有用，并有兴趣了解GitLens还能提供什么。</p></div></div>    
</body>
</html>