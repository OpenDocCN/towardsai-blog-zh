<html>
<head>
<title>2: Monitoring ML-OPS Guide Series</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2:监控洗钱活动指南系列</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/deployment-ml-ops-guide-series-2-69d4a13b0dcf?source=collection_archive---------2-----------------------#2021-09-09">https://pub.towardsai.net/deployment-ml-ops-guide-series-2-69d4a13b0dcf?source=collection_archive---------2-----------------------#2021-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="79a3" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><p id="a30f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><em class="ku">概念漂移、数据漂移&amp;监控</em></p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi kv"><img src="../Images/270b83901f581367f6f403f9ce848423.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QAtl0WTypDbpEcPLoBc9bA.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">图:【https://martinfowler.com/】ML系统生命周期</figcaption></figure><p id="92dc" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">任何机器学习系统最令人兴奋的时刻是当您开始部署您的模型时，但是由于统计问题，部署变得很困难，例如“当过去的模型性能不再保证用于未来，并且当模型被部署在具有频繁数据变化的云中时，由于数据的变化，模型性能在一段时间内下降”，以及系统引擎(例如系统)需要监控ML系统，这通常本质上是手动的并且乏味的，需要尽可能通过自动化来处理。</p><p id="56fa" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">现在，如何处理模型的统计问题或降低性能？。一旦部署了模型，如何处理数据变更？</strong></p><p id="471c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这就是概念和数据漂移的由来。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi lm"><img src="../Images/bcae20936ec8442a4070e4b97f77629f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OqB9BiGBtZb9wHx125EWRw.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">图:cloud.google.com TFDV检测数据漂移的工作流程</figcaption></figure><p id="7479" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">概念漂移</strong>是指如果从x到y的期望映射发生变化，并且由于产品化模型中巨大的数据分布变化而导致预测不准确。</p><p id="064f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">例如</strong>，假设对于一个给定的用户，有许多令人惊讶的在线购买，这应该已经标记了该帐户的欺诈行为。但由于新冠肺炎，这些相同的购买不会真的引起任何恐慌，该系统未能归类为欺诈，因为新的在线购买的数量由于疫情而增加。那张信用卡可能被偷了。</p><p id="0069" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">另一个概念漂移的例子，</strong>假设x是一套房产的大小，y是一套房产的价格，因为市场的变化，随着时间的推移，房子可能会变得更贵。同样大小的房子最终会有更高的价格，这是概念漂移。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div role="button" tabindex="0" class="lb lc di ld bf le"><div class="gh gi ln"><img src="../Images/86f8cb637d0befb9795431349a6395e5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U-hEjyfROxXx34bmV22gLw.png"/></div></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">图:cloud.google.com数据分布直方图允许您快速发现数据中发生的变化，然后确定如何修复它</figcaption></figure><p id="45c0" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">数据漂移</strong>是指如果x的分布发生变化，即使从x或y的映射没有变化。除了管理这些数据更改之外，这还会导致第二组软件引擎问题，即您必须管理/自动化作业流程才能成功部署系统。</p><p id="2f5a" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">例如</strong>，我们再来看看房产用例。比方说，人们开始建造更大的房子或更小的房子，因此房子大小的投入分布实际上会随着时间而变化。当您部署机器学习系统时，最重要的任务之一通常是确保您可以检测和管理任何变化。您正在实现一个预测服务，它的工作是接受查询x并输出预测y，对于如何实现这个软件，您有很多设计选择。</p><p id="9f1a" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">这里有一个问题清单，可能会帮助你做出适当的决定来处理软件工程问题</strong>。</p><p id="d7bf" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">比如说问题/清单，</p><ol class=""><li id="dd43" class="lo lp iq jy b jz ka kd ke kh lq kl lr kp ls kt lt lu lv lw bi translated">需要实时预测还是批量预测？例如，实时预测包括获取一个序列并进行预测，比如说对于语音识别。批量预测主要用于医院，比方说，利用电子健康记录，运行一个通宵批量流程，看看是否有与患者相关的东西，我们可以发现。</li><li id="3f12" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt lt lu lv lw bi translated">你的预测服务是运行在云端还是运行在边缘，或者甚至是在网络浏览器中？</li><li id="bb9c" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt lt lu lv lw bi translated">你有多少计算资源或者可以分配给一个给定的ML系统？</li><li id="9179" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt lt lu lv lw bi translated">需要什么类型的安全和隐私设置来支持生产中的ML系统？</li><li id="e3b4" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt lt lu lv lw bi translated">给定每秒查询数，需要支持多少查询和吞吐量？</li><li id="9995" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt lt lu lv lw bi translated">需要实施何种类型的记录来回溯ML系统故障并支持再现性？</li></ol><p id="d845" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">您需要做的是监控系统性能并继续维护它，尤其是在面临概念漂移和数据漂移时。当您为第一次部署构建机器学习系统时，与您更新或维护之前已经部署的系统时相比，会有很大不同。</p><p id="e0e6" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">因为不幸的是，大多数第一次部署意味着你可能只完成了一半，而你工作的后一半只是在你第一次部署之后才开始，因为即使在你已经部署之后，还有大量的工作要反馈数据，可能还要更新模型，在数据发生变化时继续维护模型。</p><figure class="kw kx ky kz gt la gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/bce5ca4def6f43587d78b2e720dc2b27.png" data-original-src="https://miro.medium.com/v2/resize:fit:1382/format:webp/1*63sisVWR34FTI5SrGGd3ww.png"/></div><figcaption class="lh li gj gh gi lj lk bd b be z dk translated">图:https://research.google/pubs/pub46555/<a class="ae ll" href="https://research.google/pubs/pub46555/" rel="noopener ugc nofollow" target="_blank"/></figcaption></figure><p id="ee5e" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">如何在部署后自动监控ML系统？。</strong></p><p id="e5a5" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">除了少数开创性的例外，大多数科技公司只是在几年内大规模地做了ML/AI，许多公司才刚刚开始漫长的旅程。这意味着:</p><ul class=""><li id="48cb" class="lo lp iq jy b jz ka kd ke kh lq kl lr kp ls kt md lu lv lw bi translated">这些挑战经常被误解或完全忽视</li><li id="3afb" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt md lu lv lw bi translated">框架和工具正在快速变化(对于数据科学和MLOps都是如此)</li><li id="b707" class="lo lp iq jy b jz lx kd ly kh lz kl ma kp mb kt md lu lv lw bi translated">最佳实践往往是灰色的</li></ul><p id="04e3" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">处理监控洗钱系统的清单/策略包括，例如，</strong></p><p id="7940" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><em class="ku"> 1。依赖关系的改变会导致通知吗？</em></p><p id="9121" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">2.数据不变量在训练和服务输入中成立吗，即监控训练/服务偏差？</p><p id="ea7f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">3.培训和服务功能是否总是计算相同的值？</p><p id="9345" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">4.部署的模型在数值上稳定吗？</p><p id="355c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">5.模型在训练速度、服务延迟、吞吐量或RAM使用方面没有经历过剧烈或缓慢的倒退吗？</p><p id="a590" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">6.模型在服务数据的预测质量上没有经历回归吗？</p><p id="67f3" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><em class="ku">在下一个系列中，将会看到实际的实现和各种处理数据漂移和概念漂移的技术，如何在开发阶段实践它，以便在将模型部署到产品中之后维护变得更容易。</em></p></div></div>    
</body>
</html>