<html>
<head>
<title>Cross-Validation Types and When to Use It</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">交叉验证类型以及何时使用</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/cross-validation-types-and-when-to-use-it-85617e73256c?source=collection_archive---------1-----------------------#2022-04-19">https://pub.towardsai.net/cross-validation-types-and-when-to-use-it-85617e73256c?source=collection_archive---------1-----------------------#2022-04-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="20e9" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">测试模型的更好方法</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/437631bd3e2a918255d2c7152199687f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tMCxa5m6-QNulrQs28vBMw.png"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">来源:<a class="ae kv" href="https://scikit-learn.org/stable/modules/cross_validation.html" rel="noopener ugc nofollow" target="_blank"> scikit-learn </a></figcaption></figure><h1 id="c316" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">概观</h1><p id="c6c6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated">构建机器学习模型是一个伟大的过程，包括几个步骤</p><ol class=""><li id="30ca" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated"><strong class="lq ir">收集数据</strong></li><li id="c954" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">数据准备&amp;预处理</strong></li><li id="3bb7" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">爆炸数据分析</strong></li><li id="f2e3" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">特征工程和选择</strong></li><li id="784c" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated"><strong class="lq ir">建模与评估</strong></li></ol><ul class=""><li id="d9b8" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj na ms mt mu bi translated">交叉验证是<strong class="lq ir">模型建立和评估最重要的部分之一。</strong></li><li id="4c54" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">在试验交叉验证之前，让我们看看它是什么，以及为什么我们应该担心使用它。</li></ul></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="1861" class="kw kx iq bd ky kz ni lb lc ld nj lf lg jw nk jx li jz nl ka lk kc nm kd lm ln bi translated">为什么要交叉验证？</h1><ul class=""><li id="8567" class="mk ml iq lq b lr ls lu lv lx nn mb no mf np mj na ms mt mu bi translated">假设我们有10000行(样本)数据集，我们想用它建立一个模型。一个简单的方法是对数据进行训练测试分割，然后用它建立一个模型。对吗？？</li><li id="994a" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">但是当我们做训练测试分割的时候，我们赋random_state=某个值。可以是0，42，69，100。每次你改变random_state的值，你都会得到一个不同的训练和测试数据集(你可以随意检查，但你可以相信我的话)。</li><li id="0db7" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">在每个不同的分割中，你会得到不同的精度性能，所以当每个分割都有不同的结果时，你如何确定选择正确的random_state。</li><li id="f8d2" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">这就是交叉验证派上用场的地方，我们使用交叉验证对我们的数据进行不同的分割，以训练和测试我们的模型，我们对这次迭代<strong class="lq ir"> </strong>的整体准确性进行平均，以查看我们模型的整体性能。</li></ul></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="ee1f" class="kw kx iq bd ky kz ni lb lc ld nj lf lg jw nk jx li jz nl ka lk kc nm kd lm ln bi translated">什么是交叉验证？</h1><ul class=""><li id="fc43" class="mk ml iq lq b lr ls lu lv lx nn mb no mf np mj na ms mt mu bi translated">我们将数据集分成不同的数据块。如果我们有10000行，并希望有5次迭代。我们可以将前8000行作为训练数据，后2000行作为测试数据(假设80/20分割)。</li><li id="3318" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">在下一次迭代中，我们可以将前6000行和后2000行作为训练数据，其余的2000行作为测试数据。</li><li id="89a3" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">通过执行相同的过程，我们对具有不同训练和测试数据的数据进行不同的保存。</li><li id="bdf6" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">这是一个很好的交叉验证的可视化。(图片来源:Kaggle)</li></ul><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nq"><img src="../Images/e526d33d9d306728d082c9e6d57c5bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ISBOVJtvYSD9RQE6.png"/></div></div></figure></div><div class="ab cl nb nc hu nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="ij ik il im in"><h1 id="a567" class="kw kx iq bd ky kz ni lb lc ld nj lf lg jw nk jx li jz nl ka lk kc nm kd lm ln bi translated">交叉验证的类型</h1><p id="4ad6" class="pw-post-body-paragraph lo lp iq lq b lr ls jr lt lu lv ju lw lx ly lz ma mb mc md me mf mg mh mi mj ij bi translated"><strong class="lq ir">交叉验证主要有5种类型</strong></p><ol class=""><li id="33fa" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj mr ms mt mu bi translated">坚持验证方法</li><li id="d263" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">遗漏一个交叉验证</li><li id="3a75" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">k倍交叉验证</li><li id="674b" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">分层K折叠交叉验证</li><li id="51cb" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj mr ms mt mu bi translated">重复随机测试列车分裂</li></ol><ul class=""><li id="0fee" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj na ms mt mu bi translated">保留验证方法是我们常规的训练测试分割方法，其中我们保留部分数据用于测试目的。</li><li id="333b" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">我们不会在这里讨论遗漏一个交叉验证和重复随机测试序列分割的方法，因为它们很少被使用，并且你可能在你的大多数项目中不需要它们。</li><li id="4f01" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">我将在这里使用乳腺癌威斯康星州数据集进行解释。我不会详细讨论如何实现伟大的特性工程步骤，因为这篇文章的主要目的是交叉验证。</li></ul><p id="5dd5" class="pw-post-body-paragraph lo lp iq lq b lr mm jr lt lu mn ju lw lx nr lz ma mb ns md me mf nt mh mi mj ij bi translated"><strong class="lq ir">数据准备</strong></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><ul class=""><li id="bde8" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj na ms mt mu bi translated">现在我们可以用这些数据建立我们的模型，并使用不同的交叉验证技术</li></ul><h1 id="31e7" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">坚持验证方法</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><ul class=""><li id="03c6" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj na ms mt mu bi translated">这种模型的结果是0.920638638867</li><li id="c1cc" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">这是我们简单的训练测试分割，我们拿出一部分数据进行验证，其余的用于训练模型。</li></ul><h1 id="967e" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">k倍交叉验证</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><ul class=""><li id="7c58" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj na ms mt mu bi translated">分数=[0.9122807 0.92982456 0.89473684 0.98245614 0.98245614 0.98245614 0.96491228 0.96491228 0.96491228 1。]</li><li id="4681" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">平均分= 0.9578947368421054</li><li id="a9c6" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">在K倍交叉验证中，我们对数据进行K种不同的分割。选择我们的第k个折叠的一部分进行验证，并使用其余的数据进行训练。</li><li id="4b46" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">重复这k次，每次随机分割我们的数据，产生新的训练和测试数据集。</li><li id="777f" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">这将给出我们的模型在不同场景中的整体性能。</li></ul><h1 id="1efe" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">分层K折叠交叉验证</h1><ul class=""><li id="16a9" class="mk ml iq lq b lr ls lu lv lx nn mb no mf np mj na ms mt mu bi translated">我们在处理不平衡数据集时使用这种方法。</li><li id="eb6a" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">这将给出不同的分割，这将保留类的百分比，因此我们可以有一个合适的数据集来训练和测试我们的模型。</li></ul><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nu nv l"/></div></figure><ul class=""><li id="d469" class="mk ml iq lq b lr mm lu mn lx mo mb mp mf mq mj na ms mt mu bi translated">分数=[0.98245614 0.89473684 0.94736842 0.94736842 0.98245614 0.94736842 0.94736842 0.94736842 1。</li><li id="90c1" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">平均分= 0.9614035087719298</li><li id="9c05" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">更多关于it的深入知识，请查看:</li></ul><div class="nw nx gp gr ny nz"><a href="https://www.geeksforgeeks.org/stratified-k-fold-cross-validation/" rel="noopener  ugc nofollow" target="_blank"><div class="oa ab fo"><div class="ob ab oc cl cj od"><h2 class="bd ir gy z fp oe fr fs of fu fw ip bi translated">分层K折叠交叉验证</h2><div class="og l"><h3 class="bd b gy z fp oe fr fs of fu fw dk translated">在机器学习中，当我们想要训练我们的ML模型时，我们将整个数据集分成训练集和测试集…</h3></div><div class="oh l"><p class="bd b dl z fp oe fr fs of fu fw dk translated">www.geeksforgeeks.org</p></div></div><div class="oi l"><div class="oj l ok ol om oi on kp nz"/></div></div></a></div><h1 id="ce8d" class="kw kx iq bd ky kz la lb lc ld le lf lg jw lh jx li jz lj ka lk kc ll kd lm ln bi translated">结论</h1><ul class=""><li id="00c2" class="mk ml iq lq b lr ls lu lv lx nn mb no mf np mj na ms mt mu bi translated">如果您想要使用交叉验证，那么就使用K倍交叉验证，如果您的数据集不平衡，并且您事先没有平衡它，那么您可以使用分层K倍交叉验证。</li><li id="5465" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">显然，还有其他方法可以进行交叉验证，但这里提到的是大多数问题中最常用的方法。</li><li id="8d5e" class="mk ml iq lq b lr mv lu mw lx mx mb my mf mz mj na ms mt mu bi translated">我希望你喜欢这篇文章，如果你有任何补充或想给反馈，请这样做，因为它将帮助我和其他人提高很多。</li></ul></div></div>    
</body>
</html>