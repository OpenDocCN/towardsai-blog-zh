<html>
<head>
<title>Why Apriori Algorithm Is Not Applicable for All Types of Products/Stores?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么Apriori算法不适用于所有类型的产品/店铺？</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/why-apriori-algorithm-is-not-applicable-for-all-types-of-products-stores-78d8ecab19c4?source=collection_archive---------2-----------------------#2022-08-11">https://pub.towardsai.net/why-apriori-algorithm-is-not-applicable-for-all-types-of-products-stores-78d8ecab19c4?source=collection_archive---------2-----------------------#2022-08-11</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="1758" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在进行购物篮分析时，Apriori算法是最受欢迎的工具。但是，它并不适用于所有类型的产品或商店。</p><blockquote class="kl"><p id="08fa" class="km kn iq bd ko kp kq kr ks kt ku kk dk translated">作者的说明</p><p id="ba46" class="km kn iq bd ko kp kq kr ks kt ku kk dk translated">亲爱的读者，在你阅读我们的文章之前，请注意，我们假设你对购物篮分析和Apriori算法有一个大致的了解。如果没有，我们建议你看看下面这篇由<a class="kv kw ep" href="https://medium.com/u/53b19b48ce18?source=post_page-----78d8ecab19c4--------------------------------" rel="noopener" target="_blank"> Eliana Grosof </a>撰写的7分钟快速文章。感谢您的时间和兴趣！</p></blockquote><div class="kx ky kz la lb lc"><a href="https://medium.com/data-explained/apriori-machine-learning-algorithm-explained-a19453395905" rel="noopener follow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd ir gy z fp lh fr fs li fu fw ip bi translated">Apriori机器学习算法，讲解</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">用于生成推荐的强大而简单的ML算法</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">medium.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq lr lc"/></div></div></a></div><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi ls"><img src="../Images/c2e808dc8641b6a0bc30e6282d0c9de7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uUTyXbR7RgRsfoJ4LBmP1A.png"/></div></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">图片来源:<a class="ae mh" href="https://intellipaat.com/blog/data-science-apriori-algorithm/" rel="noopener ugc nofollow" target="_blank">https://intelli paat . com/blog/data-science-apriori-algorithm/</a></figcaption></figure><h1 id="e3a7" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">目的</h1><p id="bf1a" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">我们开始这项研究的目的是寻找一些现成的关联规则。这种意图是由我们遇到的其他著名规则推动的，如[啤酒、尿布]或[啤酒、台扇]。然而，通过这项研究的过程，我们最终意识到Apriori并不适用于所有类型的数据集。我们还学到了一些惊人的概念和技术，可以使进行购物篮分析的过程变得相当容易。</p><h1 id="2769" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">使用的数据集</h1><p id="2421" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">我们使用了包含电子商务电子平台的事件数据[查看、添加到购物车、购买]的数据集，包括所有电子品牌。目的是确定影响几种产品购买的不常见规则。由于三星和苹果合计占数据的57%，我们只关注这些品牌的购买行为。</p><h2 id="8082" class="nl mj iq bd mk nm nn dn mo no np dp ms jy nq nr mw kc ns nt na kg nu nv ne nw bi translated">链接到数据集</h2><p id="39ab" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated"><strong class="jp ir">电子商务平台数据集:</strong> <a class="ae mh" href="https://www.kaggle.com/datasets/mkechinov/ecommerce-behavior-data-from-multi-category-store?select=2019-Oct.csv" rel="noopener ugc nofollow" target="_blank"> <em class="nx">来自多品类店铺的电子商务行为数据| Kaggle </em> </a></p><p id="d3c0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">杂货店数据集(本文稍后介绍):</strong> <a class="ae mh" href="https://www.kaggle.com/datasets/ahmtcnbs/datasets-for-appiori" rel="noopener ugc nofollow" target="_blank">购物篮分析数据| Kaggle </a></p><h1 id="73e6" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">本文的关键术语</h1><p id="bc59" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">“交易”是指购买一件或多件物品。每个“事务”都有一个唯一的用户会话ID。</p><p id="62ac" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">“购买”指的是仅购买该项目的一个数量。多个“购买”可以有一个公共的用户会话ID。</p><h1 id="fd50" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">旅行</h1><p id="c51d" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">在删除“view”和“add-to-cart”记录后，我们假设数据集中的每一行都与该商品的一次购买相关。这些单独的购买按用户会话id分组，导致不同的交易。</p><p id="f20f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们使用python上的Apriori算法分别对苹果和三星进行了购物篮分析。由于许多单项交易，我们不得不将指标阈值减少到小数点后几位。</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">用于为先验关联规则生成器定义函数的代码</figcaption></figure><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">对Samsung数据集运行Apriori算法的代码</figcaption></figure><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi oa"><img src="../Images/16af80c3fcbcf89bcdb89b97a3412e81.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*r7V2aPE1j8WxcZYD7FQO5w.png"/></div></div></figure><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">使用较低支持阈值在Samsung数据集上运行Apriori算法的代码</figcaption></figure><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi ob"><img src="../Images/8968396c6ce9db9c4f87efb6c32b9953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lfoeCvYH_yJ0jdrkIEhq5A.png"/></div></div></figure><p id="a7ad" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">结果，我们所有的度量值都非常低，我们无法在任何两个给定的项目之间找到任何重要的关联规则。为了验证我们的方法是正确的，我们在杂货店数据集上运行了相同的代码，特别是对于购物篮分析。</p><h1 id="ff2e" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">结果</h1><p id="f252" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">我们知道信心是如何计算的，但我们无法摆脱这样一种感觉，即如果购买了商品A，信心只是对商品B被购买的可能性的任意衡量。例如，我们发现如果先购买“莳萝”,则购买“鸡蛋”的置信度为0.39。同时，如果首先购买“鸡蛋”，则购买“莳萝”的可能性大约为0.41。</p><figure class="lt lu lv lw gt lx"><div class="bz fp l di"><div class="ny nz l"/></div><figcaption class="md me gj gh gi mf mg bd b be z dk translated">为杂货数据集生成关联规则的代码</figcaption></figure><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi oc"><img src="../Images/445b269716c1abe4b37b36f2711fc0a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sUkIK3r7HmYnXYNylKnfwQ.png"/></div></div></figure><p id="a950" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，信心并不总是判断商品B被购买的机会是否依赖于商品a的购买的确定措施。此外，如果任何两个给定商品的lift值相同，则商品的购买顺序不应该有所不同。</p><p id="aa33" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了便于改变结果，我们回到了原始数据集，并删除了所有的单个事务。这次我们包括了所有品牌的交易，而不仅仅是苹果或三星。</p><p id="dcf6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">该算法返回具有大量提升值和显著置信度值的规则。令人惊讶的是，对于许多具有不同项目集的不同规则，支持度为0.000205(仅供参考，所有规则中最高的支持度值)。我们意识到这些项目集只是相同购买的不同组合，代表相同的交易。在总共58435项交易中，只有12项交易的支持度为0.000205，因此无法在这些项目之间建立重要的关联规则。</p><figure class="lt lu lv lw gt lx gh gi paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="gh gi od"><img src="../Images/9839ae308781d3bbe9c409bccaa12156.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jZO-RnzV1RD8LSa1FaUbrQ.png"/></div></div></figure><h1 id="f8a9" class="mi mj iq bd mk ml mm mn mo mp mq mr ms mt mu mv mw mx my mz na nb nc nd ne nf bi translated">结论</h1><p id="0a84" class="pw-post-body-paragraph jn jo iq jp b jq ng js jt ju nh jw jx jy ni ka kb kc nj ke kf kg nk ki kj kk ij bi translated">我们的结论是，Apriori算法并不适用于所有类型的数据集。它适用于有很大机会一起购买多种产品的地方，例如，在杂货店或运动器材商店或百货商店等。由于电子产品是非常昂贵的物品，所以很少有同时购买多种产品的交易。因此，在这种情况下，Apriori对于发现重要的关联规则是没有用的。</p><p id="8fb4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">此外，即使在先验适用的情况下，要考虑的最重要的度量是支持度，因为高支持度值表示给定产品组合的高交易数。然后，如果提升值大于1，我们可以得出结论，关联规则是重要的，我们可以进一步探索这一点，以获得更大的收入。</p><p id="459b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要查看该项目的详细代码，请访问<a class="ae mh" href="https://github.com/OneByyTwo/A_Apriori-Project" rel="noopener ugc nofollow" target="_blank">OneByyTwo/A _ Apriori-Projec</a>t。</p></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><p id="bc8f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可以在LinkedIn上通过<a class="ae mh" href="https://www.linkedin.com/in/vgupta12/" rel="noopener ugc nofollow" target="_blank">Vaibhav Gupta</a>&amp;<a class="ae mh" href="https://www.linkedin.com/in/nishit-vyas-454581122/" rel="noopener ugc nofollow" target="_blank">Nishit Vyas</a>与我们联系，或者发送电子邮件至<a class="ae mh" href="http://onebyytwo@gmail.com/" rel="noopener ugc nofollow" target="_blank"> OnyByyTwo </a></p></div></div>    
</body>
</html>