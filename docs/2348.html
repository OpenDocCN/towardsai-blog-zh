<html>
<head>
<title>Hosting FastAPI with Saturn Cloud Deployments</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Saturn云部署托管FastAPI</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/data-science-4126e13cf7fe?source=collection_archive---------1-----------------------#2021-11-19">https://pub.towardsai.net/data-science-4126e13cf7fe?source=collection_archive---------1-----------------------#2021-11-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="6713" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi jw"><img src="../Images/5bf838e280ea47e1eeec0f64fa25791c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YiEMPP58piZwv9TD"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated"><a class="ae kl" href="https://unsplash.com/@writecodenow?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">博伊图梅洛·菲特拉</a>在<a class="ae kl" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的照片</figcaption></figure><p id="9a7b" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">总之，本文将探索在Saturn Cloud上部署FastAPI应用程序的过程。FastAPI是一个健壮的web框架，用于用Python语言构建API。<a class="ae kl" href="https://saturncloud.io?utm_source=Sayar+Medium&amp;utm_medium=FastAPI+Blog&amp;utm_campaign=FastAPI+Blog" rel="noopener ugc nofollow" target="_blank">土星云</a>是一个致力于扩展机器学习和大数据管道等的平台。</p><p id="5405" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">该模型将预测加州的房价中值。让我们直接开始吧。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="02ac" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">资源</h1><p id="3b1f" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">👉<a class="ae kl" href="https://github.com/Sayar1106/cali-house-prices-estimator" rel="noopener ugc nofollow" target="_blank">储存库</a></p><p id="ced8" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">👉<a class="ae kl" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"> FastAPI </a></p><p id="840c" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">👉<a class="ae kl" href="https://scikit-learn.org/stable/" rel="noopener ugc nofollow" target="_blank"> Scikit-learn </a></p><p id="786d" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">👉<a class="ae kl" href="https://joblib.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank">作业库</a></p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="478c" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">数据探索</h1><p id="0e0d" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">我将用于训练我们机器学习模型的数据集名为“加州房价”这里可以找到<a class="ae kl" href="https://www.kaggle.com/camnugent/california-housing-prices" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="98da" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们的数据内容如下:</p><p id="2dfd" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这些数据是关于在给定的加州地区发现的房屋，以及基于1990年人口普查数据的一些汇总统计数据。注意，数据并不干净，所以需要一些预处理步骤！这些列如下所示，它们的名称不言自明:</p><ul class=""><li id="864e" class="mu mv iq ko b kp kq kt ku kx mw lb mx lf my lj mz na nb nc bi translated">经度</li><li id="83fd" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">纬度</li><li id="8645" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">住房_中位数_年龄</li><li id="3a4a" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">总房间数</li><li id="688e" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">总计_间卧室</li><li id="4a03" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">人口</li><li id="25c0" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">家庭</li><li id="4d80" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">中等收入</li><li id="89da" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">中位数_房屋价值</li><li id="3eba" class="mu mv iq ko b kp nd kt ne kx nf lb ng lf nh lj mz na nb nc bi translated">海洋_邻近</li></ul><p id="dfc2" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在对数据集进行初步探索时，我发现了以下情况:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/8e6d0be5faf8c83cd94b84eb5e2a3188.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bwuoDeYY5xA4ZMod"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="d550" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">所有数字特征之间的相关图向我们展示了以下内容:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/51e9ca76f4d908c8ef58abf81ccf0254.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/0*ajGRblw9mlTmnLGf"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="12d0" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">从图中可以看出，除了中值收入(median_income)似乎在0.68左右具有很强的正相关性之外，大多数数值特征与中值房屋价值(median_house_value)的相关性非常小。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="20ad" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">数据清理/特征工程</h1><p id="5f53" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">由于total _ bedrooms特性缺少值，我必须对其进行估算。为简单起见，我选择中值作为估算特性的度量。</p><p id="e14d" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">此外，还设计了两个新功能，即“每户房间数”和“每户人口数”</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi no"><img src="../Images/18e4190865978ce8d93d8c0197d4ff1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*M8WpT9MsG0QzVjF0"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="0745" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">训练模型</h1><p id="1536" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">我们的存储库看起来像这样:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div class="gh gi np"><img src="../Images/67abee5e4775714365cfc4c238cb8210.png" data-original-src="https://miro.medium.com/v2/resize:fit:774/0*wlZo05CFUe4pHwTu"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="7ca3" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">requirements.txt文件包含我们的依赖项。将所有依赖项添加到该文件中是至关重要的，因为在我们的部署过程中会用到它。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/150f504707cabd58ec1dddf62a3a2507.png" data-original-src="https://miro.medium.com/v2/resize:fit:928/0*z1i9-WYWFouiP8vi"/></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制成</figcaption></figure><p id="f429" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">src/main.py文件包含我们的训练脚本。让我们看看脚本中的一些基本函数。</p><p id="df89" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们的培训模型管道相对标准。只有一个分类列(ocean_proximity)。对于其他数字列，我应用了标准的缩放器。ColumnTransformer估计器有助于促进异构数据的特性转换。</p><p id="dbd5" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">至于模型，我选择了随机森林算法。我使用scikit-learn的管道类创建了管道。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/5c17fa053f7ced40eb7d9a49f389d3e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5BLNgZPxo9lJ774H"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="531a" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我使用joblib来保存我们的模型。由于模型文件相当大(&gt; 100Mb)，我决定将它存储在AWS S3。该模型的R值约为0.81，RMSE约为49k。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="425f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">设置FastAPI服务器和前端</h1><p id="fbf6" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">正如您可能已经猜到的，app/main.py包含我们的服务器代码。由于模型存储在AWS中，所以我使用boto3将本地副本下载到服务器。</p><p id="52a0" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果您的bucket和文件是私有的，您可能需要在Saturn Cloud上设置身份验证来访问它。你可以按照这个<a class="ae kl" href="https://saturncloud.io/docs/using-saturn-cloud/connect_data/" rel="noopener ugc nofollow" target="_blank">指南</a>来做。</p><p id="0fb8" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我编写了一个简单的函数来从AWS加载我们的模型:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi nr"><img src="../Images/03fded6f39dc6330500bc8a5ead864d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LAK4F8yq3suoGwfV"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="ae04" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">变量BUCKET_NAME和FILE_NAME是不言自明的。LOCAL_PATH是模型将被本地复制到的路径。</p><p id="f7be" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我还为应用程序、模型和模板定义了全局变量。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ns"><img src="../Images/f7107afd4312b4eb5246dd61fe55d40a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ntphIVQcI3d5Gm9t"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><h2 id="b2a0" class="nt ls iq bd lt nu nv dn lx nw nx dp mb kx ny nz mf lb oa ob mj lf oc od mn iw bi translated">主页</h2><p id="c6d2" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">因为我正在创建一个应用程序，所以必须有一个主页作为模型服务器的接口。</p><p id="02dc" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我为应用程序创建了一个主页，以便用户可以输入每个功能的值。为了呈现页面，我使用了Jinja2Templates，它是由FastAPI模板提供的。TemplateResponse呈现标题为“index.html”的登录页面</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oe"><img src="../Images/d47d2b87d32948d1770d8a2d6d2c8a7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uARSvycxd2k6WbpA"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="2704" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">index.html包含一个表单，它将作为我们应用程序的前端。页面的正文如下所示:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi of"><img src="../Images/b31fffc8d2ed093479878d9cf5130059.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fyWGeV2cNrHciQaT"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="09ed" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">如果仔细观察form标记，您会看到action属性被设置为“/submitform ”,请求方法是POST请求。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oe"><img src="../Images/cd12c71d4ec5ff1707dbfaf16eea2a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*LrCyUFB5duLX1uAr"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="4099" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我们的FastAPI服务器需要一个处理表单数据的方法。这个方法需要由app.post("/submitform ")来修饰，以适当地处理请求。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/d503023eb574ff3d4e59a8116e911fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*5XnlWsD7Eyl5Ev_d"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制成</figcaption></figure><p id="7d9d" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">您会注意到，每个变量都使用form设置为表单参数。这个类告诉FastAPI每个变量的输入都是从一个表单中接收的。</p><p id="a987" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">您还会注意到第26行有一个名为predict的方法。这个方法实际上是使用适当的格式从表单向模型管道提供输入的地方。因为管道只能接收来自数据帧的输入，所以我首先将数据转换成数据帧。然后，我创建了特性，作为特性工程过程的一部分。最后，我返回模型的预测。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi og"><img src="../Images/d6efac58267e2b895c126d34717971c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qbGohCbo4J7L3aAh"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="a6af" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">一旦我有了价格预测，我就使用模板。TemplateResponse再次返回一个名为result.html的页面。除了“请求”，我还通过TemplateResponse方法传递了“价格”。最后，我渲染了result.html尸体的价格。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oh"><img src="../Images/925e173973448053435b4ad2d2cdc605.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*TIJQqwsWijYRmfyN"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="bdc0" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">部署到土星云</h1><p id="5d9f" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">在设置部署之前，我将所有代码都推送到Github。要部署它，您必须将您的存储库连接到Saturn Cloud。为此，您可以遵循本<a class="ae kl" href="https://saturncloud.io/docs/using-saturn-cloud/gitrepo/" rel="noopener ugc nofollow" target="_blank">指南</a>。</p><p id="fe6e" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">连接您的repo后，转到“resources”并选择“New Deployment”。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/f719ac02c3a46fcbf86403c8dd8a9a31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dWQwqGAHgzX1Ixkk"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="9c64" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在此之后，您将会看到一个表单:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oi"><img src="../Images/c4438e96f3dd1812a8994c0b8db1540f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3JVqxYQyht3XKkQV"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="dbdf" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">填表时有几件事要注意。例如,“命令”是部署将运行来启动应用程序的命令。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi oj"><img src="../Images/27ba072dc0da032d6126d1278f01e647.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*95tAP7s7jKIeXmLs"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">用<a class="ae kl" href="https://carbon.now.sh/" rel="noopener ugc nofollow" target="_blank"> carbon.now.sh </a>制作</figcaption></figure><p id="134c" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">请注意，Saturn Cloud要求您的应用程序使用端口8000进行侦听。</p><p id="c524" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">另外，请注意额外的软件包标题。这是在命令运行之前将用于安装附加软件包的脚本。由于Saturn Cloud的默认图像没有像FastAPI和Uvicorn这样的库，所以将“-r requirements.txt”传递给文本框。</p><p id="f7b3" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这确保了脚本“` pip install -r requirements.txt`”在启动之前运行，其中包含附加软件包的依赖关系。</p><p id="dfa6" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">请注意，您也可以在本节中写下每个软件包的单独名称来安装它们。</p><p id="f241" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">一旦您点击创建按钮，您的部署将被创建。单击它，并将Github repo添加到部署中。确保将Github资源的路径添加到您的工作目录中。完成后，单击绿色箭头开始部署。</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ok"><img src="../Images/94ec19e0872bc77321384ac5672152a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*xcW7ZjX0SXsBV4ws"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="b30e" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">部署就绪后，单击公共URL。您应该会看到这样一个页面:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/71cdd7362fbc45c4b0addaa03bfcabbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JHPQF5QTZQxNkKEl"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="bf47" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">填写完表格后，您将看到一个页面，上面有预测价格:</p><figure class="nj nk nl nm gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="gh gi ni"><img src="../Images/ada3fc664c4f966a94e8650a8dd6c32e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ynnxX7--DWx99KpC"/></div></div><figcaption class="kh ki gj gh gi kj kk bd b be z dk translated">作者图片</figcaption></figure><p id="d149" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">注意，我使用了我的测试集的最后一个例子作为输入。实际的房价中值是133000美元，所以这个模型做得相当不错！😀</p><p id="71f3" class="pw-post-body-paragraph km kn iq ko b kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated"><strong class="ko ja">👉</strong> <a class="ae kl" href="https://github.com/Sayar1106/cali-house-prices-estimator" rel="noopener ugc nofollow" target="_blank"> <strong class="ko ja">链接到Github目录</strong> </a></p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="113f" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated">结论</h1><p id="1374" class="pw-post-body-paragraph km kn iq ko b kp mp kr ks kt mq kv kw kx mr kz la lb ms ld le lf mt lh li lj ij bi translated">恭喜你！你已经成功地学会了如何在土星云上部署一个FastAPI模型！如果你对使用他们的环境感到好奇，他们为数据科学家和团队提供每月30小时的免费时间。我希望你喜欢阅读这篇文章。下次见！✋</p></div></div>    
</body>
</html>