<html>
<head>
<title>Titanic Challenge — Machine Learning for Disaster Recovery</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">巨大的挑战——用于灾难恢复的机器学习</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/titanic-challenge-machine-learning-from-disaster-c184103e58d6?source=collection_archive---------0-----------------------#2020-01-08">https://pub.towardsai.net/titanic-challenge-machine-learning-from-disaster-c184103e58d6?source=collection_archive---------0-----------------------#2020-01-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/8fd1b9e908fa9a2fc50a8da29afb1252.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*B5Oqmr4NphxeRrFS.jpeg"/></div></div></figure><div class=""/><h1 id="f6bd" class="kb kc je bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky bi translated">第1部分—数据可视化</h1><p id="4d54" class="pw-post-body-paragraph kz la je lb b lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw im bi translated">GitHub回购:<a class="ae lx" href="https://github.com/BindhuVinodh/Titanic-Data-Visualization" rel="noopener ugc nofollow" target="_blank">https://github.com/BindhuVinodh/Titanic-Data-Visualization</a></p><p id="3f07" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">由Kaggle主办的<a class="ae lx" href="https://www.kaggle.com/c/titanic/" rel="noopener ugc nofollow" target="_blank">泰坦尼克号挑战赛</a>是一项比赛，目标是根据一系列描述他的变量，如他的年龄、性别或他在船上的乘客级别，预测给定乘客的生存或死亡。</p><p id="a79c" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">这篇文章是与你分享我的解决方案的机会。</p><p id="97f9" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">为了使本教程更“学术”，以便任何人都可以受益，我将首先从探索性数据分析(EDA)开始，然后我将继续进行功能工程，最后介绍我建立的预测模型。</p><p id="25fb" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">在整个jupyter笔记本中，我将在管道的每个层次使用Python。本教程中涉及的主要库有:</p><ul class=""><li id="d558" class="md me je lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated"><strong class="lb jf">熊猫</strong>用于数据处理和摄取</li><li id="225d" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">用于数据可视化的<strong class="lb jf"> Matplotlib </strong>和<strong class="lb jf"> seaborn </strong></li><li id="49d9" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated"><strong class="lb jf"> Numpy </strong>用于多维数组计算</li><li id="38fe" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated"><strong class="lb jf"> sklearn </strong>用于机器学习和预测建模</li></ul><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="780f" class="na kc je mw b gy nb nc l nd ne">data = pd.read_csv('./data/train.csv')</span></pre><p id="8095" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">有两个数据集可用:一个训练集和一个测试集。我们将使用训练集来构建我们的预测模型，并使用测试集来对其进行评分并生成输出文件。</p><pre class="mr ms mt mu gt mv mw mx my aw mz bi"><span id="80d0" class="na kc je mw b gy nb nc l nd ne">print(data.shape)<br/>#(891, 12)</span></pre><p id="09e4" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">我们有:</p><ul class=""><li id="91ec" class="md me je lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated">891行</li><li id="40b6" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">12列</li></ul><p id="cee5" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">熊猫可以让你偷偷看一眼你的数据。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ca"><img src="../Images/1e84728fd1a66e60f082c3836070e7a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yqd5e_lOGL0J3vXV_xJwtg.png"/></div></div></figure><p id="4b41" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">幸存的列是<strong class="lb jf">目标变量</strong>。如果Survival = 1，乘客幸存，否则他死了。这是我们要预测的变量。</p><p id="5a89" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">其他变量描述乘客。它们是<strong class="lb jf">功能</strong>。</p><ul class=""><li id="b90c" class="md me je lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated">乘客:船上的每个乘客都有身份证</li><li id="067b" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">乘客舱:乘客舱。它有三个可能的值:1、2、3(一等、二等和三等)</li><li id="c480" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">乘客的姓名</li><li id="2937" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">性</li><li id="4abf" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">年龄</li><li id="fafd" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">SibSp:与乘客同行的兄弟姐妹和配偶的数量</li><li id="231c" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">Parch:与乘客同行的父母和子女人数</li><li id="b6ce" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">机票号码</li><li id="7e33" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">票价</li><li id="1231" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">机舱号</li><li id="fb12" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">登船。这描述了泰坦尼克号上三个可能的区域，人们从那里出发。三个可能的值S，C，Q</li></ul><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nf"><img src="../Images/40ff00f8f6f39e1ea94c095dfab6a7d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IxMF0GU-pAbLAm8R2wGYMg.png"/></div></div></figure><p id="21ca" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">count变量显示年龄列中缺少177个值。</p><p id="ae98" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">一种解决方案是用中值年龄填充空值。我们也可以用平均年龄来估算，但是中位数对异常值更稳健。</p><p id="dd8b" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">#用年龄的中值填充“年龄”中的空值</p><p id="5fbf" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">数据['年龄'] =数据['年龄']。fillna(数据['年龄']。中位数())</p><p id="3003" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">现在让我们制作一些图表。</p><p id="1d91" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">让我们根据性别来想象生存。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ng"><img src="../Images/fb3ada28507690343ee8341ad8257970.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hLhqq4gg2HjUTgfZaYJh5g.png"/></div></div></figure><p id="8ed3" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">看起来男性乘客更容易屈服。</p><p id="0d7e" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">让我们绘制同样的图形，但用比率代替。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nh"><img src="../Images/2b8cf3ed1c6361acace61a03aec27c32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J2anGgNVPTqTa3s9lV2LXg.png"/></div></div></figure><p id="24b4" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">性别变量似乎是一个有区别的特征。女性更有可能活下来。</p><p id="5e97" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">现在让我们把存活率和年龄变量联系起来。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ni"><img src="../Images/e2d98bef5177347fa069f486e069a2c3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wXhUTukpXXvmaJg9CjtObA.png"/></div></div></figure><p id="e642" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">正如我们在上面的图表中看到的，并通过以下内容进行了验证:</p><ul class=""><li id="d81f" class="md me je lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated">如较大的女性绿色直方图所示，女性比男性存活时间长</li></ul><p id="b88f" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">现在，我们看到:</p><ul class=""><li id="ef98" class="md me je lb b lc ly lg lz lk mf lo mg ls mh lw mi mj mk ml bi translated">年龄决定了男性乘客的生存条件:</li><li id="cb2b" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">年轻的雄性倾向于生存</li><li id="374c" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">大量20到40岁的乘客屈服了</li><li id="0b22" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw mi mj mk ml bi translated">年龄似乎对女性生存没有直接影响</li></ul><p id="dea4" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">这些小提琴的情节证实了一个古老的行为准则，水手和船长在遇到威胁的情况下会遵循这个准则:“女人和孩子优先！”。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/a49fdcddd7c56ec35a5ebc833d54b090.png" data-original-src="https://miro.medium.com/v2/resize:fit:936/format:webp/0*9jQ8ObEJAWrwXvj9.jpg"/></div></figure><p id="f459" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">现在让我们把注意力集中在每个乘客的机票上，看看它如何影响生存。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nk"><img src="../Images/7d53a0e8bf63e923bccde8480c3b21c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q1RiEDm2-wmcnHO-3WaqxA.png"/></div></div></figure><p id="a1a7" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">机票票价更便宜的乘客更容易死亡。换句话说，拥有更贵车票的乘客，以及因此更重要的社会地位，似乎会首先获救。</p><p id="99cd" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">好吧，这很好。现在让我们把年龄、费用和存活率放在一张图表上。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nl"><img src="../Images/7ecf465ecd4a6565c983b48df114cb8e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A_UPipxjpJAL8yasW4qzZw.png"/></div></div></figure><p id="4a0e" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">圆圈的大小与票价成正比。</p><p id="006c" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">x轴代表年龄，y轴代表票价。</p><p id="88e7" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">我们可以观察到不同的集群:</p><ol class=""><li id="04a2" class="md me je lb b lc ly lg lz lk mf lo mg ls mh lw nm mj mk ml bi translated">x=20和x=45之间的大绿点:票价最高的成人</li><li id="0a72" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw nm mj mk ml bi translated">x=10到x=45之间的小红点，船上下层阶级的成年人</li><li id="cf4c" class="md me je lb b lc mm lg mn lk mo lo mp ls mq lw nm mj mk ml bi translated">x=0和x=7之间的小贪婪点:这些是被拯救的孩子</li></ol><p id="3160" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">事实上，正如我们在下面的图表中看到的，票价与舱位相关。</p><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi nn"><img src="../Images/178234a790eab57e1298aa13bb431bbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LmjT84W5V5Iw2NCXeBSCiQ.png"/></div></div></figure><figure class="mr ms mt mu gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi no"><img src="../Images/3651aafffddc28adad1f6c9ddf977904.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AM_i-B7CssbtNzQN_PJheA.png"/></div></div></figure><p id="7f5e" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">以上是装载地点如何影响生存的情节。</p><p id="1a05" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">似乎C登机处的票价范围更广，因此支付最高价格的乘客是幸存者。</p><p id="bcdb" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">我们也看到这种情况发生在登船S，较少发生在登船q。</p><p id="bc22" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">我希望这些数据可视化对你有用。</p><p id="7540" class="pw-post-body-paragraph kz la je lb b lc ly le lf lg lz li lj lk ma lm ln lo mb lq lr ls mc lu lv lw im bi translated">在下一篇博文中，我将继续特征工程和构建预测模型。</p></div></div>    
</body>
</html>