<html>
<head>
<title>How to Quantify Sentiment to Measure Magnitude: NLP with TextBlob</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何量化情感以测量量级:使用TextBlob的NLP</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/how-to-quantify-sentiment-to-measure-magnitude-nlp-with-textblob-27861559f7a5?source=collection_archive---------1-----------------------#2022-06-01">https://pub.towardsai.net/how-to-quantify-sentiment-to-measure-magnitude-nlp-with-textblob-27861559f7a5?source=collection_archive---------1-----------------------#2022-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/6ee4df3c48634572e9d138ecf16402c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KKEIsYnW-rW_flNrHad8mQ.jpeg"/></div></div></figure><p id="1fd4" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">作为确定某事是积极还是消极的一部分，建立一个分析实施策略可能会很方便，通过对每个相应的开放式自由文本进行额外的定量<strong class="kd iu">测量</strong>来告知积极/消极结果(1/0)。一种方法是使用TextBlob。</p><ol class=""><li id="c9b6" class="kz la it kd b ke kf ki kj km lb kq lc ku ld ky le lf lg lh bi translated">安装TextBlob包:</li></ol><p id="bf3c" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><code class="fe li lj lk ll b">conda install -c conda-forge textblob</code></p><p id="2f9e" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">2.导入熊猫和TextBlob:</p><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="89e1" class="lu lv it ll b gy lw lx l ly lz">import pandas as pd <br/>from textblob import TextBlob </span></pre><p id="91e5" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">3.引入一个数据集并把它转换成熊猫的数据框架:让我们用一个关于“灾难推特”的Kaggle数据集比赛的链接可以在这里找到:<a class="ae ma" href="https://www.kaggle.com/competitions/nlp-getting-started/data?select=train.csv" rel="noopener ugc nofollow" target="_blank">https://www . ka ggle . com/competitions/NLP-getting-started/data？select=train.csv </a>。我将导入“train.csv”文件:</p><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="8976" class="lu lv it ll b gy lw lx l ly lz">trainsub=pd.read_csv('/kaggle/input/nlp-getting-started/train.csv')<br/>trainsub.head(10)</span></pre><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mb"><img src="../Images/4cc2d1c7db60bcdccab182e2f36735c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DBCFnQKqx20umz1hIdNxrQ.png"/></div></div></figure><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="9dd8" class="lu lv it ll b gy lw lx l ly lz">print(trainsub.shape)<br/>(7613, 5)</span></pre><p id="2b0f" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">4.创建一个新列，打印基于TextBlob的定量分数。该栏将包括(1)极性和(2)主观性得分。</p><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="1f58" class="lu lv it ll b gy lw lx l ly lz"><em class="mc">#iterate in rows for TextBlob scores for both polarity and subjectivity scores</em><br/>measurements_blob=[]<br/><br/>for x <strong class="ll iu">in</strong> range(0,trainsub.shape[0]):<br/>    QuantTextBlob=TextBlob(trainsub.iloc[x][3])<br/>    measures=QuantTextBlob.sentiment<br/>    measurements_blob.append(measures)<br/><br/>trainsub["TextBlob Scores"]=measurements_blob <em class="mc">#add new column to DF</em></span></pre><p id="588d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">5.查看更新的。csv文件:</p><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="9598" class="lu lv it ll b gy lw lx l ly lz">trainsub.head(10)</span></pre><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi md"><img src="../Images/64eb40f762788c1be92a03ee0dcb0c98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CaFL8CGE9ItsNSzfu2TGLA.png"/></div></div></figure><p id="a6ae" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">6.创建另一个新列，只打印极性分数。简单地或以更复杂的方式做这件事是有变化的；这里的目的是展示不同的、独立的Python代码，以告知此类用例。</p><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="ab87" class="lu lv it ll b gy lw lx l ly lz">measurements2_blob=[]<br/><br/>for x <strong class="ll iu">in</strong> range(0,trainsub.shape[0]):<br/>    QuantTextBlob2=TextBlob(trainsub.iloc[x][3])<br/>    measures2=QuantTextBlob2.sentiment.polarity <em class="mc">#add polarity</em><br/>    measurements2_blob.append(measures2)<br/><br/>trainsub["TextBlob Polarity"]=measurements2_blob <em class="mc">#add new column to DF</em></span></pre><p id="540d" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">7.查看更新的。csv文件:</p><figure class="lm ln lo lp gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi me"><img src="../Images/588273522cd9fbf7b83370a5c27dd400.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C7fgvMDQtjj46yRhUgG1_Q.png"/></div></div></figure><p id="c1da" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">使用案例:</p><p id="b91b" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">让我们假设你建立了一个机器学习模型，它可以告知某样东西是正的(1)还是负的(0)。为了实现这个构建的结果，您依赖于一个机器学习实现。这种实现允许您训练和测试您的数据。在部署模型之前，您进行了模型验证，以评估模型在预测1或0时的性能。</p><p id="2bc9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">非常关注和强调对这种模型进行微调，这种模型专门用于相应的数据，而不是应用*多个*模型来通知原始模型。通过引入另一种NLP功能，如TextBlob管道，您可以进一步管理您的方法，更精确地确定某事是积极的还是消极的。怎么会？</p><p id="bd57" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">负面情绪可能仅仅反映了自由文本是负面的(虽然它是假正面的:它不是关于自然灾害的——对于这个Kaggle用例的目的来说),或者是正面的，以开始通知某事是否确实更有可能是正面的或负面的。与此同时，你有机会训练你的机器学习模型在预测真或假阳性的实际发生时的准确性。两件不同的事情，需要两种不同的方法(如果你正在探索引入额外的模型来通知情绪幅度测量)。</p><p id="bf47" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">例如:</p><p id="2ce7" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">推文</strong>:天空着火了！(并上传了一张天空的照片，照片中的云呈现出红色)</p><pre class="lm ln lo lp gt lq ll lr ls aw lt bi"><span id="00e1" class="lu lv it ll b gy lw lx l ly lz">Testing<strong class="ll iu">=</strong>TextBlob("The sky is on fire, the clouds are so scary looking, and I am scared!!!")<br/>print(Testing.sentiment)</span><span id="21f4" class="lu lv it ll b gy mf lx l ly lz">Sentiment(<strong class="ll iu">polarity=-0.9765625,</strong> subjectivity=1.0)</span></pre><p id="2e24" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这是自然灾害吗？<strong class="kd iu"> No (0) </strong> <br/>这是否定的吗？也许，也许，很可能——正因为如此，这就是我们试图预测的原因——因此，是的:因此，你看到的极性得分是-0.98(范围是-1.0到1.0到1.0)。)</p><p id="9575" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">通常，情绪代表积极和消极的严重性，但它们绝对不是真正积极的迹象。如果您的用例可以进一步接收定量结果来通知您的机器学习管道，那么在确定这种严重性方面有一席之地。</p></div></div>    
</body>
</html>