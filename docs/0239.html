<html>
<head>
<title>A Simple Post-Processing Step to Improve the Fairness of Collaborative Recommender Systems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一种提高协同推荐系统公平性的简单后处理步骤</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/a-simple-post-processing-step-to-improve-the-fairness-of-collaborative-recommender-systems-4cfbdb47c4ea?source=collection_archive---------1-----------------------#2019-12-14">https://pub.towardsai.net/a-simple-post-processing-step-to-improve-the-fairness-of-collaborative-recommender-systems-4cfbdb47c4ea?source=collection_archive---------1-----------------------#2019-12-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><h1 id="0094" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">介绍</h1><p id="c24f" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">在本文中，我将描述一种算法，它可以作为一个后处理步骤来减轻基于协同过滤的推荐系统中固有的流行度偏差。本文内容基于[1]的工作。可以在这个<a class="ae lm" href="https://github.com/hsm207/fair-recsys" rel="noopener ugc nofollow" target="_blank">存储库</a>中找到重现结果和图形的代码。</p><p id="ca37" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">我假设读者熟悉推荐系统环境中的协同过滤概念。</p><h1 id="bc74" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">动机</h1><p id="c558" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">基于协同过滤的推荐系统倾向于强调受欢迎的项目，即接收来自用户的许多交互的项目(例如评级、购买、喜欢)。这是有问题的，原因如下:</p><ol class=""><li id="9821" class="ls lt it kq b kr ln kv lo kz lu ld lv lh lw ll lx ly lz ma bi translated">不是每个人都想追随主流人群的口味。例如，一些人更喜欢穿小的独立品牌生产的服装，而不是优衣库、安德玛或Urban Outfitters的服装</li><li id="181d" class="ls lt it kq b kr mb kv mc kz md ld me lh mf ll lx ly lz ma bi translated">这使得新的或利基生产者很难得到用户的注意，因为他们得到的互动少于受欢迎的生产者得到的互动</li></ol><p id="d05b" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">也就是说，围绕一堆受欢迎的商品产生推荐是一个不错的策略:如果有相当大一部分人喜欢一件商品，如果你认同这个群体(或者至少发现它与你的需求相关)，你很可能也会喜欢它。</p><h1 id="4c59" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">问题陈述</h1><p id="69cc" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">为了使事情更具体，我们将遵循[1]并使用<a class="ae lm" href="https://grouplens.org/datasets/movielens/20m/" rel="noopener ugc nofollow" target="_blank">movie lens 2000万数据集</a> t来改变推荐系统，从电影观众和制片人的角度产生更公平的推荐。</p><p id="bcd8" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">我们希望推荐系统产生用户实际上想要观看的10部电影推荐，同时平衡显示不太知名(不一定是坏的)电影的需要，以促进观众的新项目发现和对制片人的公平。</p><h1 id="3a49" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">方法学</h1><h2 id="bc12" class="mg jr it bd js mh mi dn jw mj mk dp ka kz ml mm ke ld mn mo ki lh mp mq km mr bi translated">概观</h2><p id="ad51" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">[1]中提出的解决方案的出发点是根据电影获得的收视率将电影分为“短头”和“长尾”。</p><p id="2a18" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">短头指的是受欢迎的电影，而长尾是不太受欢迎的电影。值得注意的是，在这种情况下，电影被认为是“长尾”，因为与“短头”电影相比，它的交互次数相对较少。如果一部电影的互动少得多，甚至为零，那么它应该被归类为一个遥远的尾巴，需要另一种推荐技术来呈现给用户。</p><p id="f9e9" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">作者建议按照电影获得的总评分降序排列每部电影，并将总评分的80%归类为短头，其余归类为长尾。下图有望使这一分类更加清晰:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/f7cf2af758b203b7c1bd96ba887c7e62.png" data-original-src="https://miro.medium.com/v2/resize:fit:726/format:webp/1*2tAbQYm3_hiKEsitbs8Kcw.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">图1:根据互动次数对电影进行分类。来源:[1]</figcaption></figure><p id="7caf" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">推荐系统的设计、构建和测试将照常进行，而不考虑产生公平的推荐。</p><p id="b535" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">只有在考试的时候，公平才会发挥作用。在测试时，[1]生成了100部潜在电影的列表以推荐给观众。按照下一节描述的步骤，这个列表缩小到10部电影。</p><h2 id="6ad2" class="mg jr it bd js mh mi dn jw mj mk dp ka kz ml mm ke ld mn mo ki lh mp mq km mr bi translated">创建建议</h2><p id="6e5e" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">假设我们有一组推荐系统认为观众会喜欢的8部电影。按照设计，这个列表已经按照最有可能观看的节目进行了排序。我们的任务是确定这8部电影中的哪5部将真正向观众展示。</p><p id="c605" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">图2显示了这个选择过程:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/4327fde6fab3d4b79fa2605d9ee05534.png" data-original-src="https://miro.medium.com/v2/resize:fit:1364/format:webp/1*D32R7jESSE1tiQByyC-RhA.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">图2:如何创建推荐列表</figcaption></figure><p id="e7b8" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">在图2中，<em class="nf"> S </em>是来自推荐系统的8部电影。我们将向观众推荐5部电影。我们反复对<em class="nf"> S </em>中的电影进行重新评分，去掉得分最高的电影(放入<em class="nf"> R </em>)，直到<em class="nf"> R </em>有5部电影。</p><h2 id="fab2" class="mg jr it bd js mh mi dn jw mj mk dp ka kz ml mm ke ld mn mo ki lh mp mq km mr bi translated">评分功能</h2><p id="bbb8" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">上一节提到了在<em class="nf"> S </em>中反复重新评分电影的必要性。下面是实现(数学推导可以在[1]中找到):</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div role="button" tabindex="0" class="nh ni di nj bf nk"><div class="gh gi ng"><img src="../Images/f453db0dc05df2efc988d39c89bda966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AX5zDwRClQ_uJFgKIgf3Hw.png"/></div></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">图3:如何对电影I进行重新评分</figcaption></figure><p id="4e01" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">在图3中的所有术语中，<code class="fe nl nm nn no b">category_pref</code>可能需要更多的解释。</p><p id="2173" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">假设电影I是短头电影，那么<code class="fe nl nm nn no b">category_pref</code>是观众对被分类为短头的电影的偏好的度量，这可以根据他们的历史观看作为短头的总观看的分数来估计。当电影I是长尾巴电影时，类似的计算也适用。</p><p id="4d5a" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">如果电影的类别与观众的偏好一致，图3中的评分功能可以提高电影的评分。例如，如果短头电影的分数为0.70，但观众对长尾电影的偏好为0.90，那么如果在<em class="nf"> R </em>中没有其他长尾电影，则该电影的新分数为0.80。这增加了电影I作为第一部向观众展示的长尾巴电影被包括在<em class="nf"> R </em>中的机会。增强的程度由<code class="fe nl nm nn no b">longtail_weight</code>参数控制。</p><p id="b66a" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">值得注意的是，由于第三项被提升到<em class="nf"> R </em>的长度的幂，随着<em class="nf"> R </em>变大，<code class="fe nl nm nn no b">weighted_category_booster</code>的值迅速下降到0。</p><h1 id="b004" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结果</h1><p id="1b5d" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">我通过首先在MovieLens 20M数据集的子集上训练ALS模型来测试这种方法的有效性。我使用长尾偏好0.5作为分界点，将测试用户分成两组，并从每组中随机挑选250个用户。</p><p id="40dc" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">像[1]一样，我计算了有和没有后处理步骤的NDCG@10作为代理，以检查重新排列推荐不会严重损害推荐系统的性能。我通过计算处理之间总的和唯一的长尾电影来评估后处理步骤的影响。结果如下:</p><figure class="mt mu mv mw gt mx gh gi paragraph-image"><div class="gh gi np"><img src="../Images/838b15c8a57edae8bb3fb4a4e70c0ec9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1134/format:webp/1*6sgMJO4sY9KQbJTSBZUxzg.png"/></div><figcaption class="na nb gj gh gi nc nd bd b be z dk translated">图4:长尾项的后处理步骤的结果</figcaption></figure><p id="1373" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">结果与[1]一致:NDCG指标略有下降，推荐的长尾电影的代表性明显增加。当然，这些结果应该用在线A/B测试来验证。</p><h1 id="78a7" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">结论</h1><p id="4532" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">本文提出了一个简单的后处理步骤来提高基于协同过滤的推荐系统的公平性。这里提出的思想可以扩展到包括可以有效地描述用户偏好的其他电影特征，例如将对低预算电影的偏好加入到评分函数中，以便更容易向真正喜欢电影的人呈现小众电影。</p><p id="b8b3" class="pw-post-body-paragraph ko kp it kq b kr ln kt ku kv lo kx ky kz lp lb lc ld lq lf lg lh lr lj lk ll im bi translated">这个方法非常简单，我真的很想知道它在真实环境中的表现。如果你遇到过已经在生产系统上测试过的类似技术，请在评论中告诉我。</p><h1 id="be39" class="jq jr it bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn bi translated">参考</h1><p id="aecb" class="pw-post-body-paragraph ko kp it kq b kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll im bi translated">[1].<a class="ae lm" href="https://arxiv.org/abs/1901.07555" rel="noopener ugc nofollow" target="_blank">利用个性化重新排序管理推荐系统中的流行度偏差</a>；Abdollahpouri等人。艾尔。2019</p></div></div>    
</body>
</html>