<html>
<head>
<title>Start using this Interactive Data Visualization Library: Python Bokeh Tutorial</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">开始使用这个交互式数据可视化库:Python散景教程</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/start-using-this-interactive-data-visualization-tool-python-bokeh-tutorial-dd4afba8e999?source=collection_archive---------1-----------------------#2022-08-31">https://pub.towardsai.net/start-using-this-interactive-data-visualization-tool-python-bokeh-tutorial-dd4afba8e999?source=collection_archive---------1-----------------------#2022-08-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="71a2" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">数据可视化是数据分析的关键。无论是理解数据中隐藏的模式或层次，还是分析产品的指标或见解，或者向非技术客户展示我们的分析，数据可视化都是必不可少的。有各种工具可用于可视化数据，今天我们将介绍一个这样的工具，它在Python中使用并提供交互式功能。</p></blockquote><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi kp"><img src="../Images/82690d5df6038dab11cc6d43d939a9a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3jSpnL4grvCWIGtOOeB-6A.png"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">资料来源:Bokeh.org</figcaption></figure><p id="51fa" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated"><strong class="jt ir"> Bokeh是Python中的一个数据可视化库</strong>，它为数据科学家分析数据提供了交互式和复杂的功能。与其他绘图库不同，Bokeh使绘图具有交互性，当Bokeh使用Python和Javascript渲染数据时，我们可以将绘图导出到HTML文件中。</p><p id="37e8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated"><em class="js">相对于其他图书馆的优势</em> —</p><ol class=""><li id="4d6f" class="li lj iq jt b ju jv jy jz lf lk lg ll lh lm ko ln lo lp lq bi translated">对于使用Python Django或Flask的<strong class="jt ir"> <em class="js"> web开发者来说，由于情节被导出为HTML文件，他们可以很容易地将其嵌入到网页中。</em></strong></li><li id="f0b1" class="li lj iq jt b ju lr jy ls lf lt lg lu lh lv ko ln lo lp lq bi translated">对于想要分析数据的<strong class="jt ir"><em class="js"/></strong>数据科学家来说，散景通过创建互动图来帮助他们，使用这些图他们可以放大和平移图表并实现模式。</li></ol><p id="a8b8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">让我们开始使用散景创建一个<strong class="jt ir">线图；使用的数据集</strong>可以在 这里找到<a class="ae lw" href="https://github.com/muttinenisairohith/Encoding-Categorical-Data/blob/2bb4569962ddf05baef25b219c27f96dedf7c343/data/Data.csv" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">。</strong></a></p><p id="ae05" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">使用Python安装散景—</p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="287f" class="mc md iq ly b gy me mf l mg mh">pip install bokeh</span></pre><p id="1990" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">导入库</p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="fd62" class="mc md iq ly b gy me mf l mg mh">from bokeh.plotting import figure, show, output_notebook</span></pre><p id="c74e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">我们需要从散景导入数字来创建数字。为了显示该图，使用了show函数，当我们想要在笔记本中可视化绘图时，显式地使用output_notebook。</p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="1315" class="mc md iq ly b gy me mf l mg mh">from bokeh.plotting import figure, show, output_notebook</span><span id="3d23" class="mc md iq ly b gy mi mf l mg mh">x = df["x"].values[:20]<br/>y = df["y"].values[:20]</span><span id="5adf" class="mc md iq ly b gy mi mf l mg mh"># create a new plot with a title and axis labels<br/>p = figure(title="Line Plot x VS y", x_axis_label="X Values", y_axis_label="Y Values")</span><span id="9653" class="mc md iq ly b gy mi mf l mg mh"># add a line renderer with legend and line thickness<br/>p.line(x, y, legend_label="y", line_width=2)</span><span id="8548" class="mc md iq ly b gy mi mf l mg mh"># show the results<br/>output_notebook()<br/>show(p)</span></pre><p id="31ab" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">在上面的代码中，导入数据后—</p><ol class=""><li id="2210" class="li lj iq jt b ju jv jy jz lf lk lg ll lh lm ko ln lo lp lq bi translated">该图形是使用figure()方法创建的。我们可以为figure()添加title、x_axis_label、y_axis_label等附加选项。</li><li id="1936" class="li lj iq jt b ju lr jy ls lf lt lg lu lh lv ko ln lo lp lq bi translated">line()方法用于创建折线图。我们传递的参数是x，y —数据，legended _ label—代表y数据的标签，line_width —线形图的宽度。</li></ol><p id="181b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">输出会是这样的—</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/8ecc18ad7b65a53ce6a87429dca0ec01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1014/format:webp/1*mhpbLmzx_WefIEzprZU35g.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">线形图输出</figcaption></figure><p id="c091" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">为了可视化这些图并使它们具有交互性，散景提供了一些工具，如上图所示——平移、框缩放、滚轮缩放、保存和重置。为了探索互动性，从<a class="ae lw" href="https://github.com/muttinenisairohith/Encoding-Categorical-Data/blob/f9e55bc2a7d1b125ffa05f2a38ba4d19b402d9ed/Bokeh/line_plot.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jt ir">这里</strong> </a>下载上面HTML格式的情节。</p><p id="cbd4" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated"><strong class="jt ir">用不同的渲染组合多个地块:</strong></p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="8dc9" class="mc md iq ly b gy me mf l mg mh">#Combining mutliple plots with different renders<br/>from bokeh.plotting import figure, show</span><span id="1169" class="mc md iq ly b gy mi mf l mg mh">x = df["x"].values[:10]<br/>y1 = df["y"].values[:10]<br/>y2 = df["y1"].values[:10]<br/>y3 = df["y2"].values[:10]</span><span id="13c4" class="mc md iq ly b gy mi mf l mg mh">p = figure(title="Multiple Plots", x_axis_label="X Values", y_axis_label="Y Values")</span><span id="7493" class="mc md iq ly b gy mi mf l mg mh">p.vbar(x=x, top=y1, legend_label="y1", color="skyblue", width=0.5, bottom=0)</span><span id="0454" class="mc md iq ly b gy mi mf l mg mh">p.line(x, y2, legend_label="y2", color="black", line_width=2)</span><span id="c100" class="mc md iq ly b gy mi mf l mg mh">p.circle(x,y3,legend_label="y3",fill_color="red",fill_alpha=0.5,line_color="yellow",size=10)</span><span id="ffe4" class="mc md iq ly b gy mi mf l mg mh"># show the results<br/>show(p)</span></pre><p id="47b1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">在上面的代码中，我们使用了三种不同的渲染方式——vbar、line和circle。在圆形图中，我试图显示一些我们可以使用的附加参数，例如fill_color —填充圆形，fill_alpha —颜色的不透明度，line_color —圆形的边框颜色，以及size —圆形的半径。</p><p id="8f9d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">输出会是这样的—</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/f4e5cfa1bf42c90a0a14bbd473c97062.png" data-original-src="https://miro.medium.com/v2/resize:fit:1286/format:webp/1*N0OoG0TWLMcv8_vCl1cmpQ.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">使用散景的多幅图</figcaption></figure><p id="7c29" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated"><strong class="jt ir">使用散景的支线剧情:</strong></p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="cde5" class="mc md iq ly b gy me mf l mg mh">from bokeh.layouts import row<br/>from bokeh.plotting import figure, show</span><span id="8d7b" class="mc md iq ly b gy mi mf l mg mh">x = df["x"].values[30:40]<br/>y1 = df["y"].values[30:40]<br/>y2 = df["y1"].values[30:40]<br/>y3 = df["y2"].values[30:40]</span><span id="df50" class="mc md iq ly b gy mi mf l mg mh"># create three plots with one renderer each<br/>s1 = figure(width=250, height=250, background_fill_color="#fafafa")<br/>s1.circle(x, y1, size=12, color="#53777a", alpha=0.8)</span><span id="c43b" class="mc md iq ly b gy mi mf l mg mh">s2 = figure(width=250, height=250, background_fill_color="#fafafa")<br/>s2.triangle(x, y2, size=12, color="#c02942", alpha=0.8)</span><span id="2a68" class="mc md iq ly b gy mi mf l mg mh">s3 = figure(width=250, height=250, background_fill_color="#fafafa")<br/>s3.square(x, y3, size=12, color="#d95b43", alpha=0.8)</span><span id="ae1f" class="mc md iq ly b gy mi mf l mg mh"># put the results in a row that adjusts accordingly<br/>show(row(children=[s1, s2, s3], sizing_mode="scale_width"))</span></pre><p id="35d4" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">在上面的代码中，我们可以看到，我们使用了三种渲染方式——圆形、三角形和正方形来绘制三个地块。我们使用row函数合并了这些图。参数-使用scale_width，以便根据窗口宽度调整绘图宽度。</p><p id="0ac9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">输出会是这样的—</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="gh gi ml"><img src="../Images/f4e52b277ac81be7e171dad1357fc9ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tcA33gd19YzhTsLvbZZD7A.png"/></div></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">使用散景的子图特征</figcaption></figure><p id="6dd8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated"><strong class="jt ir">在散景中保存情节和设置主题— </strong></p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="88ac" class="mc md iq ly b gy me mf l mg mh">from bokeh.io import curdoc<br/>from bokeh.plotting import figure, show, save, output_file</span><span id="d207" class="mc md iq ly b gy mi mf l mg mh">x = df["x"].values[20:30]<br/>y = df["y"].values[20:30]</span><span id="2309" class="mc md iq ly b gy mi mf l mg mh"># apply theme to current document<br/>curdoc().theme = "dark_minimal"</span><span id="1f2f" class="mc md iq ly b gy mi mf l mg mh">output_file(filename="custom_filename.html", title="Static HTML file")</span><span id="e195" class="mc md iq ly b gy mi mf l mg mh"># create a plot<br/>p = figure(sizing_mode="stretch_width", max_width=500, height=250)</span><span id="e90e" class="mc md iq ly b gy mi mf l mg mh"># add a renderer<br/>p.line(x, y)</span><span id="4a19" class="mc md iq ly b gy mi mf l mg mh"># show the results<br/>save(p)</span></pre><p id="9b76" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">为了将绘图保存到HTML文件中，使用了上面的代码。这里的output_file参数用于记录文件的文件名和标题。创建绘图后，save()方法用于将绘图保存在指定的HTML文件中。</p><p id="cca5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">curdoc()。主题方法用于设置散景图的主题。散景中有以下几种主题— <code class="fe mm mn mo ly b">caliber</code>、<code class="fe mm mn mo ly b">dark_minimal</code>、<code class="fe mm mn mo ly b">light_minimal</code>、<code class="fe mm mn mo ly b">night_sky</code>和<code class="fe mm mn mo ly b">contrast</code>。</p><p id="ff06" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">我们可以通过在figure方法中指定来定制绘图的宽度和高度。</p><p id="13f6" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">输出会是这样的—</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/c153b4f27c0f9c7569681b3a3275c897.png" data-original-src="https://miro.medium.com/v2/resize:fit:1066/format:webp/1*DY-Zc_8a2j3kCBtrxVXbBA.png"/></div></figure><p id="65b9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">我们还可以使用方框注释法在散景图中添加背景色</p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="4d56" class="mc md iq ly b gy me mf l mg mh">from bokeh.models import BoxAnnotation</span><span id="2f53" class="mc md iq ly b gy mi mf l mg mh">low_box = BoxAnnotation(top=10, fill_alpha=0.2, fill_color="blue")<br/>mid_box = BoxAnnotation(top=10, bottom=5, fill_alpha=0.2, fill_color="green")<br/>high_box = BoxAnnotation(bottom=5, fill_alpha=0.2, fill_color="red")</span></pre><p id="2878" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">正如我们看到的，三个盒子是用三种不同的颜色创建的；让我们用一个情节把它们整合起来。</p><pre class="kq kr ks kt gt lx ly lz ma aw mb bi"><span id="6610" class="mc md iq ly b gy me mf l mg mh">from bokeh.plotting import figure, show</span><span id="5d4a" class="mc md iq ly b gy mi mf l mg mh">curdoc().theme = "light_minimal"</span><span id="b76d" class="mc md iq ly b gy mi mf l mg mh">x = df["x"].values[20:30]<br/>y1 = df["y"].values[20:30]<br/>y2 = df["y1"].values[20:30]<br/>y3 = df["y2"].values[20:30]</span><span id="6380" class="mc md iq ly b gy mi mf l mg mh">p = figure(title="Multiple Plots", x_axis_label="X Values", y_axis_label="Y Values")</span><span id="8a86" class="mc md iq ly b gy mi mf l mg mh">p.vbar(x=x, top=y1, legend_label="y1", color="skyblue", width=0.5, bottom=0)<br/>p.line(x, y2, legend_label="y2", color="black", line_width=2)<br/>p.circle(x, y3, legend_label="y3", color="red", size = 5)</span><span id="7ce3" class="mc md iq ly b gy mi mf l mg mh">p.add_layout(low_box)<br/>p.add_layout(mid_box)<br/>p.add_layout(high_box)</span><span id="32ca" class="mc md iq ly b gy mi mf l mg mh"># show the results<br/>show(p)</span></pre><p id="75df" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">如我们所见，我们已经创建了地块并将布局添加到地块中。</p><p id="ad6e" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">输出:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/316324531c65e6b88893a5cc108ea8a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1244/format:webp/1*RhHwBDD15jdrDbGDq6D2fQ.png"/></div><figcaption class="lb lc gj gh gi ld le bd b be z dk translated">散景中的注释</figcaption></figure><p id="c973" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">我们还可以在散景中添加许多自定义设置，例如—图例自定义、标题自定义、图形自定义等。；我们也有许多类型的散景渲染，可以根据需要使用。我们还可以在散景中添加悬停功能。</p><p id="2552" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">那么，还有什么？下次当您可视化一些数据时，请确保使用这个交互式数据可视化库。</p><p id="59dd" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">结尾注释——学习是我的日常活动，我把我所有的学习都写在这里，这样我可以随时参考它们，也可以和任何感兴趣的人分享我的学习。</p><p id="2512" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">要使用Seaborn探索数据可视化，请阅读本文</p><div class="mr ms gp gr mt mu"><a rel="noopener  ugc nofollow" target="_blank" href="/medium-reader-and-author-behavioural-analysis-using-spacy-and-seaborn-in-python-24f9a6d4950b"><div class="mv ab fo"><div class="mw ab mx cl cj my"><h2 class="bd ir gy z fp mz fr fs na fu fw ip bi translated">使用Python中的Spacy和Seaborn进行媒体读者和作者行为分析</h2><div class="nb l"><h3 class="bd b gy z fp mz fr fs na fu fw dk translated">所以在我的Pyspark系列之后，我在考虑接下来要写什么，退格之后，我想，为什么不…</h3></div><div class="nc l"><p class="bd b dl z fp mz fr fs na fu fw dk translated">pub.towardsai.net</p></div></div><div class="nd l"><div class="ne l nf ng nh nd ni kz mu"/></div></div></a></div><p id="a1ff" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb lf kd ke kf lg kh ki kj lh kl km kn ko ij bi translated">快乐学习…</p></div></div>    
</body>
</html>