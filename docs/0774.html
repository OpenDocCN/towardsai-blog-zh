<html>
<head>
<title>Getting started with Titanic Kaggle</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">泰坦尼克号卡格尔入门</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/getting-started-with-titanic-kaggle-447a309f2d19?source=collection_archive---------5-----------------------#2020-08-07">https://pub.towardsai.net/getting-started-with-titanic-kaggle-447a309f2d19?source=collection_archive---------5-----------------------#2020-08-07</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="0d57" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><figure class="gl gn jz ka kb kc"><div class="bz fp l di"><div class="kd ke l"/></div><figcaption class="kf kg gj gh gi kh ki bd b be z dk translated">来源:<a class="ae kj" href="https://giphy.com/gifs/kate-winslet-XOY5y7YXjTD7q/links" rel="noopener ugc nofollow" target="_blank">吉菲</a></figcaption></figure><p id="046f" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">最近，我开始使用Kaggle，并参加了我的第一场比赛——<a class="ae kj" href="https://www.kaggle.com/c/titanic" rel="noopener ugc nofollow" target="_blank">泰坦尼克号:灾难中的机器学习</a>。这是一个初学者友好的机器学习竞赛，目标是预测给定的乘客是否会幸存。在这篇文章中，我将分享泰坦尼克号数据集的基本数据分析。在处理数据集之前，我们先从Kaggle开始。</p><h1 id="3e95" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">什么是Kaggle？</h1><blockquote class="mg mh mi"><p id="4428" class="kk kl mj km b kn ko kp kq kr ks kt ku mk kw kx ky ml la lb lc mm le lf lg lh im bi translated"><a class="ae kj" href="https://kaggle.com" rel="noopener ugc nofollow" target="_blank"> <strong class="km jd"> Kaggle </strong> </a>，谷歌有限责任公司的子公司，是一个数据科学家和机器学习实践者的在线社区。Kaggle允许用户查找和发布数据集，在基于网络的数据科学环境中探索和构建模型，与其他数据科学家和机器学习工程师合作，并参加竞赛以解决数据科学挑战。</p><p id="7b50" class="kk kl mj km b kn ko kp kq kr ks kt ku mk kw kx ky ml la lb lc mm le lf lg lh im bi translated">Kaggle于2010年通过提供机器学习竞赛起家，现在还提供公共数据平台、基于云的数据科学工作台和人工智能教育。— <a class="ae kj" href="https://en.wikipedia.org/wiki/Kaggle" rel="noopener ugc nofollow" target="_blank">维基百科</a></p></blockquote><h2 id="aea4" class="mn lj it bd lk mo mp dn lo mq mr dp ls kv ms mt lw kz mu mv ma ld mw mx me iz bi translated">关于挑战</h2><blockquote class="mg mh mi"><p id="4ccb" class="kk kl mj km b kn ko kp kq kr ks kt ku mk kw kx ky ml la lb lc mm le lf lg lh im bi translated">泰坦尼克号的沉没是历史上最臭名昭著的海难之一。</p><p id="7f2d" class="kk kl mj km b kn ko kp kq kr ks kt ku mk kw kx ky ml la lb lc mm le lf lg lh im bi translated">1912年4月15日，在她的处女航中，被广泛认为是“不沉”的皇家邮轮泰坦尼克号在与冰山相撞后沉没。不幸的是，没有足够的救生艇容纳船上的每个人，导致2224名乘客和船员中的1502人死亡。</p><p id="2097" class="kk kl mj km b kn ko kp kq kr ks kt ku mk kw kx ky ml la lb lc mm le lf lg lh im bi translated">虽然幸存有一些运气成分，但似乎某些群体比其他群体更有可能幸存。</p><p id="9507" class="kk kl mj km b kn ko kp kq kr ks kt ku mk kw kx ky ml la lb lc mm le lf lg lh im bi translated">在这个挑战中，我们要求你建立一个预测模型来回答这个问题:“什么样的人更有可能生存？”使用乘客数据(即姓名、年龄、性别、社会经济阶层等)。— Kaggle</p></blockquote><p id="fb5c" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">这篇文章分为6个步骤。</p><ul class=""><li id="7bd7" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">获取Kaggle帐户</li><li id="b543" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">理解竞争</li><li id="c3b1" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">导入所需的库并加载数据</li><li id="da4d" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">数据清理</li><li id="e3ff" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">电子设计自动化(Electronic Design Automation)</li><li id="bf6d" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">数据可视化</li></ul><h1 id="1fb0" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">第一步:开始</h1><p id="ecdf" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">要使用Kaggle，您需要一个Kaggle帐户。点击此处并在Kaggle上注册，你就可以获得免费的Kaggle账户。一旦你有了帐户，访问<a class="ae kj" href="https://www.kaggle.com/c/titanic" rel="noopener ugc nofollow" target="_blank">泰坦尼克号比赛</a>并报名参加比赛。</p><h1 id="c9b6" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">第二步:了解竞争</h1><p id="c0ee" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">泰坦尼克号比赛有三个数据文件。</p><ul class=""><li id="c28d" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">性别_提交. csv</li><li id="0871" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">train.csv</li><li id="725f" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">test.csv</li></ul><h2 id="f837" class="mn lj it bd lk mo mp dn lo mq mr dp ls kv ms mt lw kz mu mv ma ld mw mx me iz bi translated">1.性别_提交. csv</h2><p id="2d3e" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">“gender_submission.csv”文件是一个示例，它显示了您应该如何组织您的预测。它预测所有女性乘客幸存，所有男性乘客死亡。你关于生存的假设可能会不同，这将导致不同的提交文件。但是，您的提交文件必须看起来像这个文件。</p><h2 id="426b" class="mn lj it bd lk mo mp dn lo mq mr dp ls kv ms mt lw kz mu mv ma ld mw mx me iz bi translated">2.train.csv</h2><p id="ec0b" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">“train.csv”包含车上乘客子集的详细信息(准确地说是891名乘客，其中每个乘客的详细信息在表中的不同行中给出)</p><h2 id="1c1b" class="mn lj it bd lk mo mp dn lo mq mr dp ls kv ms mt lw kz mu mv ma ld mw mx me iz bi translated">3.test.csv</h2><p id="4fbe" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">首先，你必须在“train.csv”中找到一个隐藏的模式，然后根据这个模式，你必须预测给定的418名乘客(在“test.csv”中)是否会幸存。</p><h1 id="979d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">步骤3:导入所需的库并加载数据</h1><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="1087" class="mn lj it nw b gy oa ob l oc od"><em class="mj"># data analysis and wrangling</em><br/>import pandas as pd<br/>import numpy as np<br/>import random as rnd<br/><br/><em class="mj"># visualization</em><br/>import seaborn as sns<br/>import matplotlib.pyplot as pltsns.set_style('dark')<br/>%matplotlib inline</span></pre><p id="2617" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">现在我们的包已经成功导入了。让我们加载数据。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="dbff" class="mn lj it nw b gy oa ob l oc od"># load train data<br/>train_data = pd.read_csv("/kaggle/input/titanic/train.csv")</span><span id="fe3b" class="mn lj it nw b gy oe ob l oc od"># load test data<br/>test_data = pd.read_csv("/kaggle/input/titanic/test.csv")</span></pre><h1 id="982d" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">步骤4:数据清理</h1><p id="3198" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">让我们看看我们的训练和测试数据。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="1d8d" class="mn lj it nw b gy oa ob l oc od">train_data.head()</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="f8fb" class="mn lj it nw b gy oa ob l oc od">test_data.head()</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><p id="0422" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">首先，我们来看看列。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="bfc5" class="mn lj it nw b gy oa ob l oc od">print(train_data.columns.values)<br/>print("\n")<br/>print('='*50)<br/>print("\n")<br/>print(test_data.columns.values)</span><span id="ea54" class="mn lj it nw b gy oe ob l oc od"># output</span><span id="d0f7" class="mn lj it nw b gy oe ob l oc od">['PassengerId' 'Survived' 'Pclass' 'Name' 'Sex' 'Age' 'SibSp' 'Parch' 'Ticket' 'Fare' 'Cabin' 'Embarked']<br/><br/>==================================================<br/><br/>['PassengerId' 'Pclass' 'Name' 'Sex' 'Age' 'SibSp' 'Parch' 'Ticket' 'Fare' 'Cabin' 'Embarked']</span></pre><p id="04d6" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">我们可以看到，训练数据有12列，测试数据有11列。对于测试数据，我们必须预测乘客能否生还。</p><p id="6e48" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">让我们看看每一栏的信息。</p><ul class=""><li id="e97c" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">PassengerId:每个乘客的唯一索引。它从1开始，每个新乘客增加1。</li><li id="1867" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">幸存:显示乘客是否幸存。1代表幸存，0代表未幸存。</li><li id="b27d" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">Pclass:票类。1代表头等票。2代表二等票。3代表三等舱票。</li><li id="244b" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">姓名:乘客姓名。这个名字还包括称呼男人为“先生”,称呼女人为“夫人”,称呼女孩为“小姐”,称呼男孩为“主人”。</li><li id="1a6f" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">性别:乘客的性别。不是男的就是女的。</li><li id="ac78" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">年龄:乘客的年龄。此栏中的“NaN”值表示尚未记录该特定乘客的年龄。</li><li id="51ed" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">SibSp:与每位乘客同行的兄弟姐妹或配偶的数量。</li><li id="1e73" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">Parch:与每位乘客同行的儿童的父母人数。</li><li id="f75d" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">车票:票号。</li><li id="7e0c" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">票价:乘客为旅行支付了多少钱。</li><li id="1f4e" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">客舱:乘客的客舱号码。此栏中的“NaN”值表示该特定乘客的客舱号码未被记录。</li><li id="f0c0" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">上船:特定乘客上船/上船的港口。</li></ul><p id="c803" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">看看数据形状。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="d71d" class="mn lj it nw b gy oa ob l oc od">print('='*10)<br/>print("Train data shape")<br/>print('='*10)<br/>print("\n")<br/>print(train_data.shape)<br/>print("\n")<br/>print('='*10)<br/>print("Test data shape")<br/>print('='*10)<br/>print("\n")<br/>print(test_data.shape)</span><span id="3b94" class="mn lj it nw b gy oe ob l oc od"># output</span><span id="3f7e" class="mn lj it nw b gy oe ob l oc od">==========<br/>Train data shape<br/>==========</span><span id="a9aa" class="mn lj it nw b gy oe ob l oc od">(891, 12)</span><span id="eb19" class="mn lj it nw b gy oe ob l oc od">==========<br/>Test data shape<br/>==========<br/><br/>(418, 11)</span></pre><p id="1a76" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">使用<code class="fe og oh oi nw b">describe()</code>功能，您可以显示不同的值，如计数、平均值、标准偏差等。数值数据类型。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="de90" class="mn lj it nw b gy oa ob l oc od">train_data.describe()</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="b4e7" class="mn lj it nw b gy oa ob l oc od">test_data.describe()</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><p id="6a74" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">我们可以看到，在列车数据中，年龄、车厢和上船的值缺失，而在测试数据中，年龄、车厢和票价的值缺失。</p><p id="e677" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">年龄上船，票价只有几个失踪的价值。而机舱栏有这么多的缺失值。</p><p id="1a9b" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">最佳解决方案之一是填充年龄和票价的中间值。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="ce5d" class="mn lj it nw b gy oa ob l oc od"># filling median for missing value in Age<br/>train_data['Age'] = train_data['Age'].fillna(train_data['Age'].median())<br/>test_data['Age'] = test_data['Age'].fillna(test_data['Age'].median())</span><span id="b767" class="mn lj it nw b gy oe ob l oc od"># filling median for missing value in Fare<br/>test_data["Fare"].fillna(test_data["Fare"].median(), inplace=True)</span></pre><p id="b2d5" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">我将首先删除客舱和机票功能，因为从中无法提取更多有用的信息。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="0474" class="mn lj it nw b gy oa ob l oc od"># dropping Cabin column<br/>train_data = train_data.drop(['Cabin'], axis = 1)<br/>test_data = test_data.drop(['Cabin'], axis = 1)</span><span id="0391" class="mn lj it nw b gy oe ob l oc od"># dropping Ticket column<br/>train_data = train_data.drop(['Ticket'], axis = 1)<br/>test_data = test_data.drop(['Ticket'], axis = 1)</span></pre><p id="a6c8" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">已装载的列只有两个缺失值。我用“S”填充缺失值，因为这是最受欢迎的站点。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="a850" class="mn lj it nw b gy oa ob l oc od">train_data['Embarked'] = train_data['Embarked'].fillna('S')</span></pre><p id="e49f" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">现在我们的数据没有空值/缺失值。</p><p id="0cac" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">让我们表演一些EDA。</p><h1 id="bf98" class="li lj it bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">步骤5: EDA(探索性数据分析)</h1><p id="1933" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">为了进行一些观察和假设，我们需要通过旋转彼此相对的特性来快速分析一些特性的相关性。当我们清理数据时，我们能够为每个特征建立这种关联。</p><h2 id="b20c" class="mn lj it bd lk mo mp dn lo mq mr dp ls kv ms mt lw kz mu mv ma ld mw mx me iz bi translated">观察:</h2><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="cab9" class="mn lj it nw b gy oa ob l oc od"># number of survived passengers<br/>train_data.groupby(['Survived'])['Survived'].count()</span><span id="080f" class="mn lj it nw b gy oe ob l oc od"># output<br/>Survived<br/>0    549<br/>1    342</span></pre><ul class=""><li id="5a80" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">很明显，891名乘客中只有342人幸存，这表明大多数乘客已经死亡。</li></ul><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="a6c3" class="mn lj it nw b gy oa ob l oc od"># percentage of male and female who survived<br/>train_data[["Sex", "Survived"]].groupby(['Sex'], as_index=False).mean().sort_values(by='Survived', ascending=False)</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><ul class=""><li id="c281" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">女性乘客有很高的生存优先权。</li></ul><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="7cbb" class="mn lj it nw b gy oa ob l oc od"># percentage of people survived according to their Ticker Class<br/>train_data[["Pclass", "Survived"]].groupby(['Pclass'], as_index=False).mean().sort_values(by='Survived', ascending=False)</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><ul class=""><li id="905a" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">头等舱乘客生还几率较高，大于60%。</li></ul><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="db1f" class="mn lj it nw b gy oa ob l oc od"># Percentage of survived people based on their embarked. <br/>train_data[["Embarked", "Survived"]].groupby(['Embarked'], as_index=False).mean().sort_values(by='Survived', ascending=False)</span></pre><figure class="nr ns nt nu gt kc"><div class="bz fp l di"><div class="of ke l"/></div></figure><ul class=""><li id="7d0b" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">从瑟堡上船的乘客。</li></ul></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><h1 id="68ed" class="li lj it bd lk ll oq ln lo lp or lr ls lt os lv lw lx ot lz ma mb ou md me mf bi translated">步骤6:数据可视化</h1><p id="ec96" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">让我们做一些可视化分析，以了解不同特性的重要性，并检查我们的观察。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="bed3" class="mn lj it nw b gy oa ob l oc od">sns.countplot(x = 'Survived', data = train_data)</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/dba20e293ab39000f4531743acf6c3ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*pZmAPua3KT0zQl_NFDLPtg.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="ea77" class="mn lj it nw b gy oa ob l oc od">#draw a bar plot of survival by sex<br/>sns.barplot(x="Sex", y="Survived", data=train_data)</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/53e3ce78515fe2a34ac4f76486dc1ab3.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*rY3w7c210jIdN8eR1ADGqw.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="d721" class="mn lj it nw b gy oa ob l oc od">#draw a bar plot of survival by sex<br/>sns.barplot(x="Pclass", y="Survived", data=train_data)</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/83e1b60be4d84f96877a0c72142045ae.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*GhGWFAwi8tn8haKlowT6Qg.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="9b37" class="mn lj it nw b gy oa ob l oc od">#draw a bar plot of survival by sex<br/>sns.barplot(x = "Embarked", y = "Survived", data = train_data)</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/de1e8b77fb2686b4f4294b5d3f5c0f94.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*jZ7MvkFyiOsaw4hfQpWvnw.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="1aea" class="mn lj it nw b gy oa ob l oc od">#draw a bar plot of survival by sex<br/>sns.barplot(x="Parch", y="Survived", data=train_data)</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/bb4fcf4987dbc237750f0efdc65166ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*6bdgSyBNdLOiLqKACy4HpA.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="06c0" class="mn lj it nw b gy oa ob l oc od"># peaks for survived/not survived passengers by their age<br/>facet = sns.FacetGrid(train_data, hue="Survived",aspect=4)<br/>facet.map(sns.kdeplot,'Age',shade= True)<br/>facet.set(xlim=(0, train_data['Age'].max()))<br/>facet.add_legend()</span><span id="8885" class="mn lj it nw b gy oe ob l oc od"># average survived passengers by age<br/>fig, axis1 = plt.subplots(1,1,figsize=(18,4))<br/>average_age = train_data[["Age", "Survived"]].groupby(['Age'],as_index=False).mean()<br/>sns.barplot(x='Age', y='Survived', data=average_age)</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="pa pb di pc bf pd"><div class="gh gi oz"><img src="../Images/d6ca2322c8d01a09fddbe43d3340cb57.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RTq92kSk9U5S9wvSYBir_A.png"/></div></div></figure><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="pa pb di pc bf pd"><div class="gh gi pe"><img src="../Images/93477df3d5e78fccfff0e2b5f672bb24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ComoWffBogra0mrColSM-A.png"/></div></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="b7eb" class="mn lj it nw b gy oa ob l oc od">grid = sns.FacetGrid(train_data, col='Survived', row='Pclass')<br/>grid.map(plt.hist, 'Age', alpha=.5, bins=20)<br/>grid.add_legend();</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/754f216e3d1288e5ee18cfc2b4739e3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*2fG0kkZo8WXyXROeEgkzag.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="03f6" class="mn lj it nw b gy oa ob l oc od">grid = sns.FacetGrid(train_data, col='Survived', row='Pclass')<br/>grid.map(plt.hist, 'SibSp', alpha=.5, bins=20)<br/>grid.add_legend();</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/af7c4a0306bc6191c00248f73c90a9c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*2vpcrtJIJZwOkQtIQ-FNeQ.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="8833" class="mn lj it nw b gy oa ob l oc od">grid = sns.FacetGrid(train_data, col='Survived', row='Pclass')<br/>grid.map(plt.hist, 'Embarked', alpha=.5, bins=20)<br/>grid.add_legend();</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/ce3e0919bd693838a4936562f4730fa5.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*FDz432ZNYoV65gxjjSca-A.png"/></div></figure><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="82a3" class="mn lj it nw b gy oa ob l oc od">sns.heatmap(train_data.corr(),annot=True,cmap='RdYlGn',linewidths=0.2)<br/>fig=plt.gcf()<br/>fig.set_size_inches(20,12)<br/>plt.show()</span></pre><figure class="nr ns nt nu gt kc gh gi paragraph-image"><div role="button" tabindex="0" class="pa pb di pc bf pd"><div class="gh gi pg"><img src="../Images/4a97d3317562ffc99a99c1c5ab66593a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kjVjOjuBdf3rxtO7xgb-LQ.png"/></div></div></figure></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><h1 id="94a0" class="li lj it bd lk ll oq ln lo lp or lr ls lt os lv lw lx ot lz ma mb ou md me mf bi translated">步骤7:将分类数据转换为数字数据</h1><p id="dbea" class="pw-post-body-paragraph kk kl it km b kn nm kp kq kr nn kt ku kv no kx ky kz np lb lc ld nq lf lg lh im bi translated">在我们的数据中，一些特征由类别值表示，如性别、船载等。所以我们必须把它们转换成一个数值。</p><pre class="nr ns nt nu gt nv nw nx ny aw nz bi"><span id="db72" class="mn lj it nw b gy oa ob l oc od"># convert sex features 0 - female, 1 - male<br/>train_data['Sex'] = train_data['Sex'].map({'male':1, 'female':0})<br/>test_data['Sex'] = test_data['Sex'].map({'male':1, 'female':0})</span><span id="3f48" class="mn lj it nw b gy oe ob l oc od"># convert embarked features C - 0, S - 1, Q - 2<br/>train_data['Embarked'] = train_data['Embarked'].map({'Q':2, 'S':1, 'C':0})<br/>test_data['Embarked'] = test_data['Embarked'].map({'Q':2, 'S':1, 'C':0})</span></pre></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><p id="02b3" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">今天的帖子到此为止。在我的下一篇文章中，我将训练一些模型来预测新乘客是否幸存。你可以在这里找到一个kaggle笔记本/内核。</p><p id="fd13" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated"><strong class="km jd">感谢阅读！</strong></p></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><p id="b9ba" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">如果你喜欢我的工作并想支持我，我会非常感谢你在我的社交媒体频道上关注我:</p><ul class=""><li id="c983" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">支持我的最好方式就是跟随我上<a class="ae kj" href="https://medium.com/@themlphdstudent" rel="noopener"><strong class="km jd"/></a>。</li><li id="f390" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">订阅我的新<a class="ae kj" href="https://www.youtube.com/c/themlphdstudent" rel="noopener ugc nofollow" target="_blank"> <strong class="km jd"> YouTube频道</strong> </a>。</li><li id="9ef9" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">在我的<a class="ae kj" href="http://eepurl.com/hampwT" rel="noopener ugc nofollow" target="_blank"> <strong class="km jd">邮箱列表</strong> </a>报名。</li></ul></div><div class="ab cl oj ok hx ol" role="separator"><span class="om bw bk on oo op"/><span class="om bw bk on oo op"/><span class="om bw bk on oo"/></div><div class="im in io ip iq"><p id="9c89" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">以防你错过我的python系列。</p><ul class=""><li id="0cbb" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated">第0天:<a class="ae kj" href="/@durgeshsamariya/100-days-of-machine-learning-code-a9074e1c42c3" rel="noopener ugc nofollow" target="_blank">挑战介绍</a></li><li id="739b" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">第1天:<a class="ae kj" href="/the-innovation/python-basics-variables-data-types-and-list-59cea3dfe10f" rel="noopener ugc nofollow" target="_blank"> Python基础— 1 </a></li><li id="3976" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">第2天:<a class="ae kj" href="https://towardsdatascience.com/python-basics-2-working-with-list-tuples-dictionaries-871c6c01bb51" rel="noopener" target="_blank"> Python基础知识— 2 </a></li><li id="5371" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">第三天:<a class="ae kj" href="/towards-artificial-intelligence/python-basics-3-97a8e69066e7" rel="noopener ugc nofollow" target="_blank"> Python基础知识— 3 </a></li><li id="63c2" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">第4天:<a class="ae kj" href="/javarevisited/python-basics-4-functions-working-with-functions-classes-working-with-class-inheritance-70e0338c1b2e" rel="noopener ugc nofollow" target="_blank"> Python基础知识— 4 </a></li><li id="a8ae" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated">第5天:<a class="ae kj" href="https://medium.com/towards-artificial-intelligence/python-basics-5-files-and-exceptions-by-durgesh-samariya-5d892d170640" rel="noopener"> Python基础知识— 5 </a></li></ul><p id="bd65" class="pw-post-body-paragraph kk kl it km b kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh im bi translated">我希望你会喜欢我的其他文章。</p><ul class=""><li id="73ab" class="my mz it km b kn ko kr ks kv na kz nb ld nc lh nd ne nf ng bi translated"><a class="ae kj" href="https://medium.com/dev-genius/learn-terminal-git-commands-in-3-minutes-3997b354382e" rel="noopener">给初学者的Git</a></li><li id="0acf" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated"><a class="ae kj" href="/@durgeshsamariya/august-2020-monthly-machine-learning-reading-list-by-durgesh-samariya-20028aa1d5cc" rel="noopener ugc nofollow" target="_blank">八月月度阅读清单</a></li><li id="20af" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated"><a class="ae kj" href="/towards-artificial-intelligence/a-curated-list-of-clustering-resources-fe355e0e058e" rel="noopener ugc nofollow" target="_blank">集群资源</a></li><li id="243e" class="my mz it km b kn nh kr ni kv nj kz nk ld nl lh nd ne nf ng bi translated"><a class="ae kj" href="/dev-genius/curated-list-of-outlier-detection-resources-35ed27d0e46e" rel="noopener ugc nofollow" target="_blank">离群点检测资源</a></li></ul></div></div>    
</body>
</html>