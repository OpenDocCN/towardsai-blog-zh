<html>
<head>
<title>Maximizing Pandas Performance: 6 Best Practices for Efficient Data Processing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">最大化Pandas性能:高效数据处理的6个最佳实践</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/making-pandas-fly-6-pandas-best-practices-to-save-memory-energy-8d09e9d52488?source=collection_archive---------0-----------------------#2022-10-26">https://pub.towardsai.net/making-pandas-fly-6-pandas-best-practices-to-save-memory-energy-8d09e9d52488?source=collection_archive---------0-----------------------#2022-10-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="1903" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">优化Pandas:了解数据类型和内存使用以实现高效的数据处理</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c318102e708b1d88eba641099c0fff59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N_xDkAJhC_5IBOQZ"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk translated">照片由<a class="ae kv" href="https://unsplash.com/@ltmonster?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">施洋许</a>在<a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="5f01" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pandas是数据科学领域中一个受欢迎的库，它使得使用高效和高性能的工具处理数据变得容易。但是当处理大量数据时，熊猫会变得有限，并导致内存问题。为了克服这些问题，您可以使用其他工具，如Dask或Polar。本文将为您提供一些在切换到另一个工具之前可以尝试的技巧。</p><p id="2b27" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Pandas数据类型可能会令人困惑，因此在您第一次开始研究数据时检查它们是很重要的。拥有正确的数据类型将使您的分析更加准确和高效。有时候，Pandas可能会将整数列作为浮点或对象类型读取，这可能会导致错误并耗尽额外的内存。本文将解释Pandas数据类型，并向您展示如何通过使用正确的数据类型来节省内存。</p><p id="9723" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">本文的灵感来自马特·哈里森的谈话:有效的熊猫I马特·哈里森I PyData盐湖城Meetup。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ls lt l"/></div></figure><p id="835e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将在本文中使用车辆数据:<a class="ae kv" href="https://github.com/mattharrison/datasets/blob/master/data/vehicles.csv.zip" rel="noopener ugc nofollow" target="_blank">车辆数据</a>。数据有点大，所以我们将选择几列进行实验。</p><h1 id="8e0d" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">目录</h1><p id="d868" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated"><a class="ae kv" href="#173e" rel="noopener ugc nofollow"> 1。读取数据</a> <br/> <a class="ae kv" href="#15d2" rel="noopener ugc nofollow"> 2。内存使用量</a> <br/> <a class="ae kv" href="#990f" rel="noopener ugc nofollow"> 3。熊猫数据类型</a> <br/> <a class="ae kv" href="#20ee" rel="noopener ugc nofollow"> 4。整数</a> <br/> <a class="ae kv" href="#5169" rel="noopener ugc nofollow"> 5。浮动</a> <br/> <a class="ae kv" href="#1c1e" rel="noopener ugc nofollow"> 6。对象和类别</a> <br/> <a class="ae kv" href="#86af" rel="noopener ugc nofollow"> 8。日期时间</a> <br/> <a class="ae kv" href="#8f5a" rel="noopener ugc nofollow"> 9。NumPy vs熊猫运营</a></p><h1 id="173e" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">1.读取数据</h1><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><p id="9ca8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果数据首先不适合您的内存，您可以成块地读取数据并探索它。该参数实际上意味着要读入内存的行数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><p id="9448" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">研究了一小部分数据后，您现在知道什么是重要列和不重要列了。为了节省额外的内存，您只能读取重要的列。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><h1 id="15d2" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">2.内存使用</h1><p id="768d" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">Pandas <code class="fe ms mt mu mv b">info()</code>函数提供了关于数据帧的有价值的信息，包括每一列的数据类型、非空值的数量以及内存使用情况。该函数对于理解数据结构和优化内存使用非常有用。内存使用报告显示在<code class="fe ms mt mu mv b">info()</code>函数输出的末尾。</p><p id="d1b2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">为了充分利用内存，我们向<code class="fe ms mt mu mv b">info()</code>提供了<code class="fe ms mt mu mv b">memory_usage=”deep”</code>参数。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="210a" class="na lv iq mv b be nb nc l nd ne">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 41144 entries, 0 to 41143<br/>Data columns (total 14 columns):<br/> #   Column      Non-Null Count  Dtype  <br/>---  ------      --------------  -----  <br/> 0   city08      41144 non-null  int64  <br/> 1   comb08      41144 non-null  int64  <br/> 2   highway08   41144 non-null  int64  <br/> 3   cylinders   40938 non-null  float64<br/> 4   displ       40940 non-null  float64<br/> 5   drive       39955 non-null  object <br/> 6   eng_dscr    24991 non-null  object <br/> 7   fuelCost08  41144 non-null  int64  <br/> 8   make        41144 non-null  object <br/> 9   model       41144 non-null  object <br/> 10  trany       41133 non-null  object <br/> 11  range       41144 non-null  int64  <br/> 12  createdOn   41144 non-null  object <br/> 13  year        41144 non-null  int64  <br/>dtypes: float64(2), int64(6), object(6)<br/>memory usage: 18.7 MB</span></pre><h1 id="990f" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">3.熊猫数据类型</h1><p id="8884" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">当将数据导入Pandas DataFrame时，整个数据集被读入内存，以确定每一列的数据类型。这个过程有时会导致不正确的数据类型分配，例如假设具有整数值和缺失数据的列是浮点数据类型而不是整数。为了避免这种情况，根据需要仔细检查和调整数据类型非常重要。</p><p id="90ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要检查您的数据类型，您可以使用<code class="fe ms mt mu mv b">.dtypes</code>，它将返回一系列与那里相关联的列<code class="fe ms mt mu mv b">dtype</code>:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="1556" class="na lv iq mv b be nb nc l nd ne">city08          int64<br/>comb08          int64<br/>highway08       int64<br/>cylinders     float64<br/>displ         float64<br/>drive          object<br/>eng_dscr       object<br/>fuelCost08      int64<br/>make           object<br/>model          object<br/>trany          object<br/>range           int64<br/>createdOn      object<br/>year            int64<br/>dtype: object</span></pre><p id="d7b0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">只有三种类型出现在我们的数据集中，但熊猫通常有7种类型:</p><ul class=""><li id="59ed" class="nf ng iq ky b kz la lc ld lf nh lj ni ln nj lr nk nl nm nn bi translated"><code class="fe ms mt mu mv b"><strong class="ky ir">object</strong></code>、<code class="fe ms mt mu mv b"><strong class="ky ir">int64</strong></code>、<code class="fe ms mt mu mv b"><strong class="ky ir">float64</strong></code>、<code class="fe ms mt mu mv b"><strong class="ky ir">category</strong></code>、<strong class="ky ir">、</strong>、<code class="fe ms mt mu mv b"><strong class="ky ir">datetime64</strong></code>、<strong class="ky ir">、</strong>都是本文将要涉及的。</li><li id="572c" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated"><code class="fe ms mt mu mv b"><strong class="ky ir">bool</strong></code>:真/假值。可以是一个<code class="fe ms mt mu mv b">NumPy</code> <code class="fe ms mt mu mv b">datetime64[ns]</code>。</li><li id="fddd" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated"><code class="fe ms mt mu mv b"><strong class="ky ir">timedelta[ns]</strong></code>:两个日期时间之间的差异。</li></ul><h1 id="20ee" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">4.整数</h1><p id="3526" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">整数。可以是<code class="fe ms mt mu mv b">NumPy</code>、<code class="fe ms mt mu mv b">int_</code>、<code class="fe ms mt mu mv b">int8</code>、<code class="fe ms mt mu mv b">int16</code>、<code class="fe ms mt mu mv b">int32</code>、<code class="fe ms mt mu mv b">int64</code>、<code class="fe ms mt mu mv b">uint8</code>、<code class="fe ms mt mu mv b">uint16</code>、<code class="fe ms mt mu mv b">uint32</code>或<code class="fe ms mt mu mv b">uint64</code>。</p><p id="5d98" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe ms mt mu mv b">numpy.iinfo()</code>来检查整数类型的机器限制，并选择一个允许您在不损失精度的情况下节省内存的类型。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="b759" class="na lv iq mv b be nb nc l nd ne">Machine parameters for int8<br/>---------------------------------------------------------------<br/>min = -128<br/>max = 127<br/>---------------------------------------------------------------</span></pre><pre class="nt mw mv mx bn my mz bi"><span id="e14a" class="na lv iq mv b be nb nc l nd ne">Machine parameters for int16<br/>---------------------------------------------------------------<br/>min = -32768<br/>max = 32767<br/>---------------------------------------------------------------</span></pre><p id="0e69" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">使用<code class="fe ms mt mu mv b">pandas.select_dtypes()</code>选择基于特定<code class="fe ms mt mu mv b">dtype</code>的列。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nu"><img src="../Images/22a035c4985e5bdf8a8055e9ff971680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2L4GOHujtwUxdsbNkTlM-A.png"/></div></div></figure><p id="f788" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">将pandas列数据转换为不同类型的最简单方法是使用<code class="fe ms mt mu mv b">astype()</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="a99e" class="na lv iq mv b be nb nc l nd ne">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 41144 entries, 0 to 41143<br/>Data columns (total 14 columns):<br/> #   Column      Non-Null Count  Dtype  <br/>---  ------      --------------  -----  <br/> 0   city08      41144 non-null  int16  <br/> 1   comb08      41144 non-null  int16  <br/> 2   highway08   41144 non-null  int8   <br/> 3   cylinders   40938 non-null  float64<br/> 4   displ       40940 non-null  float64<br/> 5   drive       39955 non-null  object <br/> 6   eng_dscr    24991 non-null  object <br/> 7   fuelCost08  41144 non-null  int16  <br/> 8   make        41144 non-null  object <br/> 9   model       41144 non-null  object <br/> 10  trany       41133 non-null  object <br/> 11  range       41144 non-null  int16  <br/> 12  createdOn   41144 non-null  object <br/> 13  year        41144 non-null  int16  <br/>dtypes: float64(2), int16(5), int8(1), object(6)<br/>memory usage: 17.3 MB</span></pre><h1 id="5169" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">5.浮动</h1><p id="769a" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">浮点数。可以是<code class="fe ms mt mu mv b">NumPy</code>、<code class="fe ms mt mu mv b">float16</code>、<code class="fe ms mt mu mv b">float32</code>、<code class="fe ms mt mu mv b">float64</code></p><p id="3566" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用<code class="fe ms mt mu mv b">numpy.finfo()</code>来检查浮点类型的机器限制，并选择一个允许您在不损失精度的情况下节省内存的类型。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="75eb" class="na lv iq mv b be nb nc l nd ne">Machine parameters for float16<br/>---------------------------------------------------------------<br/>precision =   3   resolution = 1.00040e-03<br/>machep =    -10   eps =        9.76562e-04<br/>negep =     -11   epsneg =     4.88281e-04<br/>minexp =    -14   tiny =       6.10352e-05<br/>maxexp =     16   max =        6.55040e+04<br/>nexp =        5   min =        -max<br/>---------------------------------------------------------------</span></pre><pre class="nt mw mv mx bn my mz bi"><span id="2e95" class="na lv iq mv b be nb nc l nd ne">Machine parameters for float32<br/>---------------------------------------------------------------<br/>precision =   6   resolution = 1.0000000e-06<br/>machep =    -23   eps =        1.1920929e-07<br/>negep =     -24   epsneg =     5.9604645e-08<br/>minexp =   -126   tiny =       1.1754944e-38<br/>maxexp =    128   max =        3.4028235e+38<br/>nexp =        8   min =        -max<br/>---------------------------------------------------------------</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/ac9a691cbc14c9bec34965388bc012df.png" data-original-src="https://miro.medium.com/v2/resize:fit:824/format:webp/1*3lQ6EEtwybv7PySh-ny5RA.png"/></div></figure><p id="c581" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ms mt mu mv b">cylinders</code>列应该是一个<code class="fe ms mt mu mv b">integer</code> <code class="fe ms mt mu mv b">dtype </code>但是因为它缺少值，熊猫把它读成了<code class="fe ms mt mu mv b">float</code> <code class="fe ms mt mu mv b">dtype</code>。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="4d30" class="na lv iq mv b be nb nc l nd ne">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 41144 entries, 0 to 41143<br/>Data columns (total 14 columns):<br/> #   Column      Non-Null Count  Dtype  <br/>---  ------      --------------  -----  <br/> 0   city08      41144 non-null  int16  <br/> 1   comb08      41144 non-null  int16  <br/> 2   highway08   41144 non-null  int8   <br/> 3   cylinders   41144 non-null  int8   <br/> 4   displ       41144 non-null  float16<br/> 5   drive       39955 non-null  object <br/> 6   eng_dscr    24991 non-null  object <br/> 7   fuelCost08  41144 non-null  int16  <br/> 8   make        41144 non-null  object <br/> 9   model       41144 non-null  object <br/> 10  trany       41133 non-null  object <br/> 11  range       41144 non-null  int16  <br/> 12  createdOn   41144 non-null  object <br/> 13  year        41144 non-null  int16  <br/>dtypes: float16(1), int16(5), int8(2), object(6)<br/>memory usage: 16.8 MB</span></pre><h1 id="1c1e" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">6.对象和类别</h1><p id="fbd8" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated"><strong class="ky ir"> <em class="nw">对象:</em> </strong>文本或混合数值和非数值。可以是<code class="fe ms mt mu mv b">NumPy</code>、<code class="fe ms mt mu mv b">string_</code>、<code class="fe ms mt mu mv b">unicode_</code>或混合类型。</p><p id="9a55" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir"> <em class="nw">类别</em> </strong>:熊猫中的类别数据类型是一种混合数据类型。在许多情况下，它看起来和行为都像一个字符串，但在内部是由一个整数数组表示的。这允许数据以自定义顺序排序，并更有效地存储数据。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nx"><img src="../Images/e00bbc15de25c3f989d54a869e5d8407.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FONOHn1nNs13eSA_NEPoSA.png"/></div></div></figure><p id="ea1d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><code class="fe ms mt mu mv b">drive</code>和<code class="fe ms mt mu mv b">trany</code>有少量的唯一值，所以我们可以把它们转换成<code class="fe ms mt mu mv b">category</code>和<code class="fe ms mt mu mv b">dtype</code></p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="4995" class="na lv iq mv b be nb nc l nd ne">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 41144 entries, 0 to 41143<br/>Data columns (total 14 columns):<br/> #   Column      Non-Null Count  Dtype   <br/>---  ------      --------------  -----   <br/> 0   city08      41144 non-null  int16   <br/> 1   comb08      41144 non-null  int16   <br/> 2   highway08   41144 non-null  int8    <br/> 3   cylinders   41144 non-null  int8    <br/> 4   displ       41144 non-null  float16 <br/> 5   drive       41144 non-null  category<br/> 6   eng_dscr    24991 non-null  object  <br/> 7   fuelCost08  41144 non-null  int16   <br/> 8   make        41144 non-null  category<br/> 9   model       41144 non-null  object  <br/> 10  trany       41144 non-null  category<br/> 11  range       41144 non-null  int16   <br/> 12  createdOn   41144 non-null  object  <br/> 13  year        41144 non-null  int16   <br/>dtypes: category(3), float16(1), int16(5), int8(2), object(3)<br/>memory usage: 8.8 MB</span></pre><h1 id="86af" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">8.日期时间</h1><p id="adaa" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">日期和时间值。将我们的日期作为<code class="fe ms mt mu mv b">datetime64</code>对象将允许我们通过<code class="fe ms mt mu mv b">.dt</code> API访问大量的日期和时间信息。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="c967" class="na lv iq mv b be nb nc l nd ne">&lt;class 'pandas.core.frame.DataFrame'&gt;<br/>RangeIndex: 41144 entries, 0 to 41143<br/>Data columns (total 14 columns):<br/> #   Column      Non-Null Count  Dtype         <br/>---  ------      --------------  -----         <br/> 0   city08      41144 non-null  int16         <br/> 1   comb08      41144 non-null  int16         <br/> 2   highway08   41144 non-null  int8          <br/> 3   cylinders   41144 non-null  int8          <br/> 4   displ       41144 non-null  float16       <br/> 5   drive       41144 non-null  category      <br/> 6   eng_dscr    24991 non-null  object        <br/> 7   fuelCost08  41144 non-null  int16         <br/> 8   make        41144 non-null  category      <br/> 9   model       41144 non-null  object        <br/> 10  trany       41144 non-null  category      <br/> 11  range       41144 non-null  int16         <br/> 12  createdOn   41144 non-null  datetime64[ns]<br/> 13  year        41144 non-null  int16         <br/>dtypes: category(3), datetime64[ns](1), float16(1), int16(5), int8(2), object(2)<br/>memory usage: 5.8 MB</span></pre><h1 id="8f5a" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">9.NumPy vs. Pandas运营</h1><p id="ba51" class="pw-post-body-paragraph kw kx iq ky b kz mm jr lb lc mn ju le lf mo lh li lj mp ll lm ln mq lp lq lr ij bi translated">有时，仅仅将数据转换成NumPy数组就可以加速计算，就像下面的例子一样(<code class="fe ms mt mu mv b">.values</code>将把数列转换成NumPy数组):</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="819f" class="na lv iq mv b be nb nc l nd ne">78.1 µs ± 1.29 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)</span></pre><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mr lt l"/></div></figure><pre class="kg kh ki kj gt mw mv mx bn my mz bi"><span id="a35f" class="na lv iq mv b be nb nc l nd ne">36.9 µs ± 579 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)</span></pre><h1 id="1a54" class="lu lv iq bd lw lx ly lz ma mb mc md me jw mf jx mg jz mh ka mi kc mj kd mk ml bi translated">摘要</h1><ul class=""><li id="ce2e" class="nf ng iq ky b kz mm lc mn lf ny lj nz ln oa lr nk nl nm nn bi translated">正确的数据类型分配是探索新数据集的重要步骤。</li><li id="b28a" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">Pandas通常能做出准确的数据类型推断，但是熟悉可用的转换选项以确保数据的格式正确是很重要的。</li><li id="9e85" class="nf ng iq ky b kz no lc np lf nq lj nr ln ns lr nk nl nm nn bi translated">正确分配数据类型可以显著节省内存，潜在地减少30%以上的内存使用。</li></ul></div></div>    
</body>
</html>