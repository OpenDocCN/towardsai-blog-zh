<html>
<head>
<title>The Ultimate Beginner Guide to Web Scraping</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网页抓取的最终初学者指南</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/the-ultimate-beginner-guide-to-web-scraping-64a519f8adce?source=collection_archive---------0-----------------------#2021-09-29">https://pub.towardsai.net/the-ultimate-beginner-guide-to-web-scraping-64a519f8adce?source=collection_archive---------0-----------------------#2021-09-29</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="03b9" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/web-scraping" rel="noopener ugc nofollow" target="_blank">网页抓取</a></h2><div class=""/><div class=""><h2 id="28b5" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">一步一步的教程，为傻瓜提供Python代码。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/82f5f53e725d44b398ba5c360d372cc9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDMtKkvLAye7tutJc1NSmw.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">约翰·施诺布里奇在Unsplash上的照片</figcaption></figure><p id="00ae" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在这篇文章中，我将带你了解一些简单的自制工具，它们可以自动阅读网站，并为你总结关于你的名人或其他任何东西的信息:网络抓取。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="e859" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">什么是网页抓取？</h1><p id="a700" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">Web抓取，也称为web采集或web数据提取，是一种用于从网站提取数据的技术。你猜对了。谷歌也应用了这项技术，来索引数十亿个网站，并为你的查询提供相关的搜索结果。</p><blockquote class="ni nj nk"><p id="27e6" class="li lj nl lk b ll lm kd ln lo lp kg lq nm ls lt lu nn lw lx ly no ma mb mc md im bi translated">如果你从网站上抓取公开可用且没有版权的数据供公众消费并用于分析，这是完全合法的。但是，如果你为了利益而抓取机密信息，这是不合法的。<a class="ae lh" href="https://medium.com/@tjwaterman99/web-scraping-is-now-legal-6bf0e5730a78" rel="noopener">来源</a>。</p></blockquote><p id="4b8b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你所需要做的就是写一段代码，它会转到目标网页，提取底层的HTML代码，理解它的结构，并有目的地以一种有意义的格式存储数据。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi np"><img src="../Images/a4cfcdaef0abfc7da1c3ea06a251c919.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MPwx1PZOaq825QTpdfZbzQ.png"/></div></div></figure><p id="6b0e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">来自互联网电影数据库的信息是一个臭名昭著的地方，在那里你会找到，例如2020年的前100名明星(<a class="ae lh" href="https://www.imdb.com/list/ls082599715/" rel="noopener ugc nofollow" target="_blank">https://www.imdb.com/list/ls025814950</a>)。让我们用它来说明网页抓取。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nq"><img src="../Images/c30118661e6ca7450fa9d0669196f73c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tUHGeYxG3ehkFo2Eyk17JA.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">图片来自IMDb——2020年最佳电影明星(<a class="ae lh" href="https://www.imdb.com/list/ls082599715/" rel="noopener ugc nofollow" target="_blank">来源</a>)</figcaption></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="d6fb" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">如何用Python下载一个网页？</h1><p id="41e0" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">当你打开上面的页面时，你的网络浏览器会收到HTML代码，它的结构非常好。Web抓取从自动下载HTML代码开始，如下所示。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="a07e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">打印的HTML代码告诉我们，2020年排名第一的女演员是电影《银翼杀手2049》中的安娜·德·阿玛斯。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nt"><img src="../Images/4aad5dd44bcd67813c7a69bb5424a30b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XCH3-a34V5la_eU9bS0cUw.png"/></div></div></figure><p id="53cf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">每个星号都在一个<code class="fe nu nv nw nx b">&lt;div&gt;</code>元素中描述，其class属性设置为<code class="fe nu nv nw nx b">lister-item mode-detail</code>。在该元素中，女演员的名字Ana出现在类为<code class="fe nu nv nw nx b">lister-item-header</code>的元素的<code class="fe nu nv nw nx b">&lt;a&gt;</code>标签中。</p><p id="f13b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你可能还会注意到安娜名字上的一个链接，这个链接把我们带到了她的个人资料页面(<a class="ae lh" href="https://www.imdb.com/name/nm1869101/?ref_=nmls_hd" rel="noopener ugc nofollow" target="_blank">https://www.imdb.com/name/nm1869101/?ref_=nmls_hd</a>)，在那里可以找到关于她的更多信息。</p></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="0901" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">如何用Python从HTML代码中提取数据？</h1><p id="ed37" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">下面的代码在Python字典中查找代表明星的所有<code class="fe nu nv nw nx b">&lt;div&gt;</code>元素，并返回有价值的信息，如姓名、级别、性别、出生日期、年份和他们第一部电影的标题。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nr ns l"/></div></figure><h1 id="c3c8" class="ml mm it bd mn mo ny mq mr ms nz mu mv ki oa kj mx kl ob km mz ko oc kp nb nc bi translated">如何用Python可视化HTML数据？</h1><p id="1f47" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">下一步是在一个漂亮的桌子上建造一个所谓的熊猫<code class="fe nu nv nw nx b">DataFrame</code>，以及用于可视化的<code class="fe nu nv nw nx b">Matplotlib</code>和<code class="fe nu nv nw nx b">Seaborn</code>。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/d1a7da52a07e85bd0f264d2ab3dc3f1e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bGxzzKR3GMGaf7TfGNIBNw.png"/></div></div></figure><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nr ns l"/></div></figure><p id="5189" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">网络抓取允许我们进行一些分析，比如有多少演员在12岁之前制作了他们的第一部电影，或者有多少演员是演员。</p><p id="57f4" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，你可以观察2020年女性与男性相比是如何处于巅峰的。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/e9e3879d089d0c544db08099a8719790.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*wvQUguX1zkzWKUUPn_YqtA.png"/></div></figure><p id="ccd2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">该分析揭示了弗雷德·威拉德是历史上IMDb 2020年百位明星名单中最受欢迎的演员，有313部电影。虽然演员往往更有生产力，但从历史上看，女演员更稳定。男性学分的标准偏差明显大于女性。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi of"><img src="../Images/7ae1cfe790557174af3799f9cf23eb38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sJApPCJZvDQ0pQ36zj3P1g.png"/></div></div></figure><p id="a197" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面的柱状图表明，2020年前100名榜单中有三分之一的演员出生于20世纪90年代。排名前三的女演员安雅·查洛特拉在2018年才22岁出道。她凭借电视剧《巫师》一跃成为前三名，这是她第四次出现在电影界。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi og"><img src="../Images/b90eb524553c03e0495bc0fddbe80e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1304/format:webp/1*pi04AgmaBUdxku0LNT0TDg.png"/></div></figure></div><div class="ab cl me mf hx mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="im in io ip iq"><h1 id="4482" class="ml mm it bd mn mo mp mq mr ms mt mu mv ki mw kj mx kl my km mz ko na kp nb nc bi translated">结论</h1><p id="d4b1" class="pw-post-body-paragraph li lj it lk b ll nd kd ln lo ne kg lq lr nf lt lu lv ng lx ly lz nh mb mc md im bi translated">在本文中，您了解了从网站上收集数据进行令人信服的分析是多么容易。虽然有一些强大的web采集商业解决方案，但是很好地理解页面的当前HTML结构和这里提供的Python代码是一个很好的开始。</p><p id="cdcd" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">你应该在尊重使用条款和版权的同时负责任地废弃网站。如果Web服务器在短时间内从同一来源收到太多请求，它们会变得很慢或没有响应。您可能希望在代码中使用请求之间的延迟。您还可以将结果保存在磁盘上，以避免多次废弃相同的数据。</p><p id="0816" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我最近被一个孩子震惊了，他在这篇文章之后，在这个视频中构建了他的第一个Python爬虫。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="oh ns l"/></div></figure></div></div>    
</body>
</html>