<html>
<head>
<title>Chest X-Ray Based Pneumonia Classification</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于胸部X线的肺炎分类</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/chest-x-ray-based-pneumonia-classification-921a7c94fd5e?source=collection_archive---------0-----------------------#2020-04-04">https://pub.towardsai.net/chest-x-ray-based-pneumonia-classification-921a7c94fd5e?source=collection_archive---------0-----------------------#2020-04-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="3479" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">使用Monk，低代码深度学习工具和计算机视觉的统一包装器，使计算机视觉变得简单。</h2></div><h2 id="4e55" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">僧库</strong></h2><p id="28a7" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">📌Monk是一个用于计算机视觉和深度学习的开源低代码工具。</p><h2 id="0c9b" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">和尚特征</strong></h2><p id="826c" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">📌低代码。</p><p id="baa8" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">📌主要深度学习框架的统一包装器。</p><p id="4354" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">📌语法不变包装。</p><h1 id="a2f7" class="lz kg iq bd kh ma mb mc kk md me mf kn jw mg jx kr jz mh ka kv kc mi kd kz mj bi translated">使能够</h1><p id="a0f2" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">📌用户创建、管理和版本控制深度学习实验。</p><p id="7091" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">📌用户跨训练指标比较实验。</p><p id="a6f8" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">📌用户快速找到最佳超参数。</p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="04c1" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">目录</h1><p id="638f" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">☑ <strong class="ld ir">安装</strong></p><p id="6e63" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">☑ <strong class="ld ir">下载数据集</strong></p><p id="2b55" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">☑ <strong class="ld ir">数据集的详细信息</strong></p><p id="1b85" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">☑ <strong class="ld ir">快速原型制作——训练、验证和推理</strong></p><p id="154c" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">☑ <strong class="ld ir">使用Resnet50 </strong>训练一个分类器</p><p id="a475" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">☑ <strong class="ld ir">使用Densenet121 </strong>训练分类器</p><p id="4a2d" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">☑ <strong class="ld ir">对比实验</strong></p></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="b9c6" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">装置</h1><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="c8a6" class="kf kg iq nb b gy nf ng l nh ni">$ !git clone <a class="ae nj" href="https://github.com/Tessellate-Imaging/monk_v1.git" rel="noopener ugc nofollow" target="_blank">https://github.com/Tessellate-Imaging/monk_v1.git</a></span><span id="b2f0" class="kf kg iq nb b gy nk ng l nh ni"><em class="nl"># If using Colab install using the commands below</em><br/>$ !cd monk_v1/installation/Misc &amp;&amp; pip install -r requirements_colab.txt</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="809d" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">下载数据集</h1><p id="969e" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated"><strong class="ld ir">数据集—胸部x光图像(肺炎)</strong></p><ul class=""><li id="270f" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated"><a class="ae nj" href="https://www.kaggle.com/paultimothymooney/chest-xray-pneumonia" rel="noopener ugc nofollow" target="_blank">卡格尔</a></li><li id="87b8" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated"><a class="ae nj" href="https://data.mendeley.com/datasets/rscbjbr9sj/2" rel="noopener ugc nofollow" target="_blank">门德利</a></li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="2bfe" class="kf kg iq nb b gy nf ng l nh ni">$ ! wget --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&amp;confirm=$(wget --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate 'https://docs.google.com/uc?export=download&amp;id=1li6ctqAvGFgIGMSt-mYrLoM_tbYkzqdO' -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/<strong class="nb ir">\1\n</strong>/p')&amp;id=1li6ctqAvGFgIGMSt-mYrLoM_tbYkzqdO" -O chest_xray.zip &amp;&amp; rm -rf /tmp/cookies.txt</span></pre><p id="bd9e" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">解压缩数据</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="e39d" class="kf kg iq nb b gy nf ng l nh ni">$ ! unzip -qq chest_xray.zip</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="2f48" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">数据集的详细信息</h1><h2 id="4cab" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">什么是肺炎？</strong></h2><ul class=""><li id="1e79" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">它是一个或两个肺部的感染。</li><li id="3643" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">它是由细菌、病毒和真菌引起的。</li><li id="2787" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">肺炎是一种感染，它会导致肺部气囊(称为肺泡)发炎。</li></ul><h2 id="8931" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">一般症状</strong></h2><ul class=""><li id="6e4d" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">发热</li><li id="a490" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">发冷</li><li id="3bff" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">咳嗽</li><li id="91a0" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">气促</li><li id="d948" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">乏力</li></ul><h2 id="1ff2" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">细菌性肺炎有哪些不同类型？</strong></h2><ul class=""><li id="9932" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">细菌导致大多数成人社区获得性肺炎病例。</li><li id="e463" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">当被感染的人咳嗽或打喷嚏时，一个人可能会感染肺炎。</li><li id="da46" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">充满细菌的水滴进入空气，你可以把它们吸入你的鼻子或嘴巴。</li><li id="14d3" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">典型表现为局灶性肺叶实变。</li></ul><h2 id="e7d6" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">在胸部x光片上看到的细菌性肺炎。</strong></h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi od"><img src="../Images/27c42757de1963b85b42bee05ab2bc97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YW19ayC0yXDP8h2z88V8GQ.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">正常胸透</figcaption></figure><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi op"><img src="../Images/f82ed1dbea06dbb6f84022003199f263.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tr4w4M7aSBMNFycEPLvmfA.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">异常胸部X线片，右肺、中叶或下叶肺炎所致实变(白色区域，图像左侧)</figcaption></figure><h2 id="f90e" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">病毒性肺炎有哪些不同类型</strong></h2><ul class=""><li id="5147" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">病毒是肺炎的第二大常见原因。</li><li id="dabb" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">许多不同的病毒导致这种疾病，包括一些引起感冒和流感的相同病毒。</li><li id="d4fb" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">发烧，发冷，干咳，这可能会恶化，使粘液，鼻塞。</li><li id="6573" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">病毒性肺炎(右)表现为双肺弥漫性间质性肺炎。</li></ul><h2 id="f07a" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">胸部x光片上看到的病毒性肺炎</strong></h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/ae0ec65082df548563c963337fd01d7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:822/format:webp/1*80BKG1esb976pO7aO4yosg.png"/></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated"><strong class="bd kh">病毒性肺炎</strong></figcaption></figure><h2 id="f41a" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">行走性肺炎有哪些不同类型</strong></h2><ul class=""><li id="511a" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">一种不太严重的细菌性肺炎。有时医生称之为“非典型”肺炎。</li><li id="b143" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">症状可能非常轻微，以至于你不知道自己已经患病。你可能感觉很好，能够进行日常活动，这就是名字中“散步”的来源。</li></ul><h2 id="6be5" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">真菌性肺炎有哪些不同类型</strong></h2><ul class=""><li id="d170" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">真菌是肺炎的一个不太常见的原因。如果你身体健康，就不太可能得真菌性肺炎。</li><li id="40d4" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">但是，如果你的免疫系统因大手术、器官移植、艾滋病毒而变弱，你就有更大的机会感染它。</li><li id="89f8" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">你会因为吸入叫做真菌孢子的微小颗粒而患上真菌性肺炎。</li></ul><h2 id="8a02" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">对此类应用的需求</strong></h2><ul class=""><li id="bfb4" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">细菌性肺炎需要紧急转诊，以便立即进行抗生素治疗。</li><li id="72e9" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">病毒性肺炎采用支持性治疗。因此，准确及时的诊断是必要的。</li><li id="1453" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">影像的快速放射学解释并不总是可用的，特别是在资源匮乏的环境中，那里儿童肺炎的发病率和死亡率最高。</li><li id="5c97" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">从而使用迁移学习对儿科胸部x光片进行分类。</li></ul><h2 id="99be" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">数据集</strong></h2><ul class=""><li id="7545" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">标记了总共5232张儿童胸部x光照片。</li><li id="1619" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">训练集包括来自总共5，856名患者的3，883名描述为肺炎(2，538名细菌性和1，345名病毒性)和1，349名正常人。</li><li id="4002" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">测试集包括来自624名患者的234幅正常图像和390幅肺炎图像(242幅细菌性和148幅病毒性)。</li></ul><blockquote class="or os ot"><p id="bf54" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated">标签</p></blockquote><ul class=""><li id="94ba" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">普通x射线</li><li id="4647" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">肺炎x光片</li></ul></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="b168" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">快速原型制作——培训、验证和推理</h1><h2 id="7fac" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">迁移学习</strong></h2><blockquote class="or os ot"><p id="b06a" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><strong class="ld ir"> <em class="iq">基础网络</em> </strong></p></blockquote><ul class=""><li id="351d" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">卷积神经网络首先在coco或Imagenet等大型数据集上进行训练。</li><li id="2306" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">这些数据集有许多类，大约有1000、1500个类。</li><li id="1850" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">因此，神经网络的最后一层具有相似数量的神经元。</li></ul><blockquote class="or os ot"><p id="86c0" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><strong class="ld ir"> <em class="iq">对自定义数据集进行微调</em> </strong></p></blockquote><ul class=""><li id="a9ba" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">自定义数据集通常有不同数量的类。</li><li id="eff2" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">你拿着网络，在网络上加载预先训练好的权重。</li><li id="7035" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">然后移除具有额外(或更少)数量神经元的最后一层。</li><li id="d2e4" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">您添加了一个新图层，其神经元数量=自定义数据集中的类数量。</li><li id="65d3" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">您可以选择在新添加的最后一层和旧网络之间添加更多层。</li></ul><h2 id="527a" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">什么是快速原型制作？</strong></h2><ul class=""><li id="2c76" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">每个图像分类项目都是从尝试迁移学习的基本步骤开始的。</li></ul><blockquote class="or os ot"><p id="1e84" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">在迁移学习中，你采用在非常大的数据集上训练的深度学习模型</em></p></blockquote><ul class=""><li id="e35b" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">然后在您的自定义数据集上进一步训练它。</li></ul><blockquote class="or os ot"><p id="0006" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">这样做时，你需要选择许多超参数</em></p></blockquote><ul class=""><li id="da4f" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">首先是模型本身，像ResNet或DenseNet，你永远不能确定用什么。</li><li id="5ff6" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">然后是数据集参数，如批量大小、输入形状等。</li><li id="297d" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">然后是诸如冻结层、不使用预训练模型等模型参数。</li><li id="2588" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">然后设置选择哪个优化器、损失函数、学习率调度器等。</li><li id="70fd" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">最后，训练的时期数。</li></ul><blockquote class="ox"><p id="b261" class="oy oz iq bd pa pb pc pd pe pf pg lt dk translated">注意:不是所有的事情都可以在第一步完成，因此快速原型模式。</p></blockquote><blockquote class="or os ot"><p id="2ac7" class="lb lc nl ld b le ph jr lg lh pi ju lj ou pj ll lm ov pk lo lp ow pl lr ls lt ij bi translated"><em class="iq">这允许您</em></p></blockquote><ul class=""><li id="7c26" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">树立榜样。</li><li id="9a30" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">是使用预先训练好的网络还是从头开始训练。</li><li id="3c0d" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">纪元的数量。</li></ul><blockquote class="or os ot"><p id="5055" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">所有其他参数根据其原始研究论文设置为默认值。</em></p></blockquote><ul class=""><li id="b150" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">然后可以在僧侣的中级和专家模式下改变。</li></ul><h2 id="6a4e" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">创建和管理实验</h2><ul class=""><li id="f4c9" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">提供项目名称。</li><li id="22e8" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">提供一个实验名称。</li><li id="edc5" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">对于特定数据，创建单个项目。</li><li id="afc3" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">在每个项目中，可以创建多个实验。</li><li id="a895" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">每个实验都有不同的超参数。</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="56cb" class="kf kg iq nb b gy nf ng l nh ni">$ gtf = prototype(verbose=1);<br/>$ gtf.Prototype("Pneumonia_Classification", "Quick_Prototype");</span></pre><p id="2d1c" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="b0e9" class="kf kg iq nb b gy nf ng l nh ni">Mxnet Version: 1.5.0<br/><br/>Experiment Details<br/>    Project: Pneumonia_Classification<br/>    Experiment: Quick_Prototype<br/>    Dir: /home/abhi/Downloads/webinar_2/workspace/Pneumonia_Classification/Quick_Prototype/</span></pre><h2 id="7686" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">这将按照以下结构创建文件和目录</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="1897" class="kf kg iq nb b gy nf ng l nh ni">workspace<br/>    |<br/>    |----Pneumonia_Classification<br/>                    |<br/>                    |<br/>                    |---Quick_Prototype<br/>                              |<br/>                              |--experiment-state.json<br/>                              |<br/>                              |--output<br/>                                   |<br/>                                   |------logs <br/>                                   |<br/>                                   |------models</span></pre><h2 id="3be6" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">快速模式训练</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="d818" class="kf kg iq nb b gy nf ng l nh ni">- Using Default Function<br/>    - dataset_path<br/>    - model_name<br/>    - num_epochs</span></pre><h2 id="a9c0" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">数据集文件夹结构</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="540d" class="kf kg iq nb b gy nf ng l nh ni">parent_directory<br/>    |<br/>    |<br/>    |<br/>    |----training<br/>            |------Infected<br/>                    |<br/>                    |------img1.jpg<br/>                    |------img2.jpg<br/>                    |------.... (and so on)<br/>            |------Normal<br/>                    |<br/>                    |------img1.jpg<br/>                    |------img2.jpg<br/>                    |------.... (and so on)   <br/>    |<br/>    |<br/>    |----validation<br/>            |------Infected<br/>                    |<br/>                    |------img1.jpg<br/>                    |------img2.jpg<br/>                    |------.... (and so on)<br/>            |------Normal<br/>                    |<br/>                    |------img1.jpg<br/>                    |------img2.jpg<br/>                    |------.... (and so on)</span></pre><h2 id="1785" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">可修改参数</h2><ul class=""><li id="fe9b" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">dataset_path:数据的路径</li><li id="819d" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">model_name:使用哪个预训练模型</li><li id="c8ad" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">freeze_base_network:是否重新训练已经训练好的网络</li><li id="a13c" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">num_epochs:训练的时期数</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="3081" class="kf kg iq nb b gy nf ng l nh ni">$ gtf.Default(dataset_path="chest_xray/train",<br/>            model_name="resnet18_v1",<br/>            num_epochs=5)</span><span id="b24e" class="kf kg iq nb b gy nk ng l nh ni"><em class="nl">#Start Training</em><br/>$ gtf.Train();</span></pre><h2 id="217a" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">训练对比Val对比测试数据集</h2><blockquote class="or os ot"><p id="5c23" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">列车</em></p></blockquote><ul class=""><li id="2b20" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">模型看到这些数据并从中学习。</li><li id="e730" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">我们案例中80%的原始训练数据。</li></ul><blockquote class="or os ot"><p id="43a4" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">验证</em></p></blockquote><ul class=""><li id="c106" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">调整模型超参数时，用于对模型拟合定型数据集提供无偏评估的数据样本。</li><li id="6045" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">在我们的例子中是原始训练数据的20%。</li></ul><blockquote class="or os ot"><p id="d420" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">测试</em></p></blockquote><ul class=""><li id="095d" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">测试数据集是用于提供对训练数据集的最终模型拟合的无偏评估的数据集。</li><li id="30fb" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">外部设置。</li></ul><h2 id="20a8" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">在测试图像上运行推理</h2><blockquote class="or os ot"><p id="36d2" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">在推理模式下加载实验</em></p></blockquote><ul class=""><li id="2cd8" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">将标志eval_infer设置为True。</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ac2a" class="kf kg iq nb b gy nf ng l nh ni">$ gtf = prototype(verbose=1);<br/>$ gtf.Prototype("Pneumonia_Classification", "Quick_Prototype", eval_infer=<strong class="nb ir">True</strong>);</span></pre><p id="357d" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="b0d2" class="kf kg iq nb b gy nf ng l nh ni">Mxnet Version: 1.5.0<br/><br/>Model Details<br/>    Loading model - workspace/Pneumonia_Classification/Quick_Prototype/output/models/final-symbol.json<br/>    Model loaded!<br/><br/>Experiment Details<br/>    Project: Pneumonia_Classification<br/>    Experiment: Quick_Prototype<br/>    Dir: /home/abhi/Downloads/webinar_2/workspace/Pneumonia_Classification/Quick_Prototype/</span></pre><p id="8995" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated"><strong class="ld ir">选择图像并运行推断</strong></p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="c701" class="kf kg iq nb b gy nf ng l nh ni">$ img_name = "chest_xray/infer/normal-1.jpeg";<br/>$ predictions = gtf.Infer(img_name=img_name);<br/><br/><em class="nl">#Display </em><br/><strong class="nb ir">$ from</strong> <strong class="nb ir">IPython.display</strong> <strong class="nb ir">import</strong> Image<br/>$ Image(filename=img_name)</span></pre><p id="7ff4" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="0ec5" class="kf kg iq nb b gy nf ng l nh ni">Prediction<br/>     Image name:     chest_xray/infer/normal-1.jpeg<br/>     Predicted class:      NORMAL<br/>     Predicted score:      7.098179340362549</span></pre><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pm"><img src="../Images/a58d780e01dda7fc7067e9e3649823ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A4rMIBMwOXDlM51fEJ-ftg.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">常态</figcaption></figure><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="ebe6" class="kf kg iq nb b gy nf ng l nh ni">$ img_name = "chest_xray/infer/pneumonia-1.jpeg";<br/>$ predictions = gtf.Infer(img_name=img_name);<br/> <br/><em class="nl">#Display </em> <br/><strong class="nb ir">$ from</strong> <strong class="nb ir">IPython.display</strong> <strong class="nb ir">import</strong> Image<br/>$ Image(filename=img_name)</span></pre><p id="d3a1" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="e5f0" class="kf kg iq nb b gy nf ng l nh ni">Prediction<br/>     Image name:         chest_xray/infer/pneumonia-1.jpeg     Predicted class:      PNEUMONIA<br/>Predicted score:      3.6506881713867188</span></pre><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pn"><img src="../Images/bbe33e093807f9e60cdd51c54526f051.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uSXWVdUip8aBHjiqjDTQ4A.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">肺炎</figcaption></figure></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="c51b" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">使用Resnet50训练分类器</h1><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi po"><img src="../Images/42ada631991c7edd9af6bad92d30a849.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DHaEvTBKvT-UoNXLsrQhCw.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">ResNet块</figcaption></figure><h2 id="c2c5" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">ResNet上的读数</strong></h2><blockquote class="or os ot"><p id="7165" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">分从</em> <a class="ae nj" href="https://towardsdatascience.com/an-overview-of-resnet-and-its-variants-5281e2f56035" rel="noopener" target="_blank"> <em class="iq">走向数据科学</em> </a></p></blockquote><ul class=""><li id="2891" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">ResNet的核心思想是引入所谓的“身份快捷连接”，跳过一层或多层。</li><li id="e1f9" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">较深的模型不应该比其较浅的对应模型产生更高的训练误差。</li><li id="c547" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">解决了网络深度增加时渐变消失的问题。</li></ul><blockquote class="or os ot"><p id="484d" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">分从</em> <a class="ae nj" href="https://medium.com/@14prakash/understanding-and-implementing-architectures-of-resnet-and-resnext-for-state-of-the-art-image-cf51669e1624" rel="noopener"> <em class="iq">中等</em> </a></p></blockquote><ul class=""><li id="00df" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">在ILSVRC 2015分类大赛中以3.57%的前5名错误率(系综模型)获得第一名。</li><li id="2910" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">高效训练的网络也有100层和1000层。</li><li id="2df9" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">用ResNet-101替换更快R-CNN中的VGG-16层。他们观察到28%的相对改善。</li></ul><blockquote class="or os ot"><p id="d6af" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">在这里阅读更多内容</em></p></blockquote><ul class=""><li id="5e67" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated"><a class="ae nj" href="https://arxiv.org/abs/1512.03385" rel="noopener ugc nofollow" target="_blank">https://arxiv.org/abs/1512.03385</a></li><li id="257d" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">【https://d2l.ai/chapter_convolutional-modern/resnet.html T2】号</li><li id="7724" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">【https://cv-tricks.com/keras/understand-implement-resnets/ T4】</li><li id="2d20" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated"><a class="ae nj" href="https://mc.ai/resnet-architecture-explained/" rel="noopener ugc nofollow" target="_blank">https://mc.ai/resnet-architecture-explained/</a></li></ul><h1 id="b2c4" class="lz kg iq bd kh ma mb mc kk md me mf kn jw mg jx kr jz mh ka kv kc mi kd kz mj bi translated">ResNet块— 1</h1><figure class="mw mx my mz gt oe gh gi paragraph-image"><div class="gh gi pp"><img src="../Images/8754facd803dc02887ef42866b4ef912.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/1*IbMYLARUnZXRR17XRMsB7g.png"/></div></figure><h2 id="172f" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">属性</strong></h2><blockquote class="or os ot"><p id="d58c" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">该块有2个分支</em></p></blockquote><ul class=""><li id="1074" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">第一个分支是身份分支，它接受输入并将其作为输出，即残差。</li><li id="af6e" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">第二个分支有这些层</li><li id="8529" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">batch norm-&gt; relu-&gt; conv _ 1x1-&gt; batch norm-&gt; relu-&gt; conv _ 3x 3-&gt; batch norm-&gt; relu-&gt; conv _ 1x1。</li></ul><p id="53bc" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">分支是按元素添加的，因此两个分支需要具有相同大小的输出。</p><p id="b3ff" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">这个块的最后一层是Relu。</p><blockquote class="or os ot"><p id="9f82" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">瓶颈</em></p></blockquote><ul class=""><li id="5c1d" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">第一和中间卷积中的num个特征是input_features/4</li><li id="8471" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">最终卷积具有要素=输入_要素。</li></ul><h2 id="1c14" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak"> ResNet块— 2 </strong></h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/2e0a1957bb372fa56495e98853995531.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*_Cqr1diA0aAr3p5XQjyS0A.png"/></div></figure><h2 id="da12" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">属性</strong></h2><p id="122f" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated">该块有两个起始元素</p><ul class=""><li id="6677" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">batchnorm -&gt; Relu</li></ul><p id="6f17" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">发布起始元素该块有2个分支</p><blockquote class="or os ot"><p id="f66c" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">第一个分支有这些层</em></p></blockquote><ul class=""><li id="fe32" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">conv_1x1</li></ul><blockquote class="or os ot"><p id="0fe5" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">第二个分支有这些层</em></p></blockquote><ul class=""><li id="3a77" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">conv _ 1x1-&gt; batch norm-&gt; Relu-&gt; conv _ 3x 3-&gt; batch norm-&gt; Relu-&gt; conv _ 1x1。</li></ul><p id="1514" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">分支是按元素添加的，因此两个分支需要具有相同大小的输出。</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="b40f" class="kf kg iq nb b gy nf ng l nh ni"><em class="nl">#Set project and experiment<br/></em>$ gtf = prototype(verbose=1)<br/>$ gtf.Prototype("Pneumonia_Classification", "Experiment_1")</span><span id="0932" class="kf kg iq nb b gy nk ng l nh ni"><em class="nl">#Load data and model<br/></em>$ gtf.Default(dataset_path="chest_xray/train",             model_name="resnet50_v2",freeze_base_network=<strong class="nb ir">False</strong>,             num_epochs=5)</span><span id="18c6" class="kf kg iq nb b gy nk ng l nh ni"><em class="nl"># Train</em><br/>$ gtf.Train()</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="03f9" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">使用Densenet121训练分类器</h1><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pr"><img src="../Images/c482e90bb2769f4914e0cde2a3c9f9ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UEkIGHhq0svAPxVe37GmZA.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated"><strong class="bd kh">密集块</strong></figcaption></figure><h2 id="8d1b" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">dense net上的读数</strong></h2><blockquote class="or os ot"><p id="c457" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">分从</em> <a class="ae nj" href="https://medium.com/the-advantages-of-densenet/the-advantages-of-densenet-98de3019cdac" rel="noopener"> <em class="iq">中等</em> </a></p></blockquote><ul class=""><li id="e957" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">“这种体系结构源于改进正在开发的更高层体系结构的愿望。特别是改善高层网络中许多层在某种意义上是冗余的问题。”</li></ul><blockquote class="or os ot"><p id="0ed4" class="lb lc nl ld b le lu jr lg lh lv ju lj ou lw ll lm ov lx lo lp ow ly lr ls lt ij bi translated"><em class="iq">指向数据科学</em></p></blockquote><ul class=""><li id="134c" class="nm nn iq ld b le lu lh lv ko no ks np kw nq lt nr ns nt nu bi translated">每一层都从所有前面的层接收“集体知识”。(见上图)。</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="a9a7" class="kf kg iq nb b gy nf ng l nh ni"><em class="nl">#Set project and experiment<br/></em>$ gtf = prototype(verbose=1)<br/>$ gtf.Prototype("Pneumonia_Classification", "Experiment_2")</span><span id="b439" class="kf kg iq nb b gy nk ng l nh ni"><em class="nl">#Load data and model<br/></em>$ gtf.Default(dataset_path="chest_xray/train",             model_name="densenet121",freeze_base_network=<strong class="nb ir">False</strong>,             num_epochs=5)</span><span id="264b" class="kf kg iq nb b gy nk ng l nh ni"><em class="nl"># Train</em><br/>$ gtf.Train()</span></pre></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><h1 id="9e9f" class="lz kg iq bd kh ma mr mc kk md ms mf kn jw mt jx kr jz mu ka kv kc mv kd kz mj bi translated">对比实验</h1><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="a758" class="kf kg iq nb b gy nf ng l nh ni"><em class="nl"># Invoke the comparison class<br/></em>$ <strong class="nb ir">from</strong> <strong class="nb ir">compare_prototype</strong> <strong class="nb ir">import</strong> compare</span></pre><h2 id="c668" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated"><strong class="ak">创建和管理比较实验</strong></h2><ul class=""><li id="fa14" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">提供项目名称</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="3ef7" class="kf kg iq nb b gy nf ng l nh ni"><em class="nl"># Create a project </em><br/>$ gtf = compare(verbose=1);<br/>$ gtf.Comparison("Exp_1_vs_2")</span></pre><p id="a1f6" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="23e4" class="kf kg iq nb b gy nf ng l nh ni">Comparison: - Exp_1_vs_2</span></pre><h2 id="4361" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">添加实验</h2><ul class=""><li id="99bd" class="nm nn iq ld b le lf lh li ko oa ks ob kw oc lt nr ns nt nu bi translated">第一个参数—项目名称</li><li id="da11" class="nm nn iq ld b le nv lh nw ko nx ks ny kw nz lt nr ns nt nu bi translated">第二个参数—实验名称</li></ul><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="4967" class="kf kg iq nb b gy nf ng l nh ni">$ gtf.Add_Experiment("Pneumonia_Classification", "Experiment_1")<br/>$ gtf.Add_Experiment("Pneumonia_Classification", "Experiment_2")</span></pre><p id="5511" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="db3f" class="kf kg iq nb b gy nf ng l nh ni">Project - Pneumonia_Classification, Experiment - Experiment_1 added Project - Pneumonia_Classification, Experiment - Experiment_2 added</span></pre><h2 id="9504" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">运行分析</h2><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="2b65" class="kf kg iq nb b gy nf ng l nh ni">$ gtf.Generate_Statistics()</span></pre><p id="2c48" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated"><strong class="ld ir">这将按照以下结构创建文件和目录</strong></p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="8203" class="kf kg iq nb b gy nf ng l nh ni">workspace<br/>    |<br/>    |--------comparison<br/>                    |<br/>                    |<br/>                    |-----Exp_1_vs_2<br/>                                |<br/>                                |------stats_best_val_acc.png<br/>                                |------stats_max_gpu_usage.png<br/>                                |------stats_training_time.png<br/>                                |------train_accuracy.png<br/>                                |------train_loss.png<br/>                                |------val_accuracy.png<br/>                                |------val_loss.png</span><span id="47d1" class="kf kg iq nb b gy nk ng l nh ni">                    |<br/>                    |-----comparison.csv (Contains necessary details of all experiments)</span></pre><h2 id="0f50" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">训练准确度曲线</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi ps"><img src="../Images/df61f9df6f72572a03d3bf816f3cab91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KIl4lRl9GeGiUy0-CyrfbA.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">训练准确度曲线</figcaption></figure><h2 id="1523" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">训练损失曲线</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pt"><img src="../Images/86d0ee66d6545dd3177d91ff91055b34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dnf-JXPVwquJ0uFjXmsCJQ.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">训练损失曲线</figcaption></figure><h2 id="f395" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">验证准确度曲线</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pu"><img src="../Images/c1b4d2e67cf27178435c3cbf549bd63f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0TrEdLGflzfwZ3VlW0Ofyg.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">验证准确度曲线</figcaption></figure><h2 id="3094" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">验证损失曲线</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pv"><img src="../Images/316a849339fd704f6d3652b69863b883.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LX5PAjbIeIsjaE2pzOCt1g.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">验证损失曲线</figcaption></figure><h2 id="45e4" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">训练时间曲线</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi pw"><img src="../Images/968cac26276ac0c01a6f4e44c7c0729d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*En2LdytAAY-AdQOktTgGzg.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">训练时间曲线</figcaption></figure><h2 id="3969" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">最大GPU使用量</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi px"><img src="../Images/ff2152bbb745ce5f0782f626497f80c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tB6JFlfBs9ceCjysSNCDRQ.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">最大GPU使用量</figcaption></figure><h2 id="8926" class="kf kg iq bd kh ki kj dn kk kl km dp kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">最佳验证准确度</h2><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi py"><img src="../Images/99f58029e41d4ebe5bc941bfacfb3211.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*veG00P5_rq2jZHhlL8gY1w.png"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">最佳验证准确度</figcaption></figure><blockquote class="ox"><p id="0f32" class="oy oz iq bd pa pb pc pd pe pf pg lt dk translated">两者在验证数据上工作得一样好</p></blockquote><h2 id="5c2f" class="kf kg iq bd kh ki pz dn kk kl qa dp kn ko qb kq kr ks qc ku kv kw qd ky kz la bi translated">让我们检查一下测试设备的性能</h2><p id="b3a9" class="pw-post-body-paragraph lb lc iq ld b le lf jr lg lh li ju lj ko lk ll lm ks ln lo lp kw lq lr ls lt ij bi translated"><strong class="ld ir"> ResNet </strong></p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="33c6" class="kf kg iq nb b gy nf ng l nh ni">gtf = prototype(verbose=1);<br/>gtf.Prototype("Pneumonia_Classification", "Experiment_1", eval_infer=<strong class="nb ir">True</strong>);<br/><br/><br/><em class="nl"># Load test data</em><br/>gtf.Dataset_Params(dataset_path="chest_xray/test");<br/>gtf.Dataset();<br/><br/><br/><em class="nl"># Test for accuracy</em><br/>accuracy, class_based_accuracy = gtf.Evaluate();</span></pre><p id="6350" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="4e24" class="kf kg iq nb b gy nf ng l nh ni">Mxnet Version: 1.5.0<br/><br/>Model Details<br/>    Loading model - workspace/Pneumonia_Classification/Experiment_1/output/models/final-symbol.json<br/>    Model loaded!<br/><br/>Experiment Details<br/>    Project: Pneumonia_Classification<br/>    Experiment: Experiment_1<br/>    Dir: /home/abhi/Downloads/webinar_2/workspace/Pneumonia_Classification/Experiment_1/<br/><br/>Dataset Details<br/>    Test path:      chest_xray/test<br/>    CSV test path:  None<br/><br/>Dataset Params<br/>    Input Size:  224<br/>    Processors:   4<br/><br/>Pre-Composed Test Transforms<br/>[{'Normalize': {'mean': [0.485, 0.456, 0.406], 'std': [0.229, 0.224, 0.225]}}]<br/><br/>Dataset Numbers<br/>    Num test images: 624<br/>    Num classes:      2<br/><br/>Testing</span><span id="ed51" class="kf kg iq nb b gy nk ng l nh ni">HBox(children=(IntProgress(value=0, max=624), HTML(value='')))</span><span id="d19d" class="kf kg iq nb b gy nk ng l nh ni">Result<br/>        class based accuracies<br/>            0. NORMAL - 55.55555555555556 %<br/>            1. PNEUMONIA - 98.2051282051282 %<br/>        total images:            624<br/>        num correct predictions: 513<br/>        Average accuracy (%):    82.21153846153845</span></pre><p id="b34e" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated"><strong class="ld ir"> DenseNet </strong></p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="0a9d" class="kf kg iq nb b gy nf ng l nh ni">$ gtf = prototype(verbose=1);<br/>$ gtf.Prototype("Pneumonia_Classification", "Experiment_2", eval_infer=<strong class="nb ir">True</strong>);<br/><br/><br/><em class="nl"># Load test data</em><br/>$ gtf.Dataset_Params(dataset_path="chest_xray/test");<br/>$ gtf.Dataset();<br/><br/><br/><em class="nl"># Test for accuracy</em><br/>$ accuracy, class_based_accuracy = gtf.Evaluate()</span></pre><p id="e5c0" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">输出</p><pre class="mw mx my mz gt na nb nc nd aw ne bi"><span id="3597" class="kf kg iq nb b gy nf ng l nh ni">Mxnet Version: 1.5.0<br/><br/>Model Details<br/>    Loading model - workspace/Pneumonia_Classification/Experiment_2/output/models/final-symbol.json<br/>    Model loaded!<br/><br/>Experiment Details<br/>    Project: Pneumonia_Classification<br/>    Experiment: Experiment_2<br/>    Dir: /home/abhi/Downloads/webinar_2/workspace/Pneumonia_Classification/Experiment_2/<br/><br/>Dataset Details<br/>    Test path:      chest_xray/test<br/>    CSV test path:  None<br/><br/>Dataset Params<br/>    Input Size:  224<br/>    Processors:   4<br/><br/>Pre-Composed Test Transforms<br/>[{'Normalize': {'mean': [0.485, 0.456, 0.406], 'std': [0.229, 0.224, 0.225]}}]<br/><br/>Dataset Numbers<br/>    Num test images: 624<br/>    Num classes:      2<br/><br/>Testing</span><span id="868f" class="kf kg iq nb b gy nk ng l nh ni">HBox(children=(IntProgress(value=0, max=624), HTML(value='')))</span><span id="b13d" class="kf kg iq nb b gy nk ng l nh ni">Result<br/>        class based accuracies<br/>            0. NORMAL - 62.39316239316239 %<br/>            1. PNEUMONIA - 98.71794871794873 %<br/>        total images:            624<br/>        num correct predictions: 531<br/>        Average accuracy (%):    85.09615384615384</span></pre><blockquote class="ox"><p id="3eb3" class="oy oz iq bd pa pb pc pd pe pf pg lt dk translated">在这种情况下，Densenet在测试集上表现更好</p></blockquote></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><p id="c842" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">你可以在<a class="ae nj" href="https://github.com/Tessellate-Imaging/monk_v1/blob/master/study_roadmaps/4_image_classification_zoo/Chest%20X-Ray%20based%20Pneumonia%20Classification%20-%20Infected%20Vs%20Normal%20X-rays.ipynb" rel="noopener ugc nofollow" target="_blank"> Github </a>上找到完整的jupyter笔记本。如果你喜欢蒙克，给我们GitHub回购⭐️。</p><p id="e29e" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">有问题可以联系<a class="ae nj" href="https://www.linkedin.com/in/abhishek-kumar-annamraju/" rel="noopener ugc nofollow" target="_blank"> Abhishek </a>和<a class="ae nj" href="https://www.linkedin.com/in/akashdeepsingh01/" rel="noopener ugc nofollow" target="_blank"> Akash </a>。请随意联系他们。</p><p id="1718" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">我对计算机视觉和深度学习充满热情。我是<a class="ae nj" href="https://github.com/Tessellate-Imaging/Monk_Object_Detection" rel="noopener ugc nofollow" target="_blank"> Monk </a>库的开源贡献者。</p><p id="6c20" class="pw-post-body-paragraph lb lc iq ld b le lu jr lg lh lv ju lj ko lw ll lm ks lx lo lp kw ly lr ls lt ij bi translated">你也可以在以下网址看到我的其他作品:</p><div class="qe qf gp gr qg qh"><a href="https://medium.com/@akulahemanth" rel="noopener follow" target="_blank"><div class="qi ab fo"><div class="qj ab qk cl cj ql"><h2 class="bd ir gy z fp qm fr fs qn fu fw ip bi translated">阿库拉·赫曼思·库马尔培养基</h2><div class="qo l"><h3 class="bd b gy z fp qm fr fs qn fu fw dk translated">阅读阿库拉·赫曼思·库马尔在媒介上的作品。计算机视觉爱好者|Linkedin…</h3></div><div class="qp l"><p class="bd b dl z fp qm fr fs qn fu fw dk translated">medium.com</p></div></div><div class="qq l"><div class="qr l qs qt qu qq qv oj qh"/></div></div></a></div></div><div class="ab cl mk ml hu mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="ij ik il im in"><figure class="mw mx my mz gt oe gh gi paragraph-image"><div role="button" tabindex="0" class="of og di oh bf oi"><div class="gh gi qw"><img src="../Images/294569d6bb44d7c754a1441e49917a07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*arq40sq2SaEKQapvEixPTw.jpeg"/></div></div><figcaption class="ol om gj gh gi on oo bd b be z dk translated">安妮·斯普拉特在<a class="ae nj" href="https://unsplash.com/s/photos/cough?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure></div></div>    
</body>
</html>