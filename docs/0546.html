<html>
<head>
<title>The Universe of Time-Series Forecasting Techniques: A Primer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">时间序列预测技术的宇宙:入门</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/the-universe-of-time-series-forecasting-techniques-a-primer-f73011e18570?source=collection_archive---------2-----------------------#2020-06-01">https://pub.towardsai.net/the-universe-of-time-series-forecasting-techniques-a-primer-f73011e18570?source=collection_archive---------2-----------------------#2020-06-01</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="4743" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">数据科学</h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/a67a328816efbe9726b51ea6c69a3440.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pLCLd5Jg7SI61pzX"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">由<a class="ae ko" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上<a class="ae ko" href="https://unsplash.com/@grakozy?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Greg Rakozy </a>拍摄的照片</figcaption></figure><p id="23df" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">时间序列预测是数据科学中最热门的话题之一。毫不奇怪，有一个丰富的预测工具箱，有许多不同的选项可供数据科学家选择。可能性是如此之多，以至于他们<em class="ln"> </em>经常让数据科学家不知所措、困惑，有时甚至彻底糊涂。</p><p id="1fc4" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">通常，这些技术彼此密切相关。一种技术的局限性很可能导致另一种技术的发展。例如，正如我们将在下面看到的，ARIMA家族中的所有技术(例如AR、MA、SARIMA、SARIMAX)可能看起来不同，但实际上，它们只是彼此的变体。</p><p id="ba3d" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">所以写这篇文章的动机是把它们放在一起，这样就很容易比较相似和不同之处。我希望，在这篇文章的结尾，读者不要那么困惑，至少对实践中何时(不)使用特定技术有一个肤浅的理解。</p><p id="d1dc" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我会尽可能简化事情，更多关注广度而不是深度，按照复杂程度递增的顺序呈现。但要明确的是，模型的复杂性本身并不能保证更好的预测；为了获得更好的结果，不仅仅是建立复杂的模型。</p></div><div class="ab cl lo lp hx lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="im in io ip iq"><h1 id="a622" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">1.基准预测</h1><p id="a652" class="pw-post-body-paragraph kp kq it kr b ks mt ku kv kw mu ky kz la mv lc ld le mw lg lh li mx lk ll lm im bi translated">这些模型被称为所谓的“基准”或“基线”预测。</p><p id="c970" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">正如您将在下面看到的，这些技术很少在实践中应用，但它们有助于建立预测直觉，并在此基础上增加额外的复杂性。</p><p id="59d2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.1天真预测</strong>:</p><p id="3acd" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在简单预测中，假设未来值等于过去值。因此，某一特定产品在周三的销量将与周二的销量相似。</p><p id="7c51" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">天真的预测很像一个<strong class="kr jd"> <em class="ln">零假设</em> </strong>用来比较另一个假设——因为这样那样的原因<em class="ln">明天的销售收入会不同</em>。</p><figure class="mz na nb nc gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi my"><img src="../Images/62937094e795bf85594c528c83e5c307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1OT-UgWyaBRdEgAYRcJL-A.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">作为基准的天真预测“零假设”(来源:作者)</figcaption></figure><p id="87e1" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.2季节性天真:</strong></p><p id="4498" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">顾名思义，季节性天真在其预测中考虑了季节性因素。所以在某种程度上，这是对天真预测的改进。12月份的收入预测将等于前一年12月份的收入，因为假期已被考虑在内。</p><p id="60d2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">同样，它仍然像<strong class="kr jd"> <em class="ln">零假设</em> </strong>一样工作，但认为季节性是其相对于天真预测的关键改进。</p><p id="7af0" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.3均值模型</strong></p><p id="dee5" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">简单预测采用一个过去的值作为预测值。相比之下，均值模型采用所有过去的观察值，进行平均，并使用该平均值作为预测值。</p><p id="8a31" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">如果数据是随机分布的，没有清晰的模式和趋势(也称为<em class="ln">白噪声</em>，均值模型比朴素模型更适合作为基准。</p><p id="bd3d" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.4漂移模型</strong></p><p id="8425" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">漂移模型是另一种简单预测的变体，有明显的改进。与Naive中一样，它采用最后一次观察，然后根据过去值的变化来调整观察。</p><blockquote class="nd ne nf"><p id="11b0" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">预测值=过去观察值+/-过去观察值的平均变化</p></blockquote><figure class="mz na nb nc gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi nj"><img src="../Images/6edcfb53a73514e2697369424183765c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4bPBEeAxAzUTaRfV2xJy2Q.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">关于训练和测试数据的均值和漂移模型(来源:作者)</figcaption></figure><p id="1275" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.5线性趋势</strong></p><p id="9c03" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">上述均值模型是一条不随时间变化的水平恒定线，因为它处理的是没有趋势的训练数据。但是，如果检测到趋势，线性模型比均值模型提供更好的预测值。</p><p id="42c2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">实际上使用线性趋势预测实际上是下面形式的最佳拟合线(即回归线):</p><blockquote class="nd ne nf"><p id="2fb2" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">y(t)=α+β* t</p></blockquote><p id="4f83" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">RSME或R2值决定了拟合线的预测效果。</p><p id="b429" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.6随机漫步</strong></p><p id="cb78" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在这种情况下，预测值从其当前值向前“行走”随机一步(类似于<a class="ae ko" href="https://en.wikipedia.org/wiki/Brownian_motion#Mathematics" rel="noopener ugc nofollow" target="_blank">布朗运动</a>)。就像一个蹒跚学步的孩子，下一步可以是任意方向，但不会离上一步太远。</p><blockquote class="nd ne nf"><p id="ccf4" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">Y(t+1)=Y(t) +噪声(t)</p></blockquote><p id="d520" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">周三的股价可能会接近周二的收盘价，因此随机漫步可以提供合理的猜测。但是预测太多的时间步是不合适的，因为，嗯，每一步都是随机的。</p><p id="c025" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 1.7几何随机漫步</strong></p><p id="ab99" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在几何随机游走中，对下一个值的预测将等于上一个值加上一个常数变化(例如，收入每月增长的百分比)。</p><blockquote class="nd ne nf"><p id="4891" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">ŷ(t)= y(t-1)+α</p></blockquote><p id="0940" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">它也被称为“随机增长模型”长期的股票价格遵循某种几何随机游走模型。</p><h1 id="9125" class="lv lw it bd lx ly nk ma mb mc nl me mf mg nm mi mj mk nn mm mn mo no mq mr ms bi translated">2.指数平滑法</h1><p id="b46c" class="pw-post-body-paragraph kp kq it kr b ks mt ku kv kw mu ky kz la mv lc ld le mw lg lh li mx lk ll lm im bi translated">如果分解，时间序列将分解成3个部分:趋势、季节性和白噪声(即随机数据点)。出于预测的目的，我们可以预测可预测的组成部分(即趋势和季节性)，而不是随机出现的不可预测的条款。指数平滑可以通过消除白噪声来处理序列中的这种可变性。</p><p id="4a33" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">移动平均值可以平滑训练数据，但它是通过对过去的值取平均值并对它们进行平均加权来实现的。另一方面，在指数平滑中，过去的观察值以指数递减的顺序加权。也就是说，最近的观测值比远处的值具有更高的权重。</p><p id="578f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">指数平滑对于不同的数据类型几乎没有变化。</p><figure class="mz na nb nc gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi np"><img src="../Images/e96cd3ca688861885c150751b5955f3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ySx_ZZvUBcD8swEMppgw-Q.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">使用加法和乘法过程的指数平滑预测(来源:作者)</figcaption></figure><p id="a188" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 2.1简单指数平滑</strong></p><p id="f7aa" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">简单的指数平滑用于没有明确趋势或季节性的数据。</p><p id="61c9" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 2.2霍尔特线性趋势</strong></p><p id="09bb" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">霍尔特的方法类似于简单的指数平滑法，但用于有明确趋势的数据。</p><p id="84f2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 2.3霍尔特-温特指数平滑</strong></p><p id="2671" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">霍尔特-温特方法适用于既有趋势又有季节性的序列，也就是说，它是前两种方法的结合。Holt-Winter应用于平稳序列，平滑由加权参数<em class="ln"> alpha </em> (0~1)控制。</p><h1 id="da12" class="lv lw it bd lx ly nk ma mb mc nl me mf mg nm mi mj mk nn mm mn mo no mq mr ms bi translated">3.ARIMA家族</h1><p id="282f" class="pw-post-body-paragraph kp kq it kr b ks mt ku kv kw mu ky kz la mv lc ld le mw lg lh li mx lk ll lm im bi translated">我称他们为<em class="ln"> ARIMA家族</em>，因为他们是一套彼此紧密相关的技术。</p><p id="bb6d" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 3.1自回归(AR) </strong></p><p id="e484" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在进入自回归之前，让我们用一个因变量和一个或多个自变量来刷新线性回归的记忆:</p><blockquote class="nd ne nf"><p id="a9c5" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">销售额= f(客户收入，促销)</p></blockquote><p id="f774" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">自回归也是一种线性回归，但在这种情况下，自变量是序列本身的过去值。</p><blockquote class="nd ne nf"><p id="7270" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">周三销售额= f(周二、周一、周日、周六等的销售额)</p></blockquote><p id="fa1c" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">自回归用AR( <em class="ln"> p </em>表示，其中<em class="ln"> p </em>决定了用多少过去的值来预测未来。</p><p id="cdbb" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 3.2移动平均线(MA) </strong></p><p id="74ea" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">移动平均值是通过取任意数量的过去观察值的平均值来计算的。这些平均值随后用于预测未来值。</p><p id="d1a3" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">不仅仅是预测，移动平均线是理解数据的一般模式和趋势的有用工具，尤其是在有噪声的序列中。</p><p id="83a9" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">移动平均用MA( <em class="ln"> q </em>)表示，其中<em class="ln"> q </em>是过去观察的次数。</p><p id="dc95" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 3.3 ARMA </strong></p><p id="3fb1" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">顾名思义，ARMA是上述AR和MA过程的组合:</p><blockquote class="nd ne nf"><p id="6e7c" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">Y = c + X + AR项+ MA项</p></blockquote><p id="0927" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">用现实世界的话来说:</p><blockquote class="nd ne nf"><p id="1d3d" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">今天的值=均值+噪音+昨天的值+昨天的噪音。</p></blockquote><p id="ebb7" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 3.4 ARIMA </strong></p><p id="7fb0" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">自回归综合移动平均(ARIMA)可以说是最流行和最广泛使用的预测统计技术。顾名思义，ARIMA有3个部分:a)一个<em class="ln">自回归</em>部分，用于模拟序列与其滞后值之间的关系；b)预测作为滞后预测误差的函数的未来值的<em class="ln">移动平均</em>分量；以及c)一个<em class="ln">集成</em>组件，使该系列静止不动。</p><p id="2eb5" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">使时间序列平稳意味着去除趋势成分。有几种方法可以做到这一点，一种是利用数据和滞后值之间的差异。</p><p id="1696" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ARIMA模型——表示为<em class="ln"> ARIMA(p，q，d)</em>——采用以下参数:</p><ul class=""><li id="60e7" class="nq nr it kr b ks kt kw kx la ns le nt li nu lm nv nw nx ny bi translated">定义滞后数量的p；</li><li id="e12e" class="nq nr it kr b ks nz kw oa la ob le oc li od lm nv nw nx ny bi translated"><em class="ln"> d </em>指定使用的差异数；和</li><li id="9e0d" class="nq nr it kr b ks nz kw oa la ob le oc li od lm nv nw nx ny bi translated"><em class="ln"> q </em>定义移动平均窗口的大小</li></ul><figure class="mz na nb nc gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi oe"><img src="../Images/51b07d9706c3b5207c1c46aa2a4028dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IomnH2Ufe629kotBbEtokQ.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">使用ARIMA预测美国新屋销售(来源:作者)</figcaption></figure><p id="b977" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 3.5萨里玛</strong></p><p id="73b0" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">萨里玛只不过是季节性的ARIMA。</p><p id="dabd" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ARIMA非常适合预测具有趋势的序列，但SARIMA更适合预测序列的季节性成分。数学上它表示为:</p><blockquote class="nd ne nf"><p id="b748" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">萨里玛(P，D，Q)</p></blockquote><p id="28b4" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">其中，(<em class="ln"> p，D，q </em>)分量来自ARIMA，<em class="ln"> (P，D，Q)m </em>分量使其成为萨里玛，其中:</p><ul class=""><li id="1ab0" class="nq nr it kr b ks kt kw kx la ns le nt li nu lm nv nw nx ny bi translated"><em class="ln"> P </em>:季节性AR订单</li><li id="6921" class="nq nr it kr b ks nz kw oa la ob le oc li od lm nv nw nx ny bi translated"><em class="ln">问</em>:季节性差异订单</li><li id="2d3c" class="nq nr it kr b ks nz kw oa la ob le oc li od lm nv nw nx ny bi translated"><em class="ln"> D </em>:季节性MA订单</li><li id="cf5a" class="nq nr it kr b ks nz kw oa la ob le oc li od lm nv nw nx ny bi translated"><em class="ln"> m </em>:季节周期中的时间步数(例如，一年12，一个季度周期4)</li></ul><p id="867f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 3.6 ARIMAX </strong></p><p id="c8fd" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">到目前为止，我们已经讨论了用单个变量预测一个序列，并且只使用它过去的观测值。这就像只根据历史人口预测未来人口一样。</p><blockquote class="nd ne nf"><p id="90bd" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">未来人口= f(过去人口)</p></blockquote><p id="37e5" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">但我们知道，过去的人口是决定未来人口的众多因素之一——如出生率、死亡率、教育、收入等。这些因素被称为e <strong class="kr jd"> X </strong>成因因素或协变量:</p><blockquote class="nd ne nf"><p id="b9d6" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">未来人口= f(过去人口，出生，死亡率，收入…..等等。)</p></blockquote><p id="e7ec" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">因此，ARIMAX是ARIMA的多变量版本，它基于序列本身的滞后值和外生变量的滞后值进行预测。</p><h1 id="bc43" class="lv lw it bd lx ly nk ma mb mc nl me mf mg nm mi mj mk nn mm mn mo no mq mr ms bi translated">4.高级模型</h1><p id="fcb6" class="pw-post-body-paragraph kp kq it kr b ks mt ku kv kw mu ky kz la mv lc ld le mw lg lh li mx lk ll lm im bi translated"><strong class="kr jd"> 4.1回归</strong></p><p id="a11e" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">回归是一种经过充分研究的技术，它将因变量预测为一个或多个自变量的函数。在这种情况下，自变量必须与被预测的变量有线性关系。例如，如果要预测产品销售的收入，产品价格可以是一个独立变量，因为价格直接影响销售的数量:</p><blockquote class="nd ne nf"><p id="df0d" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">收入= f(产品价格)</p></blockquote><p id="b428" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">上述模型被称为简单线性回归，因为它只有一个预测因子。它的一个变体——多元线性回归——采用了不止一个预测因子。同样，每个预测器需要与被预测的变量呈线性关系:</p><blockquote class="nd ne nf"><p id="9617" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">单位销售额= f(产品价格，客户收入)</p></blockquote><p id="bb12" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.2快速傅立叶变换</strong></p><p id="27d6" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">(FFT)最初被开发用于信号处理，但最终被用于时间序列分析和预测。</p><p id="73a8" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">FFT预测的应用相当多，产品<a class="ae ko" href="https://journals.sagepub.com/doi/10.5772/56839" rel="noopener ugc nofollow" target="_blank">需求预测</a>、<a class="ae ko" href="http://www.math.utah.edu/~gustafso/s2017/2270/projects-2016/williamsBarrett/williamsBarrett-Fast-Fourier-Transform-Predicting-Financial-Securities-Prices.pdf" rel="noopener ugc nofollow" target="_blank">财务预测</a>、<a class="ae ko" href="https://pdfs.semanticscholar.org/5e59/cde9be82cf3e889b8c66d3b9702d1c383127.pdf" rel="noopener ugc nofollow" target="_blank">来话预测</a>都不多。</p><p id="3c8e" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">FFT技术在数据科学预测中的应用不如在其他领域广泛，因此可用资源和软件包有限(但参见<code class="fe of og oh oi b"><a class="ae ko" href="https://numpy.org/doc/stable/reference/generated/numpy.fft.fft.html" rel="noopener ugc nofollow" target="_blank">numpy.fft.fft</a> </code>和一个<a class="ae ko" href="http://www.datascience.uconn.edu/index.php/projects/students-work/item/131-stock-market-predictions-using-fourier-transforms-in-python" rel="noopener ugc nofollow" target="_blank">算出的例子</a>)。</p><p id="9440" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.3向量自回归模型</strong> ( <strong class="kr jd"> VAR) </strong></p><p id="adf0" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">VAR是另一种具有外生变量的多元预测模型。在该模型中，每个变量使用其自身的过去(滞后)值以及外生因素的滞后值进行预测。它只取一个参数，<em class="ln"> p: </em></p><blockquote class="nd ne nf"><p id="156c" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">VAR( <em class="it"> p </em>)，其中<em class="it"> p </em>为滞后数</p></blockquote><p id="6bcf" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ARIMAX和VAR之间存在一些理论上的差异，但这需要一个长时间的讨论，我将在以后的文章中介绍。</p><figure class="mz na nb nc gt kd gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/53d291ac30197f0668b6d8bf8892a002.png" data-original-src="https://miro.medium.com/v2/resize:fit:1232/format:webp/1*TAJgsKJlMHC8kHQr0fbLQg.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">国内生产总值用几个自变量的VAR进行预测(来源:作者)</figcaption></figure><p id="624a" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.4阿奇</strong></p><p id="fbbc" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">自回归条件异方差(ARCH)——一个满嘴的名字，但是在预测<a class="ae ko" href="http://www.statsmakemecry.com/smmctheblog/confusing-stats-terms-explained-heteroscedasticity-heteroske.html" rel="noopener ugc nofollow" target="_blank">异方差</a>时间序列时使用了不同类型的模型。</p><p id="d785" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">它最常用于波动性、高方差时间序列数据的计量经济学建模。ARCH用一个参数来形式化:</p><blockquote class="nd ne nf"><p id="2007" class="kp kq ln kr b ks kt ku kv kw kx ky kz ng lb lc ld nh lf lg lh ni lj lk ll lm im bi translated">ARCH(m)，其中时间<em class="it"> t </em>的方差以过去的<em class="it"> m </em>观察结果为条件</p></blockquote><p id="876f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.5深度学习/RNN/LSTM </strong></p><p id="21ef" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">长短期记忆(LSTM)，一种常用于深度学习的递归神经网络，也是时间序列预测的有用工具。</p><p id="f25c" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">LSTM的主要优势在于它既可用于单变量预测，也可用于多变量预测。</p><p id="0899" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">大多数深度学习框架、<code class="fe of og oh oi b">PyTorch</code>、<code class="fe of og oh oi b">Tensorflow</code>和<code class="fe of og oh oi b">Keras</code>都内置了运行时间序列LSTM的能力。看看LSTM的这个 <code class="fe of og oh oi b"><a class="ae ko" href="https://www.tensorflow.org/tutorials/structured_data/time_series" rel="noopener ugc nofollow" target="_blank">Tensorflow</a></code> <a class="ae ko" href="https://www.tensorflow.org/tutorials/structured_data/time_series" rel="noopener ugc nofollow" target="_blank">实现</a>。</p><p id="4122" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.6面板数据模型</strong></p><p id="dec9" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">面板数据是随时间重复测量的多维观察数据。换句话说，这是一个数据集，其中测量了多个变量<strong class="kr jd"><em class="ln"/></strong><strong class="kr jd"><em class="ln"/></strong><strong class="kr jd"><em class="ln"/></strong>——如个人、组织、家庭、城市、国家。</p><figure class="mz na nb nc gt kd gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/3989925f388594b4564e2a1f764811cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:564/format:webp/0*wkZq2sFTQiGks8PY.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">3个变量的面板数据示例，在3年时间内测量了2个个体(来源:作者)</figcaption></figure><p id="0e93" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">三种主要类型的面板数据模型(即估计量)用于时间序列预测:混合OLS，随机效应模型和固定效应模型。</p><p id="109f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.7系统动力学建模(SD) </strong></p><p id="3bd9" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">系统动力学是一种复杂系统建模的方法，其中一个元素的变化导致其他元素的变化。</p><p id="8b88" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">SD广泛应用于医疗保健、流行病学、运输、商业管理和收入预测。其中最著名的可以说是罗马俱乐部的增长极限模型。</p><p id="a19f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">一个系统动态模型代表了一个复杂的系统，通过反馈循环来预测系统的行为。假设一个银行账户有100美元的“股票”。每月存入20美元(由<em class="ln">流程1 </em>表示)，每月提取15美元(<em class="ln">流程2 </em>)。在这个简单的例子中，<em class="ln">流量1 </em>的变化将导致<em class="ln">库存1 </em>和<em class="ln">流量2的变化。</em>因此，如果我们知道<em class="ln">流量1 </em>将如何演变成未来，我们就可以预测<em class="ln">股票1 </em>和<em class="ln">流量2 </em>。</p><figure class="mz na nb nc gt kd gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/7bee271f49c13e15a63127023f905e29.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*cK2tiFpZW-96_1oHAotlFQ.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">SD建模中的存量、流量和反馈循环(来源:作者)</figcaption></figure><p id="8542" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> 4.8基于代理的建模(ABM) </strong></p><p id="73bd" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">与SD类似，基于主体的模型是用于模拟个体(称为“主体”)的动作或运动及其交互的计算模型。它有一套用于模拟复杂的社会、经济和环境系统的工具和技术。</p><p id="5953" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">ABMs已经被频繁地用于预测<a class="ae ko" href="https://link.springer.com/chapter/10.1007/978-3-642-29356-6_10" rel="noopener ugc nofollow" target="_blank">股票市场</a>走势、<a class="ae ko" href="https://www.sciencedirect.com/science/article/pii/S1755436517300221" rel="noopener ugc nofollow" target="_blank">传染病</a>预测、物种分布建模，以及对<a class="ae ko" href="https://www.pnas.org/content/99/suppl_3/7280" rel="noopener ugc nofollow" target="_blank">广泛的</a>经济和环境问题建模。</p><figure class="mz na nb nc gt kd gh gi paragraph-image"><div class="gh gi om"><img src="../Images/23763f45bc3f60e96a20b747bcbced65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/1*tszd9_3j-DZQKj3uwBbX0w.gif"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">基于主体的预测建模。作者列夫·卡尔梅克夫——CC BY-SA 4.0，<a class="ae ko" href="https://commons.wikimedia.org/w/index.php?curid=41287917" rel="noopener ugc nofollow" target="_blank">https://commons.wikimedia.org/w/index.php?curid=41287917</a></figcaption></figure><h1 id="809f" class="lv lw it bd lx ly nk ma mb mc nl me mf mg nm mi mj mk nn mm mn mo no mq mr ms bi translated">最后的想法</h1><p id="8b02" class="pw-post-body-paragraph kp kq it kr b ks mt ku kv kw mu ky kz la mv lc ld le mw lg lh li mx lk ll lm im bi translated">时间序列预测有一套丰富的机器学习工具和技术。这意味着在选择特定的预测技术时很容易迷失方向。在这篇文章中，我概述了每种方法的主要特征，揭示了它们的共性，同时展示了它们的主要区别。正如我所说的，这些技术不是孤立的，而是相互关联的，一种技术的存在是因为另一种技术的局限性。</p><p id="b177" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">希望这篇文章是有用的，我将在以后的文章中写更多关于这些技术的代码，敬请关注。你可以在Twitter上关注我，获取更新和相关新闻。</p></div></div>    
</body>
</html>