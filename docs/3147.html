<html>
<head>
<title>Productivity Prediction of Employees using Machine Learning Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用机器学习Python预测员工的生产力</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/productivity-prediction-of-employees-using-machine-learning-python-24a327534f71?source=collection_archive---------0-----------------------#2022-09-24">https://pub.towardsai.net/productivity-prediction-of-employees-using-machine-learning-python-24a327534f71?source=collection_archive---------0-----------------------#2022-09-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><blockquote class="jn jo jp"><p id="8df8" class="jq jr js jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko ij bi translated">通常在工业中，分析、跟踪和预测员工的生产力是很重要的，因为公司依赖于他们的工人的生产力和表现。此外，各种因素在影响员工的生产力方面发挥着关键作用，如给予的激励、他们工作的领域、工作时间、工作日——正如人们通常认为的那样，它起着巨大的作用，他们工作的团队以及许多其他特征。由于公司需要良好的员工生产力，他们需要分析并关注这些特征。</p></blockquote><p id="1624" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">在本文中，我们将根据各种特征来预测员工的生产率。</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi ks"><img src="../Images/46c348417a3399de17d870f0c3e0167f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*dEkJShAochIM-7kR"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">安德里亚斯·克拉森在<a class="ae li" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍摄的照片</figcaption></figure><h2 id="5a7d" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">资料组</h2><p id="ac27" class="pw-post-body-paragraph jq jr iq jt b ju mc jw jx jy md ka kb kp me ke kf kq mf ki kj kr mg km kn ko ij bi translated">本文中使用的数据集取自Kaggle。我们可以在这里找到数据集<a class="ae li" href="https://www.kaggle.com/datasets/ishadss/productivity-prediction-of-garment-employees" rel="noopener ugc nofollow" target="_blank"><strong class="jt ir"/></a>。该数据集包含服装行业1197名员工的信息。该数据集中使用的特征是—</p><p id="8d77" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">数据集包含1197行和15列</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="2cfd" class="lj lk iq mi b gy mm mn l mo mp">import pandas as pd</span><span id="2603" class="lj lk iq mi b gy mq mn l mo mp">df = pd.read_csv("garments_worker_productivity.csv")<br/>df.head(5)</span></pre><p id="04e2" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated"><strong class="jt ir">属性信息</strong>:</p><p id="e41f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">日期:年-月-日的日期</p><p id="9c38" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">日:一周中的某一天</p><p id="0011" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">季度:一个月的一部分。一个月被分成四个季度</p><p id="b5f0" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">部门:与例程关联的部门</p><p id="9402" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">小组编号:与例程关联的小组编号</p><p id="bed9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">noofworkers:每个团队中的工人数量</p><p id="c62f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">noofstylechange:特定产品风格的变化次数</p><p id="9b58" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">targetedproductivity:由管理机构为每个团队设定的每天的目标生产率。</p><p id="bc7d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">smv:标准分钟值，它是分配给任务的时间</p><p id="6ac9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">WIP:在制品。包括产品的未完成项目数</p><p id="4950" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">加班:表示每个小组的加班时间(分钟)</p><p id="633d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">奖励:表示促成或激励特定行为的财务奖励金额(在BDT)。</p><p id="a2fd" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">空闲时间:由于多种原因导致生产中断的时间</p><p id="055f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">闲置人员:由于生产中断而闲置的工人数量</p><p id="ca33" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">actual_productivity:工人交付的生产力的实际百分比。它的范围从0到1。</p><h2 id="4165" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">电子设计自动化(Electronic Design Automation)</h2><p id="d4fb" class="pw-post-body-paragraph jq jr iq jt b ju mc jw jx jy md ka kb kp me ke kf kq mf ki kj kr mg km kn ko ij bi translated">让我们进行一些数据分析</p><p id="1bb9" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">将日期字符串列转换为日期对象—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="c9ad" class="lj lk iq mi b gy mm mn l mo mp">df["date"] = pd.to_datetime(df["date"])</span></pre><p id="1ea1" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们看看部门的类型—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="4c05" class="lj lk iq mi b gy mm mn l mo mp">df['department'].value_counts()</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/e1a271214ad9b154816cb1cdd84dc706.png" data-original-src="https://miro.medium.com/v2/resize:fit:926/format:webp/1*dDRze1abJwQU5FS54j-6bg.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="dc13" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">在这里我们可以看到，空间在整理分裂成两个不同的类别。现在让我们合并它们。</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="c82c" class="lj lk iq mi b gy mm mn l mo mp">df['department'] = df['department'].apply(lambda x: 'finishing' if x.replace(" ","") == 'finishing' else 'sewing' )</span><span id="0374" class="lj lk iq mi b gy mq mn l mo mp">df.department.value_counts().plot.pie(autopct='%.2f %%')</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/a5233fb7c632733a9398896431f0a9b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*_Y8DmH0-ouawRll47XOwHA.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="a1ef" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">正如我们所见，58%的员工从事缝纫工作，而42%的员工从事整理工作。</p><p id="1f3b" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我们来对比一下实际生产率和目标生产率，看看员工的表现。</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="e5cf" class="lj lk iq mi b gy mm mn l mo mp">import seaborn as sns<br/>import matplotlib.pyplot as plt</span><span id="41f8" class="lj lk iq mi b gy mq mn l mo mp">plt.figure(figsize = (15,5))</span><span id="b5ad" class="lj lk iq mi b gy mq mn l mo mp">ax=sns.lineplot(y='targeted_productivity',x='date' ,color = "red", data =df,legend='brief')</span><span id="4a46" class="lj lk iq mi b gy mq mn l mo mp">ax=sns.lineplot(y= 'actual_productivity',x='date',data=df, color="green", legend = 'brief')</span><span id="c393" class="lj lk iq mi b gy mq mn l mo mp">ax.set(ylabel = 'Productivity')</span><span id="902e" class="lj lk iq mi b gy mq mn l mo mp">plt.show()</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi mt"><img src="../Images/6d6d23f50cdce726d416e41202d66f09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5SeZeB2o0GNGKloE1Fnibg.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="f847" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">正如我们所看到的，权衡并不一致，但总体生产力是有可能的。</p><p id="57f5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们分析一下一周中的某一天或者某个团队或部门是否对生产力有显著影响。</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="7fdb" class="lj lk iq mi b gy mm mn l mo mp">l = []</span><span id="006a" class="lj lk iq mi b gy mq mn l mo mp">l1=[]</span><span id="77a6" class="lj lk iq mi b gy mq mn l mo mp">column_name = "day"</span><span id="678d" class="lj lk iq mi b gy mq mn l mo mp">for i in list(df[column_name].unique()):</span><span id="53be" class="lj lk iq mi b gy mq mn l mo mp">print( f"productivity on {i} is ",df[df[column_name] == i]["actual_productivity"].mean())</span><span id="6f81" class="lj lk iq mi b gy mq mn l mo mp">l.append(df[df[column_name] == i]["actual_productivity"].mean())</span><span id="099b" class="lj lk iq mi b gy mq mn l mo mp">l1.append(i)</span><span id="2c1a" class="lj lk iq mi b gy mq mn l mo mp">dictionary = {"data":l,"keys":l1}</span><span id="6f96" class="lj lk iq mi b gy mq mn l mo mp">sns.barplot( x = "keys" , y = "data", data = dictionary)</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/189185bf12d1cf56ee7e1a82d87b9954.png" data-original-src="https://miro.medium.com/v2/resize:fit:746/format:webp/1*mlLREkxPuuEPPNMr5VhlXA.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="4132" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">我们可以看到生产率在几天内保持不变。让我们对其他特性重复同样的过程，用上面代码中的目标列名替换column _ name</p><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi mv"><img src="../Images/946376a073fc47848fe2b78ed298a22d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VDdKI-Tty3OnnXxo0nPvUQ.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="c754" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">正如我们在上面看到的，生产力不依赖于团队、类别、季度或日期。</p><p id="06e8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们画出相关矩阵来看看相关的数量—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="c805" class="lj lk iq mi b gy mm mn l mo mp">corrMatrix = df.corr()</span><span id="9790" class="lj lk iq mi b gy mq mn l mo mp">fig, ax = plt.subplots(figsize=(15,15)) # Sample figsize in inches</span><span id="afcf" class="lj lk iq mi b gy mq mn l mo mp">sns.heatmap(corrMatrix, annot=True, linewidths=.5, ax=ax)</span><span id="e7b3" class="lj lk iq mi b gy mq mn l mo mp">plt.show()</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div role="button" tabindex="0" class="ky kz di la bf lb"><div class="gh gi mw"><img src="../Images/4b42cb9aaaaf16936e320707dcb516cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V8e5_pBfVrMpcLnvQsbMpg.png"/></div></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="d197" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">所以从这些数据来看，很明显生产率主要取决于目标生产率，因为有了目标会激励和提高员工。</p><p id="6135" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们准备最后的数据，开始预测。</p><h2 id="af03" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">预处理数据</h2><p id="1713" class="pw-post-body-paragraph jq jr iq jt b ju mc jw jx jy md ka kb kp me ke kf kq mf ki kj kr mg km kn ko ij bi translated">在进行预测之前，让我们做一些数据清理和预处理</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="bc5a" class="lj lk iq mi b gy mm mn l mo mp">df.date</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/be243c0b32e7c5f22c8d864be4b6cbd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*JRJonIyOedQHxVbUFWaAEg.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="7f6f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">所以我们有3个月的数据。在数据中，我们已经有一个日列，所以有一个月列就足够了，而不是完整的日期。</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="50ba" class="lj lk iq mi b gy mm mn l mo mp">df['month']=df['date'].dt.month</span><span id="0776" class="lj lk iq mi b gy mq mn l mo mp">df.drop(['date'],axis=1, inplace=True)</span></pre><p id="b58c" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">现在让我们看看我们是否有任何缺失的值—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="6667" class="lj lk iq mi b gy mm mn l mo mp"># This will Display the percentage of missing values per column<br/>df.isnull().sum() / len(df) * 100  </span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi my"><img src="../Images/d60a55efda992425b6211579b38b53f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:952/format:webp/1*TraX2kq0-ri2zg7sId8mVA.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="0233" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">所以我们只有一列— wip，它有42%的缺失值。从现在开始，我们不填充它，而是删除这个列。</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="2a10" class="lj lk iq mi b gy mm mn l mo mp">df.drop(['wip'],axis=1, inplace=True)</span></pre><p id="52d5" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">在数据中，您可以看到一些非数字列。因此，让我们对它们进行编码，因为大多数机器学习算法只能处理数字数据。</p><p id="84a8" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们用MultiColumnLabelEncoder对数据进行编码—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="7db3" class="lj lk iq mi b gy mm mn l mo mp">!pip install MultiColumnLabelEncoder</span></pre><p id="702d" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">这里我们使用了MultiColumnLabelEncoder，因为它对反转编码最有帮助。</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="c195" class="lj lk iq mi b gy mm mn l mo mp">import MultiColumnLabelEncoder</span><span id="8afb" class="lj lk iq mi b gy mq mn l mo mp">Mcle = MultiColumnLabelEncoder.MultiColumnLabelEncoder()</span><span id="d276" class="lj lk iq mi b gy mq mn l mo mp">df = Mcle.fit_transform(df)</span></pre><p id="b292" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">所以我们的数据准备好了。让我们将数据分成独立和相关的列—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="4af0" class="lj lk iq mi b gy mm mn l mo mp">x=df.drop(['actual_productivity'],axis=1)</span><span id="7116" class="lj lk iq mi b gy mq mn l mo mp">y=df['actual_productivity']</span></pre><h2 id="8f67" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">预测生产率</h2><p id="b6b4" class="pw-post-body-paragraph jq jr iq jt b ju mc jw jx jy md ka kb kp me ke kf kq mf ki kj kr mg km kn ko ij bi translated">让我们使用Python中的回归算法来预测生产率。在此之前，让我们准备训练和测试数据—</p><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="3e63" class="lj lk iq mi b gy mm mn l mo mp">from sklearn.model_selection import train_test_split</span><span id="0842" class="lj lk iq mi b gy mq mn l mo mp">x_train, x_test, y_train, y_test = train_test_split(x, y,train_size=0.8,random_state=0)</span></pre><h2 id="ef79" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">使用线性回归</h2><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="b82a" class="lj lk iq mi b gy mm mn l mo mp">from sklearn.linear_model import LinearRegression<br/>from sklearn.metrics import mean_squared_error<br/>from sklearn.metrics import mean_absolute_error<br/>from sklearn.metrics import r2_score</span><span id="7f97" class="lj lk iq mi b gy mq mn l mo mp">model_lr=LinearRegression()</span><span id="9e87" class="lj lk iq mi b gy mq mn l mo mp">model_lr.fit(x_train,y_train)</span><span id="9197" class="lj lk iq mi b gy mq mn l mo mp">pred_test=model_lr.predict(x_test)</span><span id="3a5d" class="lj lk iq mi b gy mq mn l mo mp">print("test_MSE:",mean_squared_error(y_test, pred_test))<br/>print("test_MAE:",mean_absolute_error(y_test, pred_test))<br/>print("R2_score:{}".format(r2_score(y_test, pred_test)))</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/8186b45cb712b557e853e36c260a22fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*MnKJIm5eK3plhwA5hrKkhw.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="2d58" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">让我们使用随机森林回归来提高性能。</p><h2 id="f497" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">使用随机森林回归</h2><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="2af8" class="lj lk iq mi b gy mm mn l mo mp">from sklearn.ensemble import RandomForestRegressor</span><span id="410c" class="lj lk iq mi b gy mq mn l mo mp">model_rfe = RandomForestRegressor(n_estimators=200,max_depth=5)</span><span id="d3ba" class="lj lk iq mi b gy mq mn l mo mp">model_rfe.fit(x_train, y_train)</span><span id="c9cd" class="lj lk iq mi b gy mq mn l mo mp">pred = model_rfe.predict(x_test)<br/>print("test_MSE:",mean_squared_error(y_test, pred))<br/>print("test_MAE:",mean_absolute_error(y_test, pred))<br/>print("R2_score:{}".format(r2_score(y_test, pred)))</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi na"><img src="../Images/5d5d85474e31d22bd7fef9f175f9db1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*B4GqpHMRfYqNAM_anzBcOg.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><h2 id="8f54" class="lj lk iq bd ll lm ln dn lo lp lq dp lr kp ls lt lu kq lv lw lx kr ly lz ma mb bi translated">使用XGBoost</h2><pre class="kt ku kv kw gt mh mi mj mk aw ml bi"><span id="f8d7" class="lj lk iq mi b gy mm mn l mo mp">import xgboost as xgb</span><span id="f3be" class="lj lk iq mi b gy mq mn l mo mp">model_xgb = xgb.XGBRegressor(n_estimators=200, max_depth=5,                          learning_rate=0.1)</span><span id="79a0" class="lj lk iq mi b gy mq mn l mo mp">model_xgb.fit(x_train, y_train)</span><span id="eaf1" class="lj lk iq mi b gy mq mn l mo mp">pred3=model_xgb.predict(x_test)</span><span id="4c75" class="lj lk iq mi b gy mq mn l mo mp">print("test_MSE:",mean_squared_error(y_test, pred3))<br/>print("test_MAE:",mean_absolute_error(y_test, pred3))<br/>print("R2_score:{}".format(r2_score(y_test, pred3)))</span></pre><figure class="kt ku kv kw gt kx gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/531e6fb4d6d434c725735fc230225cc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/format:webp/1*9q8X9yDNb26Ip9R6a-PtXg.png"/></div><figcaption class="le lf gj gh gi lg lh bd b be z dk translated">输出</figcaption></figure><p id="687f" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">因此，我们实现了0.07的平均绝对误差和0.01的均方误差，这表明我们的模型表现非常好。</p><p id="da23" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">所以在所有算法中，XGBoost的表现还是不错的。这样，我们就可以预测员工的生产力。</p><p id="cba3" class="pw-post-body-paragraph jq jr iq jt b ju jv jw jx jy jz ka kb kp kd ke kf kq kh ki kj kr kl km kn ko ij bi translated">快乐编码……</p></div></div>    
</body>
</html>