<html>
<head>
<title>10 + Politics Related Data Visuals In A Single Line Of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一行代码中包含10多种与政治相关的数据</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/10-politics-related-data-visuals-in-a-single-line-of-code-772474ef4b89?source=collection_archive---------4-----------------------#2022-12-15">https://pub.towardsai.net/10-politics-related-data-visuals-in-a-single-line-of-code-772474ef4b89?source=collection_archive---------4-----------------------#2022-12-15</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><div class=""><h2 id="ce47" class="pw-subtitle-paragraph jr it iu bd b js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki dk translated">面向需要快速即时viz进行测试、演示或培训的数据科学家和数据专家</h2></div><h1 id="960a" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">介绍</h1><p id="3e9e" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">对第一次约会来说不是个好话题。但是对于数据可视化实践、测试、演示和培训来说，这是一个很好的主题。</p><p id="57fb" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">如果你想探索你的政治观点和意见，而不仅仅是基于你自己的主观经验，你可以从公开的数据中获取见解。同时，你可以练习数据可视化。有关获取这些数据的更多信息，请参见:</p><div class="mc md gq gs me mf"><a href="https://coaching.adamrossnelson.com/blog/20-politics-related-data-sets-in-a-single-line-of-code" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fp"><div class="mh ab mi cl cj mj"><h2 class="bd iv gz z fq mk fs ft ml fv fx it bi translated">单行代码中包含20多个与政治相关的数据集</h2><div class="mm l"><h3 class="bd b gz z fq mk fs ft ml fv fx dk translated">TLDR:这里有20多个有趣且易于下载的政治相关数据集，你可以马上开始探索。一…</h3></div><div class="mn l"><p class="bd b dl z fq mk fs ft ml fv fx dk translated">coaching.adamrossnelson.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt mu mf"/></div></div></a></div><p id="df02" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">在这篇文章中，我将向你展示10+政治相关的数据可视化。本文将引导您思考如何用数据驱动的方法探索与政治相关的主题，并作为关于用Pandas + Seaborn实现Python中的数据可视化主题的通用快速参考指南。</p><p id="e7c0" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">现在，因为我想让这篇文章具有可操作性，我将专注于只用一行代码创建所有的视觉效果。这篇文章不是关于漂亮的代码。这甚至不是美丽的视觉化。这篇文章是关于快速建立和运行数据可视化的(其他美学…几乎没有考虑)。</p><p id="a79c" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">在本文的最后，我将讨论这种单行代码方法固有的一些限制和警告，所以请查看一下。</p><p id="1f35" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">好了，现在我们开始吧。</p><h1 id="9d1a" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">标准进口</h1><p id="4dde" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">像往常一样，我们将首先加载数据分析任务的常用导入，例如:</p><ul class=""><li id="5a00" class="mv mw iu ld b le lx lh ly lk mx lo my ls mz lw na nb nc nd bi translated">Pandas:用于轻松存储和操作表格数据；</li><li id="3eb1" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">Matplotlib:创建和编辑数据可视化；</li><li id="9ac8" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">Seaborn:用于用很少的代码创建情节；</li><li id="c3a7" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">请求:向URL发送HTTP请求。我们将使用这个软件包在线下载数据。</li></ul><p id="b99e" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">更重要的是，我们还可以调用seaborn <code class="fe nj nk nl nm b">set_context('talk')</code>来轻松定制剧情的外观和感觉。“talk”上下文提供了更大的字体和更好的视觉比例。</p><p id="2fcc" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">最后，我们还将保存我的首选调色板，以便在需要时轻松设计我们的地块。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="f47c" class="nv kk iu nm b be nw nx l ny nz">import pandas as pd<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>import requests<br/><br/>%matplotlib inline<br/><br/>sns.set(style='white',<br/>        rc={'figure.figsize':(10,5)})<br/>sns.set_context('talk')<br/><br/>cb = sns.color_palette('colorblind')<br/>my_blues = cmap=sns.light_palette('#2962FF', <br/>                                  as_cmap=True)<br/>my_blues_d =cmap=sns.dark_palette('#2962FF', <br/>                                  as_cmap= True)<br/><br/>my_blue = '#2962FF'<br/>my_palette = ['#2962FF','#F6575E','#FAC33E',<br/>              '#7FE1B5','#E1AC75','#241D50',<br/>              '#82685C']</span></pre><p id="33c3" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">现在我们已经加载了所有需要的包，我们终于可以开始创建数据可视化了。</p><h1 id="1789" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">美国最高法院</h1><p id="4d30" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">对于那些不知道的人，我也是一名律师。这个话题谈到了我在数据科学之前的职业生涯。</p><p id="5c99" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">美国最高法院是美国法律体系中的最高法院，对有关联邦法律的重要问题有最终决定权。</p><p id="cc13" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">正因为如此，它不可避免地引起了来自政治光谱各个方面的人们的注意和批评。以至于批评家经常指责法院及其成员有偏见。</p><p id="d2ed" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">幸运的是，我们可以通过使用最高法院的数据库来检查他们是否真的偏向了某个特定的决策方向。为了便于分析，让我们只看一看本千年开始以来法院的判决。</p><p id="5235" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">在我们继续之前，在我们下面使用的代码和数据中，有一些事情需要记住:</p><p id="060d" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">首先，我们使用pandas查询方法从数据集中过滤掉我们不想要的数据。当你想通过数字数据过滤数据时，这种方法非常有用，所以如果你不完全熟悉它是如何工作的，我强烈建议你查看熊猫官方文档<a class="ae oa" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.query.html" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="1a1d" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">第二，我不完全同意这些数据对决策的分类或描述。为了进行更细致的分析，我建议用新的方法更新数据。在这个演示中，我按原样处理数据。</p><p id="32dd" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">最后，我们使用行继续符——由反斜杠\字符表示——使代码易于阅读，同时始终遵守我们的单行代码策略。</p><p id="2c43" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">好了，现在让我们继续进行数据可视化。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="cebe" class="nv kk iu nm b be nw nx l ny nz">sns.catplot(data=pd.read_csv('https://corgis-edu.github.io/'\<br/>            +'corgis/datasets/csv/supreme_court/'\<br/>            +'supreme_court.csv').\<br/>        query('`decision.date.year` &gt; 2000'),<br/>        x='decision.direction',<br/>        kind='count',<br/>        palette=my_palette,<br/>        aspect=2.5).set(<br/>            title='SCOTUS Decisions By Political Direction',<br/>            xlabel='Political Direction',<br/>            ylabel='# of Decisions')</span></pre><p id="9f96" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">PS:注意，在pandas查询方法中查询的列需要在其名称前后加反引号，这是因为带空格的列名必须以这种方式引用。这个例子和其他例子使用相关的语法。</p><p id="3b58" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj ob"><img src="../Images/7c63b08527aacd97115ecaf418934d4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CAmH-u3tsc0ukii8byqJ3g.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><p id="d12d" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">这种可视化的一个问题是，读者可能会不知道每个条形代表多少价值。</p><p id="1fea" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">因此，如果您想让您的分析更加清晰，您可以很容易地将条形标签添加到图中。</p><p id="25b1" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">不幸的是，这不能在一行代码中完成，但是因为这将使情节更加清晰，所以让我们继续做下去。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="599b" class="nv kk iu nm b be nw nx l ny nz">plot = \<br/>sns.catplot(data=pd.read_csv('https://corgis-edu.github.io/'\<br/>            +'corgis/datasets/csv/supreme_court/'\<br/>            +'supreme_court.csv').\<br/>        query('`decision.date.year` &gt; 2000'),<br/>        x='decision.direction',<br/>        kind='count',<br/>        palette=my_palette,<br/>        aspect=2.5).set(<br/>            title='SCOTUS Decisions By Political Direction',<br/>            xlabel='Political Direction',<br/>            ylabel='# of Decisions')<br/><br/>plot.ax.bar_label(plot.ax.containers[0],padding=-3)</span></pre><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj ob"><img src="../Images/cb6d2a30252d3585e377e911a2df433d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X1YW0V7pSm02oETytMApig.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><p id="de3f" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">正如你可能看到的，似乎两种政治决策的方向似乎是均匀分布的(至少从这个角度看是这样)。但是，如果您想进一步考察这个问题，也可以将数据按年可视化。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="6b99" class="nv kk iu nm b be nw nx l ny nz">pd.read_csv('https://corgis-edu.github.io/'\<br/>            +'corgis/datasets/csv/supreme_court/'\<br/>            +'supreme_court.csv').\<br/>        query('`decision.date.year` &gt; 2000').\<br/>        groupby(['decision.date.year',<br/>                 'decision.direction']).\<br/>        count()['id.case'].reset_index()\<br/>        .pivot_table(index='decision.date.year',<br/>                     columns='decision.direction',<br/>                     values='id.case').\<br/>                            plot.line(<br/>                                title='SCOTUS Decisions By '\<br/>                                     +' Political Direction',<br/>                                xlabel='Year',<br/>                                ylabel='# of Decisions',<br/>                                color= my_palette,<br/>                                legend=None).\<br/>                                figure.legend(['Conservative',<br/>                                               'Liberal',<br/>                                               'Unspecifiable'],<br/>                                               bbox_to_anchor=(0,<br/>                                                               0.5,<br/>                                                               0.4,<br/>                                                               0))<br/><br/># Pay attention that the column queried in the pandas <br/># query method required backquotes before and after its <br/># name, and that's because column names with spaces must <br/># be referenced this way. This and other examples use<br/># related syntax.<br/><br/># Also notice the parameter bbox_to_anchorinside the figure.legend()<br/># method in order to move the legend box to the bottom left corner <br/># of the plot.</span></pre><p id="4c9a" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj om"><img src="../Images/c6d91a96d567f47735aacf188f2a1a5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-MR2YTXTUMclYlzysYotOg.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><h1 id="971c" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">凶杀率+统计数据</h1><p id="ccb3" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">我们来分析一下警方的拍摄数据，看能不能画出清晰的画面。在下面的代码中要记住两件事:</p><ul class=""><li id="471c" class="mv mw iu ld b le lx lh ly lk mx lo my ls mz lw na nb nc nd bi translated">首先，我们使用Pandas <code class="fe nj nk nl nm b">read_csv</code>方法中的<code class="fe nj nk nl nm b">parsedates</code>参数轻松地将指定的列转换成datetime格式。</li><li id="2b7f" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">其次，我们还在seaborn <code class="fe nj nk nl nm b">catplot</code>方法中使用了<code class="fe nj nk nl nm b">col</code>参数，为数据增加了另一个维度，也为我们的数据分析增加了一个视角。这个<code class="fe nj nk nl nm b">col</code>参数给出了两个视觉效果(一个表示精神疾病的迹象=假，另一个表示精神疾病的迹象=真)。</li></ul><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="004e" class="nv kk iu nm b be nw nx l ny nz">sns.catplot(data=pd.read_csv('https://raw.githubusercontent.com/'\<br/>            +'washingtonpost/data-police-shootings/master/'\<br/>            +'fatal-police-shootings-data.csv',<br/>            parse_dates=['date']).query('date &gt; 2020'),<br/>            kind='count',<br/>            x='manner_of_death',<br/>            hue='body_camera',<br/>            col='signs_of_mental_illness',<br/>            palette=my_palette).fig.suptitle(\<br/>            "Fatal Police Shootings by Behavior and Manner of Death",<br/>                                             y=1.1)</span></pre><p id="d21f" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj on"><img src="../Images/ebaa1bbb800f403a7930ac35e9134bbd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qbys_4qecpnrkg1sMgUn0A.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><p id="e1f9" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">我们还可以看看与警察枪击无关的凶杀案的分布，以发现在分析这些犯罪时哪些因素可能是重要的。</p><p id="04de" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">为此，我们可以使用华盛顿邮报的凶杀案数据集吗？</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="6593" class="nv kk iu nm b be nw nx l ny nz">sns.displot(\<br/>    data=pd.read_csv('https://github.com/washingtonpost/'\<br/>                    +'data-homicides/raw/master/'\<br/>                    +'homicide-data.csv',<br/>                encoding='latin-1')\<br/>            .astype({'victim_age':int},<br/>                    errors='ignore').sort_values(<br/>    by='victim_age'),<br/>        x='victim_age',<br/>        discrete=True,<br/>        aspect=3,<br/>        row='victim_sex',<br/>        kde=True,<br/>        color=my_blue,<br/>        facet_kws={'subplot_kws':{'xticks':[1,101]}})\<br/>        .fig.suptitle('Homicide Victims Age Distribution By Sex',<br/>                      y=1.05)</span></pre><p id="9da3" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj oo"><img src="../Images/0b2c6247c57c7e19db8d8fae3a448e69.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kDbUGnIEp_odWCFarW8Rxg.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><p id="79a6" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">要并排查看这些，我们转向<code class="fe nj nk nl nm b">col</code>选项。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="692d" class="nv kk iu nm b be nw nx l ny nz">sns.displot(\<br/>    data=pd.read_csv(\<br/>        'https://github.com/washingtonpost/'\<br/>       +'data-homicides/raw/master/homicide-data.csv',<br/>                     encoding='latin-1')\<br/>            .astype({'victim_age':int},<br/>                    errors='ignore').sort_values(by='victim_age'),<br/>            x='victim_age',<br/>            discrete=True,<br/>            aspect=1,<br/>            col='victim_sex',<br/>            kde=True,<br/>            color=my_blue,<br/>            facet_kws={'subplot_kws':{'xticks':[1,101]}})\<br/>    .fig.suptitle('Homicide Victims Age Distribution By Sex',<br/>                  y=1.05)</span></pre><p id="902d" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj op"><img src="../Images/06e9542465267d823f04fea333076b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yjcKRXiwteKtj5MvbUIx_A.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><h1 id="265e" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">贫富差距引发的仇恨犯罪</h1><p id="5efb" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">仇恨犯罪的动机无非是仇恨。仇恨犯罪往往是如此残酷和毫无意义。行为和社会科学家研究了为什么这些犯罪在一些地方更频繁地发生。一种想法是，可能与贫富悬殊或财富不平等有关。</p><p id="1b37" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">让我们调查一下每10万居民的仇恨犯罪数量与财富不平等(用基尼指数衡量)之间是否存在关联。根据维基百科:</p><blockquote class="oq or os"><p id="267c" class="lb lc ot ld b le lx jv lg lh ly jy lj ou lz lm ln ov ma lq lr ow mb lu lv lw in bi translated">基尼系数是统计离差的一种T4度量，意在表示一个国家或社会群体内的收入不平等或财富不平等</p></blockquote><p id="c866" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">如果你不知道，基尼指数是衡量贫富差距最广泛使用的指数之一，其中1代表完全彻底的不平等，0代表收入和净值完全平等的社会。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="6273" class="nv kk iu nm b be nw nx l ny nz">sns.jointplot(\<br/>    data=pd.read_csv('https://raw.githubusercontent.com/'\<br/>              +'fivethirtyeight/'\<br/>              +'data/master/hate-crimes/hate_crimes.csv'),<br/>        y='gini_index',<br/>        x='avg_hatecrimes_per_100k_fbi',<br/>        color=my_blue)\<br/>        .fig.suptitle('Hatecrimes per 100k Inhabitants '\<br/>                     +'vs State Gini Index',<br/>                     y=1.04,<br/>                     fontsize=25)</span></pre><p id="6ebe" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj ox"><img src="../Images/ae2c1c139453bd570b2cc3b9b933211b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ssC0zCXk2u1Se6gIg33PYw.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><h1 id="ec30" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">家庭收入统计</h1><p id="f74c" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">说到贫富差距，我们可以使用DataUSA的“家庭收入”数据集来比较最富裕和最贫穷家庭的收入桶在这些年里是如何增长或收缩的(至少从两组人口的绝对数量来看)。</p><p id="7096" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">PS:注意，在pandas查询方法中查询的列需要在其名称前后加反引号，这是因为带空格的列名必须以这种方式引用。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="f338" class="nv kk iu nm b be nw nx l ny nz">sns.pointplot(\<br/>    data=pd.DataFrame(\<br/>        requests.get('https://datausa.io/api/data?'\<br/>                    +'measure=Household%20Income,'\<br/>                    +'Household%20Income%20Moe&amp;geo=01000US,'\<br/>                    +'01000US&amp;drilldowns=Household'\<br/>                    +'%20Income%20Bucket').json()['data'])\<br/>    .astype({'ID Household Income Bucket':int,<br/>             'Year':int}).\<br/>    query('`ID Household Income Bucket` == 0 '\<br/>          +'| `ID Household Income Bucket` == 15')\<br/>        [['Household Income Bucket',<br/>          'Year',<br/>          'Household Income']],<br/>                    x='Year',<br/>                    y='Household Income',<br/>                    hue='Household Income Bucket',<br/>                    palette=my_palette,markers='|').set(<br/>                        title='Richest vs Poorest Income '\<br/>                             +'Buckets By No. of People',<br/>                        xlabel='Year',<br/>                        ylabel='# of People')</span></pre><p id="6f38" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj oy"><img src="../Images/dd5154bf2481d60f5799437de70bc806.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JkI4OqFK-F-KM94Vdn5qNw.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><h1 id="9bf6" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">美国选举团</h1><p id="c1df" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">与其他许多决定选举的国家不同，在美国，人们实际上投票给候选人的选举人，这样这些选举人就可以反过来选择总统。</p><p id="30e3" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">然而，就像所有与政治相关的事情一样，权力经常周期性地从光谱的一端摇摆到另一端。</p><p id="44d5" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">因此，让我们仔细看看选举人团投票在过去八个选举周期中的表现。</p><p id="d29e" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">但是首先，请记住下面代码中的一些内容。</p><ul class=""><li id="9150" class="mv mw iu ld b le lx lh ly lk mx lo my ls mz lw na nb nc nd bi translated">首先，我们使用来自请求的get方法，以便从HTML页面下载来自DataUSA的数据集。</li><li id="cb54" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">其次，我们还使用pandas的astype方法将year列从string数据类型转换为integer数据类型。</li><li id="e4aa" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">最后，我们使用seaborn pointplot方法中的markers参数为整个图形指定一个简洁的标记。</li></ul><p id="2862" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">现在，有了这个方法，让我们继续。你能凭记忆说出每年哪位总统获胜吗？</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="6449" class="nv kk iu nm b be nw nx l ny nz">sns.pointplot(\<br/>    data=pd.DataFrame(\<br/>        requests.get('https://api-ts-vibranium.datausa.io/'\<br/>            +'tesseract/data?cube=Data_USA_Electoral_'\<br/>            +'College_president&amp;drilldowns=State,Party,Year'\<br/>            +'&amp;measures=Electoral+College+Votes')\<br/>                      .json()['data']).astype({'Year':int}),<br/>            x='Year',<br/>            y='Electoral College Votes',<br/>            hue='Party',<br/>            ci=None,<br/>            estimator=sum,<br/>            palette=my_palette,markers='.')\<br/>        .set(<br/>            title='US Electoral College Votes',<br/>            xlabel='Year',<br/>            ylabel='Electoral College Votes')</span></pre><p id="d3ec" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj oy"><img src="../Images/d4f7b530711f74e074f81e87d2f9a409.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4DA2e3lvDBGn9ieMbNhNAQ.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><h1 id="37a5" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">经济学</h1><p id="53e1" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">经济的健康有时是政治观点的驱动力。政客们经常意识到，如果经济一落千丈，他们的连任前景也会随之黯淡。因此，经常与1992年比尔·克林顿竞选联系在一起的一句名言是“笨蛋，是经济”。</p><p id="56c1" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">因此，考虑到这一点，让我们来看看失业率和利率这两个重要的经济指标自上两次经济危机以来的表现。</p><p id="a132" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">在我们继续之前，下面是对代码的一些观察:</p><ul class=""><li id="f371" class="mv mw iu ld b le lx lh ly lk mx lo my ls mz lw na nb nc nd bi translated">首先，我们使用了来自两个不同数据集的数据，所以我们必须使用pandas <code class="fe nj nk nl nm b">merge</code> merge方法来组合它们。</li><li id="b125" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">其次，我们在<code class="fe nj nk nl nm b">figure.legend()</code>方法中使用了参数<code class="fe nj nk nl nm b">bbox_to_anchor</code>，以便将图例框移动到绘图的左上角。</li><li id="7aa4" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">第三，我们还使用pandas <code class="fe nj nk nl nm b">grouper</code>方法按照指定的时间段对日期列进行分组。</li><li id="5891" class="mv mw iu ld b le ne lh nf lk ng lo nh ls ni lw na nb nc nd bi translated">最后，由于我们被限制在一行代码中，我们使用了大量的行继续符——正如反冲<code class="fe nj nk nl nm b">\</code>所表示的那样(以及字符串连接),以使这个巨大的代码块可读。</li></ul><p id="460d" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">好了，现在让我们继续。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="9ef5" class="nv kk iu nm b be nw nx l ny nz">pd.read_csv('https://fred.stlouisfed.org/graph/'\<br/>        +'fredgraph.csv?bgcolor=%23e1e9f0&amp;chart_type='\<br/>        +'line&amp;drp=0&amp;fo=open%20sans&amp;graph_bgcolor='\<br/>        +'%23ffffff&amp;height=450&amp;mode=fred&amp;recession_bars='\<br/>        +'on&amp;txtcolor=%23444444&amp;ts=12&amp;tts=12&amp;width='\<br/>        +'1168&amp;nt=0&amp;thu=0&amp;trc=0&amp;show_legend=yes&amp;show_axis_titles='\<br/>        +'yes&amp;show_tooltip=yes&amp;id=DFF&amp;scale=left&amp;cosd='\<br/>        +'1975-01-10&amp;coed=2022-10-13&amp;line_color=%234572a7&amp;'\<br/>        +'link_values=false&amp;line_style=solid&amp;mark_type='\<br/>        +'none&amp;mw=3&amp;lw=2&amp;ost=-99999&amp;oet=99999&amp;mma=0&amp;fml='\<br/>        +'a&amp;fq=Daily%2C%207-Day&amp;fam=avg&amp;fgst=lin&amp;fgsnd='\<br/>        +'2020-02-01&amp;line_index=1&amp;transformation=lin&amp;'\<br/>        +'vintage_date=2022-10-14&amp;revision_date='\<br/>        +'2022-10-14&amp;nd=1954-07-01',<br/>        parse_dates=['DATE']).\<br/>            merge(pd.read_csv('https://fred.stlouisfed.org/graph/'\<br/>        +'fredgraph.csv?bgcolor=%23e1e9f0&amp;chart_type='\<br/>        +'line&amp;drp=0&amp;fo=open'\<br/>        +'%20sans&amp;graph_bgcolor=%23ffffff&amp;height=450&amp;mode='\<br/>        +'fred&amp;recession_bars=on&amp;txtcolor=%23444444&amp;ts=12&amp;'\<br/>        +'tts=12&amp;width=1168&amp;nt=0&amp;thu=0&amp;trc=0&amp;show_legend='\<br/>        +'yes&amp;show_axis_titles=yes&amp;show_tooltip=yes&amp;id=UNRATE&amp;'\<br/>        +'scale=left&amp;cosd=1948-01-01&amp;coed=2022-09-01&amp;'\<br/>        +'line_color=%234572a7&amp;link_values=false&amp;line_style=solid'\<br/>        +'&amp;mark_type=none&amp;mw=3&amp;lw=2&amp;ost=-99999&amp;oet='\<br/>        +'99999&amp;mma=0&amp;fml=a&amp;fq=Monthly&amp;fam=avg&amp;fgst=lin&amp;fgsnd='\<br/>        +'2020-02-01&amp;line_index=1&amp;transformation='\<br/>        +'lin&amp;vintage_date=2022-10-14&amp;revision_date='\<br/>        +'2022-10-14&amp;nd=1948-01-01',<br/>        parse_dates=['DATE']),<br/>            how='inner',<br/>            on='DATE').query('DATE &gt; 2005').groupby(<br/>                pd.Grouper(key='DATE',<br/>                           freq='MS')).mean().plot.line(<br/>                    color=my_palette,<br/>                    title='Unemployment Rates vs Interest Rates',<br/>                    ylabel='% Points',<br/>                    legend=None)\<br/>                    .figure.legend(['Unemployment Rate',<br/>                                    'Interest Rate'],<br/>                                   bbox_to_anchor=(0,<br/>                                                   .85,<br/>                                                   0.45,<br/>                                                   0))</span></pre><p id="153f" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj oz"><img src="../Images/46aae7198d3167ab5d16c9259c16dd17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_WXeC-eVRCHmuR_FtJGj0g.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><p id="9f34" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">正如你所看到的，失业率和利率似乎受到经济周期的影响。然而，图表中还不清楚的一点是经济衰退发生的时间。</p><p id="0fb7" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">如果您想让这个图更清楚，您可以很容易地添加文本注释和垂直参考线到图中，以准确地指定循环阶段发生的时间。这种注释技术可以揭示更多的见解。</p><p id="1761" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">请记住，所有这些添加技术不可能在一行代码中完成。我相信无论如何都值得看一看。</p><pre class="nn no np nq gu nr nm ns bn nt nu bi"><span id="bb2a" class="nv kk iu nm b be nw nx l ny nz">plot = \<br/>pd.read_csv('https://fred.stlouisfed.org/graph/'\<br/>        +'fredgraph.csv?bgcolor=%23e1e9f0&amp;chart_type='\<br/>        +'line&amp;drp=0&amp;fo=open%20sans&amp;graph_bgcolor='\<br/>        +'%23ffffff&amp;height=450&amp;mode=fred&amp;recession_bars='\<br/>        +'on&amp;txtcolor=%23444444&amp;ts=12&amp;tts=12&amp;width='\<br/>        +'1168&amp;nt=0&amp;thu=0&amp;trc=0&amp;show_legend=yes&amp;show_axis_titles='\<br/>        +'yes&amp;show_tooltip=yes&amp;id=DFF&amp;scale=left&amp;cosd='\<br/>        +'1975-01-10&amp;coed=2022-10-13&amp;line_color=%234572a7&amp;'\<br/>        +'link_values=false&amp;line_style=solid&amp;mark_type='\<br/>        +'none&amp;mw=3&amp;lw=2&amp;ost=-99999&amp;oet=99999&amp;mma=0&amp;fml='\<br/>        +'a&amp;fq=Daily%2C%207-Day&amp;fam=avg&amp;fgst=lin&amp;fgsnd='\<br/>        +'2020-02-01&amp;line_index=1&amp;transformation=lin&amp;'\<br/>        +'vintage_date=2022-10-14&amp;revision_date='\<br/>        +'2022-10-14&amp;nd=1954-07-01',<br/>        parse_dates=['DATE']).\<br/>            merge(pd.read_csv('https://fred.stlouisfed.org/graph/'\<br/>        +'fredgraph.csv?bgcolor=%23e1e9f0&amp;chart_type='\<br/>        +'line&amp;drp=0&amp;fo=open'\<br/>        +'%20sans&amp;graph_bgcolor=%23ffffff&amp;height=450&amp;mode='\<br/>        +'fred&amp;recession_bars=on&amp;txtcolor=%23444444&amp;ts=12&amp;'\<br/>        +'tts=12&amp;width=1168&amp;nt=0&amp;thu=0&amp;trc=0&amp;show_legend='\<br/>        +'yes&amp;show_axis_titles=yes&amp;show_tooltip=yes&amp;id=UNRATE&amp;'\<br/>        +'scale=left&amp;cosd=1948-01-01&amp;coed=2022-09-01&amp;'\<br/>        +'line_color=%234572a7&amp;link_values=false&amp;line_style=solid'\<br/>        +'&amp;mark_type=none&amp;mw=3&amp;lw=2&amp;ost=-99999&amp;oet='\<br/>        +'99999&amp;mma=0&amp;fml=a&amp;fq=Monthly&amp;fam=avg&amp;fgst=lin&amp;fgsnd='\<br/>        +'2020-02-01&amp;line_index=1&amp;transformation='\<br/>        +'lin&amp;vintage_date=2022-10-14&amp;revision_date='\<br/>        +'2022-10-14&amp;nd=1948-01-01',<br/>        parse_dates=['DATE']),<br/>            how='inner',<br/>            on='DATE').query('DATE &gt; 2005').groupby(<br/>                pd.Grouper(key='DATE',<br/>                           freq='MS')).mean().plot.line(<br/>                    color=my_palette,<br/>                    title='Unemployment Rates vs Interest Rates',<br/>                    ylabel='% Points',<br/>                    legend=None)\<br/>                    .figure.legend(['Unemployment Rate',<br/>                                    'Interest Rate'],<br/>                                   bbox_to_anchor=(0,<br/>                                                   .85,<br/>                                                   0.75,<br/>                                                   0))<br/><br/>plt.axvline(450, color='red', linewidth=2, linestyle='--')<br/>plt.axvline(598, color='red', linewidth=2, linestyle='--')<br/><br/>plt.text(455,12,'&lt; Burst of the \n   Housing Bubble',<br/>         fontweight='bold',fontsize=14)<br/>plt.text(557,8,'First Case of &gt; \nCoronavirus',<br/>         fontweight='bold',fontsize=14)<br/><br/>plt.show()</span></pre><p id="9e76" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">对于结果:</p><figure class="nn no np nq gu oc gi gj paragraph-image"><div role="button" tabindex="0" class="od oe di of bf og"><div class="gi gj oz"><img src="../Images/d88076de0ef9a365633192e39d48c91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zixCMb60L8Db03Owx0DF-w.png"/></div></div><figcaption class="oi oj gk gi gj ok ol bd b be z dk translated">图片来源:作者用上面的代码生成的插图。</figcaption></figure><h1 id="01be" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">附加阅读</h1><div class="mc md gq gs me mf"><a href="https://coaching.adamrossnelson.com/blog/20-politics-related-data-sets-in-a-single-line-of-code" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fp"><div class="mh ab mi cl cj mj"><h2 class="bd iv gz z fq mk fs ft ml fv fx it bi translated">单行代码中包含20多个与政治相关的数据集</h2><div class="mm l"><h3 class="bd b gz z fq mk fs ft ml fv fx dk translated">TLDR:这里有20多个有趣且易于下载的政治相关数据集，你可以马上开始探索。一…</h3></div><div class="mn l"><p class="bd b dl z fq mk fs ft ml fv fx dk translated">coaching.adamrossnelson.com</p></div></div><div class="mo l"><div class="mp l mq mr ms mo mt mu mf"/></div></div></a></div><div class="mc md gq gs me mf"><a href="https://coaching.adamrossnelson.com/blog/20-health-related-data-sets-in-a-single-line-of-code" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fp"><div class="mh ab mi cl cj mj"><h2 class="bd iv gz z fq mk fs ft ml fv fx it bi translated">单行代码中的20多个健康相关数据集</h2><div class="mm l"><h3 class="bd b gz z fq mk fs ft ml fv fx dk translated">TLDR:这里有20多个有趣且易于下载的健康相关数据集，你可以马上开始探索…</h3></div><div class="mn l"><p class="bd b dl z fq mk fs ft ml fv fx dk translated">coaching.adamrossnelson.com</p></div></div><div class="mo l"><div class="pa l mq mr ms mo mt mu mf"/></div></div></a></div><div class="mc md gq gs me mf"><a href="https://medium.com/geekculture/48-data-visualizations-that-load-in-a-single-line-of-code-a0be5bea903b" rel="noopener follow" target="_blank"><div class="mg ab fp"><div class="mh ab mi cl cj mj"><h2 class="bd iv gz z fq mk fs ft ml fv fx it bi translated">在一行代码中加载48种数据可视化</h2><div class="mm l"><h3 class="bd b gz z fq mk fs ft ml fv fx dk translated">如何即时提取几十个政治、体育、教育和其他数据可视化示例中的一个。</h3></div><div class="mn l"><p class="bd b dl z fq mk fs ft ml fv fx dk translated">medium.com</p></div></div><div class="mo l"><div class="pb l mq mr ms mo mt mu mf"/></div></div></a></div><div class="mc md gq gs me mf"><a href="https://towardsdatascience.com/93-datasets-that-load-with-a-single-line-of-code-7b5ffe62b655" rel="noopener follow" target="_blank"><div class="mg ab fp"><div class="mh ab mi cl cj mj"><h2 class="bd iv gz z fq mk fs ft ml fv fx it bi translated">用一行代码加载93个数据集</h2><div class="mm l"><h3 class="bd b gz z fq mk fs ft ml fv fx dk translated">你如何即时地从几十个例子中找出一个政治、体育、教育和其他框架。</h3></div><div class="mn l"><p class="bd b dl z fq mk fs ft ml fv fx dk translated">towardsdatascience.com</p></div></div><div class="mo l"><div class="pc l mq mr ms mo mt mu mf"/></div></div></a></div><h1 id="407c" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">选定的限制</h1><p id="5053" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">与相关文章一样，本文也有一些限制和警告。</p><h2 id="eaa7" class="pd kk iu bd kl pe pf dn kp pg ph dp kt lk pi pj kv lo pk pl kx ls pm pn kz po bi translated">风格</h2><p id="5425" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">本文中的代码示例打破了许多编码风格惯例。不要把这篇文章作为风格的范本！</p><h2 id="d79c" class="pd kk iu bd kl pe pf dn kp pg ph dp kt lk pi pj kv lo pk pl kx ls pm pn kz po bi translated">行延续</h2><p id="49b3" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">对于一些例子，本文使用了行继续符。在Python中，反斜杠<code class="fe nj nk nl nm b">\</code>完成行的延续。另一种实现行连续的技术是Python允许代码在逗号之间的下一行继续。</p><p id="8937" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">就本文而言，换行(或续行)不算第二行代码。</p><h2 id="0119" class="pd kk iu bd kl pe pf dn kp pg ph dp kt lk pi pj kv lo pk pl kx ls pm pn kz po bi translated">串并置</h2><p id="0186" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">行延续和字符串连接使得代码在介质上更具可读性。为了使代码在中型平台上看起来更好，并避免奇怪的换行，本文还大量使用了字符串连接。</p><h2 id="2f15" class="pd kk iu bd kl pe pf dn kp pg ph dp kt lk pi pj kv lo pk pl kx ls pm pn kz po bi translated">索引列表表格列表</h2><p id="d3dc" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">阅读<code class="fe nj nk nl nm b">pd.read_html()</code>的文档。这个熊猫代码返回熊猫数据帧的列表。方括号中的列表索引，比如<code class="fe nj nk nl nm b">pd.read_html()[i]</code>起作用，其中I代表read_html方法返回的列表上的索引。</p><h2 id="5783" class="pd kk iu bd kl pe pf dn kp pg ph dp kt lk pi pj kv lo pk pl kx ls pm pn kz po bi translated">获取数据</h2><p id="411f" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">本文还使用<code class="fe nj nk nl nm b">requests.get().json()</code>和<code class="fe nj nk nl nm b">requests.get().json()[data]</code>从网上抓取JSON数据。</p><h1 id="e0a5" class="kj kk iu bd kl km kn ko kp kq kr ks kt ka ku kb kv kd kw ke kx kg ky kh kz la bi translated">感谢阅读</h1><p id="4510" class="pw-post-body-paragraph lb lc iu ld b le lf jv lg lh li jy lj lk ll lm ln lo lp lq lr ls lt lu lv lw in bi translated">你准备好了解更多关于数据科学职业的信息了吗？我进行一对一的职业辅导，并有一份每周电子邮件列表，帮助专业求职者获取数据。<a class="ae oa" href="http://coaching.adamrossnelson.com/" rel="noopener ugc nofollow" target="_blank">点击此处了解更多</a>。</p><div class="mc md gq gs me mf"><a href="https://coaching.adamrossnelson.com/" rel="noopener  ugc nofollow" target="_blank"><div class="mg ab fp"><div class="mh ab mi cl cj mj"><h2 class="bd iv gz z fq mk fs ft ml fv fx it bi translated">Adam Ross Nelson博士提供的数据科学职业指导</h2><div class="mm l"><h3 class="bd b gz z fq mk fs ft ml fv fx dk translated">快速成为一名数据科学家。-为当前和未来的数据科学和机器学习提供职业指导…</h3></div><div class="mn l"><p class="bd b dl z fq mk fs ft ml fv fx dk translated">coaching.adamrossnelson.com</p></div></div><div class="mo l"><div class="pp l mq mr ms mo mt mu mf"/></div></div></a></div><p id="1c1d" class="pw-post-body-paragraph lb lc iu ld b le lx jv lg lh ly jy lj lk lz lm ln lo ma lq lr ls mb lu lv lw in bi translated">感谢阅读。把你的想法和主意发给我。你可以写信只是为了说声嗨。如果你真的需要告诉我是怎么错的，我期待着尽快和你聊天。推特:<a class="ae oa" href="https://twitter.com/adamrossnelson" rel="noopener ugc nofollow" target="_blank">@ adamrossnelson</a>LinkedIn:<a class="ae oa" href="https://www.linkedin.com/in/arnelson/" rel="noopener ugc nofollow" target="_blank">亚当罗斯尼尔森</a>。</p></div></div>    
</body>
</html>