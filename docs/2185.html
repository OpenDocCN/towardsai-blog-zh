<html>
<head>
<title>The Outlier Story — Leverage and Influential Point in Linear Regression</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">离群故事——线性回归中的杠杆和影响点</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/the-outlier-story-leverage-and-influential-point-in-linear-regression-31517f2ca203?source=collection_archive---------1-----------------------#2021-09-19">https://pub.towardsai.net/the-outlier-story-leverage-and-influential-point-in-linear-regression-31517f2ca203?source=collection_archive---------1-----------------------#2021-09-19</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="df0f" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-science" rel="noopener ugc nofollow" target="_blank">数据科学</a></h2><div class=""/><figure class="gl gn jx jy jz ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/2cb512e90561aee82d7e5f40b82150fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*BKiq6Vki9kTdDaN-lzIQ5g.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图片由Will Myers在unsplash上提供</figcaption></figure><p id="3fed" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">为了理解线性回归中的任何异常值和异常观察值，理解线性回归的正式和基本定义是很重要的。</p><p id="e8d7" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">“线性回归是一种对因变量和一个或多个自变量/解释变量之间的关系进行建模的线性方法。它被认为是监督机器学习技术中预测连续值最常用的算法之一”。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div class="gh gi lf"><img src="../Images/8207c3827cd953473702fba8f3c3f49f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1310/format:webp/1*vfJlZG7zzyR9yC4z2LJL3A.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图片由Annie Spratt在unsplash上提供</figcaption></figure><p id="78be" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">线性回归方程(描绘拟合的回归线)可以表示为:</p><p id="8add" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">易= β0 + β1X + ε </strong></p><p id="7a7a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">其中<strong class="kj ja"> β0 </strong>是截距项，</p><p id="0b37" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja"> β1 </strong>是Y(因变量/响应变量)和X(自变量)之间的斜率(也是回归系数)，</p><p id="f3df" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja"> ε </strong>(读作epsilon)是误差项，表示y测量中的误差。</p><p id="eff0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja"> Yi </strong>表示Y的预测值，是用回归线得到的Y值。</p><p id="69b3" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">ȳ(y-条)</strong>代表y变量即响应变量的数据点的平均值。</p><p id="86f9" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">x̅(x-bar)</strong>代表x变量即自变量的数据点的平均值。</p><p id="cfa4" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">残差</strong>从回归线测量Y的实际值和Y的预测值之间的垂直距离。</p><p id="a66a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">换句话说，它测量实际数据点和线上预测点之间的垂直距离。</p><p id="d347" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">关于线性回归有了这么多的介绍，让我们转到不寻常的观察。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="3e19" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">线性回归中的<strong class="kj ja">异常观测值</strong>通常被认为是<strong class="kj ja">异常值</strong>。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lr"><img src="../Images/d6ebfee4897d2cf97edc8077c5e76dcc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2x82mv6R8dgaZ8w6hkXfWQ.png"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">作者图片</figcaption></figure><p id="f97c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">异常值</strong>被定义为远离其余数据的数据点，即关于x值或y值的异常观察。</p><p id="9d70" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">与数据集中的其他观测值相比，这种观测值的残差通常较大。这表示Y(实际值)与模型预测值(即Yi)相差甚远的观察值。</p><p id="2b85" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">简而言之，可以说远离拟合回归线的数据点是异常值。</p><p id="200c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">离群值不太适合模型，它们可能会也可能不会对模型产生大的影响。</p><p id="6638" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，在下图中，所有用黄色圈出的点都是异常值。</p><p id="d1b5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">但是绿色圈起来的点呢。它们也远离数据集中的其他观测值，但它们是异常值吗？</p><p id="739a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">不，他们不是严格意义上的离群值。</p><p id="480f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">为什么会这样呢？</p><p id="c003" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">是不是所有的离群值都有问题？</p><p id="395f" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">是否所有的异常值都会显著影响回归结果？</p><p id="01d5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我们将进一步理解这一点。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lw"><img src="../Images/2386a3cfeed81049b45493e8c02c9338.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VhUPmocTiv6g3qfECYmJrg.png"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图片1</figcaption></figure><p id="f61c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">事实上，当我们进行回归建模时，我们并不总是关心远离其余数据点的少数数据点，直到这些数据点打破模式或不遵循其余数据的一般趋势，即在很大程度上改变斜率(拟合的回归线)和回归系数。</p><p id="92d7" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">回归系数与拟合回归直线的斜率是一回事。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="90b1" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">为了理解有问题的异常值，让我们理解两个更重要的术语。</p><p id="1408" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja"> 1。</strong> <strong class="kj ja">杠杆点</strong></p><p id="8e26" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja"> 2。</strong> <strong class="kj ja">影响点</strong></p><p id="17bf" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">我们来正式定义一下杠杆点。</p><p id="6552" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">杠杆点</strong>是一个数据集中的X值(独立变量值)与其他观察值的距离。高杠杆点是独立变量的异常值。</p><p id="e08c" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">因此，杠杆点可能是也可能不是异常值，只取决于x值，而不是y值。</p><p id="d31b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">残差较小的杠杆点通常不会影响斜率，因为它遵循原始数据的线性趋势，不会被视为异常值。</p><p id="c988" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">有两种类型的杠杆点。</p><p id="7167" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">1.高杠杆点</p><p id="9440" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">高杠杆点的性质</p><p id="eee5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">a.它会影响拟合的回归线，如果残差很高，有时会非常严重。</p><p id="5542" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">b.它可能有也可能没有大量的残余。</p><p id="3d16" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">2.低杠杆点</p><p id="0aec" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">低杠杆点的性质</p><p id="a52a" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">a.它不会对拟合的回归线产生太大的影响。</p><p id="a66d" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">b.它通常有很高的残留。</p><p id="0f86" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，在下图中，用绿色圈起来的点是低杠杆点，用黄色圈起来的点是高杠杆点。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="gh gi lx"><img src="../Images/02e21d327995cbdb05848dd2e87acb53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*8SNMt1CdN5g3gQSZKROf1g.png"/></div></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图片2</figcaption></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="92fb" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">让我们正式定义影响点。</p><p id="c801" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">影响点</strong>是极大影响回归线斜率的异常值，对回归模型的预测有相对较大的影响。</p><p id="7f9b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">虽然一个有影响力的点通常具有高杠杆，但高杠杆点不一定是有影响力的点。</p><p id="d3d7" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">例如，在下图中，用蓝色圈出的点是非常有影响力的点。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div class="gh gi ly"><img src="../Images/aae45bba275a95b380d5e8c57c784848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1272/format:webp/1*N7kAAbodY854o_L1MBAk_A.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">图片3</figcaption></figure></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="73c3" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">让我把它放在一个表格里，以便清晰地显示出来。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div class="gh gi jw"><img src="../Images/d85587ce017bf1eb9bf63ecea4183663.png" data-original-src="https://miro.medium.com/v2/resize:fit:1246/format:webp/1*sIrNXbhZefO4uWUtJx9RIg.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">作者图片</figcaption></figure><p id="f5c5" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">现在我想你们都清楚为什么图1中用绿色圈起来的点不是异常值了。</p><p id="85d0" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">这是因为它们虽然远离其余的观测值，但却接近低残差拟合的回归线。因此，它们不会在很大程度上影响斜率和回归系数以及预测，因此不会被标记为异常值。</p><p id="2698" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">总结:</p><p id="3031" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">低杠杆，大残差- &gt;小影响</strong>(在一定程度上影响拟合的回归线的斜率)<strong class="kj ja">是一个离群值。</strong></p><p id="86e7" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">高杠杆，小残差- &gt;小影响</strong>(对拟合回归线的斜率影响最小)且<strong class="kj ja">不是异常值。</strong></p><p id="9f7b" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated"><strong class="kj ja">高杠杆、大残差- &gt;大影响</strong>(很大程度上影响斜率、拟合的回归线和进一步的模型预测)和<strong class="kj ja">是异常值。</strong></p><p id="24ba" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">可以说，影响较大的异常值最大程度地影响了回归线的斜率和回归模型的预测，在开发回归模型时应该加以注意。</p><p id="0259" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">希望这能让你清楚地了解异常值以及线性回归中的杠杆和影响点。</p><figure class="lg lh li lj gt ka gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/fbaa7d0e345aa85bffeb2a5f30da0b07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1248/format:webp/1*4sh8fOpPbZl95CuErLOyWw.png"/></div><figcaption class="kd ke gj gh gi kf kg bd b be z dk translated">由Stan B在unsplash上拍摄的图像</figcaption></figure><p id="1ddb" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">你可以在媒体上跟踪我</p><p id="59db" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">LinkedIn: <a class="ae ma" href="https://www.linkedin.com/in/supriya-ghosh" rel="noopener ugc nofollow" target="_blank"> Supriya Ghosh </a></p><p id="5dda" class="pw-post-body-paragraph kh ki iq kj b kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le ij bi translated">还有推特:<a class="ae ma" href="https://twitter.com/isupriyaghosh" rel="noopener ugc nofollow" target="_blank"> @isupriyaghosh </a></p></div></div>    
</body>
</html>