<html>
<head>
<title>Analysis of BW in piglets</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">仔猪体重分析</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/analysis-of-bw-in-piglets-using-mixed-models-splines-in-r-a7c0952b15fc?source=collection_archive---------1-----------------------#2021-10-07">https://pub.towardsai.net/analysis-of-bw-in-piglets-using-mixed-models-splines-in-r-a7c0952b15fc?source=collection_archive---------1-----------------------#2021-10-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="884b" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/data-analysis" rel="noopener ugc nofollow" target="_blank">数据分析</a></h2><div class=""/><div class=""><h2 id="de88" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">在R中使用混合模型和样条</h2></div><p id="075d" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">在这个混合模型示例中，我将使用一个更高级的数据集，其中包含不同水平的小猪体重增长。数据集并不那么容易分析，我确信我最后展示的模型可以大大改进。幸运的是，得到最好的模型并不是这篇文章的真正目的。</p><p id="0da9" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">除了在R中显示一个带样条的混合模型之外，我想要实现的是突出一些额外的功能，比如:</p><ol class=""><li id="3882" class="lk ll iq kq b kr ks ku kv kx lm lb ln lf lo lj lp lq lr ls bi translated">混合模型输出的绘图和制表</li><li id="6f29" class="lk ll iq kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">因素的成对比较</li><li id="92ce" class="lk ll iq kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">固定效应和随机效应的概要和自举置信区间</li><li id="4c8e" class="lk ll iq kq b kr lt ku lu kx lv lb lw lf lx lj lp lq lr ls bi translated">探索你的混合模型的一个闪亮的方法。</li></ol><p id="3112" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我相信代码、图片和添加的注释会指明方向。</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">这里有很多图书馆。我没有全部使用它们，但许多不是白白进口的。</figcaption></figure><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">简单的数据导入和争论。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mj"><img src="../Images/6a7676650eb6b5b20ec5bf85b94e02e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uBr1hTktbCLsBcJkWzt4Cg.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">显示仔猪水平测量值的图。从这个图中不能直接清楚的是，中间的观察值是稀疏的。真正知道这一点的唯一方法是知道小猪的“正常”生长曲线。因此，第31天和第35天的高BW分数是异常的，可能是选择偏差的假象。</figcaption></figure><p id="7f5a" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">通过混合模型分析增长数据总是要求数据为长格式—每个ID多行，其中每行包含一个随时间变化的因素的单个观察值。在这里，那个因素是<em class="mq"> BW </em>。</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="2a44" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">尽管混合模型非常擅长处理不平衡的数据，但如果我们坚持使用时间点0、7、14、28和42，这可能是最好的。当然，这是个人的选择，你可以做出不同的选择。这些选择需要由科学驱动，而不是由统计数据驱动。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi mr"><img src="../Images/ce28face109f0452fde913026ded401c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9CdGeYiGPeTZnH7bhml5Kg.png"/></div></div></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/8f8595ca61b222b31c325594653df280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*-bj70lJ9HKmrZGIRWT3PuQ.png"/></div></figure><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><div class="ly lz ma mb gt ab cb"><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/b837ee978b65a522923ebfdc2cf98238.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*3JBCUvBFB3bFZS70tTz7Zg.png"/></div></figure><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/fc02b1c7c81d379fd82f18a7b2d2509e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*WQeJCdeoPBZBLavarz41lQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk mz di na nb translated">每个处理的基本总体图，以寻找处理内和处理间的变化。内部肯定有变化，但我对两者之间的任何变化都不太乐观。</figcaption></figure></div><div class="ab cb"><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/faf2079928577b60ba0ce44fb5383351.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*-tAYHviAue-mHR5So7Ld6w.png"/></div></figure><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/5d9c60deb5fa24ecabe5731e1b4c3384.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*DCGQ5czD1e9lT6XerdOw1Q.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk mz di na nb translated">跨围栏、部门和治疗的生长曲线。这些图是开始探索嵌套数据集的好方法。您希望看到单元格内和单元格之间的变化，以便将这些级别作为随机效果级别包括在内。你能在“解释的变化”框中放置的变化越多越好。</figcaption></figure></div><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nc"><img src="../Images/adc96188a988ee2d74ce9b8c9470b3dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*k7UzSUzqjANyR3KwC-c2fg.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">这是部门在钢笔级别的曲线。处理决定颜色。再说一次，我们真的在寻找一个方差。</figcaption></figure><p id="e554" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">任何纵向数据集的最大预测因素将是时间。现在，时间本身实际上是最没意思的因素，因为时间本身不能做任何事情。这只是一个我们希望解开却看不到的潜在机制的进展。因此，在模型中，我们将它标记为时间。</p><p id="695f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">为了对“时间”建模，我们需要看看我们是否能以线性方式最好地做到这一点，或者也许多项式变换是必要的。</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">代码要求三个线性回归模型-线性，二次，三次。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nd"><img src="../Images/bca57331038133d3d757f5410036bed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4URLdkw6vBd_0ct28O2HHg.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">线性模型肯定是不够的，但我还不确定三次(x)模型是否比二次(x)模型表现得更好。</figcaption></figure><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ne"><img src="../Images/90137fe5970cfe35a995f30e1fc4e7ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b-XmW2axkraYXgty4banUw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">没有太多的互动。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nf"><img src="../Images/e826909bca815cc23dffc292a65bfd0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TeMinQiu7m00LNhcT2_2Nw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">实际上，似乎没有进行任何互动。</figcaption></figure><p id="c1b9" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">现在，是时候使用混合模型对数据进行建模了。如<a class="ae ng" href="https://medium.com/@marc.jacobs012/introduction-to-mixed-models-in-r-9c017fd83a63" rel="noopener">介绍示例</a>所示，我们可以通过使用大平均值开始建模，然后使用额外的固定和随机效果。</p><p id="ee67" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">下面的代码执行越来越复杂的模型，并相互比较它们的模型拟合度。</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="733f" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">从结果来看，三节点样条模型似乎是最好的模型。之前的多项式曲线确实暗示了一条曲线，但我不确定是两个还是三个拐点。好像统计选了三个，但是一个要时刻小心。这些模型容易过度拟合。</p><pre class="ly lz ma mb gt nh ni nj nk aw nl bi"><span id="e2f4" class="nm nn iq ni b gy no np l nq nr">&gt; data.frame(Model=myaicc[,1],round(myaicc[, 2:7],4))  <br/>  Model K     AICc Delta_AICc AICcWt Cum.Wt       eratio<br/>4   TP3 7 44777.30     0.0000      1      1 1.000000e+00<br/>3   TP2 6 44852.52    75.2234      0      1 2.160530e+16<br/>2    TL 5 44902.44   125.1398      0      1 1.491971e+27<br/>1     I 3 51091.40  6314.0990      0      1          Inf</span></pre><p id="aff9" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">我没有向你们展示，但不断出现的东西，是关于预测因子缩放的警告。回归模型非常容易受到异质尺度的影响，限制了它们找到最优解的能力。因此，最好是居中(从观察值中减去平均值)并缩放(通常通过标准偏差)。这就是通常所说的<a class="ae ng" href="https://en.wikipedia.org/wiki/Normalization_(statistics)" rel="noopener ugc nofollow" target="_blank">正常化</a>。</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">数据被缩放和居中→归一化。</figcaption></figure><p id="814e" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">好的，让我们用标准化的数据再次建模。下面你看到一个线性和样条模型，包含相同的固定效果和相同的随机效果。<em class="mq">(1 | af deling/hok/bignummer)</em>指的是随机截取模型，其中随机效果在小猪级<em class="mq"> (bignummer) </em>、钢笔级<em class="mq"> (hok) </em>、部门级<em class="mq"> (afdeling) </em>进行建模。因此，我们要求模型创建三个不同的随机截距。这是重活！</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ne"><img src="../Images/9d4a5fe2f393dcdf27228d7c56b3233e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tlaTx8GwXhQgHY_DhpcLwQ.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">这三个级别中的每一个都有实际的差异，尽管部门级别的差异很大。注意比参数标准误差更小的参数估计值。这通常是一个艰难解决方案的迹象。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ns"><img src="../Images/df274d8c5cd59547d1d5ccd0b9d6b87f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IDcIGjjCLsWDOQD4kD2ZMw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">不能说残差看起来很棒。他们似乎做了一个曲线。你想看到的是误差的同质性(随机云)和正态性(顺着黑线)。</figcaption></figure><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">我们来对比一下车型。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nt"><img src="../Images/c1f5c181706a1974da734a1c6fc66223.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CBmJr6X3IdRslGe1hGAO-A.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">方差分析和LRT都认为样条模型是最好的。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ne"><img src="../Images/669748639d5eb9df470256982b03b596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N3AAvXU-6PgCMkUY8FbLhQ.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">两个模型之间的估计并没有因为它们共享的参数而真正不同。然而，样条模型有更多的参数，这可能解释了它更好的拟合。记住，参数越大，责任越大。</figcaption></figure><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">让我们画出我们实际制造的东西。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi ne"><img src="../Images/6d395bd7adb7febdf6d33239d4371809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DD2kzJCzwRgaMT4079tf3w.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">基线对BW有明显的影响，但是哺乳年龄(speenleeftijd)对时间*治疗没有显示出影响。</figcaption></figure><p id="9413" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">尽管我们的模型远非完美，但我仍然想向你展示如何创建这些华丽且高度<a class="ae ng" href="https://strengejacke.github.io/sjPlot/articles/tab_model_estimates.html" rel="noopener ugc nofollow" target="_blank">可定制的表格</a>。</p><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nu"><img src="../Images/e6ce7e2ba902110148706df014aec12d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kUNK3rkLRXKBNiYXTQjjAA.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">样条模型(右模型)在AICc上有明显的下降。相差120左右，毫无疑问胜过线性模型。考虑到动物的生长轨迹，这并不奇怪。然而，在时间旁边添加额外参数的好处可能会受到质疑。</figcaption></figure><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">引导样条模型并查看其固定和随机效果值的代码。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/602858fdcca07256139cddccb594ec20.png" data-original-src="https://miro.medium.com/v2/resize:fit:1322/format:webp/1*uB9jS3GYHW2K3X2KiNDnbA.png"/></div></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nw"><img src="../Images/f45e58b18394ccc9ff5c3859ab097f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JReUol7x-TZgofdinMlR_Q.png"/></div></div></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi nx"><img src="../Images/0ea131bd9cef1c6f7462b8bbec260abd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rtnx6DcMnpt7jRN3Vc8NJw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">很多参数甚至不应该包含在这个模型中！</figcaption></figure><p id="8ffb" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">下图显示了随着我们向嵌套数据集的更高级别移动，复杂性逐渐降低。在左上角，你可以看到678只小猪的随机效果。那里有相当多的变化！当你观察钢笔级别时，这种差异仍然存在，但是在部门级别时，这种差异大部分消失了，但不是完全消失。</p><div class="ly lz ma mb gt ab cb"><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/2207d95e2bc5968c7898c7906c5f51aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*XUBGqmUlo4Twj1KEV29G_Q.png"/></div></figure><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/800d1b8a332c9b2b7442dc4c1a8fceda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*VOwh73hFjcBQ8ic6MZuACA.png"/></div></figure></div><div class="ab cb"><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/df82fcd24d2195ae2760ab6877a15491.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*H8Q3Xl4NNQpG6NLxnOQOvA.png"/></div></figure><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/06217d5e67574f8f876b4f1fa38610c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*NYzkfGv5DlYQ5E2cL-77qg.png"/></div></figure></div><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">这是看模型预测能力的代码。因为我们包括了随机截距，而不是随机斜率，你应该只期待随机截距！</figcaption></figure><div class="ly lz ma mb gt ab cb"><figure class="mt mc ny mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/39b6b6b25ef214206a1ef9e13885be7e.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*ApKwVvmd5CXpmReOjIkgTg.png"/></div></figure><figure class="mt mc ny mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/d1d82a981929351c2fec950c1f39a082.png" data-original-src="https://miro.medium.com/v2/resize:fit:626/format:webp/1*hexe3xpqLA8gyck-dno7NQ.png"/></div></figure><figure class="mt mc nz mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/9420cb3538053e6381bab2afe3b46335.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*83TCp53QsOOpE0c4khbGAA.png"/></div></figure></div><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">现在，我们将得到更多的重载，使用概要分析和引导为我们提供置信区间。即使是并行处理，这也会很耗时。</figcaption></figure><p id="60b7" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">你在下面寻找的是奇怪的值和很大的范围。较大的范围表明模型太不稳定，在对数据(或本例中最有可能是残差)进行重采样时会提供不同的结果。请记住，数据是归一化的，所以不要被负值吓到。</p><pre class="ly lz ma mb gt nh ni nj nk aw nl bi"><span id="1f11" class="nm nn iq ni b gy no np l nq nr">&gt; fullmodel.p.profile<br/>                           2.5 %      97.5 %<br/>.sig01                0.15789798  0.18806449<br/>.sig02                0.08045540  0.13829972<br/>.sig03                0.03433251  0.16420614<br/>.sigma                0.23087468  0.24606877<br/>(Intercept)          -1.10607167 -0.91646721<br/>Baseline              0.28509093  0.32624303<br/>ns(Time, 3)1          1.19281521  1.34393775<br/>ns(Time, 3)2          2.13788842  2.33545366<br/>ns(Time, 3)3          2.02265831  2.12545518<br/>feedA44              -0.08153903  0.12081676<br/>feedBB4              -0.06433766  0.14123498<br/>feedB44              -0.07802993  0.12428090<br/>speenleeftijd        -0.05629743  0.03623871<br/>ns(Time, 3)1:feedA44 -0.05616030  0.15734512<br/>ns(Time, 3)2:feedA44  0.04118821  0.32098636<br/>ns(Time, 3)3:feedA44 -0.01626940  0.12931287<br/>ns(Time, 3)1:feedBB4 -0.03581485  0.17795854<br/>ns(Time, 3)2:feedBB4 -0.10099513  0.17879623<br/>ns(Time, 3)3:feedBB4 -0.06148481  0.08396338<br/>ns(Time, 3)1:feedB44 -0.10512360  0.10730989<br/>ns(Time, 3)2:feedB44 -0.10426754  0.17359444<br/>ns(Time, 3)3:feedB44 -0.09451097  0.05002694</span></pre><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><p id="2e80" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">尽管这个模型仍然不太好，而且我们已经知道某些因素不应该被包括在内，但是让我们更深入地了解线性预测器和估计平均值，或者通常所说的<a class="ae ng" href="https://rcompanion.org/handbook/G_06.html" rel="noopener ugc nofollow" target="_blank"> LSMEANS </a>。</p><div class="ly lz ma mb gt ab cb"><figure class="mt mc oa mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/ba348d0028d6cb13c59a56e6e686c34c.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*S5bbbXNzd1mfRowb-RqEug.png"/></div></figure><figure class="mt mc ob mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/569cefe8115528535b86f0a97ff00b5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*cQsyaENTr6HeRiftZwdCGw.png"/></div></figure><figure class="mt mc oc mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/849f20295a0add45c82ef283e6bd56e8.png" data-original-src="https://miro.medium.com/v2/resize:fit:866/format:webp/1*xE1El3kT-5NOknhoy90v0w.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk od di oe nb translated">一些因素应该被删除，简化的模型被认为是更节俭的。</figcaption></figure></div><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi of"><img src="../Images/a93405ed007fc1f011cdf0bafddadcfc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1342/format:webp/1*LoydM9huok1ysclUdVEQTA.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">尤其是时间不同于零。不要喂太多。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi og"><img src="../Images/bb17f34cdd6589ac6af1eafa851b90bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aybKSU8I9OtlFV7erA3jRQ.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">ls进给方式没有不同。</figcaption></figure><div class="ly lz ma mb gt ab cb"><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/6bf0ddf512d52195362bc3b6636af86b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*tvu3rCbNtPMcApyFveYANw.png"/></div></figure><figure class="mt mc mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/33b6c9138ae715f0606110ab06b18a87.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*2LwKLW286GaJ-yLg5Yxgmw.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk mz di na nb translated">上面输出的图形描述。</figcaption></figure></div><p id="b353" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">这最后一点有点多余。如果你想探索你的混合模型，测试你的知识，你可以把你的模型变成一个闪亮的工具。幸运的是，所有的编码工作都已经完成了，所以您只需要制作模型。然而，问题是，Shiny应用程序不能识别样条线。总的来说，当与我不理解的刚性包结合时，样条会给你带来一些问题。它们远远超过任何多项式模型。</p><p id="0d98" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">因此，要在一个闪亮的工具中实际转换您的模型，您需要硬编码多项式模型，但包括断点。从技术上讲，我们现在有了一个<a class="ae ng" href="https://en.wikipedia.org/wiki/Segmented_regression" rel="noopener ugc nofollow" target="_blank">分段回归模型</a>，它实际上是样条的基础。</p><figure class="ly lz ma mb gt mc"><div class="bz fp l di"><div class="md me l"/></div></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oh"><img src="../Images/6674093c59b995dc10b835664fcfb97c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*osmyZveH8hWCu3WcKevVmw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">这证明分段模型的性能类似于多项式模型。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oi"><img src="../Images/8542212e46c4a491fd2a9e4e82c4b519.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H8iodRz3vQo2320nTLYOVg.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk translated">我对原始数据进行建模，以使这个闪亮的工具易于理解。然而，举例来说，查看方差值应该会让您返回到缩放变量。</figcaption></figure><figure class="ly lz ma mb gt mc gh gi paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><div class="gh gi oj"><img src="../Images/146431b60af69cdbab595cebf8bf7ee6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XWNxY5onVRM-MkWs3cyuvg.png"/></div></div></figure><div class="ly lz ma mb gt ab cb"><figure class="mt mc ok mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/75a7c571144674bd45b859e43330769c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*WwryQ7UTSP17jxzP0z0ODA.png"/></div></figure><figure class="mt mc ol mv mw mx my paragraph-image"><div role="button" tabindex="0" class="mk ml di mm bf mn"><img src="../Images/744e4d2ffa1566d64303bfa9277eebd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*ie8wjVVWfblIQ5mt2Lpt5g.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk mz di na nb translated">闪亮的工具看起来很棒，可以用来探险。</figcaption></figure></div><p id="1f58" class="pw-post-body-paragraph ko kp iq kq b kr ks ka kt ku kv kd kw kx ky kz la lb lc ld le lf lg lh li lj ij bi translated">本帖到此结束。我希望你喜欢它，并继续关注我们更多的职位！</p></div></div>    
</body>
</html>