<html>
<head>
<title>Python Dictionary Comprehension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python词典理解</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/python-dictionary-comprehension-e3c7ede7393f?source=collection_archive---------0-----------------------#2021-05-31">https://pub.towardsai.net/python-dictionary-comprehension-e3c7ede7393f?source=collection_archive---------0-----------------------#2021-05-31</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="8e07" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><p id="1893" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">字典是python中的数据结构，以键值对的形式存储数据。这个博客的目标是理解和实现字典理解的一些用例。理解使我们能够成为函数式编程的一部分，函数式编程的目标是使代码更加优雅、易读和单行。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ku"><img src="../Images/9a87f78af4f0500e7c463bd97d8f4785.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQzmEOS9gTfJaNlj6VS5Xw.png"/></div></div></figure><p id="09e8" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">什么是字典理解？</strong></p><p id="4823" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">字典理解让我们用一行代码在字典上运行循环，类似于列表理解。</p><p id="0ecc" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">字典的语法:</p><blockquote class="lg lh li"><p id="4c58" class="jw jx lj jy b jz ka kb kc kd ke kf kg lk ki kj kk ll km kn ko lm kq kr ks kt ij bi translated">{key:在<iterable>中(key，value)的值</iterable></p></blockquote><p id="f59c" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">Iterable可以是列表、元组或字典，或者任何其他python数据结构。</p><ol class=""><li id="b772" class="ln lo iq jy b jz ka kd ke kh lp kl lq kp lr kt ls lt lu lv bi translated"><strong class="jy ja">用python数据结构创建字典。</strong></li></ol><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="eee5" class="mb mc iq lx b gy md me l mf mg">#keys are tuples and values are list<br/>key=(1,2,3,4) →tuple<br/>val=[‘strawberry’,’blackberry’,’cloudberry’,’blueberry’] →list</span><span id="4fa8" class="mb mc iq lx b gy mh me l mf mg">#zip() function ties them up together like real life zip does<br/>berries={key:val for (key,val) in zip(key,val)}<br/>print(berries)</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi mi"><img src="../Images/5502aa1bdd3c4304990920480cb5e50c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CexIXnH1FbiOQw9Dyq7ZVQ.png"/></div></div></figure><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="465e" class="mb mc iq lx b gy md me l mf mg">#cal squars of numbers and create a dictionary<br/>sqr={ x:x**2 for x in [2,3,7,6,9]}<br/>print(sqr)</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi mj"><img src="../Images/b2055a6bfbe0b1aa0f2cd3c0a67046e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:976/format:webp/1*NuwqVexCxl0ekQt9KulPmQ.png"/></div></figure><p id="4cef" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 2。从现有字典创建新字典。</strong></p><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="4aa5" class="mb mc iq lx b gy md me l mf mg">#create a dictionary from lists as below</span><span id="4f54" class="mb mc iq lx b gy mh me l mf mg">k=[i for i in range(1,10)]<br/>v=[j*3 for j in range(1,10)]<br/>nums={key:val for (key,val) in zip(k,v)}<br/>print(nums)</span><span id="34f9" class="mb mc iq lx b gy mh me l mf mg">#now use above dictionary to perform dictionary comprehension</span><span id="b632" class="mb mc iq lx b gy mh me l mf mg">#add 5 to every element of dictionary and create new one<br/>add_nums={k:v+5 for k,v in nums.items()}<br/>print(add_nums)</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi mk"><img src="../Images/787e936973d6591807ad7f9b73eedeb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wf3XMpOI7IiDkfldZJ_wzg.png"/></div></div></figure><p id="7525" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 3。带理解的条件句</strong></p><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="1aa0" class="mb mc iq lx b gy md me l mf mg">#extract even numbers and square them up to create new dict<br/>even={x:x**2 for x in range(1,10) if x%2==0}<br/>even</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ml"><img src="../Images/a879c1572bac08707c03e3fa4592b44f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*bSU47xCI5hNschUMF40GZw.png"/></div></div></figure><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="9b30" class="mb mc iq lx b gy md me l mf mg">#add multiple conditions to if clause<br/>odd={x:x**2 for x in range(1,20) if x&gt;2 and x%2!=0}<br/>odd</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi mm"><img src="../Images/48bd0cd0945938c539220ca9e14f2662.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ITev6huiWG1-je46n2gKtw.png"/></div></div></figure><p id="e25f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 4。带有理解的嵌套if-else</strong></p><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="81b9" class="mb mc iq lx b gy md me l mf mg">#lets say we have dictionary of persons and categorize them as young, adult and senior citizens as per their age<br/>#logic age&lt;18 young, age&gt;18 and age&lt;=60 adult, age&gt;60 senior citizen</span><span id="dc02" class="mb mc iq lx b gy mh me l mf mg">per_age={‘kobe’:2,’vivek’:30,’richie’:19,’vishakha’:28,’krish’:62,’jeff’:65,’billy’:12}<br/>age_cat={ k:(‘young’ if v&lt;=18 else ‘adult’ if (v&gt;=18 and v&lt;=60) else ‘senior citizen’) for k,v in per_age.items()}<br/>print(age_cat)</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/3d66bff185590b81eb31b435cf30de80.png" data-original-src="https://miro.medium.com/v2/resize:fit:754/format:webp/1*JD3v99YJwwLcLLkIHxiCJQ.png"/></div></figure><p id="75df" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 5。嵌套字典理解</strong></p><pre class="kv kw kx ky gt lw lx ly lz aw ma bi"><span id="c585" class="mb mc iq lx b gy md me l mf mg">#nested dictionary comprehension<br/>#kind of multiplication table from numbers 1 to 3<br/>nestd={ v1:{v2*v1 for v2 in range(1,11)} for v1 in range(1,4)}<br/>print(nestd)</span></pre><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/b5358b1901705ed434c0e20ce8e8ac48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1100/format:webp/1*Lrz2TEJ5Uy7HzAAp0KK5pg.png"/></div></figure><p id="9a6b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">字典上的理解就是这样。总之，我们已经介绍了一些实现和理解字典理解的用例。</p><p id="e4e2" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">字典理解可以缩短代码并保持逻辑完整，但有时由于逻辑理解的复杂性，会降低代码的可读性，并消耗更多的内存。这适用于列表和字典理解。因此，学习理解是好的，但理解并以最佳方式实现它们也很重要。</p><p id="1734" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">感谢你阅读我的故事。如果你喜欢我的作品，请欣赏它鼓励你创造更多高质量作品的努力。请在媒体上与我联系，分享内容传播知识。</p></div></div>    
</body>
</html>