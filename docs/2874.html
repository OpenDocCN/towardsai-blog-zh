<html>
<head>
<title>Try These Pandas Display Configurations in Your Next Analysis</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在您的下一个分析中尝试这些熊猫显示配置</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/try-these-pandas-display-configurations-in-your-next-analysis-72589648d9a0?source=collection_archive---------0-----------------------#2022-06-25">https://pub.towardsai.net/try-these-pandas-display-configurations-in-your-next-analysis-72589648d9a0?source=collection_archive---------0-----------------------#2022-06-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="02c5" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">使用这些有用的熊猫显示定制，让你的Jupyter笔记本更像样</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/9a0bd540486f3d15a057afc1eae83303.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QHdpIZbKqa4tt7SQAO19TQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">作者图片</figcaption></figure><p id="4b65" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用Pandas分析数据时，您可能会遇到以下与显示相关的问题:</p><ol class=""><li id="653c" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><strong class="la iu">如果文本过长，则无法看到全文。在下图中，URL被缩短了。</strong></li></ol><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi md"><img src="../Images/bb6132229453381854cb51875774a2cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*xk2Lz6Yj7ezT-XxhBiMrug.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">冗长的文本在熊猫中被截断(图片由作者提供)</figcaption></figure><p id="ae33" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">2.默认情况下，熊猫使用科学记数法显示<strong class="la iu">大浮点数，例如1，000，000.5显示为1.000e+06</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi me"><img src="../Images/5c5544c96562b4af2899f8ea7f8b315a.png" data-original-src="https://miro.medium.com/v2/resize:fit:402/format:webp/1*o-_2BB6MrAUPlmkmXCa7_Q.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">使用科学符号显示大型彩车(图片由作者提供)</figcaption></figure><p id="a83f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 3。浮点型列中的小数位数精度</strong>不一致。例如，在下图中，col_1在小数点后有一位，而col_2在小数点后有三位。虽然这不会影响您的分析，但在与他人共享您的笔记本时，它可能看起来不太好。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/b9d0cc3c8b03bece2d0bf727fd4c5dae.png" data-original-src="https://miro.medium.com/v2/resize:fit:368/format:webp/1*vj2Ew7uoO4rlAqlwes6KTw.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">各列的精度不一致(图片由作者提供)</figcaption></figure><p id="669f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在这个故事中，我将讲述如何使用以下常见的熊猫显示定制来解决这些问题。</p><p id="b5bf" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">目录清单</strong></p><ol class=""><li id="0c60" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated">自定义要显示的行数</li><li id="6c10" class="lu lv it la b lb mg le mh lh mi ll mj lp mk lt lz ma mb mc bi translated">自定义要显示的列数</li><li id="b16f" class="lu lv it la b lb mg le mh lh mi ll mj lp mk lt lz ma mb mc bi translated">自定义列宽</li><li id="8669" class="lu lv it la b lb mg le mh lh mi ll mj lp mk lt lz ma mb mc bi translated">使浮点列中的小数位数精度保持一致</li><li id="ceed" class="lu lv it la b lb mg le mh lh mi ll mj lp mk lt lz ma mb mc bi translated">禁用科学符号</li><li id="2c16" class="lu lv it la b lb mg le mh lh mi ll mj lp mk lt lz ma mb mc bi translated">奖金！</li></ol><p id="6542" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">注意:</strong> <em class="ml">这些选项仅改变数据的显示方式。它不影响基础数据。</em></p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><ol class=""><li id="c291" class="lu lv it la b lb lc le lf lh lw ll lx lp ly lt lz ma mb mc bi translated"><strong class="la iu">自定义显示多少行</strong></li></ol><p id="ba83" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">打印大数据框时，默认情况下，pandas会显示前5行和后5行，如下图所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi mt"><img src="../Images/ce9135a30fda5d59c1abd21fb7927b7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2q7J2_ToJjF0ijOGWz0lGQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫默认显示10行(图片由作者提供)</figcaption></figure><p id="69c3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，我们可以通过设置显示选项<code class="fe mu mv mw mx b">display.max_rows</code>的值来改变要显示多少行。让我们把它设置为4。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi my"><img src="../Images/94dfa53715b41a9f391a12efdef03b36.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WZssN58WwDaHilhzCE5T2Q.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">将“display.max_rows”设置为4后显示4行(图片由作者提供)</figcaption></figure><p id="c5fd" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您也可以使用<code class="fe mu mv mw mx b">pd.reset_option("display.max_rows")</code>重置选项，返回默认行为。</p><p id="7058" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 2。自定义显示多少列</strong></p><p id="bd5a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您可以通过设置<code class="fe mu mv mw mx b">display.max_columns</code>自定义打印数据框时显示的列数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/2f49f2a21aae788b41b560e2325eaff5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1164/format:webp/1*Eig8fL_D1RW9crTWI5S8qg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过将“display.max_columns”设置为6来显示6列(图片由作者提供)</figcaption></figure><p id="faf7" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">像前面一样，您也可以使用<code class="fe mu mv mw mx b">pd.reset_option("display.max_columns")</code>重置该选项，返回到默认行为。</p><p id="5dc8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 3。自定义列宽</strong></p><p id="0f38" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">在下图中，我们无法看到前两行的完整文本，因为它们的字符长度超过了50。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi na"><img src="../Images/c3c0b6c6e843021dd2fe47a2886e7681.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*6DN0HUnPiJ--j_wZM5YP8g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">熊猫中冗长的文字被缩短(图片由作者提供)</figcaption></figure><p id="4126" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">然而，将<code class="fe mu mv mw mx b">display.max_colwidth</code>设置为70后，我们可以看到整个文本。您可以根据您的数据选择不同的数字。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/9f3e751d723cccacfacf4d406d9b668b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1264/format:webp/1*5X0eYulbjqsGSo1JqUR77g.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过将“display.max_colwidth”设置为70来显示全文</figcaption></figure><p id="cf0c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">也可以使用<code class="fe mu mv mw mx b">pd.reset_option("display.max_colwidth")</code>重置该选项。</p><p id="4911" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 4。使浮动列中的小数位精度一致</strong></p><p id="ebbc" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">目前，col_1和col_2的小数位精度不一致，如下所示。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/898ac4ab9b1c029cb516246e1e63cc87.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*dVKa-gZtcgYagdkxHdfpRg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">浮动列中不一致的小数精度(图片由作者提供)</figcaption></figure><p id="5e92" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过将<code class="fe mu mv mw mx b">display.float_format</code>设置为<code class="fe mu mv mw mx b">"{:.2f}".format</code>，我们可以使格式一致。如下图所示，该选项只会影响浮点列，不会影响整数列。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/89a225b32e31ce3684d68d237388b340.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/1*aTlE6HP6HgUHu0rgx7Jqog.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过将“display.float_format”设置为“{:.2f}”，使浮点列中的小数位精度保持一致。格式(图片由作者提供)</figcaption></figure><p id="8972" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">使用<code class="fe mu mv mw mx b">pd.reset_option("display.float_format")</code>可以重置该选项</p><p id="bdae" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 5。禁用科学符号</strong></p><p id="e491" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">默认情况下，熊猫在科学记数法中显示较大的浮点值。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/b2213ea9da750a59f7cdd13cc4547cda.png" data-original-src="https://miro.medium.com/v2/resize:fit:448/format:webp/1*RDZu8QlMADR9m3kLfQqtwA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">大浮点数以科学记数法显示(图片由作者提供)</figcaption></figure><p id="b0a8" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">通过将<code class="fe mu mv mw mx b">display.float_format</code>设置为<code class="fe mu mv mw mx b">"{:,.2f}".format</code>，我们可以添加一个千位分隔符，并将小数位数精度设置为两位小数。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/fd8f6de6a62adcd9498b33bcb69de6c0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*riQn5BvIX6uliq8gXNmshg.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过将“display.float_format”设置为“{:，. 2f}”，添加千位分隔符。格式(图片由作者提供)</figcaption></figure><p id="d982" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">您也可以通过将<code class="fe mu mv mw mx b">display.float_format</code>设置为<code class="fe mu mv mw mx b">"$ {:,.2f}".format</code>在数字前添加一个<code class="fe mu mv mw mx b">$</code>符号来表示货币。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/4591b57d64fa1a41d01ebc6995e5bcdc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*sObwy15dte3yA84e5m6WUQ.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">通过将“display.float_format”设置为“$ {:，. 2f}”，在数字前添加$。格式(图片由作者提供)</figcaption></figure><p id="009f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu"> 6。奖金</strong></p><p id="024c" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">脱机工作时，如何找到所有这些有用的显示选项？诀窍是使用<code class="fe mu mv mw mx b">pd.describe_option()</code>，你将得到所有可用选项的列表。</p><p id="2b7f" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">但是，如果您正在寻找一个特定的选项，您可以在<code class="fe mu mv mw mx b">pd.describe_option()</code>中输入选项名称作为参数。例如，<code class="fe mu mv mw mx b">pd.describe_option("max_rows")</code>将打印<code class="fe mu mv mw mx b">display.max_rows</code>选项的描述。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi nh"><img src="../Images/e9271386a219dc2d3b29569b42bc45d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pBC0f1yvv_QEz12Tdc-lHQ.png"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk translated">使用' pd.describe_option("max_rows ")'获取" display.max_rows "选项的描述(图片由作者提供)</figcaption></figure><p id="d17a" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">参考<br/> </strong> <a class="ae ni" href="https://pandas.pydata.org/docs/user_guide/options.html" rel="noopener ugc nofollow" target="_blank">熊猫选项和设置</a></p></div><div class="ab cl mm mn hx mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="im in io ip iq"><p id="c1b3" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><strong class="la iu">走之前！</strong></p><p id="6d31" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated">我希望你喜欢这个故事，并发现它很有用。如果你想听更多这样的故事，请在<a class="ae ni" href="https://medium.com/@hrishikesh.pe" rel="noopener"> Medium </a>上关注我，并且请<a class="ae ni" href="https://www.buymeacoffee.com/hrishikeshds" rel="noopener ugc nofollow" target="_blank">给我买杯咖啡</a>😊。</p><p id="bc48" class="pw-post-body-paragraph ky kz it la b lb lc ju ld le lf jx lg lh li lj lk ll lm ln lo lp lq lr ls lt im bi translated"><em class="ml">我的其他故事你可能会喜欢… </em></p><div class="nj nk gp gr nl nm"><a href="https://medium.com/@hrishikesh.pe/improve-your-analytical-report-with-conditional-formatting-in-pandas-76039fd3ccb5" rel="noopener follow" target="_blank"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd iu gy z fp nr fr fs ns fu fw is bi translated">如何在Pandas中使用条件格式改进您的分析报告</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">Pandas中使用Styler API的类似Excel的条件格式</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">medium.com</p></div></div><div class="nv l"><div class="nw l nx ny nz nv oa ks nm"/></div></div></a></div><div class="nj nk gp gr nl nm"><a rel="noopener  ugc nofollow" target="_blank" href="/regular-expression-regex-in-python-the-basics-b8f2cd041bdb"><div class="nn ab fo"><div class="no ab np cl cj nq"><h2 class="bd iu gy z fp nr fr fs ns fu fw is bi translated">Python中的正则表达式:基础知识</h2><div class="nt l"><h3 class="bd b gy z fp nr fr fs ns fu fw dk translated">正则表达式允许你从文本中提取重要信息。看看这个中型故事，学习正则表达式的基础知识…</h3></div><div class="nu l"><p class="bd b dl z fp nr fr fs ns fu fw dk translated">pub.towardsai.net</p></div></div><div class="nv l"><div class="ob l nx ny nz nv oa ks nm"/></div></div></a></div></div></div>    
</body>
</html>