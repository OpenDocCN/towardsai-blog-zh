<html>
<head>
<title>Integrating Feature Stores in ML architecture.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在ML架构中集成特征库。</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/integrating-feature-stores-in-ml-architecture-48494824c0ae?source=collection_archive---------2-----------------------#2022-05-30">https://pub.towardsai.net/integrating-feature-stores-in-ml-architecture-48494824c0ae?source=collection_archive---------2-----------------------#2022-05-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="a4c6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">简介:</strong></p><p id="ff9e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">世界经济论坛称，2020年初，数字世界的字节数是可观测宇宙中可用恒星数的40倍。这当然是巨大的，但我们必须问的真正问题是，我们能理解这些丰富的数据吗？这些数据必须被清理、转换、设计和存储，以使其有意义。</p><p id="da6a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在这个过程中，必须非常小心地减少冗余。必须有组织级的集中存储，以便所有团队都知道已经存在哪些功能。所以他们不会在已经可用的工程特性上浪费时间。由于特征存储被拥有大量数据的公司采用来解决冗余和分散问题，因此得到了高度的重视。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/753d94987648e6e7c539ef288a26000e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GYr_L94l4Asddzpy"/></div></div></figure><p id="b462" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">我们为什么需要特色商店？</strong></p><p id="f864" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">特征工程是对一堆原始数据进行预处理后衍生出新特征的过程。对于单一功能的工程设计，我们收集相关数据、设计管道、分析其商业价值、讨论格式等。这些步骤本身是详尽的，除此之外，这是一个迭代的过程，我们这样做多次，直到我们得到满意的结果。基于它是批量数据还是流数据，特征工程过程和结构是不同的。需要适当的规划和管理来存储功能和必要的元数据。</p><p id="f34c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大型组织会有多个团队。每个团队都会产生和消耗大量的数据。如果没有一个集中的位置来访问这些数据，就很有可能出现冗余。由于团队之间没有协作，他们可能会衍生相同的要素，并将数据存储在不同的位置。这损害了整个组织的生产力。</p><p id="bbb8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">从质量的角度来看，一个组织的数据需求应该由单一的真实来源来满足。如果团队之间不相互协作，不制定关于数据质量的严格规则，那么每个团队都将拥有自己的数据版本，对于整个组织来说，将没有单一的真实来源。这对组织来说将是灾难性的。这些是在ML架构中包含一个特性库的主要原因。</p><p id="2e66" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是特色店？</strong></p><p id="e6a6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Feature Story是整个组织功能的集中存储库。原始数据在添加到特征库之前将被管理、转换和特征工程化。在向功能存储添加值之前，将遵循严格的标准。某些团队将致力于生成特性，而其他团队可以消费这些特性。因为它是一个集中的存储库，所以特征将被计算一次并被多次使用。因为特征是由主题专家创建的，所以数据的质量会非常高。由于数据版本控制在特性故事中启用，它自动获得了它的所有优点。</p><p id="c620" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">功能存储没有固定的结构。这取决于组织的数据需求和基础设施。功能存储应该是分布式的、高度可用的，并且具有低延迟。一个功能存储中可以有多个项目。每个项目都有一个实体ID和一个特性列表。实体ID将用于唯一标识实体。实体可以是产品ID、评论ID或电影ID。数据科学家可以使用特征存储中的特征来训练和测试模型，并且某些特征可以直接用于模型服务。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kx"><img src="../Images/5798cf84333e80e3edc1e12a965e5fba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*2BRNQj4gw7_60oJ7"/></div></div></figure><p id="e5f7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">功能存储的组件:</strong></p><p id="795a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">功能存储通常由注册、监控、服务、存储和转换组成。</p><p id="3be4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">注册中心</strong> —注册中心也被称为元数据存储，它包含诸如每个实体中存在什么特性之类的信息。这在不同团队的开发人员需要关于特定实体可用特性的信息时非常有用。基于实体ID的查询，返回特征。</p><p id="c688" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">监控</strong> —监控是功能商店提供的新功能。监视器可以根据失败或数据质量下降发出警报。可以将警报配置为邮件，这有助于及时恢复和管理数据。</p><p id="3e18" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">服务</strong> —这是特征库的一部分，为训练和推理目的提供特征。出于训练目的，通常提供SDK来与特性库交互。为了进行推断，特征存储基于请求提供单个实体。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ky"><img src="../Images/374d70027a1218d7951b14f0f212f498.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*NEFYrRI_zRR6OyjD"/></div></div></figure><p id="cd48" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><a class="ae kz" href="https://www.tecton.ai/blog/what-is-a-feature-store/" rel="noopener ugc nofollow" target="_blank">图像参考</a></p><p id="58b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">存储</strong> —特色商店包含在线和离线存储。离线存储包含转换为要素的所有历史数据。它们存储在数据湖和数据仓库中。雪花和BigQuery可以用于离线存储。在线存储由非常新的数据组成。它们主要包含流数据。在线存储层必须具有非常小的延迟。Kafka和Redis可以用于在线存储。</p><p id="b882" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">转换</strong> —通过数据管道生成机器学习模型的特征。功能存储充当这些管道的协调器。基于指定的时间间隔重新计算特征，并且转换管道逻辑可以被重新用于此目的。</p><p id="9670" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">摄取特征:</strong></p><p id="6d74" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">功能存储体系结构由摄取和消费机制组成。摄取是收集原始数据、对其进行特征工程处理以获得所需特征，并将其存储在存储解决方案中的过程。有两种类型的摄取:批处理和流。</p><p id="b524" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">批处理接收</strong> —当大量数据在预定时间到达时，批处理完成。频率可以是一天一次、一小时两次、一周一次等。由于数据将大量出现，这些数据将存储在亚马逊S3、数据库、HDFS、数据仓库和数据湖中。Spark可用于轻松处理批量数据，并将实体ID和特性存储在特性存储中。</p><p id="9728" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">流接收</strong> —流是实时数据。数据将在没有任何预先信息的情况下到来。因此，卡夫卡将是流媒体摄取的理想候选人。数据将被存储为日志文件，或者我们可以通过API调用来获取它们。</p><p id="a585" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">消费功能:</strong></p><p id="c9ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">消费是以有效的方式消费存储的特征的过程。消费的类型是模型训练和模型服务。</p><p id="94f1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">模型训练</strong> —在这种情况下，我们只选择总体特征的子集，但我们将选择所有实体。我们可能会用这种方法消耗实验或生产数据。对于实验，我们使用Google Colab或Jupyter notebook，对于产品，我们使用Spark或TensorFlow或Pytorch。</p><p id="e2c7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">模型服务</strong> —在这种情况下，我们使用一个API调用从特性库中消费特性。输出将被发送到web或移动应用程序。我们将根据收到的实体ID只调用某些实体。这种方法的主要要求是支持非常低的延迟。</p><p id="087d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">特色商店的优势:</strong></p><p id="a63f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">改进协作</strong> —因为功能存储将所有数据集中在一个存储库中。它改善了团队之间的协作。这些特性可以被多个团队重用，这在很大程度上有助于避免冗余。</p><p id="01a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">数据质量保证</strong> —由于接收由主题专家完成，因此可以保证数据的高质量。多个主题专家聚在一起将有助于组织建立高质量的单一事实来源。</p><p id="3726" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">抽象</strong> —特性存储为用户带来了一个抽象层。预处理、转换和工程是完全抽象的，因此用户可以专注于手头的工作。</p><p id="78e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">结论:</strong></p><p id="b531" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">功能商店架构的最新进展使得组织将它们集成到他们的MLOps管道中。当前在生产环境中使用要素存储来处理数据集和数据管道。由于其集中的性质，特征存储提高了协作并减少了冗余。</p><p id="3be7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">参考文献:</strong></p><ol class=""><li id="8a02" class="la lb iq jp b jq jr ju jv jy lc kc ld kg le kk lf lg lh li bi translated"><a class="ae kz" href="https://www.weforum.org/agenda/2019/04/how-much-data-is-generated-each-day-cf4bddf29f/" rel="noopener ugc nofollow" target="_blank">每天产生多少数据？世界经济论坛(weforum.org)</a></li><li id="4b3e" class="la lb iq jp b jq lj ju lk jy ll kc lm kg ln kk lf lg lh li bi translated"><a class="ae kz" href="https://www.tecton.ai/blog/what-is-a-feature-store/" rel="noopener ugc nofollow" target="_blank">什么是特色店？|泰克顿</a></li><li id="cc28" class="la lb iq jp b jq lj ju lk jy ll kc lm kg ln kk lf lg lh li bi translated"><a class="ae kz" href="https://www.youtube.com/watch?v=ZxHo9WGn6KQ" rel="noopener ugc nofollow" target="_blank"> (7009) ML系统设计:特色商店— YouTube </a></li><li id="18f5" class="la lb iq jp b jq lj ju lk jy ll kc lm kg ln kk lf lg lh li bi translated"><a class="ae kz" href="https://towardsdatascience.com/what-are-feature-stores-and-why-are-they-critical-for-scaling-data-science-3f9156f7ab4" rel="noopener" target="_blank">什么是特征存储，为什么它们对扩展数据科学至关重要？|作者Adi Hirschtein |走向数据科学</a></li></ol><p id="4655" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir"> <em class="lo">想要连接？</em> </strong> <em class="lo"> <br/>如果你喜欢这篇文章，请在Medium上关注我，了解更多关于机器学习和计算机科学的故事。</em></p><p id="c605" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="lo">链接于—</em><a class="ae kz" href="https://www.linkedin.com/in/prithivee-ramalingam-032b42110/" rel="noopener ugc nofollow" target="_blank"><em class="lo">Prithivee Ramalingam</em></a></p></div></div>    
</body>
</html>