<html>
<head>
<title>How Should We Detect and Treat the Outliers?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我们应该如何检测和处理异常值？</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/outlier-detection-and-treatment-9a9f41df0fb2?source=collection_archive---------2-----------------------#2022-10-05">https://pub.towardsai.net/outlier-detection-and-treatment-9a9f41df0fb2?source=collection_archive---------2-----------------------#2022-10-05</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="97c2" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">什么是离群值？我们需要如何检测异常值？我们需要如何处理异常值？</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi kf"><img src="../Images/3a5e0d5d6965fda90581f73bc4754768.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*jHOhhD0WgaBJoX0UyVjjJg.png"/></div><figcaption class="kn ko gj gh gi kp kq bd b be z dk translated">作者照片</figcaption></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="6c3b" class="kw kx iq ks b gy ky kz l la lb"><strong class="ks ir">Table of Contents:</strong></span><span id="4695" class="kw kx iq ks b gy lc kz l la lb">· <a class="ae ld" href="#cada" rel="noopener ugc nofollow">What are Outliers?</a><br/>· <a class="ae ld" href="#4191" rel="noopener ugc nofollow">Outlier Detection and Removal Techniques:</a><br/>· <a class="ae ld" href="#be3e" rel="noopener ugc nofollow">Z Score-based method</a><br/>· <a class="ae ld" href="#8d1c" rel="noopener ugc nofollow">IQR technique</a><br/>· <a class="ae ld" href="#cacd" rel="noopener ugc nofollow">Percentile Method</a></span></pre><h1 id="cada" class="le kx iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">什么是离群值？</h1><blockquote class="lv lw lx"><p id="783e" class="ly lz ma mb b mc md jr me mf mg ju mh mi mj mk ml mm mn mo mp mq mr ms mt mu ij bi translated">异常值是指与其他数据表现非常不同的数据点或观察值。</p></blockquote><blockquote class="mv"><p id="f3d4" class="mw mx iq bd my mz na nb nc nd ne mu dk translated">如果我们在寻找一群人的平均净资产，如果我们在那个群体中找到了埃隆·马斯克，那么完整的分析就会因为一个异常值而出错。这就是为什么在建立机器学习模型之前应该正确处理离群值的原因。</p></blockquote><div class="nf ng nh ni nj nk"><a href="https://medium.com/@gowthamsr37/pattern-programming-in-python-23d5af04211e" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">用Python编写复杂模式的简单方法，仅需4分钟。</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">用python编写复杂模式程序的简单方法</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kl nk"/></div></div></a></div><p id="7e4a" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">如果我们正在构建一个线性回归模型，该模型具有独立特征、<strong class="mb ir">、</strong>和非独立特征、<strong class="mb ir">、【得分】、</strong>，如果数据的分布如下所示，那么该模型将表现良好。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/de570123cf3e083d639196cf9a78081d.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*WyBscwc3bWaSjOGnDD7e5w.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/eaf80661c7f3353a686c7feb1c9302bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*E3kYEjtUsWubCQCc1SFRbA.png"/></div></figure><p id="178b" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">如果我们有3名学生即使在学习时间更少的情况下也取得了好成绩，那么回归线会移动以拟合异常点，如下所示，导致实际数据的结果不佳。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oe"><img src="../Images/2a2716f115b89ad5aae67c25273b58b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*-zqwmf2O63lIkfPU5LwAEA.png"/></div></figure><p id="2610" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">涉及权重计算的机器学习算法，如线性回归、逻辑回归、Ada boost和深度学习模型，会受到离群值的影响。像决策树、随机森林这样的基于树的算法受离群值的影响会更小。</p><div class="of og gp gr oh nk"><a rel="noopener  ugc nofollow" target="_blank" href="/how-to-verify-the-assumptions-of-linear-regression-54ba4d17c231"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">我如何验证线性回归的假设？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">线性回归的假设有哪些？以及如何用python来验证它们？</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">pub.towardsai.net</p></div></div><div class="nt l"><div class="oi l nv nw nx nt ny kl nk"/></div></div></a></div><p id="8b04" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">在<strong class="mb ir">异常检测</strong>算法中，如保险欺诈检测或信用卡欺诈检测，我们需要捕捉异常值，在这种情况下，目的是捕捉异常值。</p><p id="9418" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">所以我们需要小心对待异常值，</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/772966bade1c7250e43ae36cac5997c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1348/format:webp/1*4G0913txXERfABjQi3Ho2w.png"/></div></figure><p id="d950" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">修剪:</strong>在训练机器学习模型之前，从数据集中移除离群值。例如，在上面的例子中从数据集中移除学生。</p><p id="118d" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">封顶:</strong>保持最大或最小阈值，并相应地给数据点赋值。例如，如果我们正在处理年龄特征，我们可以保持阈值85，并将值85分配给年龄大于85的所有人。</p><p id="b95a" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">离散化:</strong>这是使用箱将数字特征转换为离散的方法。例如，如果年龄80–90被认为是一个单独的条柱，那么80到90之间的所有年龄都将被同等对待。</p><h1 id="4191" class="le kx iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">异常值检测和去除技术；</h1><h1 id="be3e" class="le kx iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">1.基于z分数的方法</h1><p id="0488" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated">该技术的主要假设是数据应该是正态分布的或接近正态分布的。</p><p id="55b2" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">如果数据呈正态分布，经验法则表示<strong class="mb ir"> 68.2% </strong>的数据点位于第一个标准差之间，<strong class="mb ir"> 95.4% </strong>的数据点位于第二个标准差之间，<strong class="mb ir"> 99.7% </strong>的数据点将位于第三个标准差之间。</p><p id="cb91" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">位于第三标准偏差之外的数据点可被视为异常值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi op"><img src="../Images/bf08e4355b484e5906e765b8b20ac6d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dB1rExCiX7ijZYLLgH33IQ.jpeg"/></div></div></figure><p id="bcbd" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">由于99.7%的数据将位于3个标准差内，我们可以将位于3个标准差外的其余数据视为异常值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/66b734fc9f95cace531cd536ea5537da.png" data-original-src="https://miro.medium.com/v2/resize:fit:744/format:webp/1*chUX9z_xWMLw7cu86uE-BQ.png"/></div></figure><p id="e0c9" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">标准化<strong class="mb ir">这通常被称为Z分数归一化。结果数据的<strong class="mb ir">平均值为0，标准偏差为1。</strong></strong></p><div class="of og gp gr oh nk"><a href="https://medium.com/@gowthamsr37/which-feature-scaling-technique-to-use-standardization-vs-normalization-9dcf8eafdf8c" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">标准化与规范化</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">特征缩放是强制性的吗？什么时候使用标准化？何时使用规范化？会发生什么……</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="ov l nv nw nx nt ny kl nk"/></div></div></a></div><p id="3b4c" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">让我们看看这项技术的实际实现。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="df63" class="kw kx iq ks b gy ky kz l la lb">import pandas as pd<br/>import numpy as np<br/>import seaborn as sns<br/>import matplotlib.pyplot as plt<br/>import warnings<br/>warnings.filterwarnings('ignore')</span><span id="3b96" class="kw kx iq ks b gy lc kz l la lb">df = pd.read_csv('placement_dataset.csv')</span></pre><p id="9f6a" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">数据集有两个独立的特征<strong class="mb ir"> cgpa </strong>和<strong class="mb ir"> placement_exam_marks。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/0c69b56f591c0e8374c2b3f22ab9d6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:934/format:webp/1*h4maXzB5-t-nAcMxJRSyQg.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="86a0" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(10,5))</span><span id="d64a" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,1)<br/>sns.distplot(df['cgpa'])</span><span id="f358" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,2)<br/>sns.distplot(df['placement_exam_marks'])</span></pre><p id="0ea8" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">数据的分布显示特征<strong class="mb ir"> cgpa </strong>呈正态分布，另一个特征placemet_exam_marks呈偏态分布。</p><p id="2b65" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">因此，特征<strong class="mb ir"> cgpa </strong>符合<strong class="mb ir"> </strong>离群点检测技术的<strong class="mb ir"> Z评分法</strong>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/cc1645692118430ff5cc3d27678e7735.png" data-original-src="https://miro.medium.com/v2/resize:fit:1254/format:webp/1*6LrTSf5oseCbVxUXGrEiog.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="17a7" class="kw kx iq ks b gy ky kz l la lb">print('Mean value of CGPA {}'.format(df['cgpa'].mean()))<br/>print('Min value of CGPA {}'.format(df['cgpa'].min()))<br/>print('Max value of CGPA {}'.format(df['cgpa'].max()))<br/>print('Standard deviation value of CGPA {}'.format(round(df['cgpa'].std(),2)))</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/64cca176d4d1f9b92243f881bf94f0b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:708/format:webp/1*2nH6H2NOEzwFwvOp5r8-xA.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="ee04" class="kw kx iq ks b gy ky kz l la lb"><strong class="ks ir"># the boundary values are:</strong></span><span id="0e6a" class="kw kx iq ks b gy lc kz l la lb">print('Highest value of cgpa', round(df['cgpa'].mean()+3*df['cgpa'].std(),3))<br/>print('Lowest value of cgpa', round(df['cgpa'].mean()-3*df['cgpa'].std(),3))</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/8cd7741365f8d4fb1a246e44f3429ae5.png" data-original-src="https://miro.medium.com/v2/resize:fit:474/format:webp/1*fCJt_j1Fts68gT_kwXiPSw.png"/></div></figure><p id="a88a" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">以下是被检测为异常值的5个数据点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi pa"><img src="../Images/4a8d87a1b49f9e565beab20858abd3d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*ztf7O5-ZVmQDVnIcTdnkbQ.png"/></div></div></figure><p id="c9ee" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">这也可以使用Z得分公式来实现，如下所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/20a603c7a75b4e6ed8f5fc7d6d9d6a4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1270/format:webp/1*7aghe4lrGpWq5gb6gU84LQ.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/45bbf04ba9bcd7c6d0f4446c4f135bb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1018/format:webp/1*jbmJyuovdwARMbH0nKbSeA.png"/></div></figure><h2 id="a8ea" class="kw kx iq bd lf pd pe dn lj pf pg dp ln nz ph pi lp oa pj pk lr ob pl pm lt pn bi translated">异常值处理:</h2><p id="e270" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated"><strong class="mb ir">修整:</strong>在这种方法中，我们可以移除3个标准差之外的所有数据点。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi od"><img src="../Images/e1933200a2e90e0480bbdf9ae0bae1d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*fKMrmSts3AG1tR0iTTNYnA.png"/></div></figure><p id="9564" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">有时，如果数据集有大量离群值，那么我们会丢失大量数据。</p><p id="3d12" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">封顶:</strong>在此方法中，离群数据点用最高或最低值封顶，如下图所示。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi po"><img src="../Images/d6e1e2e1f6bd189a5889bd37cedf5710.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*IdNL10pzIKbXiNkaYAcUug.png"/></div></figure><div class="of og gp gr oh nk"><a href="https://medium.com/@gowthamsr37/why-multicollinearity-is-a-problem-4c273d1d1f2e" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">为什么多重共线性是一个问题？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">什么是多重共线性？为什么我们要在创建机器学习模型之前处理多重共线性？</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="pp l nv nw nx nt ny kl nk"/></div></div></a></div><h1 id="8d1c" class="le kx iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">2.IQR技术</h1><p id="1eb0" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated">当数据分布不均匀时，使用这种方法。</p><p id="1b78" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">IQR <strong class="mb ir">描述了从最低到最高排序的中间50%的值</strong>。要计算四分位距(IQR)，首先要计算数据上下半部分的中间值。这些值是四分位数1 (Q1)和四分位数3 (Q3)。IQR是Q3和Q1之间的差值。</p><p id="6622" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir"> IQR = Q3-Q1 </strong></p><p id="4ce1" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">最小值= Q1–1.5 * IQR</strong></p><p id="40b9" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">最大值= Q3+1.5*IQR </strong></p><p id="0a28" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">小于<strong class="mb ir">最小值</strong>的数据点和大于<strong class="mb ir">最大值</strong>的数据点被视为异常值。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pq"><img src="../Images/6ce3c5f7c25fbc4c44ddedcf994d01e3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1240/format:webp/1*yQlfxKFvjoGpJ3XWin3TZA.png"/></div></figure><p id="7fda" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">让我们看看这项技术的实际实现。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="3219" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(10,5))</span><span id="6220" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,1)<br/>sns.distplot(df['cgpa'])</span><span id="d232" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,2)<br/>sns.distplot(df['placement_exam_marks'])</span></pre><p id="dfd5" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">特征<strong class="mb ir"> placement_exam_marks </strong>是偏斜的，并且符合离群点检测的IQR方法。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/a2ce5f73f5edb0dc4032a68538f9a913.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*GNJ6Hfiib_Ve5UFCJs29aw.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="4caa" class="kw kx iq ks b gy ky kz l la lb">df['placement_exam_marks'].skew()<br/>0.8356419499466834</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/dbbb2cd3d128b01b409bf9d2c6d273e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/1*hksA1jJ-rl1IvLsU70kEhw.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="a54d" class="kw kx iq ks b gy ky kz l la lb">#Finding the IQR</span><span id="b953" class="kw kx iq ks b gy lc kz l la lb">Q1 = df['placement_exam_marks'].quantile(0.25)<br/>Q3 = df['placement_exam_marks'].quantile(0.75)</span><span id="f5f0" class="kw kx iq ks b gy lc kz l la lb">IQR = Q3-Q1</span><span id="9ab4" class="kw kx iq ks b gy lc kz l la lb">upper_limit = Q3+1.5*IQR<br/>lower_limit = Q1-1.5*IQR</span><span id="38a1" class="kw kx iq ks b gy lc kz l la lb">print('lower limit: ', lower_limit)<br/>print('upper limit: ', upper_limit)<br/>print('IQR:' , IQR)</span><span id="9a09" class="kw kx iq ks b gy lc kz l la lb"><strong class="ks ir">lower limit:  -23.5<br/>upper limit:  84.5<br/>IQR: 27.0</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/b5b57bb3f030b84f1beab6b1549d0c99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1390/format:webp/1*3zZIA6EidTKWxJ2TTtzDZQ.png"/></div></figure><p id="9509" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">上述15个数据点被检测为异常值。</p><h2 id="d3e1" class="kw kx iq bd lf pd pe dn lj pf pg dp ln nz ph pi lp oa pj pk lr ob pl pm lt pn bi translated">修整:</h2><p id="3a63" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated">在这种方法中，我们可以删除最小和最大限制之外的所有数据点。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="ba88" class="kw kx iq ks b gy ky kz l la lb">df_new = df[~(df['placement_exam_marks']&gt;upper_limit) | (df['placement_exam_marks']&lt;lower_limit)]</span><span id="506f" class="kw kx iq ks b gy lc kz l la lb">df_new</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/69653a8b094f8d5771530b07380ec427.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*fV3Xu7dC8hBaPWm7Wl5-bA.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="027f" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(15,5))</span><span id="d1dc" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,1)<br/>sns.distplot(df['placement_exam_marks'])</span><span id="92ef" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,2)<br/>sns.boxplot(df['placement_exam_marks'])</span><span id="01a3" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,3)<br/>sns.distplot(df_new['placement_exam_marks'])</span><span id="f663" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,4)<br/>sns.boxplot(df_new['placement_exam_marks'])</span></pre><p id="3683" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">修剪特征后，查看数据分布和箱线图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi pv"><img src="../Images/0702df2560e644b0c5522dd52c2c9339.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CFUB1ygR-JXy-FZPuMgCsQ.png"/></div></div></figure><p id="2c57" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated"><strong class="mb ir">加盖:</strong></p><p id="6e7f" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">在这种方法中，异常数据点以最高或最低值为上限，如下所示。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="cfa7" class="kw kx iq ks b gy ky kz l la lb">upper_limit = 84.5<br/>lower_limit = -23.5</span><span id="e5eb" class="kw kx iq ks b gy lc kz l la lb">df_cap = df.copy()</span><span id="81eb" class="kw kx iq ks b gy lc kz l la lb">df_cap['placement_exam_marks'] = np.where(df_cap['placement_exam_marks']&gt;upper_limit, upper_limit , df_cap['placement_exam_marks']) <br/>df_cap['placement_exam_marks'] = np.where(df_cap['placement_exam_marks']&lt;lower_limit , lower_limit , df_cap['placement_exam_marks'])</span><span id="34ab" class="kw kx iq ks b gy lc kz l la lb">df_cap['placement_exam_marks'].max()<br/><strong class="ks ir">84.5</strong></span><span id="c54a" class="kw kx iq ks b gy lc kz l la lb">df_cap['placement_exam_marks'].min()<br/><strong class="ks ir">0.0</strong></span></pre><p id="5171" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">我们可以比较要素封顶前后的数据分布。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="8df3" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(15,5))</span><span id="110d" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,1)<br/>sns.distplot(df['placement_exam_marks'])</span><span id="9ad8" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,2)<br/>sns.boxplot(df['placement_exam_marks'])</span><span id="90c4" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,3)<br/>sns.distplot(df_cap['placement_exam_marks'])</span><span id="09bb" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(2,2,4)<br/>sns.boxplot(df_cap['placement_exam_marks'])</span></pre><p id="d7ee" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">查看要素封顶后的数据分布和箱线图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi pw"><img src="../Images/707285a405d3df76f742bab6ac400c83.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0BpVu0RQspamhQNTXU6Cfw.png"/></div></div></figure><div class="of og gp gr oh nk"><a href="https://medium.com/@gowthamsr37/how-do-i-analyze-the-data-before-building-a-machine-learning-model-c14a58df36b7" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">在建立机器学习模型之前，我如何分析数据？</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">目录:</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="px l nv nw nx nt ny kl nk"/></div></div></a></div><h1 id="cacd" class="le kx iq bd lf lg lh li lj lk ll lm ln jw lo jx lp jz lq ka lr kc ls kd lt lu bi translated">3.百分位数法</h1><p id="3616" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated">简而言之，百分位数可以被视为数据百分比低于该值的值。如果我的分数是90 %,那么这意味着我的分数比参加考试的90%的学生都要好。</p><p id="1ab1" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">如果你得了最高分，正好是95分，那么就是100分，也就是说你的分数超过了参加考试的100%的学生。</p><p id="2d0a" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">这是用来检测数据集中异常值的最简单的技术之一。我们只需要决定阈值，例如，如果我们决定1个百分点，那么这意味着我们将所有高于99个百分点和低于1个百分点的值视为异常值。</p><p id="24e6" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">让我们看看如何实际实施这种方法。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="a7c2" class="kw kx iq ks b gy ky kz l la lb">df = pd.read_csv('weight-height.csv')<br/>df.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi py"><img src="../Images/eacb74620dcc1b9b7979e1677a327da4.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*BVdg2z2STKeSNCwoiHDLBg.png"/></div></figure><p id="fbad" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">让我们将百分位数法应用于特征<strong class="mb ir">“身高”。</strong></p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pz"><img src="../Images/115dacfe541f08950985b81be0adc6c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*WqmZwERLyZemCKX4XI1YUQ.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="bcc1" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(15,5))</span><span id="c95b" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,1)<br/>sns.distplot(df['Height'])</span><span id="db4a" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,2)<br/>sns.boxplot(df['Height'])</span></pre><p id="2d2e" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">查看数据的分布和特征的箱线图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi qa"><img src="../Images/69cc239c40c813382ca2d45c5de311f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0RcMlwLtnMVHI3GGxdJMrQ.png"/></div></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="9680" class="kw kx iq ks b gy ky kz l la lb">#Finding the upper and lower limit</span><span id="2440" class="kw kx iq ks b gy lc kz l la lb">upper_limit = df['Height'].quantile(0.99)<br/>lower_limit = df['Height'].quantile(0.01)</span><span id="71f1" class="kw kx iq ks b gy lc kz l la lb">print('lower limit: ', lower_limit)<br/>print('upper limit: ', upper_limit)</span><span id="cfd2" class="kw kx iq ks b gy lc kz l la lb"><strong class="ks ir">lower limit:  58.13441158671655<br/>upper limit:  74.7857900583366</strong></span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qb"><img src="../Images/612801508bbc7bfe8e19afff95a2ce96.png" data-original-src="https://miro.medium.com/v2/resize:fit:946/format:webp/1*YgTQ4H5jHuwmM6BpqwFWgg.png"/></div></figure><p id="eabb" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">上述201个数据点被检测为异常值。</p><div class="of og gp gr oh nk"><a rel="noopener  ugc nofollow" target="_blank" href="/step-by-step-approach-to-building-a-recommendation-system-a65be5a54045"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">一个完整的基于端到端机器学习的推荐项目</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">基于协同过滤和流行度过滤的机器学习推荐方案</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">pub.towardsai.net</p></div></div><div class="nt l"><div class="qc l nv nw nx nt ny kl nk"/></div></div></a></div><h2 id="5674" class="kw kx iq bd lf pd pe dn lj pf pg dp ln nz ph pi lp oa pj pk lr ob pl pm lt pn bi translated">整理</h2><p id="2257" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated">在这种方法中，我们可以删除最小和最大限制之外的所有数据点。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="ccb5" class="kw kx iq ks b gy ky kz l la lb">df_new = df[(df['Height']&gt;=58.13) &amp; (df['Height']&lt;=74.78)]<br/>df_new</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qd"><img src="../Images/1a35ae7887d220b84a646afec3e48344.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*CbhUeRZJ8wsUJ-5Yyc4y8A.png"/></div></figure><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qe"><img src="../Images/e72dab490e8bb506db805620557117ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*ezcqrbFBFakij-4k4CMMdg.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="2f89" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(15,5))</span><span id="bdb6" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,1)<br/>sns.distplot(df_new['Height'])</span><span id="2d6d" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,2)<br/>sns.boxplot(df_new['Height'])</span></pre><p id="8c55" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">修剪特征后，查看数据分布和箱线图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi qf"><img src="../Images/bba7037bd4acd0c06155233806746db3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CUZRsULzm2psMDlj4HjzPQ.png"/></div></div></figure><h2 id="0044" class="kw kx iq bd lf pd pe dn lj pf pg dp ln nz ph pi lp oa pj pk lr ob pl pm lt pn bi translated">封顶(也称为Winsorization)</h2><p id="0c4b" class="pw-post-body-paragraph ly lz iq mb b mc ok jr me mf ol ju mh nz om mk ml oa on mo mp ob oo ms mt mu ij bi translated">在这种方法中，异常数据点以最高或最低值为上限，如下所示。</p><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="58e6" class="kw kx iq ks b gy ky kz l la lb">upper_limit = df['Height'].quantile(0.99)<br/>lower_limit = df['Height'].quantile(0.01)</span><span id="8c29" class="kw kx iq ks b gy lc kz l la lb">df_cap = df.copy()</span><span id="355e" class="kw kx iq ks b gy lc kz l la lb">df_cap['Height'] = np.where(df_cap['Height']&gt;upper_limit , upper_limit , df_cap['Height'])<br/>df_cap['Height'] = np.where(df_cap['Height']&lt;lower_limit , lower_limit , df_cap['Height'])</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi qg"><img src="../Images/c3e67a2b24843f2b7d86250cc83cd8bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:552/format:webp/1*likaRBsOD5aUizDpxXWmng.png"/></div></figure><pre class="kg kh ki kj gt kr ks kt ku aw kv bi"><span id="8724" class="kw kx iq ks b gy ky kz l la lb">plt.figure(figsize=(15,5))</span><span id="4cc8" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,1)<br/>sns.distplot(df_cap['Height'])</span><span id="0397" class="kw kx iq ks b gy lc kz l la lb">plt.subplot(1,2,2)<br/>sns.boxplot(df_cap['Height'])</span></pre><p id="7966" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">查看要素封顶后的数据分布和箱线图。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="oq or di os bf ot"><div class="gh gi pv"><img src="../Images/86e8d63c4a9defb3fdabc55a4f9b6265.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xSY6y7Xhu4pXKarDphzLWA.png"/></div></div></figure><p id="1465" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">请访问<a class="ae ld" href="https://github.com/gowthamsr37/Outlier-Detection-and-Removal-Techniques/tree/main" rel="noopener ugc nofollow" target="_blank"> GitHub </a>链接获取完整代码。</p><p id="2a02" class="pw-post-body-paragraph ly lz iq mb b mc md jr me mf mg ju mh nz mj mk ml oa mn mo mp ob mr ms mt mu ij bi translated">你可以通过<a class="ae ld" href="https://www.linkedin.com/in/gowtham-s-r-78120a127/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>和我联系</p></div></div>    
</body>
</html>