<html>
<head>
<title>pd.read_csv() is not enough (*)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">pd.read_csv()还不够(*)</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/pd-read-csv-is-not-enough-d4382acccc20?source=collection_archive---------1-----------------------#2021-09-08">https://pub.towardsai.net/pd-read-csv-is-not-enough-d4382acccc20?source=collection_archive---------1-----------------------#2021-09-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="cfbe" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/programming" rel="noopener ugc nofollow" target="_blank">编程</a></h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/1e2bec50c9cded77d64de892a1d13368.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f8Tbg2XNbYuVh3rPQwa_4g.jpeg"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated"><a class="ae ko" href="https://unsplash.com/@sigmund?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">西格蒙德</a>在<a class="ae ko" href="https://unsplash.com/s/photos/load?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上拍照</figcaption></figure><p id="2e76" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">作为初学者，你可能只知道一种加载数据(通常是CSV格式)的方法，那就是使用<em class="ln"> pandas.read_csv </em>函数读取数据。这是最成熟和最强大的功能之一，但其他方法非常有用，有时肯定会派上用场。</p><p id="d597" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">几十年前，最有价值的资源是石油。数据被比作石油。因此有一句名言“数据是新的石油”。</p><p id="10d9" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">因此，让我们了解一下各种装油方法(😆)</p><blockquote class="lo lp lq"><p id="aacf" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">读取文本文件(。txt) </strong></p></blockquote><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="0f23" class="md me it lz b gy mf mg l mh mi">With open(“filename.txt”, r) as file:<br/>     print(file.read())</span></pre><blockquote class="lo lp lq"><p id="ea6d" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">使用Numpy [loadtxt()，genfromtxt()]</strong>导入平面文件</p></blockquote><p id="3db3" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> loadtxt() </strong></p><p id="3d22" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">导入numpy作为np <br/> data = np.loadtxt(文件名，分隔符= "，")</p><p id="d2dc" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> genfromtxt() </strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="ef32" class="md me it lz b gy mf mg l mh mi">import numpy as np<br/>data = np.genfromtxt(filename, delimiter = “,”)</span></pre><p id="f248" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">何时使用loadtxt()以及何时使用genfromtxt()</p><ul class=""><li id="a43b" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated">当我们的数据中有相同类型时，比如全整型、全分类或全浮点型，那么就使用loadtxt()</li><li id="0ffb" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">但是当我们有混合数据类型时，比如我们有int列、categorical列和所有其他类型的列，那么我们应该使用genfromtxt()</li></ul><blockquote class="lo lp lq"><p id="9d38" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">读取CSV文件:</strong></p></blockquote><p id="c0c1" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">利用熊猫</strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="18ec" class="md me it lz b gy mf mg l mh mi">import pandas as pd<br/>data = pd.read_csv(‘file.csv’, **kwargs)</span></pre><blockquote class="lo lp lq"><p id="476a" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">读取泡菜文件:</strong></p></blockquote><ul class=""><li id="6c02" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated">Pickle文件是序列化的(将一个对象转换成字节流)</li></ul><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="4211" class="md me it lz b gy mf mg l mh mi">import pickle<br/>with open(“file.pkl”, ‘rb’) as file:<br/>     data = pickle.load(file)<br/>print(data)</span></pre><blockquote class="lo lp lq"><p id="28e0" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">读取Excel文件:</strong></p></blockquote><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="e567" class="md me it lz b gy mf mg l mh mi">import pandas as pd<br/>data = pd.excelfile(“file.xlsx”)<br/>print(data.sheet_name)</span></pre><blockquote class="lo lp lq"><p id="f5ef" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">导入SAS和Stata文件</strong></p></blockquote><ul class=""><li id="75f8" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated"><strong class="kr jd"> SAS:- </strong>统计分析系统</li><li id="7dc6" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated"><strong class="kr jd"> Stata:- </strong>统计分析数据</li></ul><blockquote class="lo lp lq"><p id="b249" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd"> SAS文件是用来干什么的？</strong></p></blockquote><ul class=""><li id="3236" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated">高级/多元分析</li><li id="e33b" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">商业智能</li><li id="68f4" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">数据管理</li><li id="17d8" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">预测分析</li></ul><blockquote class="lo lp lq"><p id="2839" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">导入SAS文件</strong></p></blockquote><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="4660" class="md me it lz b gy mf mg l mh mi">import pandas as pd<br/>from sas7bdat import SAS7DBAT</span><span id="f690" class="md me it lz b gy mx mg l mh mi">with SAS7DBAT(“file.sas7bdat”) as file:<br/>     df_sas = file.to_data_frame()</span></pre><blockquote class="lo lp lq"><p id="a2e9" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd"> Stata文件用于</strong></p></blockquote><ul class=""><li id="77f0" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated">DTA文件是IWIS链条工程(一种汽车传动链计算程序)使用的数据库文件。它包含的数据可能包括发动机扭矩、链条负载和传动链所支持的摩擦力。DTA文件用于计算所需的驱动能力，以确定适合汽车的驱动链。</li></ul><blockquote class="lo lp lq"><p id="63bd" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">导入STATA文件</strong></p></blockquote><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="d447" class="md me it lz b gy mf mg l mh mi">import pandas as pd<br/>data = pd.read_state(‘file.dta”)</span></pre><blockquote class="lo lp lq"><p id="e061" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">导入HDF5文件</strong></p></blockquote><ul class=""><li id="6401" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated">分层数据格式版本5</li><li id="e664" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">存储大量数字数据的标准</li><li id="02a6" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">数据集可能有数百GB或TB</li><li id="47a1" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">HDF5可扩展至1 EB</li></ul><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="88f1" class="md me it lz b gy mf mg l mh mi">import h5py<br/>data = h5py.File(“file.hdf5”, ‘r’)<br/>print(type(data))</span><span id="a23c" class="md me it lz b gy mx mg l mh mi">//The Structure of HDF5 file<br/>for key in data.keys():<br/>    print(key)</span></pre><blockquote class="lo lp lq"><p id="3f93" class="kp kq ln kr b ks kt ku kv kw kx ky kz lr lb lc ld ls lf lg lh lt lj lk ll lm im bi translated"><strong class="kr jd">导入MATLAB文件</strong></p></blockquote><ul class=""><li id="be13" class="mj mk it kr b ks kt kw kx la ml le mm li mn lm mo mp mq mr bi translated">Matlab代表矩阵实验室。</li><li id="1aa3" class="mj mk it kr b ks ms kw mt la mu le mv li mw lm mo mp mq mr bi translated">数据文件另存为”。垫子"</li></ul><p id="df24" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">使用scipy.io </strong></p><pre class="lu lv lw lx gt ly lz ma mb aw mc bi"><span id="a106" class="md me it lz b gy mf mg l mh mi">import scipy.io<br/>mat = scipy.io.loadmat(‘file.mat’)<br/>print(type(mat))</span></pre><p id="9c44" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">暂时就这样了👏👏。下一篇文章再见。</p><p id="7443" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">在我的YouTube上查看更多有趣的机器学习、深度学习、数据科学项目👉:-</strong><a class="ae ko" href="https://www.youtube.com/c/himanshutripathi" rel="noopener ugc nofollow" target="_blank"><strong class="kr jd">YouTube</strong></a><strong class="kr jd"/>(👍)</p><p id="7c5c" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">还有，我们来连线一下</strong><a class="ae ko" href="https://www.linkedin.com/in/iamhimanshu0/" rel="noopener ugc nofollow" target="_blank"><strong class="kr jd">Linkedin</strong></a><strong class="kr jd"/><a class="ae ko" href="https://twitter.com/iam_himanshu0" rel="noopener ugc nofollow" target="_blank"><strong class="kr jd">Twitter</strong></a><strong class="kr jd"/><a class="ae ko" href="https://instagram.com/iamhimanshu0/" rel="noopener ugc nofollow" target="_blank"><strong class="kr jd">insta gram</strong></a><strong class="kr jd"/><a class="ae ko" href="https://github.com/iamhimanshu0" rel="noopener ugc nofollow" target="_blank"><strong class="kr jd">Github</strong></a><strong class="kr jd">，以及</strong> <a class="ae ko" href="https://www.facebook.com/iamhimanshu0" rel="noopener ugc nofollow" target="_blank"> <strong class="kr jd">脸书</strong> </a> <strong class="kr jd">。</strong></p></div></div>    
</body>
</html>