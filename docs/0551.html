<html>
<head>
<title>Understanding Pascal VOC and COCO Annotations for Object Detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">理解用于对象检测的Pascal VOC和COCO注释</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/understanding-coco-and-pascal-voc-annotations-for-object-detection-bb8ffbbb36e3?source=collection_archive---------0-----------------------#2020-06-04">https://pub.towardsai.net/understanding-coco-and-pascal-voc-annotations-for-object-detection-bb8ffbbb36e3?source=collection_archive---------0-----------------------#2020-06-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9652" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">计算机视觉</h2><div class=""/><figure class="gl gn ka kb kc kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi jz"><img src="../Images/253477a4aef36eddd0535248023d5501.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*s5U4tA3chIig_gx5"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">来源:<a class="ae ko" href="https://images.unsplash.com/photo-1473163928189-364b2c4e1135?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=1950&amp;q=80" rel="noopener ugc nofollow" target="_blank"> Unsplash </a></figcaption></figure><p id="398c" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">介绍</p><p id="4a4c" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在之前的<a class="ae ko" href="https://medium.com/towards-artificial-intelligence/create-your-dataset-for-object-detection-99f1ed04f2e5" rel="noopener">博客</a>中，我们为对象检测和分割创建了<strong class="kr jd"> COCO </strong>和<strong class="kr jd"> Pascal VOC </strong>数据集<strong class="kr jd"> </strong>。因此，我们将深入研究这些数据集。</p><p id="0853" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">帕斯卡VOC </strong></p><p id="aba4" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">PASCAL(模式分析、统计建模和计算学习)是欧盟的一个优秀网络。从2005年到2012年，他们举办了视觉对象挑战赛。</p><p id="f022" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">VoTT注释后得到的文件结构如下。</p><figure class="lo lp lq lr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi ln"><img src="../Images/b8da8d1770b72cb7f9acbb8b5c941797.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JPKil9SwbrVgPus6j6h38Q.png"/></div></div></figure><p id="f51a" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这四个组件是<strong class="kr jd"> <em class="ls">注释、图像集、JPEGImages、</em> </strong>和<strong class="kr jd"><em class="ls">Pascal _ label _ map . pbxt .</em></strong></p><p id="6dbc" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">我们将来到注释；最后，JPEGImages是包含原始图像的文件夹。图像集包含两个txt文件，一个是train，另一个是valid，位于包含train和valid中图像列表的主文件夹中。</p><p id="d15f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">pascal_label_map.pbxt包含要检测的对象的id和名称。</p><p id="91f0" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"><em class="ls">Pascal _ label _ map . pbxt</em></strong></p><pre class="lo lp lq lr gt lt lu lv lw aw lx bi"><span id="68fc" class="ly lz it lu b gy ma mb l mc md">item {<br/> id: 1<br/> name: ‘cricketers’<br/>}</span></pre><p id="fbb2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">最后也是最重要的部分是注释，注释文件是为给定文件夹中的每个图像创建的。</p><figure class="lo lp lq lr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi me"><img src="../Images/346628a22a2d4a64e921a610181a1a06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CTSsVHI0ExR375en1jeZIg.png"/></div></div></figure><p id="2b57" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">注释存储在一个XML文件中，让我们来看一个示例XML文件。</p><figure class="lo lp lq lr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mf"><img src="../Images/73f78de3efc1d2e3df4ba503de796efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jq4kMHl2AwBtNqSptoggaw.png"/></div></div></figure><p id="f906" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">有不同的组件或标签对应于XML输出。</p><p id="7b06" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">文件夹</em>:包含图像。</p><p id="cc09" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">文件名</em>:被标注图像的相对路径。</p><p id="e747" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">路径:</em>标注后输出文件的绝对路径。</p><p id="50e8" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">尺寸:</em>高度、宽度以像素为单位，深度表示RGB图像深度的通道数为3，黑白为1。</p><p id="f8cd" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">对象:</em>包含名称、姿势、截断、困难。</p><ul class=""><li id="ee38" class="mg mh it kr b ks kt kw kx la mi le mj li mk lm ml mm mn mo bi translated"><em class="ls"> name: </em>包含被注释对象的名称，在我们的例子中是板球运动员。</li><li id="ae44" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls">姿势</em>:向左、向右等方向。</li><li id="7519" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls">截断:</em>如果对象超出边界框，截断为1，否则为0。</li><li id="91f7" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls">难度</em>:如果不评估难度为1否则为0。</li></ul><p id="3195" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls"> bndbox </em>:包围盒由左上角和右下角组成(<em class="ls">xmin-左上角，ymin-左上角，xmax-右下角，ymax-右下角)</em></p><p id="fc96" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd">可可</strong></p><p id="17b4" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">COCO在上下文中是一个常见的宾语。该数据集包含328，000幅图像中250万个标记实例的91种对象类型。</p><p id="697c" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">COCO用于对象检测、分割和字幕数据集。</p><ul class=""><li id="aa11" class="mg mh it kr b ks kt kw kx la mi le mj li mk lm ml mm mn mo bi translated">对象分割</li><li id="3521" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated">语境中的识别</li><li id="79fc" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated">超像素素材分割</li></ul><p id="e8b2" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">与Pascal VOC中的XML格式不同，COCO以JSON格式存储注释。</p><p id="1063" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">COCO的官方文件上写着它有五个<a class="ae ko" href="http://cocodataset.org/#detection-2019" rel="noopener ugc nofollow" target="_blank">物体检测</a>、<a class="ae ko" href="http://cocodataset.org/#keypoints-2019" rel="noopener ugc nofollow" target="_blank">关键点检测</a>、<a class="ae ko" href="http://cocodataset.org/#stuff-2019" rel="noopener ugc nofollow" target="_blank">素材分割</a>、<a class="ae ko" href="http://cocodataset.org/#panoptic-2019" rel="noopener ugc nofollow" target="_blank">全景分割</a>和<a class="ae ko" href="http://cocodataset.org/#captions-2015" rel="noopener ugc nofollow" target="_blank">图像字幕</a>。</p><figure class="lo lp lq lr gt kd gh gi paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><div class="gh gi mu"><img src="../Images/e3f03c02c170619b196918f713b4f142.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_nCVcpR_Rf7dc2eREgrO6Q.png"/></div></div><figcaption class="kk kl gj gh gi km kn bd b be z dk translated">图片来源COCO官方网站<a class="ae ko" href="http://cocodataset.org/" rel="noopener ugc nofollow" target="_blank">http://cocodataset.org/</a></figcaption></figure><p id="185f" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">COCO注释的基本数据结构对于所有五种类型都是相同的。与Pascal VOC注释不同，所有图像只有一个注释。</p><p id="f7ca" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">让我们仔细看看注释文件。</p><p id="d0d6" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">四个基本组件是<em class="ls">信息、图像、注释</em>和<em class="ls">许可</em>。</p><p id="e326" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">信息</em>:包含图像的标准信息/描述。</p><p id="c0cc" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">图片:上图中列出的每张图片的所有细节。</em></p><p id="9b7b" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><em class="ls">许可证</em>:由适用于该图像的许可证组成。</p><p id="fee1" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">这里，我们将重点关注对象检测注释。</p><p id="1a11" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated"><strong class="kr jd"> <em class="ls">注解</em> </strong>了解这些让我们先了解什么是类别。</p><p id="9f67" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">类别包含一个具有唯一id的所有图像及其超级类别的列表，例如，运动员超级类别将是板球运动员，每个板球运动员将有一个唯一的id。</p><pre class="lo lp lq lr gt lt lu lv lw aw lx bi"><span id="fc4e" class="ly lz it lu b gy ma mb l mc md">"categories": [<br/>    {"supercategory": "cricketers","id": 1,"name": "Sachin"},<br/>    {"supercategory": "cricketers","id": 2,"name": "Stokes"},<br/>    {"supercategory": "umpire","id": 3,"name": "Bucknor"},<br/>    {"supercategory": "cricketers","id": 4,"name": "Waugh"},<br/>    {"supercategory": "umpire","id": 5,"name": "Taufel"},<br/>    <br/>]</span></pre><p id="6228" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">注释的数量将等于整个图像数据集中存在的对象的总数。</p><div class="lo lp lq lr gt ab cb"><figure class="mv kd mw mx my mz na paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><img src="../Images/bcd3a715bb97ba4cb637e798e7bf3de9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*J8-dBqpnEefWrrBn08SB7w.jpeg"/></div></figure><figure class="mv kd mw mx my mz na paragraph-image"><div role="button" tabindex="0" class="ke kf di kg bf kh"><img src="../Images/50aecab713e38959cc620e71ebb13d74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*kfn38nYWycxl7vY886g-gQ.png"/></div><figcaption class="kk kl gj gh gi km kn bd b be z dk nb di nc nd translated">左边是原始图像，右边是遮罩。</figcaption></figure></div><p id="f9b8" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">遮罩被转换为COCO注释。</p><p id="f374" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">注释由<em class="ls">分割、iscrowd、image_id、category_id、id、bbox、</em>和<em class="ls">区域</em>组成</p><pre class="lo lp lq lr gt lt lu lv lw aw lx bi"><span id="e53b" class="ly lz it lu b gy ma mb l mc md">[{'segmentation': [[236.0,616.5,610.5,...,613.5,233.0,612.5,236.0,616.5]],<br/>  'iscrowd': 0,<br/>  'image_id': 1,<br/>  'category_id': 1,<br/>  'id': 1,<br/>  'bbox': (199.5, 126.5, 474.0, 490.0),<br/>  'area': 103944.0}]</span></pre><ul class=""><li id="b578" class="mg mh it kr b ks kt kw kx la mi le mj li mk lm ml mm mn mo bi translated"><em class="ls">分割:</em>使用聚类游程编码(RLE)的多边形顶点列表。RLE按照重复的次数存储重复的值。</li><li id="aec2" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls"> iscrowd </em> : 0表示单个对象，1表示一组对象。</li><li id="cf11" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated">image_id:对应于数据集中图像的唯一id。</li><li id="8b0c" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls"> category_id: </em>对应类别。</li><li id="e14e" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls"> id: </em>每个注释的唯一id。</li><li id="3019" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls">面积:</em>以像素为单位的包围盒面积。</li><li id="2640" class="mg mh it kr b ks mp kw mq la mr le ms li mt lm ml mm mn mo bi translated"><em class="ls"> bbox:一个</em>列表，包含<em class="ls">T43【左上x位置，左上y位置，宽度，高度】</em></li></ul><p id="82e9" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi translated">在下一篇博客中，我们将了解各种对象检测技术，并利用COCO和Pascal VOC数据。</p><p id="fa6e" class="pw-post-body-paragraph kp kq it kr b ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm im bi">😊</p></div></div>    
</body>
</html>