<html>
<head>
<title>Investigating the Risks Associated With COVID-19 Using Topic Modeling</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用主题建模调查与新冠肺炎相关的风险</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/investigation-into-the-risks-associated-with-covid-19-using-topic-modeling-2c4ed3ed6267?source=collection_archive---------3-----------------------#2020-04-30">https://pub.towardsai.net/investigation-into-the-risks-associated-with-covid-19-using-topic-modeling-2c4ed3ed6267?source=collection_archive---------3-----------------------#2020-04-30</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/5adf18b7893f73dbcbe178d91e6d9b67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oPkzhwkY4VLMwFhU3BExIg.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">由<a class="ae kc" href="https://unsplash.com/collections/9770056/coronavirus?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>上的<a class="ae kc" href="https://unsplash.com/@fusion_medical_animation?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">融合医学动画</a>拍摄的照片</figcaption></figure><p id="4a0f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">“我们越能追踪病毒，就越能战胜它。”</p><h1 id="c24b" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">目标</strong></h1><blockquote class="lz ma mb"><p id="5e91" class="kd ke mc kf b kg kh ki kj kk kl km kn md kp kq kr me kt ku kv mf kx ky kz la ij bi translated">自新型冠状病毒(新冠肺炎)爆发以来，它已成为对全球健康的重大和紧迫威胁。在疫情爆发的几个月内，数千篇关于其影响、风险和治疗的研究论文已经发表。研究进行的速度正在快速增长。但是对于那些想要寻找答案的人来说，这也带来了一个新问题。这为我们这些数据科学家创造了一个机会，通过开发数据挖掘工具来展示我们的专业知识，这些工具可以帮助医疗界找到非常重要的科学问题的答案。</p></blockquote><h1 id="3a14" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated"><strong class="ak">接近</strong></h1><p id="5ba9" class="pw-post-body-paragraph kd ke iq kf b kg mg ki kj kk mh km kn ko mi kq kr ks mj ku kv kw mk ky kz la ij bi translated">我们可以从几个不同的角度来看待与新冠肺炎有关的不同因素。我决定通过一种无人监督的方法来关注风险因素。<a class="ae kc" href="https://en.wikipedia.org/wiki/Topic_model" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">主题建模</strong> </a>是一种统计建模技术，用于识别文档集合中出现的抽象“主题”。<a class="ae kc" href="https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation" rel="noopener ugc nofollow" target="_blank"> LDA </a>和<a class="ae kc" href="https://en.wikipedia.org/wiki/Latent_semantic_analysis" rel="noopener ugc nofollow" target="_blank"> LSA </a>是两种突出的主题建模技术，我将使用LDA。利用它，我可以找到我们感兴趣的最相关的主题和文档。最后，我将通过交互式可视化展示我希望的最佳主题模型。</p><ol class=""><li id="516c" class="ml mm iq kf b kg kh kk kl ko mn ks mo kw mp la mq mr ms mt bi translated"><strong class="kf ir">新冠肺炎数据加载和准备</strong></li></ol><p id="88a5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最近，Kaggle向世界人工智能专家发出了行动呼吁，艾伦人工智能研究所(T21)已经提供了超过60，000篇学术文章，以及JSON格式的元数据，它们正在定期更新。</p><p id="cfef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的 请参考<a class="ae kc" href="https://www.kaggle.com/piyushrumao/covid-19-json-dataset-loader" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">数据加载</strong>上的内核<em class="mc">处理、清理、删除重复</em>，然后将JSON中的文本数据加载到pandas中。下面是整个语料库的一个片段。</a></p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/cc3f4acba21250fbea2090756a61e809.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eo_TYrWmVVgqLabh4_H6ZQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">超过60，000件物品被装载进行处理</figcaption></figure><p id="a36d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是，在['text '，' title '，' abstract']下有许多空值</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/128aff3e34099dcf0925cedf4bc46d67.png" data-original-src="https://miro.medium.com/v2/resize:fit:650/format:webp/1*w6edWOeT6D6FC7iCn9Vxtg.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">正如我们看到的，超过30k行的摘要是空的，这对于我们后面的分析来说是不理想的。</figcaption></figure><p id="054e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们拥有的数据越多，我们将获得的主题覆盖面就越广，所以我决定将所有文本数据合并到一个列中，如下所示。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/9660308869b352ec949ae90cf0d16ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*owG0ZyMRoARn3UMCMNi4rA.png"/></div></div></figure><p id="2e1e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们将使用“merged_text”列，它由每个paper_id的文本数据组成</p><p id="ecda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.<strong class="kf ir">训练无监督LDA模型</strong></p><p id="f37a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="http://latent Dirichlet allocation (LDA)" rel="noopener ugc nofollow" target="_blank">潜在狄利克雷分配(LDA) </a>是一种生成统计模型，它将每个文档视为主题的混合，因此在主题建模分析中非常有效。</p><p id="3952" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在基于马修·霍夫曼、大卫·布雷和弗朗西斯·巴赫的著名论文<a class="ae kc" href="https://papers.nips.cc/paper/3902-online-learning-for-latent-dirichlet-allocation" rel="noopener ugc nofollow" target="_blank">“潜在狄利克雷分配的在线学习”。</a> LDA已经在<a class="ae kc" href="https://radimrehurek.com/gensim/models/ldamulticore.html#module-gensim.models.ldamulticore" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Gensim </strong> </a>和<a class="ae kc" href="https://scikit-learn.org/stable/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> Scikit-learn </strong> </a>中实现。</p><p id="4f93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于Gensim的LDA具有更多内置功能，如<a class="ae kc" href="https://radimrehurek.com/gensim/models/coherencemodel.html" rel="noopener ugc nofollow" target="_blank">主题一致性管道</a>或<a class="ae kc" href="https://radimrehurek.com/gensim/models/dtmmodel.html" rel="noopener ugc nofollow" target="_blank">动态主题建模</a>，这将使其成为理想的选择，因为一致性分数可用于精确检测给定语料库的多个主题。然而，缺点是，与sklearn基于Cython的LDA实现相比，它非常慢。由于需要处理大量数据，并且收敛速度至少快4倍，因此它是最终训练的理想选择。假设我们知道要选择的精确主题号，那么我将首先训练基于gensim的LDA来检测精确主题，然后使用该主题号运行基于sklearn的实现来进行我们的其余分析。</p><p id="6ed0" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2.1使用gensim运行潜在狄利克雷分配</strong></p><p id="1fd5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将首先从基于gensim的LDA开始，通过处理输入数据，然后训练LDA来查看主题，最后利用一致性分数来决定多个主题的最佳值。</p><p id="fd4e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2.1.1让我们为我们的模型</strong>准备输入数据</p><p id="b71c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们为主题建模准备输入数据。第一步是数据清理，包括创建标记、删除停用词、删除3个字符以下的词，然后将这些标记附加到每个文档的列表中。我们可以通过将记号词干化/词尾化为词根形式并生成n元语法来使事情变得更有趣。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/0cf45f472cd31930bdea76a94cec4565.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QX6KKI6wlrKteA4WlyA39w.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">删除停用词并为每个输入行创建一个标记列表</figcaption></figure><p id="f21b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2.1.2生成字典和特征数据</strong></p><p id="59ac" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">机器学习模型无法像我们人类一样直接理解文本数据，所以这些文本数据需要通过专门的翻译器来转换成机器可以理解的格式。这个过程称为矢量化或特征提取。我将使用tf-idf作为一个特征生成器，映射一个单词对文档集合中的一个文档有多重要，而不像单词包方法那样只重视频繁出现的单词。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/750600ac1137cf572b79386be21ee17d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*g8-jvybg_eqgNOR_1IKxbg.png"/></div></figure><p id="f527" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们在上面看到的，我使用之前创建的已处理列表创建了一个字典，然后过滤掉了:</p><p id="656e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">I .在60，000个文档中出现不到100个</p><p id="8e89" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">二。出现在70%以上的语料库中</p><p id="577c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">三。保留前50k代币</p><p id="f0ca" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后创建tf-idf模型并在整个语料库上应用向量变换，词典和tf-idf模型都可以被保存(pickle.dump)以供将来使用。</p><p id="ed2b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2.1.3并行潜在狄利克雷分配训练</strong></p><p id="e1f3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Gensim提供了<a class="ae kc" href="https://radimrehurek.com/gensim/models/ldamulticore.html" rel="noopener ugc nofollow" target="_blank">gensim . models . LDA multi core</a>类，该类利用最多的内核来并行化和加速模型训练</p><p id="4467" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于单核的实施。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/426352be46dbf2495dea12e1f4c31780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iyJW2ZRNJU3PFlbhdzgrdA.png"/></div></div></figure><p id="2973" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了更快地进行培训，我设置了workers = 10和pass = 2，让我们检查一下当主题数= 10时创建的主题类型</p><p id="cc43" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2.1.4计算模型的困惑度和一致性</strong></p><p id="b30a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">困惑和一致性分数是用于决定我们的学习模型有多好的评估指标。困惑和连贯性是成反比的，困惑分数越低，连贯性分数越高，模型越好。</p><p id="90b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们快速地看一下它们中的每一个，以了解它们代表了什么，困惑度量了未见过的数据被分配给之前学习过的主题的概率。然而，困惑作用于对数似然，对数似然不能很好地概括，这导致了主题一致性度量的发展。主题一致性衡量主题中高分单词之间的语义相似性。这些计算有助于区分语义上可解释的主题。</p><p id="2260" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们计算一下，看看我们的模型得分有多高。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/a74ec6d44ecacbbcd31caf676be0c5e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*36yJl6CmFwCX6Ls5aaz6qw.png"/></div></div></figure><p id="d32b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir"> 2.1.5寻找LDA模型的最佳主题数量</strong></p><p id="59d7" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用上述相同的一致性指标，我们将选择4到40之间的主题值范围，并观察不同主题值的模型性能。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/7868b8d22722b5aa8aa8222080af2f9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8lIYYu9ppzn32rxPOh5kdw.png"/></div></div></figure><p id="12f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用上面的代码，我们可以计算相干值并绘制它们，如下所示。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/942e6437839a07cb936265e96950306e.png" data-original-src="https://miro.medium.com/v2/resize:fit:932/format:webp/1*PPBQ5jvbJfb48Z7IAQEI6w.png"/></div></figure><p id="891f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们在上面看到的，连贯性分数在主题编号4-10之间上升，然后从主题大小15到40持续下降，没有改善的迹象，所以使用4到12之间的主题编号是明智的，它显示了最高的连贯性分数，所以我决定使用主题编号10。</p><p id="6f2c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.2.<strong class="kf ir">基于Sklearn的潜在狄利克雷分配</strong></p><p id="42d8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">与gensim不同，基于sklearn的LDA使用起来更加简单快捷。</p><p id="b37d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.2.1 <strong class="kf ir">使用tf-idf矢量化</strong>为LDA准备输入数据</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/fd7b9f56eacadea5837417f2c5da73bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EehZcdaHcvTU5cU_i7so0A.png"/></div></div></figure><p id="8508" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们的tf-idf矢量器忽略停用词以及出现在语料库中超过90%的文档中的词，然后创建一元词和二元词，并从语料库中选择前30k个词进行特征生成。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/d51a21e35118697c0050b37626c9b10a.png" data-original-src="https://miro.medium.com/v2/resize:fit:782/format:webp/1*35WKXCKA9WNZrt3zyVLvNA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">快速浏览我们的矢量器选择的词汇</figcaption></figure><p id="1f1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.2.2 <strong class="kf ir">训练潜在狄利克雷分配</strong></p><p id="5d30" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我基于gensim的基于一致性的优化器选择number_of_topics = 10，然后在从整个语料库生成的tf-idf向量上训练它。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/48ff07f45353fd32124383a3efb91843.png" data-original-src="https://miro.medium.com/v2/resize:fit:1368/format:webp/1*f5Nt_95Fib4en4755tKbnw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">你可以在上面看到我的基于scikit-learn的训练过的LDA模型。</figcaption></figure><p id="c256" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">2.2.3使用LDA创建的<strong class="kf ir">主题</strong></p><p id="e368" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们看看每个主题下的前10个单词，以了解这些主题下的文档类型的要点。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/2df476617612909ceb0c8516371b1a2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*6rDp5xwKcrvo_fBszMjKEA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">打印每个主题的热门词汇</figcaption></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi np"><img src="../Images/5968bf820fbf3c1c80a118e398021ac1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3SY4BjppCOzxHnw5ataJIw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">正如你在上面看到的，我已经打印了每个主题的前10个单词</figcaption></figure><p id="9a4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">3.<strong class="kf ir">寻找与新冠肺炎相关风险最相关的主题</strong></p><blockquote class="lz ma mb"><p id="6c80" class="kd ke mc kf b kg kh ki kj kk kl km kn md kp kq kr me kt ku kv mf kx ky kz la ij bi translated">这里的所有部分对我们的整个分析都是至关重要的。毕竟，如果我们不能从中获得商业价值，我们为训练模型所做的努力将毫无价值，而这是任何数据科学项目成功的关键因素。</p></blockquote><p id="7615" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将首先创建一个与冠状病毒风险因素相关的看不见的文件的字典。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi nq"><img src="../Images/87305e3bb75d174b8afaa6db57165397.png" data-original-src="https://miro.medium.com/v2/resize:fit:1278/format:webp/1*4ExNrxaJMxhu9Xr8Qv166Q.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">与新冠肺炎相关的风险有多种类型，我将重点关注以上4种类型。</figcaption></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/7b5d3f462a52cda83d8dfea4bcb54f84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f2DGhEA5XkoaBdZ0Fxc_cg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">字典中有4个关于上述突出风险因素的关键词，每个关键词都包含一个支持文件列表。</figcaption></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/e9a6224c564ff038051ad42fce64c26a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*bJoN1vJZ3ASpAIZyTGpPzg.png"/></div></figure><p id="80db" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用我们训练过的tf-idf矢量器，我们将把文本转换成矢量，然后运行LDA模型，找出哪些主题与每个风险因素高度相关。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/99492e15bdf4465cd9e74a06b8d6141d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IzzI1ftkzVcZcLyOCKbr4Q.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">列(0-9)是我们的10个主题，行是每个风险类型下的单独文档。</figcaption></figure><blockquote class="lz ma mb"><p id="c21d" class="kd ke mc kf b kg kh ki kj kk kl km kn md kp kq kr me kt ku kv mf kx ky kz la ij bi translated">关于<strong class="kf ir"> <em class="iq">签约风险</em> </strong>的全部7份文件和关于<strong class="kf ir"> <em class="iq">社区传播</em> </strong>的5份文件在<strong class="kf ir">主题5 </strong>中排名最高，而<strong class="kf ir"> <em class="iq">重疾</em> </strong>相关风险被发现包含在<strong class="kf ir">主题2 </strong>和<strong class="kf ir">主题5中。</strong>因此，寻找新冠肺炎收缩相关答案的医学研究人员应该只查看主题5下的文档，而寻找冠状病毒相关疾病的人应该在主题2下的文档中获得大部分答案。</p></blockquote><p id="6dc3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">4.<strong class="kf ir">使用余弦距离度量寻找最相关的文档</strong></p><p id="692f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，让我们考虑一个案例，某人发现了他/她感兴趣的一篇伟大的文章，并想知道是否有更多与它最相似的文章。为此，我们将首先计算语料库中文档的主题分布(每篇文章总计为1)，然后在该主题空间分布中使用余弦距离度量来查找前K篇最接近的文章。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/6dacf43da635f83506f05a07b1cb167d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2Bo9qLjHVjCuoAxHEPC-fg.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">我们将计算每个输入文档到我们训练模型的每个主题的距离。</figcaption></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/147e060fea9bc701395e69874d52ee5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9AxF9UJYKg67FXnuPCdeAw.png"/></div></div></figure><p id="31e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，我需要创建一个包含文本数据的列表(任务),我们要搜索最近的邻居，然后使用经过训练的tf-idf矢量器将文本转换为特征向量，并将该特征集与K值(要查找的最近邻居的数量)一起传递给函数get_k_nearest_docs()，该函数计算输入文档与整个语料库的余弦相似性，并返回前K个相似文档以及距离。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/af8cfb177dd83ffa69144cbe8d0c3eb6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JvsY2xYFKNz38sZsJGseyQ.png"/></div></div></figure><p id="99bf" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如我们在上面看到的，我们的输入文档的输出是在包含关于新冠肺炎的研究文章的整个语料库中找到的最相似的研究论文的前6名(用户给出的K值)。</p><p id="7a8e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.<strong class="kf ir">互动话题可视化</strong></p><p id="1082" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可视化使得检测模式、趋势和异常值变得更加容易，所以最后我将为我们检测到的主题添加两种不同的可视化。</p><p id="74ff" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对于主题建模，<a class="ae kc" href="https://pypi.org/project/pyLDAvis/2.1.1/" rel="noopener ugc nofollow" target="_blank"><strong class="kf ir">pyl Davis</strong></a><strong class="kf ir"/>是一个很棒的工具，可以从拟合的LDA模型中提取主题，并生成交互式仪表盘进行解释。</p><p id="0a25" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">此外，我将使用<a class="ae kc" href="https://scikit-learn.org/stable/modules/generated/sklearn.manifold.TSNE.html" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir"> t-SNE </strong> </a>工具构建一个仪表板，该工具用于在<a class="ae kc" href="https://docs.bokeh.org/en/latest/" rel="noopener ugc nofollow" target="_blank"> <strong class="kf ir">布克</strong> </a>图的帮助下可视化高维数据。</p><p id="ed1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.1 <strong class="kf ir"> pyLDAvis可视化</strong></p><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">如果你滚动单个气泡，那么决定它所涵盖的主题类型的顶部单词就会出现。</figcaption></figure><p id="a097" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你点击上面的Run Pen，它将加载一个可视化的10个独特的主题，我们已经确定显示在左边的圆形气泡中。每个主题涵盖的研究文章数量由气泡的大小来表示。代表特定主题的独特单词显示在右侧。我们有兴趣了解专题5和专题2下显示的可视化内容，这些内容独特地确定了与新冠肺炎相关的风险。</p><p id="fac1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">5.2 <strong class="kf ir">使用t-SNE对主题中出现的研究论文标题进行可视化</strong></p><p id="47f2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于pyLDAvis库为我们处理上面的可视化，并且只显示每个主题的唯一单词，我们在显示主题方面的自由度很小，我想为我们训练的主题模型尝试更多的可视化。我将高维空间中表示的主题转换为二维空间，然后将单个研究论文id和标题映射到每个转换后的向量，最后使用散景图将它们可视化为人脑的形状，其中独特的大脑颜色表示我们的模型学习的每种类型的主题。请参考下面的代码以及显示可视化工作的视频。</p><figure class="mv mw mx my gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ny"><img src="../Images/7ca5b00f0b8f5bbcd5fbdf75493e1ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8xeLTsaNSdgAirLqZvWK-g.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">首先，我们将为输入语料库建立ld a主题分数分布模型，然后使用t-SNE将其映射到2d空间</figcaption></figure><figure class="mv mw mx my gt jr"><div class="bz fp l di"><div class="nw nx l"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">包含特定主题的论文id和标题的图形可视化快速视频</figcaption></figure><figure class="mv mw mx my gt jr gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/3ba924cf9551f65862532e44379c90df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*0lHkOYMWu9lqsJq1kd1GFA.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk translated">上面大脑的不同颜色代表我们的模型学习的不同主题，每个主题都由不同的论文id和标题代表。</figcaption></figure><p id="df96" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">6.<strong class="kf ir">结论</strong></p><p id="3217" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我快速总结一下整个工作流程:</p><ol class=""><li id="d978" class="ml mm iq kf b kg kh kk kl ko mn ks mo kw mp la mq mr ms mt bi translated">我最初的目标是在新冠肺炎数据集上进行主题建模，以找出关于相关风险的有趣文章。</li><li id="ffff" class="ml mm iq kf b kg oa kk ob ko oc ks od kw oe la mq mr ms mt bi translated">我首先加载数据，并对其进行处理以供进一步分析。</li><li id="6642" class="ml mm iq kf b kg oa kk ob ko oc ks od kw oe la mq mr ms mt bi translated">然后使用这些数据，我训练了两个不同的LDA实现，一个使用gensim，另一个使用sklearn。</li><li id="8b46" class="ml mm iq kf b kg oa kk ob ko oc ks od kw oe la mq mr ms mt bi translated">使用连贯性评价指标和范围在4到40之间的主题数量，我发现了新冠肺炎语料库覆盖的独特主题的最佳数量。</li><li id="917e" class="ml mm iq kf b kg oa kk ob ko oc ks od kw oe la mq mr ms mt bi translated">后来，我通过创建一个与风险因素相关的文档字典，并评估我们训练的LDA模型将它们分类到哪些主题，来进行风险相关分析。</li><li id="d466" class="ml mm iq kf b kg oa kk ob ko oc ks od kw oe la mq mr ms mt bi translated">一旦确定了这些主题，在这些主题下出现的文档就是我研究的主要焦点。我甚至更进一步，使用余弦相似性度量来查找K个最近邻，即K个与给定输入文档主题相同的最相似文档。</li><li id="bf6c" class="ml mm iq kf b kg oa kk ob ko oc ks od kw oe la mq mr ms mt bi translated">最后，我使用pyLDAvis资源工具可视化了这些发现，并在t-SNE和bokeh的帮助下建立了自己的可视化。</li></ol><p id="c42b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有希望的是，这一过程可能导致从现有数据中提取有用信息的更有效的方法。</p><blockquote class="of"><p id="aa88" class="og oh iq bd oi oj ok ol om on oo la dk translated"><em class="op">数据科学在医疗保健行业有着巨大的应用，我们今天采取的每一小步都将有助于从应对风险到预防风险的转变。</em></p></blockquote><p id="a402" class="pw-post-body-paragraph kd ke iq kf b kg oq ki kj kk or km kn ko os kq kr ks ot ku kv kw ou ky kz la ij bi translated">你可以在<a class="ae kc" href="https://github.com/Piyush1416/Topic-modeling-on-COVID-19-data" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上找到源代码。我期待着知道你对它的想法，也欢迎你的建议和反馈。</p></div></div>    
</body>
</html>