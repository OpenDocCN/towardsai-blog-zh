<html>
<head>
<title>How I Screwed up a HackerRank Test With a Line of Code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我如何用一行代码搞砸了一个HackerRank测试</h1>
<blockquote>原文：<a href="https://pub.towardsai.net/how-i-screwed-up-a-hackerrank-test-with-a-line-of-code-63015d0708ee?source=collection_archive---------1-----------------------#2021-03-02">https://pub.towardsai.net/how-i-screwed-up-a-hackerrank-test-with-a-line-of-code-63015d0708ee?source=collection_archive---------1-----------------------#2021-03-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="754f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a></h2><div class=""/><div class=""><h2 id="a633" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">线性回归:细节决定成败。完整的代码<a class="ae kr" href="https://github.com/arditoibryan/Projects/tree/master/20210227_timeseries_regression" rel="noopener ugc nofollow" target="_blank">可在我的回购。</a></h2></div><p id="1af4" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated"><a class="ae kr" href="http://www.michelangiolo.best/" rel="noopener ugc nofollow" target="_blank"> <strong class="ku jd">点击这里了解我，我的项目，我的最新文章。</strong> </a></p><p id="076f" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">一周前，我被我申请的一家公司的编码测试录取后，我非常兴奋。我花了最后一周的时间准备硬核编码和研究基本算法。测试日期定在昨天，当时我为一个ML工程师职位使用HackerRank进行了第一次编码测试。</p><p id="2ec3" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我的总体体验是愉快的，至少在开始时是这样，因为我能够在前20分钟内解决3个问题中的2个。我着火了！老实说，我认为我已经把它握在手心里了，但是，我太快地宣称胜利了。剧透一下，这一行代码(红色的而不是绿色的)让我付出了测试的代价，我想也是下一轮的代价。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi lo"><img src="../Images/b26ca075e6500bc15b1ad358a68b82df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XFvAAKq8zlkA9BSUYZyAIw.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">新手错误</figcaption></figure><p id="574d" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">在本文中，我将向您详细解释为什么使用错误的代码行，我无法使用最基本的ML模型之一来解决一个简单的HackerRank测试。</p><h1 id="285f" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">我必须解决的问题</h1><p id="7f0a" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">虽然，按照要求，我不会透露HackerRank测试中问题的细节，但这是问题的本质:我得到了一个随机的时间序列，我必须对它进行预测。看起来很简单，我想，它只需要一个回归模型，除了你必须处理日期的部分，这可能需要额外的几分钟。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi nb"><img src="../Images/6cb17319c898af7afbb0857a68ec3182.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UGT1Rh9xLww3JeIDR1F0RQ.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">HackerRank徽标</figcaption></figure><p id="0aaf" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">我的计划是将日期转换成从0开始的序数(例如。2005，第一个日期，变成0，2006 -&gt; 1，2007 -&gt; 2，2008 -&gt; 3，2009 -&gt; 4…等等)，然后创建回归模型。到目前为止还不错，除了当我试图应用以日期为特征、以数值为标签的回归模型时:什么都不工作。</p><h1 id="0662" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">我的错误</h1><p id="475b" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">在分享代码之前，这些是我在测试时的错误:我花了最后一天收集笔记并改进我的代码以防止它们再次发生。</p><ol class=""><li id="5cd6" class="nc nd it ku b kv kw ky kz lb ne lf nf lj ng ln nh ni nj nk bi translated">对日期时间库有点措手不及</li><li id="a38e" class="nc nd it ku b kv nl ky nm lb nn lf no lj np ln nh ni nj nk bi translated">我用于调试的模拟函数太复杂了，无法发现我在代码中犯的错误</li><li id="031a" class="nc nd it ku b kv nl ky nm lb nn lf no lj np ln nh ni nj nk bi translated">当我发生错误时，我很难识别sklearn的线性代数调试输出:我没有及时发现我的错误，尽管我正确地概念化了问题的解决方案。</li></ol><h1 id="932c" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">如何不再犯同样的错误</h1><p id="f792" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">我试图对维数错误的NumPy)应用回归算法，而不是嵌套列表(5，1)。</p><p id="dd34" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">基于线性代数犯下的这个小小的错误不允许我创建一个有效的算法:应用于原始特征的线性回归模型(在我的辩护中，我已经有6个月没有使用它了)输出相同的精确数字！</p><p id="b5cb" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">例如，如果我在这5个样本上创建一个回归模型，因为这些点不遵循线性路径，那么如果应用于特征(1，2，3，4，5)，我会期望回归线显示不同的结果。相反，对我得到的特征(98，97，88，75，82)应用线性回归，这怎么可能呢？</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi nq"><img src="../Images/f5030fd7632931292f3646e6a45ab862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LQtEzLraHNtsASNAxwIn_Q.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">数字形状的差异</figcaption></figure><p id="bac1" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">原因是它没有将它应用于每个单独的特性，而是考虑了一个整体。</p><p id="dcf9" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">另外，我花了几个小时深入研究DateTime库，这样以后我就可以用预先准备好的解决方案查看我的笔记，而不是搜索文档。</p><h2 id="f4a3" class="nr mf it bd mg ns nt dn mk nu nv dp mo lb nw nx mq lf ny nz ms lj oa ob mu iz bi translated">为什么我会犯菜鸟的错误？</h2><p id="1253" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">也许是压力，但希望这不是唯一的原因。为了编写ML代码，我一直用熊猫作为解决方案，令人作呕。甚至我在过去的一个月中编写的更简单的ML模型也是熊猫数据框架的形式。我没有考虑到的是，pandas数据帧已经是一个嵌套的NumPy数组，因为HackerRank给了我一个简单的列表作为输入，所以我必须在一个嵌套的NumPy数组中进行适当的转换。</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi oc"><img src="../Images/0d2b5b29f1d34b1b5bf428e227692574.png" data-original-src="https://miro.medium.com/v2/resize:fit:740/format:webp/1*W5IaWBrggwHVHpjA9kK3VA.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">数字到数据帧</figcaption></figure><h1 id="19b5" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">右代码</h1><p id="708f" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">测试结束后，我立即决定尝试编写正确的代码并将其添加到我的笔记中。我在5分钟内就找出了错误所在(是的，有点太晚了)。在测试过程中，我没有像下面这样使用一个非常简单的例子，而是试图纠正我已经有的代码，工作在96分而不是5分。除了HackerRank的调试困难之外，这种过度复杂的程度不允许我从一开始就清楚地看到事情，并且没有意识到我输入的是形状为(96，)而不是(96，1)的96个数字。</p><p id="91cb" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">通过下面的简单代码，我执行了一个非常简单的线性回归，从一个NumPy数组开始，而不是从一个pandas df开始(df在这里是作为参考，我在后面一行把它转换成一个数组)。</p><pre class="lp lq lr ls gt od oe of og aw oh bi"><span id="3391" class="nr mf it oe b gy oi oj l ok ol">import pandas as pd<br/>import matplotlib.pyplot as plt<br/>import numpy as np<br/>from sklearn import datasets, linear_model<br/>from sklearn.metrics import mean_squared_error, r2_score</span><span id="ef44" class="nr mf it oe b gy om oj l ok ol">#linear regression on timeseries<br/>df = pd.DataFrame([[1, 2, 3], [100, 25, 30]]).T<br/>df</span><span id="e60b" class="nr mf it oe b gy om oj l ok ol">#np conversion<br/>X = np.array(df[0])<br/>y = np.array(df[1])</span><span id="f39f" class="nr mf it oe b gy om oj l ok ol">#reshaping<br/>X = X.reshape(3, 1)<br/>y = y.reshape(3, 1)</span><span id="3ee7" class="nr mf it oe b gy om oj l ok ol">reg = LinearRegression().fit(X, y)<br/>reg.predict([[4]])</span></pre><h2 id="f319" class="nr mf it bd mg ns nt dn mk nu nv dp mo lb nw nx mq lf ny nz ms lj oa ob mu iz bi translated">绘制模型</h2><p id="983f" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">因为测试已经结束，我没有时间限制，所以我额外花了几分钟寻找一种算法来可视化模型:</p><pre class="lp lq lr ls gt od oe of og aw oh bi"><span id="8e79" class="nr mf it oe b gy oi oj l ok ol">#red dots as scatter<br/>plt.scatter(X, y,  color='red')<br/>#we are graphing the normal dataset</span><span id="b5cf" class="nr mf it oe b gy om oj l ok ol">#blue line as regression<br/>plt.plot(X, reg.predict(X), color='blue', linewidth=3)<br/>#we are graphing [[1], [2], [3]] and the predictions for 1, 2, 3</span><span id="6dbe" class="nr mf it oe b gy om oj l ok ol">plt.xticks(())<br/>plt.yticks(())<br/>plt.show()</span></pre><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi on"><img src="../Images/a95a91e402faecc5f0f40f810a9e568e.png" data-original-src="https://miro.medium.com/v2/resize:fit:886/format:webp/1*710Vho8qOzvD1rDbPYuYBQ.png"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">简单的模拟函数来试验正确的代码设置</figcaption></figure><p id="23e7" class="pw-post-body-paragraph ks kt it ku b kv kw kd kx ky kz kg la lb lc ld le lf lg lh li lj lk ll lm ln im bi translated">如果在编写代码期间，我用最简单的形式(只有3个点)编写算法，我可能会及时发现我的错误。然而，即使这不是我的常规做法，我也把它过度复杂化了。</p><h1 id="dc41" class="me mf it bd mg mh mi mj mk ml mm mn mo ki mp kj mq kl mr km ms ko mt kp mu mv bi translated">结论</h1><p id="ebab" class="pw-post-body-paragraph ks kt it ku b kv mw kd kx ky mx kg la lb my ld le lf mz lh li lj na ll lm ln im bi translated">在这一点上没什么好说的了，继续学习，继续进步，让我们破解下一个测试吧！</p></div></div>    
</body>
</html>